type,issue_url,comment_url,repo_name,id,issue_num,title,user_login,user_id,user_name,user_email,issue_state,created_at,updated_at,body,reactions
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/1,https://api.github.com/repos/apache/incubator-teaclave/issues/1,incubator-teaclave,465898637,1,Question about adding a new function,Tigerly,21027668,YL,,CLOSED,2019-07-09T17:22:45Z,2019-07-10T00:09:00Z,"Hello,

I'm checking the document of ""how to add a function"" https://github.com/mesalock-linux/mesatee/blob/master/docs/how_to_add_your_function.md

I have several questions:

1.  after I create a new function, where should I put it?
     should I put it into the folder ""mesatee_services/fns/sgx_trusted_lib/src/trusted_worker"" or some other place?

2. after registering the new function, should I rebuild the entire MesaTEE framework to make it work?  If not, what should I build for the newly registered function?

3. I guess the newly created function will finally become a part of MesaTEE, and this function will run inside the trusted execution environment as a SGX enclave. Is my understanding correct?

4. I'm curious about the event management part of MesaTEE.
e.g., ""On data uploading or new events coming, MesaTEE function services are immediately triggered."" mentioned in Examples - https://github.com/mesalock-linux/mesatee/blob/master/examples/README.md
I was wondering how does the MesaTEE framework work for handling the coming events?

Thanks in advance!
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/1,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUwOTc5NzUzNQ==,incubator-teaclave,509797535,1,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-07-09T20:35:58Z,2019-07-09T20:35:58Z,"1. Yes, put it into the `trusted_worker` directory.
2. Yes, you should rebuild the project. We don't support dynamic registration currently.
3. Yes.
4. Function users can use MesaTEE SDK to upload data, approve task, and invoke functions.

BTW, we are working on a more flexible design of function registration and communication. Stay tuned.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUwOTc5NzUzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/1,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUwOTg1NTM0MQ==,incubator-teaclave,509855341,1,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-07-10T00:09:00Z,2019-07-10T00:09:00Z,I'm closing this issue. Feel free to reopen it if you have further questions. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUwOTg1NTM0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/8,https://api.github.com/repos/apache/incubator-teaclave/issues/8,incubator-teaclave,471995766,8,[WIP] Change interface between FNS and Worker,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-07-23T22:29:29Z,2019-11-01T04:47:26Z,"Current interface between FNS and Worker needs to be changed.
1. Provide global functions for data reading/writing
    To support mesapy and splited workers, global functions are needed. Then the worker can directly read/write data with context-id/context-token. 
2. A structure for Running Task. 
    The structure will hold the task information, store results and enforce some security policies. 
    The instances of the structure will be saved to the global area. So the above global functions can retrieve the instance and then read/write data. 
3.  A structure for Worker Info and a structure for Worker
4. Worker queue
      The FNS should maintain the available workers
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/8,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNjYwOTc2Mw==,incubator-teaclave,516609763,8,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-07-30T21:50:55Z,2019-07-30T21:50:55Z,"Once the PR is merged, we can implemented following C APIs for MesaPy:

```c
int read_file(char* context_id,
              char* context_token,
              char* file_id,
              char* out_buf, size_t out_buf_size);
int save_file_for_all_participants(char* context_id,
                                   char* context_token,
                                   char* in_buf, size_t in_buf_size,
                                   char* file_id, size_t file_id_size);
int save_file_for_task_creator(char* context_id,
                               char* context_token,
                               char* in_buf, size_t in_buf_size,
                               char* file_id, size_t file_id_size);
int save_file_for_file_owner(char* context_id,
                             char* context_token,
                             char* in_buf, size_t in_buf_size,
                             char* file_id,
                             char* new_file_id, size_t new_file_id_size)
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNjYwOTc2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/8,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNzEwMTY1Mw==,incubator-teaclave,517101653,8,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-08-01T03:15:47Z,2019-08-01T03:15:47Z,I'll keep this issue open since we need to implement above four C APIs.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNzEwMTY1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/12,https://api.github.com/repos/apache/incubator-teaclave/issues/12,incubator-teaclave,476311609,12,crash when reading large files,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-08-02T18:50:19Z,2019-08-07T04:27:53Z,"When reading large files, enclave will panic and print ```""thread '<unknown>' has overflowed its stack
fatal runtime error: stack overflow""```.

The crash is caused by ```""fs::read""``` and ```""fs::write""``` apis. 

To fix the issue:
Read/Write data with small buffer.
```rust
loop {
           let result = f.read(&mut buffer);
           ....
} 
```

After the issue is fixed, to support large files:
Change ""mesatee_services/fns/sgx_trusted_lib/Enclave.config.xml""  and enlarge ```HeapMaxSize``` and ```StackMaxSize```

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/12/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/23,https://api.github.com/repos/apache/incubator-teaclave/issues/23,incubator-teaclave,486812783,23,"Send a request by python socket, the kms crashed",,,,,CLOSED,2019-08-29T08:26:42Z,2019-09-09T18:26:03Z,"![image-20190823173241-p58w9w](https://user-images.githubusercontent.com/53333864/63923092-85baaa00-ca78-11e9-9495-8304be113514.png)

Send a request without _ssl.CERT_REQUIRED flag by python socket, the kms maybe crashed","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/23/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/23,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyNjY2NDUxNQ==,incubator-teaclave,526664515,23,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-08-30T16:26:44Z,2019-08-30T16:26:44Z,"Please follow this template to report a issue:

```
## Issue

A summary of what the issue is about.

## Steps to Reproduce

Please provide instructions that can be used to reproduce your issue. Usually this will include a test case that produces the wrong output.

## Expected Behavior

What you expected to happen. For example the error message you expected to see.

## Actual Results

What actually happened. For example, an error message you did not expect to see.

## Log

Please attach logs on the screen or in the log file.

## Environment

OS version
Rust version (rustc --version)
SDK version
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyNjY2NDUxNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/23,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyOTI3MTQ0Nw==,incubator-teaclave,529271447,23,NA,,,,,NA,2019-09-09T01:46:26Z,2019-09-09T01:46:26Z,"The original environment has been destroyed, this issue never happened again.
Only OS information can be confirmed, Ubuntu 16.04 LTS","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyOTI3MTQ0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/23,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyOTYwNjQ3Ng==,incubator-teaclave,529606476,23,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-09-09T18:26:02Z,2019-09-09T18:26:02Z,I'm closing this issue. Please open a new one if the crash can be reproduced later. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyOTYwNjQ3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/25,https://api.github.com/repos/apache/incubator-teaclave/issues/25,incubator-teaclave,488957741,25,sgx-test fails on executing sim-debug docker pipeline,saxenauts,7996611,Utkarsh Saxena,saxenauts@gmail.com,CLOSED,2019-09-04T05:59:38Z,2019-09-04T08:06:59Z,"Hello. 

I am trying to build and run mesaTEE inside docker. I want to develop and debug the capabilities on a non SGX machine (GCP VM). 

I execute the drone pipeline with this command: 

```
sudo drone exec --pipeline sim_release --trusted
```
And I receive an assertion error in the protected_fs.rs test as called by sgx-test
Lines 285-286 in protected_fs.rs

```
let opt = ProtectedFile::open_ex(""/dev/isgx"", &key);
            assert_eq!(opt.is_ok(), true); 
```

This code is looking for sgx installation in the machine, which I don't have. 
And in the sim_debug pipeline in .drone.yml , the volume to isgx ('/dev/isgx') is not attached. 

My question is, can I skip this assertion, or 
**Is there anyway I can test and develop on mesaTEE on a non SGX machine in some sort of a simulator like in Asylo ?** 

Thanks
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/25/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/25,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyNzc2NDk4OQ==,incubator-teaclave,527764989,25,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-09-04T06:40:40Z,2019-09-04T06:40:40Z,"Thanks for your report. **The workflow you are describing is totally fine for testing and developing  MesaTEE on a non-SGX machine.**

However, the `make sgx-test` command line in the `sim_release` pipeline runs unittest on the protected_fs module, which assume the testing machine has sgx device (this assumption may be not correct in `SGX_MODE=SW`). And it wired that our CI also didn't catch this issue. I need to further investigate the root cause.

To solve it, you can comment the following line in to disable the unit test of protected_fs as a workaround:

https://github.com/mesalock-linux/mesatee/blob/cd75585fbd2733b0784b315a22b88ce40c10a9bd/tests/module_test.sh#L6

Thanks again.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyNzc2NDk4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/25,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyNzc5MTgyMg==,incubator-teaclave,527791822,25,NA,saxenauts,7996611,Utkarsh Saxena,saxenauts@gmail.com,NA,2019-09-04T08:06:59Z,2019-09-04T08:06:59Z,Thank you. Closing the issue,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUyNzc5MTgyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/26,https://api.github.com/repos/apache/incubator-teaclave/issues/26,incubator-teaclave,494033925,26,the master branch failed to build,sammyne,16666661,Sammy,xiangminli@alumni.sjtu.edu.cn,CLOSED,2019-09-16T12:58:36Z,2019-09-17T05:09:59Z,"## environment
- mesatee: cd75585fbd2733b0784b315a22b88ce40c10a9bd
- rustc: 1.36.0-nightly
- OS: macOS 10.14.5

## what i saw
```bash
error: name `cfg` is reserved in macro namespace
  --> /cargo_home/git/checkouts/rust-sgx-sdk-fc8771c5c45bde9a/de01b63/sgx_tstd/src/prelude/v1.rs:55:5
   |
55 |     cfg,
   |     ^^^

error[E0432]: unresolved imports `core::prelude::v1::__rust_unstable_column`, `core::prelude::v1::asm`, `core::prelude::v1::assert`, `core::prelude::v1::cfg`, `core::prelude::v1::column`, `core::prelude::v1::compile_error`, `core::prelude::v1::concat`, `core::prelude::v1::concat_idents`, `core::prelude::v1::env`, `core::prelude::v1::file`, `core::prelude::v1::format_args`, `core::prelude::v1::format_args_nl`, `core::prelude::v1::global_asm`, `core::prelude::v1::include`, `core::prelude::v1::include_bytes`, `core::prelude::v1::include_str`, `core::prelude::v1::line`, `core::prelude::v1::log_syntax`, `core::prelude::v1::module_path`, `core::prelude::v1::option_env`, `core::prelude::v1::stringify`, `core::prelude::v1::trace_macros`
  --> /cargo_home/git/checkouts/rust-sgx-sdk-fc8771c5c45bde9a/de01b63/sgx_tstd/src/prelude/v1.rs:52:5
   |
52 |     __rust_unstable_column,
   |     ^^^^^^^^^^^^^^^^^^^^^^ no `__rust_unstable_column` in `prelude::v1`
53 |     asm,
   |     ^^^ no `asm` in `prelude::v1`
54 |     assert,
   |     ^^^^^^ no `assert` in `prelude::v1`
55 |     cfg,
   |     ^^^ no `cfg` in `prelude::v1`
56 |     column,
   |     ^^^^^^ no `column` in `prelude::v1`
57 |     compile_error,
   |     ^^^^^^^^^^^^^ no `compile_error` in `prelude::v1`
58 |     concat,
   |     ^^^^^^ no `concat` in `prelude::v1`
59 |     concat_idents,
   |     ^^^^^^^^^^^^^ no `concat_idents` in `prelude::v1`
60 |     env,
   |     ^^^ no `env` in `prelude::v1`
61 |     file,
   |     ^^^^ no `file` in `prelude::v1`
62 |     format_args,
   |     ^^^^^^^^^^^
63 |     format_args_nl,
   |     ^^^^^^^^^^^^^^
64 |     global_asm,
   |     ^^^^^^^^^^
65 |     include,
   |     ^^^^^^^
66 |     include_bytes,
   |     ^^^^^^^^^^^^^
67 |     include_str,
   |     ^^^^^^^^^^^
68 |     line,
   |     ^^^^
69 |     log_syntax,
   |     ^^^^^^^^^^
70 |     module_path,
   |     ^^^^^^^^^^^
71 |     option_env,
   |     ^^^^^^^^^^
72 |     stringify,
   |     ^^^^^^^^^
73 |     trace_macros,
   |     ^^^^^^^^^^^^

error[E0432]: unresolved imports `core::prelude::v1::Debug`, `core::prelude::v1::Decodable`, `core::prelude::v1::Encodable`, `core::prelude::v1::Hash`, `core::prelude::v1::RustcDecodable`, `core::prelude::v1::RustcEncodable`, `core::prelude::v1::bench`, `core::prelude::v1::global_allocator`, `core::prelude::v1::test`, `core::prelude::v1::test_case`
  --> /cargo_home/git/checkouts/rust-sgx-sdk-fc8771c5c45bde9a/de01b63/sgx_tstd/src/prelude/v1.rs:83:5
   |
83 |     Debug,
   |     ^^^^^ no `Debug` in `prelude::v1`
84 |     Decodable,
   |     ^^^^^^^^^ no `Decodable` in `prelude::v1`
85 |     Default,
86 |     Encodable,
   |     ^^^^^^^^^ no `Encodable` in `prelude::v1`
87 |     Eq,
88 |     Hash,
   |     ^^^^ no `Hash` in `prelude::v1`
...
92 |     RustcDecodable,
   |     ^^^^^^^^^^^^^^ no `RustcDecodable` in `prelude::v1`
93 |     RustcEncodable,
   |     ^^^^^^^^^^^^^^ no `RustcEncodable` in `prelude::v1`
94 |     bench,
   |     ^^^^^ no `bench` in `prelude::v1`
95 |     global_allocator,
   |     ^^^^^^^^^^^^^^^^ no `global_allocator` in `prelude::v1`
96 |     test,
   |     ^^^^ no `test` in `prelude::v1`
97 |     test_case,
   |     ^^^^^^^^^ no `test_case` in `prelude::v1`

error[E0425]: cannot find function `take` in module `mem`
   --> /cargo_home/git/checkouts/rust-sgx-sdk-fc8771c5c45bde9a/de01b63/sgx_tstd/src/panicking.rs:273:33
    |
273 |             let contents = mem::take(self.fill());
    |                                 ^^^^ not found in `mem`

error[E0603]: struct `VaListImpl` is private
  --> /cargo_home/git/checkouts/rust-sgx-sdk-fc8771c5c45bde9a/de01b63/sgx_tstd/src/ffi/mod.rs:42:29
   |
42 | pub use core::ffi::{VaList, VaListImpl};
   |                             ^^^^^^^^^^

error: aborting due to 5 previous errors
```

## reproducing the error
1. pull the project
2. build a docker image using the [Dockerfile](https://github.com/mesalock-linux/mesatee/blob/master/Dockerfile) for local development in SIM mode
    > let's say, the built image is named as `mesatee:dev`
3. mount the project into the container 
```bash
docker run -it --name mesatee -v ${PWD}:/root/mesatee --workdir=/root/mesatee mesatee:dev bash
```
4. build the project
```bash
mkdir build 
cd build 
cmake -DSGX_MODE=SW ..
make VERBOSE=1 -j
```

With all above, the error should be triggered ~
Really appreciate for any kind help ~","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/26/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/26,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMTg2NTg1Mw==,incubator-teaclave,531865853,26,NA,dingelish,1870436,Yu Ding,,NA,2019-09-16T17:00:30Z,2019-09-16T17:00:30Z,"Thanks for this report!

This is caused by the unfinished support of Rust-SGX SDK 1.0.9. We'll finish it in a couple of days, and then will update here.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMTg2NTg1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/26,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMjA0NzMyNw==,incubator-teaclave,532047327,26,NA,dingelish,1870436,Yu Ding,,NA,2019-09-17T03:53:43Z,2019-09-17T03:53:43Z,@sammyne Please check out the latest codes and try again. Thanks,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMjA0NzMyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/26,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMjA2MTAxOQ==,incubator-teaclave,532061019,26,NA,sammyne,16666661,Sammy,xiangminli@alumni.sjtu.edu.cn,NA,2019-09-17T05:09:59Z,2019-09-17T05:09:59Z,"> @sammyne Please check out the latest codes and try again. Thanks

It is fixed~ @dingelish Thanks a lot","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMjA2MTAxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/28,https://api.github.com/repos/apache/incubator-teaclave/issues/28,incubator-teaclave,494613182,28,how to implement a task to upload data to a http server guarded by TLS,sammyne,16666661,Sammy,xiangminli@alumni.sjtu.edu.cn,CLOSED,2019-09-17T13:07:59Z,2019-09-20T22:58:36Z,"Hey~ I wonder if it's possible to trigger a task which would ask the FNS to simply post a ""Hello World"" string to a http server serving in TLS","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/28/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/28,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzI0MjU1MA==,incubator-teaclave,533242550,28,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-09-19T17:59:29Z,2019-09-19T17:59:29Z,"Thanks for your interests.

First of all, what's the purpose of connecting a HTTP server from a worker?

To ensure the safety of workers, in our design, we want FNS as a delegation of workers for all IO operations (including network). This isolation prevents all possible attack surface via IO. As you may see, we already have APIs to open/save files in DFS with the help of FNS (which may do some authentication, auditing, etc). However, for the network capability you were asking, we haven't seen a need for that. You can prepare input data before starting a task, makes it stateless and predictable.

I hope my short answer can briefly convey our design choice. Feel free to reply if you have further questions. I'll leave this issue open for a couple of days. Thank you so much!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzI0MjU1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/28,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzczNzEzMA==,incubator-teaclave,533737130,28,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-09-20T22:58:35Z,2019-09-20T22:58:35Z,I'm closing this issue. Feel free to reopen it or create a new one if you have further questions. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzczNzEzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/29,https://api.github.com/repos/apache/incubator-teaclave/issues/29,incubator-teaclave,496166438,29,make operation failed,renxingliang,53326810,,,CLOSED,2019-09-20T06:14:30Z,2019-09-21T01:47:38Z,"jhon@jhon-ThinkPad-X270-W10DG:~/Desktop/mesatee$ source ./environment 
jhon@jhon-ThinkPad-X270-W10DG:~/Desktop/mesatee$ make
INFO: Need to reinitialize git submodules
子模组 'third_party/crates-sgx' (https://github.com/mesalock-linux/crates-sgx.git) 未对路径 'third_party/crates-sgx' 注册
子模组 'third_party/rust-sgx-sdk' (https://github.com/baidu/rust-sgx-sdk.git) 未对路径 'third_party/rust-sgx-sdk' 注册
正克隆到 'third_party/crates-sgx'...
remote: Enumerating objects: 9869, done.
remote: Counting objects: 100% (9869/9869), done.
remote: Compressing objects: 100% (4851/4851), done.
remote: Total 9869 (delta 5424), reused 9199 (delta 4754), pack-reused 0
接收对象中: 100% (9869/9869), 17.95 MiB | 2.49 MiB/s, 完成.
处理 delta 中: 100% (5424/5424), 完成.
检查连接... 完成。
子模组路径 'third_party/crates-sgx'：检出 '7e8f16a19cbd979e48b622e71991d2ad870bf59a'
正克隆到 'third_party/rust-sgx-sdk'...
remote: Enumerating objects: 12, done.
remote: Counting objects: 100% (12/12), done.
remote: Compressing objects: 100% (10/10), done.
remote: Total 15147 (delta 2), reused 7 (delta 2), pack-reused 15135
接收对象中: 100% (15147/15147), 37.73 MiB | 2.49 MiB/s, 完成.
处理 delta 中: 100% (7918/7918), 完成.
检查连接... 完成。
子模组路径 'third_party/rust-sgx-sdk'：检出 '8af3cd9e8d08bc64410332e074f4982704a766e9'
子模组 'samplecode/wasmi/test_input' (https://github.com/WebAssembly/testsuite) 未对路径 'samplecode/wasmi/test_input' 注册
正克隆到 'samplecode/wasmi/test_input'...
remote: Enumerating objects: 45, done.
remote: Counting objects: 100% (45/45), done.
remote: Compressing objects: 100% (37/37), done.
remote: Total 1242 (delta 17), reused 25 (delta 7), pack-reused 1197
接收对象中: 100% (1242/1242), 850.30 KiB | 479.00 KiB/s, 完成.
处理 delta 中: 100% (848/848), 完成.
检查连接... 完成。
子模组路径 'third_party/rust-sgx-sdk/samplecode/wasmi/test_input'：检出 'c6a690f89a0dda3c79700aa6377d8b5d8a970eba'
[*] Building config_gen
warning: profiles for the non root package will be ignored, specify profiles at the workspace root:
package:   /home/jhon/Desktop/mesatee/mesatee_cli/Cargo.toml
workspace: /home/jhon/Desktop/mesatee/Cargo.toml
 Updating git repository `https://github.com/mesalock-linux/sgx-fake-profiler-bu    Finished release [optimized] target(s) in 2m 29s
[*] Building sgx_untrusted
    Finished release [optimized] target(s) in 3m 18s
[*] Building mesatee_services/kms_enclave
error: failed to run custom build command for `sgx_unwind v0.0.1 (https://github.com/baidu/rust-sgx-sdk?rev=v1.0.9#8af3cd9e)`

Caused by:
process didn't exit successfully: `/home/jhon/Desktop/mesatee/target/trusted/release/build/sgx_unwind-2beca3cfa2d13dcf/build-script-build` (exit code: 1)
--- stdout
cargo:rerun-if-changed=build.rs
cargo:rustc-link-lib=gcc_s
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/README
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/configure.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/NEWS
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/autogen-linux.sh
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/TODO
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/acinclude.m4
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/AUTHORS
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/dwarf_i.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/x86/jmpbuf.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/mempool.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/libunwind-common.h.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/libunwind.h.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/tdep/jmpbuf.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/tdep/libunwind_i.h.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/tdep/dwarf-config.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/remote.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/libunwind-dynamic.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/libunwind_i.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/dwarf-eh.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/libunwind-x86_64.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/unwind.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/tdep-x86_64/jmpbuf.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/tdep-x86_64/libunwind_i.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/tdep-x86_64/dwarf-config.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/pthread_compat.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/config.h.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/include/dwarf.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/INSTALL
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/Makefile.am
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/configure
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/config.sub
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/missing
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/ltmain.sh
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/compile
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/config.guess
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/depcomp
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/config/install-sh
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/COPYING
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/os-linux.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/elfxx.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/elf32.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/Makefile.am
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lfind_dynamic_proc_info.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/flush_cache.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gget_reg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gdyn-extract.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Ldyn-extract.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/dyn-cancel.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lset_reg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Ldestroy_addr_space.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gget_fpreg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lset_caching_policy.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lset_fpreg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Ldyn-remote.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lput_dynamic_unwind_info.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/dyn-info-list.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/dyn-register.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gget_accessors.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/strerror.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/_ReadULEB.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lget_reg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gput_dynamic_unwind_info.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gfind_dynamic_proc_info.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gset_fpreg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lget_proc_name.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lget_accessors.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gset_caching_policy.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gdestroy_addr_space.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/mempool.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lget_fpreg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gget_proc_info_by_ip.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/backtrace.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Lget_proc_info_by_ip.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gget_proc_name.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gdyn-remote.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/Gset_reg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/_ReadSLEB.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/mi/init.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/elfxx.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lstash_frame.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lstep.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Ginit_local.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lregs.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lget_save_loc.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gos-freebsd.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/siglongjmp.S
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/is_fpreg.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/init.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gregs.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gos-linux.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Ltrace.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gstash_frame.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/offsets.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/regname.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Ginit.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lget_proc_info.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/ucontext_i.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Linit.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lresume.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Linit_remote.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Ginit_remote.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lcreate_addr_space.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gcreate_addr_space.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/setcontext.S
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Linit_local.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gglobal.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lglobal.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/longjmp.S
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Los-freebsd.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gresume.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/unwind_i.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/getcontext.S
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gstep.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Los-linux.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Lis_signal_frame.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gtrace.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gget_proc_info.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/x86_64/Gget_save_loc.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/elf64.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/se-iterate-phdr.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/elf32.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/elf64.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/os-linux.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/SetGR.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/Backtrace.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/DeleteException.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/unwind-internal.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetLanguageSpecificData.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/ForcedUnwind.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetDataRelBase.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/SetIP.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetGR.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetIPInfo.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetIP.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/FindEnclosingFunction.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetBSP.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/RaiseException.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetRegionStart.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/Resume_or_Rethrow.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/Resume.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetCFA.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/unwind/GetTextRelBase.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/Makefile.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/setjmp/longjmp.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/setjmp/setjmp.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/setjmp/siglongjmp.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/setjmp/setjmp_i.h
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/setjmp/sigsetjmp.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lpe.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lstep.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gpe.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lexpr.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gfind_unwind_table.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gexpr.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lfind_unwind_table.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gfde.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gparser.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lfind_proc_info-lsb.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/global.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lfde.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Lparser.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gstep.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/dwarf/Gfind_proc_info-lsb.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/src/se-libc-stubs.c
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/Makefile.in
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/LICENSE
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/ChangeLog
cargo:rerun-if-changed=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/aclocal.m4
cargo:rustc-link-lib=static=unwind
cargo:rustc-link-search=native=/home/jhon/Desktop/mesatee/target/trusted/release/build/sgx_unwind-a6da6ed8965a050c/out/libunwind/src/.libs
running: ""sh"" ""/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/autogen-linux.sh"" ""--host=x86_64-unknown-linux-gnu"" ""--build=x86_64-unknown-linux-gnu""


command did not execute successfully: ""sh"" ""/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/autogen-linux.sh"" ""--host=x86_64-unknown-linux-gnu"" ""--build=x86_64-unknown-linux-gnu""
expected success, got: exit code: 1



--- stderr
+ dirname /home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind/autogen-linux.sh
+ srcdir=/home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind
+ [ -z /home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind ]
+ pwd
+ ORIGDIR=/home/jhon/Desktop/mesatee/target/trusted/release/build/sgx_unwind-a6da6ed8965a050c/out/libunwind
+ cd /home/jhon/Desktop/mesatee/third_party/crates-sgx/vendor/sgx_unwind/../sgx_unwind/libunwind
+ autoreconf -v --install
autoreconf: Entering directory `.'
autoreconf: configure.in: not using Gettext
autoreconf: running: aclocal
aclocal: warning: autoconf input should be named 'configure.ac', not 'configure.in'
configure.in:20: warning: macro 'AM_PROG_LIBTOOL' not found in library
autoreconf: configure.in: tracing
autoreconf: configure.in: not using Libtool
autoreconf: running: /usr/bin/autoconf
configure.in:20: error: possibly undefined macro: AM_PROG_LIBTOOL
If this token and others are legitimate, please use m4_pattern_allow.
See the Autoconf documentation.
autoreconf: /usr/bin/autoconf failed with exit status: 1
+ exit 1

warning: build failed, waiting for other jobs to finish...
error: build failed
Makefile:239: recipe for target 'sgx_trusted' failed
make: *** [sgx_trusted] Error 1
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/29/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/29,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzQyNTc2OQ==,incubator-teaclave,533425769,29,NA,dingelish,1870436,Yu Ding,,NA,2019-09-20T06:28:38Z,2019-09-20T06:28:38Z,"Could you provide your system information? e.g. OS distribution, version, etc.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzQyNTc2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/29,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzQyNjQ0NA==,incubator-teaclave,533426444,29,NA,renxingliang,53326810,,,NA,2019-09-20T06:31:29Z,2019-09-20T06:31:29Z,"thinkpad x270
ubuntu16.4
sgx v2.6","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzQyNjQ0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/29,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzQzNTA3MQ==,incubator-teaclave,533435071,29,NA,dingelish,1870436,Yu Ding,,NA,2019-09-20T07:02:26Z,2019-09-20T07:02:26Z,"Thanks for the information. I'm sure I can solve it in a couple of days.

Besides, we recommend you use the docker image which is guaranteed to provide the desired environment.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMzQzNTA3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/34,https://api.github.com/repos/apache/incubator-teaclave/issues/34,incubator-teaclave,503753582,34,More apis to handle Task/File,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-10-08T00:07:23Z,2019-10-15T04:01:27Z,"Three more apis are needed:
1. list tasks
2. list files
3. delete file meta information","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/34/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/36,https://api.github.com/repos/apache/incubator-teaclave/issues/36,incubator-teaclave,504399406,36,tms&fns&tdfs crash when send request by python,,,,,CLOSED,2019-10-09T04:05:00Z,2019-11-25T06:31:39Z,"tms&fns&tdfs crash when send request by python3 script

mesatee: b78ae148ad348fb3733f31fc4a7429adf56375bd
os: ubuntu-18.04 LTS
sgxsdk: v2.6.100.51363
rust:
    nightly-2019-08-01-x86_64-unknown-linux-gnu (default)
    rustc 1.38.0-nightly (8a58268b5 2019-07-31)
python: v3.6.8

for fns:
![image-fns](https://user-images.githubusercontent.com/53333864/66450080-cd761d80-ea89-11e9-81e5-6d76cc48c618.png)

for tdfs:
![image-tdfs](https://user-images.githubusercontent.com/53333864/66450097-d9fa7600-ea89-11e9-9f9f-5dcb54aa2761.png)

for tms:
![image-tms](https://user-images.githubusercontent.com/53333864/66450113-e088ed80-ea89-11e9-8922-ecdae77767f4.png)

script:
![python](https://user-images.githubusercontent.com/53333864/66450918-dfa58b00-ea8c-11e9-9303-30d218b60cc9.png)


script file:
[crash.zip](https://github.com/mesalock-linux/mesatee/files/3705503/crash.zip)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/36/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/36,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU0MDEzMTc5OQ==,incubator-teaclave,540131799,36,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-10-09T18:34:45Z,2019-10-09T18:34:45Z,"@luoyanhua2011 Thanks for the issue. 

The services are crashed due to large memory allocation. 
In mesatee,  messages are sent with following format: buffer_len+message bytes
```rust
    br.read_exact(&mut lbuf)?;
    let buf_len: u64 = u64::from_be(unsafe { transmute::<[u8; 8], u64>(lbuf) });
    let mut recv_buf: Vec<u8> = vec![0u8; buf_len as usize];
    br.read_exact(&mut recv_buf)?;
```
The messages sent by the python script didn't contain the length field, so several bytes in the json payloads are parsed as the length of the buffer, which are very large.
```
""8872782177770364777"" is ""{\""task_i""
""8872782280798839354"" is ""{\""type"":""
```

We will fix the issue to avoid crash.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU0MDEzMTc5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/36,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODAxMDY4OQ==,incubator-teaclave,558010689,36,NA,hi-T0day,24287890,T0day,,NA,2019-11-25T06:27:27Z,2019-11-25T06:27:27Z,"Hi, @luoyanhua2011 
I want to know how to open the debug mode as the images in this issue. 
Could you tell me?

Thank you","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODAxMDY4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/36,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODAxMTY5Ng==,incubator-teaclave,558011696,36,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-25T06:31:39Z,2019-11-25T06:31:39Z,Set the env var: `RUST_LOG=debug`.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODAxMTY5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/39,https://api.github.com/repos/apache/incubator-teaclave/issues/39,incubator-teaclave,506155958,39,Is it ok enabling `-Z unstable --out-dir` to copy all built targets in one workspace to `bin` directory?,sammyne,16666661,Sammy,xiangminli@alumni.sjtu.edu.cn,CLOSED,2019-10-12T08:43:17Z,2019-10-17T09:06:15Z,"I'm working on this PR https://github.com/mesalock-linux/mesatee/pull/38, and the CI failed on pipeline `cmake-release`  because Clippy treats all warnings as errors. 

The unstable `--out-dir` option can simplify moving the final built targets.

So I'm wondering if it's fine to update CI to whitelist this option ~ ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/39/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/41,https://api.github.com/repos/apache/incubator-teaclave/issues/41,incubator-teaclave,510409904,41,HOW TO deploy MesaTEE in k8s,hi-T0day,24287890,T0day,,CLOSED,2019-10-22T03:32:27Z,2019-10-30T02:11:20Z,"Hello, 
In this document [Case Study / sensitive-data-computing-over-public-cloud](https://github.com/mesalock-linux/mesatee/blob/master/docs/case_study.md#sensitive-data-computing-over-public-cloud), you wrote:
> Multiple TEE server nodes are grouped together to serve as a cloud cluster, which can be scheduled by orchestration framework like Kubernetes.

I want to build MesaTEE cluster in Kubernetes, just like what you did. 
Could you provide some documents or suggestions about how to deploy MesaTEE in k8s.

Thanks! ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/41/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/41,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU0NjY1MTE1Mg==,incubator-teaclave,546651152,41,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-10-27T00:30:07Z,2019-10-27T00:30:07Z,"Thanks @hi-T0day, we are working on distributed worker right now. I think once it’s ready, we can provide a detailed instruction on deploying. If you want to do some experiments on current implementation. We have a docker [image](https://hub.docker.com/r/mesalocklinux/build-mesatee) for building/running MesaTEE.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU0NjY1MTE1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/51,https://api.github.com/repos/apache/incubator-teaclave/issues/51,incubator-teaclave,516868445,51,Task status is not updated if prepare_input fails,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-11-03T18:23:17Z,2019-11-03T18:43:30Z,"When prepare_input function fails, fns just returns an error to the client and won't update the task status to `Failed`. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/51/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/56,https://api.github.com/repos/apache/incubator-teaclave/issues/56,incubator-teaclave,521187556,56,Test Apache GitBox,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-11T21:07:19Z,2019-11-11T21:08:08Z,"This is a test of Apache GitBox, the issue should be synced to the mailing list.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/56/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/56,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1MjYxNjQxOA==,incubator-teaclave,552616418,56,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-11T21:08:08Z,2019-11-11T21:08:08Z,Looks good. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1MjYxNjQxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/57,https://api.github.com/repos/apache/incubator-teaclave/issues/57,incubator-teaclave,521240137,57,Remove deprecated Makefile,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-11T23:17:23Z,2019-11-22T22:42:04Z,"Since the commit 2ce01733825eb33cc19e52cfe7724e861bc9784a, the functionality of cmake is well tested. We should consider to remove the already deprecated Makefile. This includes remove `Makefile` and `environment`, and update documentation, etc.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/57/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/59,https://api.github.com/repos/apache/incubator-teaclave/issues/59,incubator-teaclave,521923800,59,Have an example or rewrite some examples with MesaTEE CLI,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-13T02:48:55Z,2020-04-07T20:52:07Z,"We need to rewrite or have a some examples to demonstrate the usage of CLI. Actually, there is no need to use the MesaTEE SDK if the example is very simple.

For example, we can rewrite the `py_file` example using shell script with the CLI instead of writing a rust program like this (https://github.com/apache/incubator-mesatee/blob/master/examples/py_file/src/main.rs).","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/59/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/59,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU4NDQ2MDA2MA==,incubator-teaclave,584460060,59,NA,hi-T0day,24287890,T0day,,NA,2020-02-11T03:01:18Z,2020-02-11T03:01:18Z,"Hi, I have done this good first issue in my branch. [Commit here!](https://github.com/hi-T0day/incubator-teaclave/commit/7fbc56aa61c04268b9a6525ba8e756a214473fe1)

I use a  Python script to combine upload file, create task and invoke task. Meanwhile, encrypt command parameter is added to the CLI in order to encrypt file locally. 

This python script and teaclave-cli work well in the master branch. 

Besides, the version of structopt crates is 0.2.8 in both master and develop branch, I suggest to update to the latest version 0.3.9 which can provide more options.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU4NDQ2MDA2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/59,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU4NDQ5OTI2Mg==,incubator-teaclave,584499262,59,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-02-11T06:52:00Z,2020-02-11T06:52:00Z,"Thanks for your implementation. Currently, we are working on the `develop` branch, and current `master` branch will be deprecated. Anyway, although we haven't started to develop the CLI, your implementation is definitely useful for our new version.

BTW, I have updated the `structopt` to 0.3.9 in https://github.com/apache/incubator-teaclave/commit/9915d901d89fd361a244f6784629fc948b2e725a.

Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU4NDQ5OTI2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/59,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMDYxNDI0Nw==,incubator-teaclave,610614247,59,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-07T20:52:06Z,2020-04-07T20:52:06Z,"We are working on examples based on the new API design. Therefore, this issue is no longer valid. Closed.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMDYxNDI0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/60,https://api.github.com/repos/apache/incubator-teaclave/issues/60,incubator-teaclave,522621552,60,Upgrade mesatee_utils/protected_fs,m4sterchain,2987500,Zhaofeng Chen,,CLOSED,2019-11-14T04:45:09Z,2020-04-07T20:52:52Z,"We have already got the protected_fs library ready [here](https://github.com/mesalock-linux/protected_fs_rs), which supports running in both sgx and non-sgx environments. It's time to upgrade the existing one in mesatee_utils.

After the upgrade, we can support more customized interface for the ProtectedFile.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/60/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/60,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMDYxNDU3NA==,incubator-teaclave,610614574,60,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-07T20:52:52Z,2020-04-07T20:52:52Z,This issue has been fixed. We maintained our own protected_fs ourselves.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMDYxNDU3NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/61,https://api.github.com/repos/apache/incubator-teaclave/issues/61,incubator-teaclave,523468326,61,ERROR mesatee_core::rpc::sgx::ra RACACHE renewal failed,z1queue,53327024,zEqueue,,CLOSED,2019-11-15T13:25:13Z,2019-12-24T04:15:16Z,"I have 2 computers, When i run mesatee service in Ubuntu 18.04， Occasionally, such a mistake occur:

![RACACHE renewal failed](https://user-images.githubusercontent.com/53327024/68946922-19d21d00-07ef-11ea-91f8-ba385d09f197.png)


> ERROR mesatee_core::rpc::sgx::ra RACACHE renewal failed
thread panicked at 'explicit panic', mesatee_core/src/rpc/sgx/ra.rs:548:9
statck backtrace:
.....
.....
.....
fatal runtime error: failed to initiate panic, error 5
Illegal instructioin (core dumped)


I try to restart the computer, pull the code and make the project again，it‘s still not work.
I ues Shadowsocks to config the network proxy, it works.

so, i think this error is related to the network environment, such as DNS cache or other problem.
I try this command in the other computer 

> sudo /etc/init.d/dns-clean start

it works!

Maybe we can add this command to the service.sh","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/61/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/61,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NDU1MDczMw==,incubator-teaclave,554550733,61,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-15T22:16:33Z,2019-11-15T22:16:33Z,"Hi @z1queue, thanks for the report.

First of all, the ""RACACHE renewal failed"" error is an expected panic. This error is caused by some issues with IAS connection. Since the main **trust** of MesaTEE is **established and ensured** by a successful RA, MesaTEE should not work if there are any issues related with RA.

With above statement, for your case, we definitely need to do some improvements:

  - a better error message (and panic message): users can understand the causes of the panic
  - mechanism to retry RA: make MesaTEE more robust under a poor network environment

I'll create an issue to track these two improvements.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NDU1MDczMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/61,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NDU4NDM1Mw==,incubator-teaclave,554584353,61,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-16T00:46:45Z,2019-11-16T00:46:45Z,"Just come up another solution:
  - propagate error to RPC caller and make sure services handle the failure.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NDU4NDM1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/63,https://api.github.com/repos/apache/incubator-teaclave/issues/63,incubator-teaclave,525621652,63,mesapy create two files when once call mesatee_save_file_for_xxx,,,,,CLOSED,2019-11-20T07:19:49Z,2019-11-21T23:55:22Z,"run examples\py_file\py_file.sh, mesapy will create six result files.

The following three functions will create two files with the same content when they are executed：
mesatee.mesatee_save_file_for_task_creator
mesatee.mesatee_save_file_for_all_participants
mesatee.mesatee_save_file_for_file_owner

In this sample, it should create only three files

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/63/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/63,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NTg3NTcyMw==,incubator-teaclave,555875723,63,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-20T07:29:22Z,2019-11-20T07:29:22Z,"I can confirm this issue.

https://github.com/mesalock-linux/mesapy/blob/sgx/pypy/module/mesatee/interp_mesatee.py#L106

Should be `if ret < 0`. I'll fix ASAP.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NTg3NTcyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/66,https://api.github.com/repos/apache/incubator-teaclave/issues/66,incubator-teaclave,526273516,66,Vendor all third-party crates for untrusted part,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-20T23:26:14Z,2019-11-26T22:21:00Z,"Similar with `crates-sgx`, we should also vendor all third-party rust crates in crates.io. There are several benefits:
  - have more control of third-party libraries
  - potentially make compilation faster","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/66/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/66,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NjU0ODEwOA==,incubator-teaclave,556548108,66,NA,dingelish,1870436,Yu Ding,,NA,2019-11-20T23:29:33Z,2019-11-20T23:29:33Z,+1,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NjU0ODEwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/68,https://api.github.com/repos/apache/incubator-teaclave/issues/68,incubator-teaclave,526335268,68,Provide dockerfile for execution environment,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-21T03:01:54Z,2019-11-24T03:59:59Z,"Currently, we have dockerfile for building environment. We also need to provide a clean/minimal execution environment. (e.g., based on alpine image)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/68/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/68,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NzM3NzEwNA==,incubator-teaclave,557377104,68,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-22T03:50:57Z,2019-11-22T03:50:57Z,"Then, we can use `docker-compose` to manage the services instead of using `service.sh`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1NzM3NzEwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/75,https://api.github.com/repos/apache/incubator-teaclave/issues/75,incubator-teaclave,526927129,75,Use PyLint to check Python code,m4sterchain,2987500,Zhaofeng Chen,,CLOSED,2019-11-22T01:05:14Z,2020-04-25T02:16:07Z,"As more and more python code committed to the repo, we need a standard way to unify the code style. We might leverage the existing tools like [pylint](https://www.pylint.org/) with the PEP8 style.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/75/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/76,https://api.github.com/repos/apache/incubator-teaclave/issues/76,incubator-teaclave,526927920,76,Move file access control from FNS to TDFS,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-11-22T01:08:12Z,2019-12-19T22:45:54Z,"Now whether a work can read/write a file is checked in FNS.  It's better to move the access control from FNS to TDFS. 

It has following advantages:
1. Access control should be enforced by the data holder just before the action. 
2. Access control server can use it as an example.
3. It will allow TMS to prepare data if the input/output files are known before task execution.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/76/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/76,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzcxMTA4MA==,incubator-teaclave,567711080,76,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-19T22:45:53Z,2019-12-19T22:45:53Z,The issue is fixed in PR #128. It's not merged because it is used for testing acs. Protocols are under reconstruction and new access control will be enforced. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzcxMTA4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/79,https://api.github.com/repos/apache/incubator-teaclave/issues/79,incubator-teaclave,526934448,79,Support protected_fs in services,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-11-22T01:31:41Z,2020-03-23T00:23:13Z,"Protected_fs is ready but not supported in services.  To support protected_fs in services, following modifications are needed:
1. KMS should support both AEAD and protected_fs keys.
2. RPC messages for KMS should be modified accordingly. 
3. TDFS client should be modified accordingly to save/read files with protected_fs. 

Besides, I am planning to use prost to design KMS RPC messages. 

This issue is related to another issue #60  ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/79/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/79,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYwMjMwNDkyNQ==,incubator-teaclave,602304925,79,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-03-23T00:23:13Z,2020-03-23T00:23:13Z,"This has been implemented in the `develop` branch, which will be merged into `master` in the near future.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYwMjMwNDkyNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/80,https://api.github.com/repos/apache/incubator-teaclave/issues/80,incubator-teaclave,527442444,80,Support setting IAS SPID and IAS key in env vars,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-22T22:21:11Z,2019-11-23T01:11:55Z,The only way to setup SPID and Key is to write them in two files and set the paths in `config.toml`. It will be nice to support setting them in env vars. This will be more flexible.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/80/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/81,https://api.github.com/repos/apache/incubator-teaclave/issues/81,incubator-teaclave,527445601,81,Reorganize release dir,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-22T22:31:13Z,2019-11-23T02:13:54Z,"Current organization of release dir is not consistent. I suggest to have the following dir structure:

```
release/
  service/
     tms, kms, ..., *.enclave.so
     enclave_info.txt
     auditors/
   examples/
   lib/
```

The original `bin` can be abandoned. The `out` can be still used as a temporary dir if still needed.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/81/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/83,https://api.github.com/repos/apache/incubator-teaclave/issues/83,incubator-teaclave,527459019,83,Print a info message when services are successfully launched,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-22T23:16:12Z,2020-01-22T07:16:42Z,Indicate one service has been launched.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/83/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/83,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NzA0MTk4Nw==,incubator-teaclave,577041987,83,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-01-22T07:16:42Z,2020-01-22T07:16:42Z,This is fixed in the `develop` branch. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NzA0MTk4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/85,https://api.github.com/repos/apache/incubator-teaclave/issues/85,incubator-teaclave,527482408,85,Improve error handling logic in current RPC.,m4sterchain,2987500,Zhaofeng Chen,,CLOSED,2019-11-23T00:50:58Z,2019-12-18T05:42:19Z,"In the existing RPC [serve loop](https://github.com/apache/incubator-mesatee/blob/008f6dd685c17a1280011a53442f04cc49feef30/mesatee_core/src/rpc/mod.rs#L57), we didn't handle the error in the following cases,
1. receive_vec failed
2. request serialization  failed
3. handle_invoke returned an error
4. response deserialization failed
5. send_vec failed

Case 1 and 5 are related to io error, under these circumstances, the communication channel is broken, we cannot inform the client about errors. We can wrap the internal error with MesaTEE::RPCError, and log the error on the server side in `handle_ecall` functions before discarding the error.

Case 2 and 4 are related to request/response data format error, we can inform client the error info and exit the loop gracefully.

Case 3 is related to ""business logic error"", we can introduce a new response type in the service proto file to represent this information, instead of treating it as an actual Err(). 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/85/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/91,https://api.github.com/repos/apache/incubator-teaclave/issues/91,incubator-teaclave,527643367,91,Change TDFS's file access path from absolute to relative,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-24T03:23:49Z,2019-12-06T19:55:45Z,"TDFS's `get_access_path` will give an absolute path of the MesaTEE's storage. This assumes that all services and clients should have exactly same directory, which makes it very difficult to deploy in multiple machines.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/91/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/93,https://api.github.com/repos/apache/incubator-teaclave/issues/93,incubator-teaclave,528398888,93,Document about coverage testing is missing.,rdzhou,8311333,Rundong Zhou,,CLOSED,2019-11-25T23:33:06Z,2020-05-29T00:07:03Z,"The process to test coverage requires several commands. Therefore, we'd better provide some documentation.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/93/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/94,https://api.github.com/repos/apache/incubator-teaclave/issues/94,incubator-teaclave,528400409,94,Make license of third-party sources more specific,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-25T23:38:00Z,2019-11-27T22:54:55Z,"We should make license of third-party sources more specific in the `LICENSE` file. For example, which file or which directory are using Intel SGX SDK.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/94/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/94,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODQ5MTgwMA==,incubator-teaclave,558491800,94,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-26T07:05:36Z,2019-11-26T07:05:36Z,Please refer to Spark's LICENSE file: https://github.com/apache/spark/blob/master/LICENSE,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODQ5MTgwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/98,https://api.github.com/repos/apache/incubator-teaclave/issues/98,incubator-teaclave,528474609,98,Add build Dockerfile for Ubuntu 16.04,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-26T04:09:03Z,2019-12-04T03:39:42Z,"A lot people are still using Ubuntu 16.04 for development. It's better to add another `Dockerfile`  (say `Dockerfile.ubuntu-16.04.build`  and `Dockerfile.ubuntu-18.04.build`) or Ubuntu 16.04. Also, our `make sgx-test` can be run in Ubuntu 16.04 image to ensure the functionality.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/98/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/98,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODQ1OTk2OQ==,incubator-teaclave,558459969,98,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-11-26T04:56:31Z,2019-11-26T04:56:31Z,"Ubuntu 16.04 runtime docker are also needed. We will have these files in the docker directory:

```
build.ubuntu-1604.Dockerfile
fns-rt.ubuntu-1604.Dockerfile
kms-rt.ubuntu-1604.Dockerfile
tdfs-rt.ubuntu-1604.Dockerfile
tms-rt.ubuntu-1604.Dockerfile
build.ubuntu-1804.Dockerfile
fns-rt.ubuntu-1804.Dockerfile
kms-rt.ubuntu-1804.Dockerfile
tdfs-rt.ubuntu-1804.Dockerfile
tms-rt.ubuntu-1804.Dockerfile
config.toml
docker-compose.yml
```

I'm putting Dockerfile as suffix names because GitHub can recognize the file to show syntax highlight.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU1ODQ1OTk2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/98,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMzMzU0Mg==,incubator-teaclave,561333542,98,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-03T20:03:24Z,2019-12-03T20:03:24Z,"BTW, we'd better to cleanup packages which are not essential for building mesatee.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMzMzU0Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/100,https://api.github.com/repos/apache/incubator-teaclave/issues/100,incubator-teaclave,528930037,100,Coverage report is not accurate,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-26T19:33:50Z,2020-03-23T00:22:18Z,I hosted the coverage report in my forked repo: https://codecov.io/gh/mssun/incubator-mesatee. It seems that the report is not accurate as expected. Could be the cmake issue.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/100/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/100,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYwMjMwNDc4Mw==,incubator-teaclave,602304783,100,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-03-23T00:22:17Z,2020-03-23T00:22:17Z,"This issue has been solved. Currently, we manually upload result to coveralls (https://coveralls.io/github/apache/incubator-teaclave). We'll integrate with our CI in the near future.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYwMjMwNDc4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/103,https://api.github.com/repos/apache/incubator-teaclave/issues/103,incubator-teaclave,529020817,103,Add a trusted storage service,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-26T23:08:33Z,2020-01-26T21:54:14Z,"We need a trusted storage service to persistent state in a database. Currently, we only have memdb for KMS [1], TMS [2], TDFS [3].

Therefore, we can add another trusted service called mesatee storage service (`/mesatee_services/storage`) to support persistent storage. The storage service can support multiple backends. In our first implementation, we can start with a Rust implementation Level DB (https://bitbucket.org/dermesser/leveldb-rs/src/default/) to show the capabilities first.

- [1] https://github.com/apache/incubator-mesatee/blob/d6a658b06d4b96a9f8e0f38d5d23c0ba2bb279c5/mesatee_services/kms/sgx_trusted_lib/src/kms.rs#L34
- [2] https://github.com/apache/incubator-mesatee/blob/d6a658b06d4b96a9f8e0f38d5d23c0ba2bb279c5/mesatee_services/tms/sgx_trusted_lib/src/data_store.rs#L36-L41
- [3] https://github.com/apache/incubator-mesatee/blob/d6a658b06d4b96a9f8e0f38d5d23c0ba2bb279c5/mesatee_services/tdfs/sgx_trusted_lib/src/data_store.rs#L43
https://github.com/apache/incubator-mesatee/blob/d6a658b06d4b96a9f8e0f38d5d23c0ba2bb279c5/mesatee_services/tdfs/sgx_trusted_lib/src/data_store.rs#L48","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/103/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/103,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3ODU0NzI3NQ==,incubator-teaclave,578547275,103,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-01-26T21:54:13Z,2020-01-26T21:54:13Z,Closed. Completed in the `develop` branch.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3ODU0NzI3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/105,https://api.github.com/repos/apache/incubator-teaclave/issues/105,incubator-teaclave,529052891,105,Add ACS into the topology graph of MesaTEE services,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-11-27T00:59:12Z,2020-04-07T20:53:49Z,"The new graph should like this:
![IMG_C5264C4D24E3-1](https://user-images.githubusercontent.com/1270392/69684547-dfc60e00-106d-11ea-93bd-3b634f54ebae.jpeg)

We can update the graph in `config.toml`. Later this graph will be use in doc to explain the design of mesatee.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/105/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/105,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMDYxNDk0NQ==,incubator-teaclave,610614945,105,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-07T20:53:49Z,2020-04-07T20:53:49Z,This issue is stale. New design has been illustrated in ascii art in the config file.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMDYxNDk0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/114,https://api.github.com/repos/apache/incubator-teaclave/issues/114,incubator-teaclave,531546204,114,The `functional_test.enclave.signed.so` file is put in the wrong dir,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-02T21:20:36Z,2019-12-04T03:39:18Z,"I found that the `functional_test.enclave.signed.so` file is put in the wrong release dir. Right now the release dir is like this:
```
├── services
│   ├── acs
│   ├── acs.enclave.signed.so
│   ├── auditors
│   ├── enclave_info.txt
│   ├── fns
│   ├── fns.enclave.signed.so
│   ├── functional_test.enclave.signed.so
│   ├── kms
│   ├── kms.enclave.signed.so
│   ├── tdfs
│   ├── tdfs.enclave.signed.so
│   ├── tms
│   └── tms.enclave.signed.so
└── tests
    ├── functional_test
    └── integration_test
```

However, the `functional_test.enclave.signed.so` file should be put in the `release/tests/` directory along with the `functional_test` binary.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/114/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/115,https://api.github.com/repos/apache/incubator-teaclave/issues/115,incubator-teaclave,531563760,115,Decouple existing worker logic from FNS as a seperate deployable component,m4sterchain,2987500,Zhaofeng Chen,,CLOSED,2019-12-02T21:54:29Z,2020-04-18T01:24:48Z,"Service providers need customized workers in different security levels. Currently all existing workers are running inside the FNS process with limited flexibility. 
We can decouple the worker logic from FNS as a separate deployable component, and make workflow as follows:
- Worker can only communicate with FNS during its lifetime
- Worker instances registered to FNS upon launch
- Worker instances talks to FNS actively for getting task info, running tasks and updating its status 
- FNS manages all registered workers for load balancing and status tracking
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/115/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/115,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTUzMjk5NA==,incubator-teaclave,615532994,115,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-18T01:24:48Z,2020-04-18T01:24:48Z,"execution service, worker, and function as been separated.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTUzMjk5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/116,https://api.github.com/repos/apache/incubator-teaclave/issues/116,incubator-teaclave,532215833,116,Auto-generated `prost_generated/kms_proto.rs` file is not same as the file checked in the repo,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-03T19:35:42Z,2019-12-04T03:37:29Z,"The generated `kms_proto.rs` file is not exact same with the source checked in the repo. After a fresh compilation, the diff is like this:

```
diff --git a/mesatee_services/kms/proto/src/prost_generated/kms_proto.rs b/mesatee_services/kms/proto/src/prost_generated/kms_proto.rs
index 44484d6..b78054a 100644
--- a/mesatee_services/kms/proto/src/prost_generated/kms_proto.rs
+++ b/mesatee_services/kms/proto/src/prost_generated/kms_proto.rs
@@ -1,67 +1,75 @@
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct CreateKeyRequest {
-    #[prost(enumeration = ""EncType"", required, tag = ""1"")]
+    #[prost(enumeration=""EncType"", required, tag=""1"")]
     pub enc_type: i32,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct AeadConfig {
-    #[prost(bytes, required, tag = ""1"")]
+    #[prost(bytes, required, tag=""1"")]
     #[serde(with = ""crate::base64_coder"")]
     pub key: std::vec::Vec<u8>,
-    #[prost(bytes, required, tag = ""2"")]
+    #[prost(bytes, required, tag=""2"")]
     #[serde(with = ""crate::base64_coder"")]
     pub nonce: std::vec::Vec<u8>,
-    #[prost(bytes, required, tag = ""3"")]
+    #[prost(bytes, required, tag=""3"")]
     #[serde(with = ""crate::base64_coder"")]
     pub ad: std::vec::Vec<u8>,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct ProtectedFsConfig {
-    #[prost(bytes, required, tag = ""1"")]
+    #[prost(bytes, required, tag=""1"")]
     #[serde(with = ""crate::base64_coder"")]
     pub key: std::vec::Vec<u8>,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct KeyConfig {
-    #[prost(oneof = ""key_config::Config"", tags = ""1, 2"")]
+    #[prost(oneof=""key_config::Config"", tags=""1, 2"")]
     pub config: ::std::option::Option<key_config::Config>,
 }
 pub mod key_config {
-    #[derive(
-        Clone, PartialEq, ::prost::Oneof, serde_derive::Serialize, serde_derive::Deserialize,
-    )]
+    #[derive(Clone, PartialEq, ::prost::Oneof)]
+    #[derive(serde_derive::Serialize, serde_derive::Deserialize)]
     pub enum Config {
-        #[prost(message, tag = ""1"")]
+        #[prost(message, tag=""1"")]
         Aead(super::AeadConfig),
-        #[prost(message, tag = ""2"")]
+        #[prost(message, tag=""2"")]
         ProtectedFs(super::ProtectedFsConfig),
     }
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct CreateKeyResponse {
-    #[prost(string, required, tag = ""1"")]
+    #[prost(string, required, tag=""1"")]
     pub key_id: std::string::String,
-    #[prost(message, required, tag = ""2"")]
+    #[prost(message, required, tag=""2"")]
     pub config: KeyConfig,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct GetKeyRequest {
-    #[prost(string, required, tag = ""1"")]
+    #[prost(string, required, tag=""1"")]
     pub key_id: std::string::String,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct GetKeyResponse {
-    #[prost(message, required, tag = ""1"")]
+    #[prost(message, required, tag=""1"")]
     pub config: KeyConfig,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct DeleteKeyRequest {
-    #[prost(string, required, tag = ""1"")]
+    #[prost(string, required, tag=""1"")]
     pub key_id: std::string::String,
 }
-#[derive(Clone, PartialEq, ::prost::Message, serde_derive::Serialize, serde_derive::Deserialize)]
+#[derive(Clone, PartialEq, ::prost::Message)]
+#[derive(serde_derive::Serialize, serde_derive::Deserialize)]
 pub struct DeleteKeyResponse {
-    #[prost(message, required, tag = ""1"")]
+    #[prost(message, required, tag=""1"")]
     pub config: KeyConfig,
 }
 #[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, ::prost::Enumeration)]
@@ -72,8 +80,7 @@ pub enum EncType {
     ProtectedFs = 1,
 }
 #[derive(Clone, serde_derive::Serialize, serde_derive::Deserialize, Debug)]
-#[serde(tag = ""type"")]
-pub enum KMSRequest {
+#[serde(tag = ""type"")]pub enum KMSRequest {
     GetKey(GetKeyRequest),
     DelKey(DeleteKeyRequest),
     CreateKey(CreateKeyRequest),
@@ -91,10 +98,7 @@ pub trait KMSService {
     fn create_key(req: CreateKeyRequest) -> mesatee_core::Result<CreateKeyResponse>;
     fn dispatch(&self, req: KMSRequest) -> mesatee_core::Result<KMSResponse> {
         match req {
-            KMSRequest::GetKey(req) => Self::get_key(req).map(KMSResponse::GetKey),
-            KMSRequest::DelKey(req) => Self::del_key(req).map(KMSResponse::DelKey),
-            KMSRequest::CreateKey(req) => Self::create_key(req).map(KMSResponse::CreateKey),
-        }
+            KMSRequest::GetKey(req) => Self::get_key(req).map(KMSResponse::GetKey),            KMSRequest::DelKey(req) => Self::del_key(req).map(KMSResponse::DelKey),            KMSRequest::CreateKey(req) => Self::create_key(req).map(KMSResponse::CreateKey),        }
     }
 }
 pub struct KMSClient {
@@ -106,10 +110,7 @@ impl KMSClient {
         let addr = target.addr;
         let channel = match target.desc {
             mesatee_core::config::OutboundDesc::Sgx(enclave_addr) => {
-                mesatee_core::rpc::channel::SgxTrustedChannel::<KMSRequest, KMSResponse>::new(
-                    addr,
-                    enclave_addr,
-                )?
+                mesatee_core::rpc::channel::SgxTrustedChannel::<KMSRequest, KMSResponse>::new(addr, enclave_addr)?
             }
         };
         Ok(KMSClient { channel })
@@ -121,9 +122,7 @@ impl KMSClient {
         let resp = self.channel.invoke(req)?;
         match resp {
             KMSResponse::GetKey(resp) => Ok(resp),
-            _ => Err(mesatee_core::Error::from(
-                mesatee_core::ErrorKind::RPCResponseError,
-            )),
+            _ => Err(mesatee_core::Error::from(mesatee_core::ErrorKind::RPCResponseError)),
         }
     }
 
@@ -132,9 +131,7 @@ impl KMSClient {
         let resp = self.channel.invoke(req)?;
         match resp {
             KMSResponse::DelKey(resp) => Ok(resp),
-            _ => Err(mesatee_core::Error::from(
-                mesatee_core::ErrorKind::RPCResponseError,
-            )),
+            _ => Err(mesatee_core::Error::from(mesatee_core::ErrorKind::RPCResponseError)),
         }
     }
 
@@ -143,9 +140,7 @@ impl KMSClient {
         let resp = self.channel.invoke(req)?;
         match resp {
             KMSResponse::CreateKey(resp) => Ok(resp),
-            _ => Err(mesatee_core::Error::from(
-                mesatee_core::ErrorKind::RPCResponseError,
-            )),
+            _ => Err(mesatee_core::Error::from(mesatee_core::ErrorKind::RPCResponseError)),
         }
     }
 }

```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/116/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/116,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMyNTE4Mw==,incubator-teaclave,561325183,116,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-03T19:42:00Z,2019-12-03T19:42:00Z,"I think it's caused by ```make format```.  If you format the file, the file should be the same. But if we don't format the file, we can't pass the CI.  ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMyNTE4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/116,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMyNjIyNw==,incubator-teaclave,561326227,116,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-03T19:44:43Z,2019-12-03T19:44:43Z,"Some format issues can be fixed in the prost_build_generator.rs, while others are generated in ```prost-build``` crate. 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMyNjIyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/116,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMyNzg1NA==,incubator-teaclave,561327854,116,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-03T19:49:02Z,2019-12-03T19:49:02Z,Can we add the header to autogenerated files skip rustfmt? (https://github.com/rust-lang/rustfmt#tips),"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTMyNzg1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/116,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQwOTAxOA==,incubator-teaclave,561409018,116,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-03T23:47:08Z,2019-12-03T23:47:08Z,"One potential solution is adding ```#[rustfmt::skip]``` and ```#![allow(clippy)]``` in the beginning of the generated files. 

However, I tried it but found that compilation error will occur when I use the marco ""include!"" to use the generated files.
The error is ```an inner attribute is not permitted in this context```.

Another potential solution is excluding ```prost_generated``` directory in cmake scripts. 

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQwOTAxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/116,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQwOTQ0Nw==,incubator-teaclave,561409447,116,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-03T23:48:49Z,2019-12-03T23:48:49Z,Sounds like it's very difficult to skip in the source code. Let's just exclude all source file in the `prost_generated` directory. Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQwOTQ0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/117,https://api.github.com/repos/apache/incubator-teaclave/issues/117,incubator-teaclave,532337816,117,protected_fs's tests module is not tracked by cmake,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-03T23:30:41Z,2020-01-22T19:05:26Z,"Current `protected_fs`'s tests module is built in source dir. Because it is not tracked by cmake, this may cause some issues:

```
$ cat module_test.sh
#!/bin/bash
trap ""pkill -2 -P $$; wait"" SIGINT SIGTERM EXIT

echo ""[+] Running module test: protected_fs_rs ...""
cd ../mesatee_utils/protected_fs_rs
cargo test
```

I encounter this issue when building protected_fs_rs with 18.04 and 16.04. I only delete the `build` dir which does not clean up protected_fs's built.

```
root@443183963ae6:/mesatee/build# make sgx-test
[+] Running module test: protected_fs_rs ...
    Updating crates.io index
  Downloaded cfg-if v0.1.10
  Downloaded rand_core v0.4.2
  Downloaded rdrand v0.6.0
  Downloaded libc v0.2.66
    Finished dev [unoptimized + debuginfo] target(s) in 15.72s
     Running target/debug/deps/protected_fs-5cf4f9815b6d6596
/mesatee/mesatee_utils/protected_fs_rs/target/debug/deps/protected_fs-5cf4f9815b6d6596: error while loading shared libraries: libcrypto.so.1.1: cannot open shared object file: No such file or directory
error: test failed, to rerun pass '--lib'
CMakeFiles/sgx-test.dir/build.make:57: recipe for target 'CMakeFiles/sgx-test' failed
make[3]: *** [CMakeFiles/sgx-test] Error 127
CMakeFiles/Makefile2:1257: recipe for target 'CMakeFiles/sgx-test.dir/all' failed
make[2]: *** [CMakeFiles/sgx-test.dir/all] Error 2
CMakeFiles/Makefile2:1264: recipe for target 'CMakeFiles/sgx-test.dir/rule' failed
make[1]: *** [CMakeFiles/sgx-test.dir/rule] Error 2
Makefile:612: recipe for target 'sgx-test' failed
make: *** [sgx-test] Error 2
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/117/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/117,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NzMzNzAwMg==,incubator-teaclave,577337002,117,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-01-22T19:05:26Z,2020-01-22T19:05:26Z,We use a temporary directory as target (https://github.com/apache/incubator-teaclave/blob/develop/cmake/scripts/test.sh) to resolve this issue. This has been implemented in the `develop` branch. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NzMzNzAwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/121,https://api.github.com/repos/apache/incubator-teaclave/issues/121,incubator-teaclave,532442636,121,[RFC] Roadmap (towards first public release),mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-04T04:28:07Z,2020-08-21T21:41:13Z,"Recently, we (some core contributors) have a small offline discussion on the roadmap towards first public release. In this meeting, we discussed what components and features are still missing as a boarder public release.

Here is a brief summary of features and components need to be designed and implemented. I'm trying to outline in bullet points, so some may not be very concise.

These are things we'd better to have in the first release:

* [x] support function and data registration
    - [x] input data of a function can be fetched from external storage
    - [ ] ~~a better function attestation mechanism to attest Python script~~
    - [x] reuse registered function in new tasks
* [x] redesign function development workflow
    - [x] developers only need to write python script with native libraries written in Rust
* [x] provide persistent database implementation
    - [x] port rusty-leveldb
    - [x] add dedicated database service for data persistency
* [x] support protobuf compatible RPC protocol
    - [x] refactor existing service protocol with `.proto` files
* [ ] ~~provide a more flexible access control mechanism with ACS~~
    - [ ] multi-owner for data fusion results
* [x] support distributed workers
    - [x] support docker deployment
* [x] support customized workers
    - [x] service provider can deploy with other kinds of customized workers besides builtin worker
* [ ] ~~support TPM-based workers~~
* [ ] ~~support basic automatic Rust code auditing~~
* [x] better documentation
* [x] better error handling
    - [x] errors can be propagated through RPC
    - [x] better error triage
* [x] testsuite cleanup/refactoring
* [x] implement more built-in functions
* [ ] community
    - [ ] more external contributors (regularly code/doc contributions and feedbacks)
    - [x] accessibility (docs, guideline, open roadmap, etc)
    - [ ] meetup

These are nice to have in the first release:

* [ ] k8s deployment
* [x] support more flexible attestation mechanisms (DCAP)
* [ ] provide trusted logging service for better auditing
* [ ] RPC enhancement
    - [ ] HTTP-based RPC
    - [x] multi-language client
* [ ] workload evaluation benchmark



","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/121/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/121,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU4OTMyMTEwOQ==,incubator-teaclave,589321109,121,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-02-20T21:13:05Z,2020-02-20T21:13:05Z,I have updated the original post of roadmap to reflex current status in the `develop` branch.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU4OTMyMTEwOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/121,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMjk4Njc5NA==,incubator-teaclave,632986794,121,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-23T05:10:25Z,2020-05-23T05:10:25Z,"Hi folks, thank you for spending days and nights to redesign and implement the refreshed Teaclave platform in an open way.

I just updated the roadmap today and checked some items which has been already done. Few items are still not checked, I'm wondering if these are really needed to be included in the first public release. Anyway, I have added cross lines on items which I think is not necessary. The next step is to continue polishing existing features and provide more documents. Feel free to comments on what features are still missing for the public release.

At last, thanks again, without your contribution we cannot have current achievements!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMjk4Njc5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/121,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3ODUyODc2OA==,incubator-teaclave,678528768,121,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-21T21:41:13Z,2020-08-21T21:41:13Z,"Hi all, we follow this roadmap and finish most of the refactoring and features. I'm closing this issue and plan to initiate and official Apache incubator release. Thanks for all contributors.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3ODUyODc2OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/122,incubator-teaclave,532447974,122,Contributors meetup: call for participants,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-04T04:48:01Z,2020-08-12T21:13:31Z,"Hi folks, recently I posted an outline of features and components we are missing towards a first public release (#121). Therefore, it's a good time to propose a meetup in recent days to discuss some of the details in the outline. I think this is a good way to align with the project roadmap for all contributors and then we can focus on some core building blocks.

I don't have a specific date and time right now, but I'd like to see responses of the community. Also, I think an online meetup is more approachable since we don't have a very large community at this stage.

So, if you are interested in the topics, please feel free to reply this thread to discuss topics, date and time here. Thank you!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/122/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQ3OTY2Mg==,incubator-teaclave,561479662,122,NA,hi-T0day,24287890,T0day,,NA,2019-12-04T05:10:56Z,2019-12-04T05:10:56Z,+1. Looking forward to this meetup. Any date and time is ok for me! ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQ3OTY2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQ4MjE2NQ==,incubator-teaclave,561482165,122,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-04T05:22:02Z,2019-12-04T05:22:02Z,"Thanks @hi-T0day. Since you are in the Beijing time zone, I'll try to schedule a time which is convenient for all people.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTQ4MjE2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc3NzMyNA==,incubator-teaclave,561777324,122,NA,dingelish,1870436,Yu Ding,,NA,2019-12-04T18:27:00Z,2019-12-04T18:27:00Z,weekend is good to me,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc3NzMyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc3NzQyMA==,incubator-teaclave,561777420,122,NA,m4sterchain,2987500,Zhaofeng Chen,,NA,2019-12-04T18:27:15Z,2019-12-04T18:27:15Z,A Friday or Saturday evening (PST) sounds good to me. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc3NzQyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc4NjM4Nw==,incubator-teaclave,561786387,122,NA,m4sterchain,2987500,Zhaofeng Chen,,NA,2019-12-04T18:49:45Z,2019-12-04T18:49:45Z,Any potential contributor is welcomed. We will also highlight some beginner issues good for a initial contribution.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc4NjM4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc4NzY4OQ==,incubator-teaclave,561787689,122,NA,jvz,791275,Matt Sicker,mattsicker@apache.org,NA,2019-12-04T18:53:00Z,2019-12-04T18:53:00Z,"FYI, this type of thing makes more sense to discuss on the mailing list directly.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc4NzY4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc5NDc2Mg==,incubator-teaclave,561794762,122,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-04T19:10:27Z,2019-12-04T19:10:27Z,"Good suggestion, @jandrunas. The dev list is a bit overloaded with gitbox messages. I'll figure out a better way for the messages.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc5NDc2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc5NjAzOA==,incubator-teaclave,561796038,122,NA,jvz,791275,Matt Sicker,mattsicker@apache.org,NA,2019-12-04T19:13:31Z,2019-12-04T19:13:31Z,We can set up a notifications mailing list for gitbox messages.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc5NjAzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc5Njg4Mw==,incubator-teaclave,561796883,122,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-04T19:15:45Z,2019-12-04T19:15:45Z,Sure! I'll submit a ticket to the infra team.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTc5Njg4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTg2ODY3NQ==,incubator-teaclave,561868675,122,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-04T22:28:26Z,2019-12-04T22:28:26Z,Friday evening or weekend is good to me. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTg2ODY3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTkxNDgyMQ==,incubator-teaclave,561914821,122,NA,rdzhou,8311333,Rundong Zhou,,NA,2019-12-05T00:48:20Z,2019-12-05T00:48:20Z,Friday evening or weekend is fine for me.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTkxNDgyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/122,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MzExNDIyOQ==,incubator-teaclave,673114229,122,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-12T21:13:31Z,2020-08-12T21:13:31Z,I'm closing this issue. Will create a new one if we are ready for organizing an online meetup. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MzExNDIyOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/123,https://api.github.com/repos/apache/incubator-teaclave/issues/123,incubator-teaclave,532969084,123,sgxapp-kms target won't cache build results,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-04T22:18:26Z,2019-12-05T00:59:09Z,"The build system doesn't cache the output of the `sgxapp-kms` target. It guess this is caused by autogenerated protocol file introduced in this PR (#112).
```
$ make
[  0%] Built target prep
[  7%] Built target pycomponent
[  9%] Building unixapp-config_gen
    Finished release [optimized] target(s) in 0.13s
[  9%] Built target unixapp-config_gen
[ 12%] Building sgxapp-acs
    Finished release [optimized] target(s) in 0.09s
[ 12%] Built target sgxapp-acs
[ 14%] Building sgxlib-acs
    Finished release [optimized] target(s) in 1.08s
[ 14%] Built target sgxlib-acs
[ 17%] Building sgxapp-functional_test
    Finished release [optimized] target(s) in 0.09s
[ 17%] Built target sgxapp-functional_test
[ 19%] Building sgxlib-functional_test
   Compiling functional_test_enclave v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/tests/functional_test/sgx_trusted_lib)
    Finished release [optimized] target(s) in 1.74s
[ 19%] Built target sgxlib-functional_test
[ 21%] Building sgxapp-fns
    Finished release [optimized] target(s) in 0.09s
[ 21%] Built target sgxapp-fns
[ 24%] Building sgxlib-fns
   Compiling kms_proto v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/mesatee_services/kms/proto)
   Compiling tdfs_internal_proto v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/mesatee_services/tdfs/internal/proto)
   Compiling tdfs_internal_client v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/mesatee_services/tdfs/internal/client)
   Compiling fns_enclave v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/mesatee_services/fns/sgx_trusted_lib)
    Finished release [optimized] target(s) in 10.30s
[ 24%] Built target sgxlib-fns
[ 26%] Building sgxapp-kms
   Compiling kms_proto v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_untrusted_app/mesatee_services/kms/proto)
   Compiling kms v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_untrusted_app/mesatee_services/kms/sgx_app)
    Finished release [optimized] target(s) in 2.33s
[ 26%] Built target sgxapp-kms
[ 29%] Building sgxlib-kms
   Compiling kms_proto v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/mesatee_services/kms/proto)
   Compiling kms_enclave v0.1.0 (/home/mssun/incubator-mesatee/build/cmake_tomls/sgx_trusted_lib/mesatee_services/kms/sgx_trusted_lib)
    Finished release [optimized] target(s) in 3.35s
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/123/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/123,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTg2NzU3OA==,incubator-teaclave,561867578,123,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-04T22:25:16Z,2019-12-04T22:25:16Z,"I think it's caused by build.rs.  Build.rs will compile the kms.proto repeatedly. 

I found  using ""cargo:rerun-if-changed"" in build.rs may solve the problem. Let me try whether it works. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MTg2NzU3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/127,https://api.github.com/repos/apache/incubator-teaclave/issues/127,incubator-teaclave,533068069,127,Put test related code under #[cfg(test_mode)] gate,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-05T01:28:33Z,2019-12-13T22:13:03Z,"I found that there are some code related to tests:

https://github.com/apache/incubator-mesatee/blob/8edecbb657e3cbe73b726860a4134d9d3837d546/mesatee_core/src/rpc/sgx/mod.rs#L155-L164

https://github.com/apache/incubator-mesatee/blob/8edecbb657e3cbe73b726860a4134d9d3837d546/mesatee_services/tdfs/sgx_trusted_lib/src/data_store.rs#L142-L190

We should put these code under the test_mode gate to remove code for release built.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/127/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/130,https://api.github.com/repos/apache/incubator-teaclave/issues/130,incubator-teaclave,533693789,130,sgxlib-kms target can only cache the build results after the second build,litongxin1991,6188502,TX,litongxin1991@gmail.com,CLOSED,2019-12-06T01:35:02Z,2020-03-10T04:39:42Z,"I think the reason may be that the sgxlib-kms will be compiled twice. 

One is for mesatee_services and the other is for functional_test. 

```
find . -name libkms_proto*
./target/untrusted/release/deps/libkms_proto-a7be2c8b74ba8ed9.rlib
./target/untrusted/release/deps/libkms_proto-a7be2c8b74ba8ed9.rmeta
./target/trusted/release/deps/libkms_proto-59ba18a444583694.rmeta
./target/trusted/release/deps/libkms_proto-35647b5ef0f9d552.rlib
./target/trusted/release/deps/libkms_proto-35647b5ef0f9d552.rmeta
./target/trusted/release/deps/libkms_proto-59ba18a444583694.rlib
```
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/130/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/130,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzIyMzA4Mg==,incubator-teaclave,567223082,130,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-18T21:34:38Z,2019-12-18T21:34:38Z,Is this issue still valid after this merge (f49dd15)?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzIyMzA4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/130,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzIyNDA4Nw==,incubator-teaclave,567224087,130,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-18T21:37:22Z,2019-12-18T21:37:22Z,Let me check it. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzIyNDA4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/130,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzIzMjQ2OA==,incubator-teaclave,567232468,130,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2019-12-18T22:02:37Z,2019-12-18T22:02:37Z,"I think the issue is still valid.
Log of second build. 
```
[ 12%] Building sgxlib-kms, enclave info to /root/faas/issue_test/cmake_build/intermediate/kms_enclave_info.toml
   Compiling kms_enclave v0.1.0 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/mesatee_services/kms/sgx
_trusted_lib)
    Finished release [optimized] target(s) in 2.88s
```
```
[ 17%] Building sgxlib-functional_test, enclave info to /dev/null
   Compiling protected_fs_rs v0.0.1 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/teaclave_common/pro$
ected_fs_rs)
   Compiling integer-encoding v1.0.7
   Compiling sgx_tunittest v1.0.9 (https://github.com/baidu/rust-sgx-sdk?rev=v1.0.9#2042ce64)
   Compiling snap v0.2.5
   Compiling acs_proto v0.1.0 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/mesatee_services/acs/prot$
)
   Compiling tms_internal_client v0.1.0 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/mesatee_service$
/tms/internal/client)
   Compiling acs_client v0.1.0 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/mesatee_services/acs/cli$
nt)
   Compiling rusty-leveldb v0.3.0 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/teaclave_common/rusty_
leveldb_sgx)
   Compiling functional_test_enclave v0.1.0 (/root/faas/issue_test/cmake_build/cmake_tomls/sgx_trusted_lib/tests/functi
onal_test/sgx_trusted_lib)
    Finished release [optimized] target(s) in 8.64s
```

Log of third build. 
```
[ 12%] Building sgxlib-kms, enclave info to /root/faas/issue_test/cmake_build/intermediate/kms_enclave_info.toml
    Finished release [optimized] target(s) in 1.53s
```
```
[ 17%] Building sgxlib-functional_test, enclave info to /dev/null
    Finished release [optimized] target(s) in 1.54s
[ 17%] Built target sgxlib-functional_test
```
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NzIzMjQ2OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/130,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5Njg5ODg4OQ==,incubator-teaclave,596898889,130,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-03-10T04:39:42Z,2020-03-10T04:39:42Z,This issue has been resolved in the `develop` branch. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5Njg5ODg4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/131,https://api.github.com/repos/apache/incubator-teaclave/issues/131,incubator-teaclave,533759883,131,Loading runtime config should not be lazy static,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-06T05:47:06Z,2019-12-12T06:16:42Z,"If loading code of runtime config is lazy static, it will be automatically called when there is code related with mesatee_config. This is not correct since SDK does not need to read `config.toml` (runtime). However, SDK code uses RPC module which may involve code of mesatee_config and causing loading runtime config automatically in client side.

We should abandon this lazy static and use function call instead. Services should explicitly call this loading config function in their initial functions.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/131/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/131,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NDg2NjU2Mw==,incubator-teaclave,564866563,131,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-12T06:16:42Z,2019-12-12T06:16:42Z,Fixed by #139.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NDg2NjU2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/132,https://api.github.com/repos/apache/incubator-teaclave/issues/132,incubator-teaclave,534216318,132,Impossible to use bulid deps from crates-io but not crates-sgx for SGX trusted lib,mssun,1270392,Mingshen Sun,bob@mssun.me,OPEN,2019-12-06T19:22:01Z,2019-12-07T04:35:25Z,"Because of the limitation of cargo, we cannot do source replacement only for deps but not build deps [1]. Therefore, you may see two kinds of work-around: `config_gen` (https://github.com/apache/incubator-mesatee/tree/bd9ca1e/mesatee_config/config_gen) and `prost-build-fake` (https://github.com/apache/incubator-mesatee/pull/104).

This issue relies on the upstream cargo to fix.


[1] https://users.rust-lang.org/t/source-replacement-for-dependencies-only-but-not-for-build-dependencies","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/132/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/132,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MjgxMzM3Mg==,incubator-teaclave,562813372,132,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-07T04:35:25Z,2019-12-07T04:35:25Z,"Submitted an issue to cargo: https://github.com/rust-lang/cargo/issues/7679

Wish we can avoid current workaroud in the future.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MjgxMzM3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/134,https://api.github.com/repos/apache/incubator-teaclave/issues/134,incubator-teaclave,534334963,134,Refactoring build time configuration ,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-07T01:35:11Z,2019-12-12T19:25:11Z,"The current configuration mixes build time and runtime config. To separate them, here is what I can come up for build time configuration:

```toml
# Certificate to verify SGX enclaves
mr_signer_path = ""cert/mr_signer""

# Service provider's root CA certificate to verify clients
sp_root_ca_cert_path = ""cert/ca.crt""

# Intel Attestation Service root CA certificate to verify attestation report
ias_root_ca_cert_path = ""cert/AttestationReportSigningCACert.pem""

# Auditors' public keys to verify their endorsement signatures
auditors_public_key_path = [
    ""auditors/godzilla/godzilla.public.der"",
    ""auditors/optimus_prime/optimus_prime.public.der"",
    ""auditors/albus_dumbledore/albus_dumbledore.public.der""
]

# RPC max message size
rpc_max_message_size = 409600
```

This is also related to #131.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/134/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/134,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MzkyMTY0OQ==,incubator-teaclave,563921649,134,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-10T08:24:45Z,2019-12-10T08:24:45Z,"According to #135, `mr_signer_path` is useless. Here is an update of the build time config file:

```toml
# Service provider's root CA certificate to verify clients
sp_root_ca_cert = { path = ""../cert/ca.crt"" }

# Intel Attestation Service root CA certificate to verify attestation report
ias_root_ca_cert = { path = ""../cert/AttestationReportSigningCACert.pem"" }

# Auditors' public keys to verify their endorsement signatures
auditor_public_keys = [
    { path = ""../auditors/godzilla/godzilla.public.der"" },
    { path = ""../auditors/optimus_prime/optimus_prime.public.der"" },
    { path = ""../auditors/albus_dumbledore/albus_dumbledore.public.der""},
]

# RPC max message size
rpc_max_message_size = 409600
```

The corresponding generated code will be like this:

```rust
format!(r#""
    pub struct BuildConfig<'a> {{
        pub sp_root_ca_cert: &'a [u8],
        pub ias_root_ca_cert: &'a [u8],
        pub auditor_public_keys: &'a [&'a [u8];{}],
        pub rpc_max_message_size: u64,
    }}

    pub static BUILD_CONFIG: BuildConfig<'static> = BuildConfig {{
        sp_root_ca_cert: {},
        ias_root_ca_cert: {},
        auditor_public_keys: {},
        rpc_max_message_size: {},
    }};""#,
        config.auditor_public_keys.len(),
        sp_root_ca_cert,
        ias_root_ca_cert,
        auditor_public_keys,
        config.rpc_max_message_size
    )
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MzkyMTY0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/134,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NTE0ODQ5Mg==,incubator-teaclave,565148492,134,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-12T19:25:11Z,2019-12-12T19:25:11Z,Fixed by #139.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NTE0ODQ5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/135,https://api.github.com/repos/apache/incubator-teaclave/issues/135,incubator-teaclave,534362282,135,What's the purpose of the `cert/mr_signer` file?,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-07T06:26:50Z,2019-12-12T06:16:22Z,"I understand `mr_signer` means the SHA256 digest of the big endian format modulus of the RSA public key of the enclave's signing key. And I can config it as build configuration here: https://github.com/apache/incubator-mesatee/blob/9c6d1e40bf3d8a73f80b119138c3219ee713590d/build.toml#L7

`config_gen` will include it in bytes at compile time:

```rust
lazy_static! {
    pub static ref MESATEE_SECURITY_CONSTANTS: MesateeSecurityConstants =
    MesateeSecurityConstants {
        mr_signer: include_bytes!(""/home/mssun/incubator-mesatee/cert/mr_signer""),
        root_ca_bin: include_bytes!(""/home/mssun/incubator-mesatee/cert/ca.crt""),
        ias_report_ca: include_bytes!(""/home/mssun/incubator-mesatee/cert/AttestationReportSigningCACert.pem""),

        client_cert: include_bytes!(""/home/mssun/incubator-mesatee/cert/client.crt""),
        client_pkcs8_key: include_bytes!(""/home/mssun/incubator-mesatee/cert/client.pkcs8""),

        audited_enclave_pubkey_a: include_bytes!(""/home/mssun/incubator-mesatee/auditors/godzilla/godzilla.public.der""),
        audited_enclave_pubkey_b: include_bytes!(""/home/mssun/incubator-mesatee/auditors/optimus_prime/optimus_prime.public.der""),
        audited_enclave_pubkey_c: include_bytes!(""/home/mssun/incubator-mesatee/auditors/albus_dumbledore/albus_dumbledore.public.der""),

        max_msg_size: 0x64000,
    };

}
```

However, I didn't find any code use this constant value.

From my understanding, the MRSIGNER value is written in the `enclave_info.txt` and will be loaded at runtime for verification instead of build time config:

`mesatee_core/src/config/mod.rs`:

```rust
lazy_static! {
    pub static ref ENCLAVE_IDENTITIES: HashMap<String, (SgxMeasure, SgxMeasure)> =
        load_presigned_enclave_info();
}
```

The question is can we remove this file and do we need this as build time config?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/135/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/135,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MzUwNzE4OQ==,incubator-teaclave,563507189,135,NA,m4sterchain,2987500,Zhaofeng Chen,,NA,2019-12-10T00:44:05Z,2019-12-10T00:44:05Z,"We can remove this file from the build-time config. I think `cert/mr_signer` might be a legacy file before introducing the auditors mechanism. 
The MRSIGNER value is initially derived from the `Enclave_private.pem` when signing the enclave in `sgx_link_sign.sh`, and later used in `enclave_info.txt` as described above.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2MzUwNzE4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/135,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NDg2NjQ4Mg==,incubator-teaclave,564866482,135,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-12T06:16:22Z,2019-12-12T06:16:22Z,Fixed by  #145.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NDg2NjQ4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/140,https://api.github.com/repos/apache/incubator-teaclave/issues/140,incubator-teaclave,536150226,140,Specify client cert/key for TLS client authentication at runtime for SDK,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-11T05:24:00Z,2020-01-27T05:20:37Z,"This is a follow-up issue of PR #139.

We need to make the client key passing more flexible for TLS client auth. The SDK need to be updated to specify client key.

`mesatee_core` need to be updated (client cert and client key as inputs):
https://github.com/apache/incubator-mesatee/blob/0d30a929705fde8d1fd014d66839b6979e9cecb6/mesatee_core/src/rpc/sgx/client.rs#L38-L75","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/140/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/140,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3ODU5NTc2OQ==,incubator-teaclave,578595769,140,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-01-27T05:20:37Z,2020-01-27T05:20:37Z,"Since we are working on the `develop` branch, I'm closing this issue.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3ODU5NTc2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/142,https://api.github.com/repos/apache/incubator-teaclave/issues/142,incubator-teaclave,536705131,142,Rewrite docs,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-12T01:31:57Z,2020-05-21T03:31:04Z,Current docs are outdated. We need to rewrite the whole docs and readme. This can be started after our renaming.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/142/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/142,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTg1ODAxNQ==,incubator-teaclave,631858015,142,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-21T03:31:04Z,2020-05-21T03:31:04Z,We already have some docs and struct is redesign. I'm closing this issue. Docs still need to be improved.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTg1ODAxNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/147,https://api.github.com/repos/apache/incubator-teaclave/issues/147,incubator-teaclave,536777483,147,Rename mesatee_utils to mesatee_common,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-12T06:11:01Z,2019-12-14T19:39:10Z,"Current projects in `mesatee_utils` are actually common libraries for the systems. So, let's rename the directory to `mesatee_common`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/147/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/152,https://api.github.com/repos/apache/incubator-teaclave/issues/152,incubator-teaclave,537793117,152,Use TOML format to store enclave info,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-13T21:50:54Z,2019-12-14T07:30:00Z,"Current enclave info is stored in the `enclave_info.txt` which is a customize format. I'm proposing to use TOML for enclave_info. Here is an example:

`enclave_info.toml`:

```toml
[acs]
mrsigner     = ""83d719e77deaca1470f6baf62a4d774303c899db69020f9c70ee1dfc08c7ce9e""
enclave_hash = ""045f15bc75fb3f021b8e96e91ffebc8137005836f8b1f497024896ba0f3e6cb3""

[fns]
mrsigner     = ""83d719e77deaca1470f6baf62a4d774303c899db69020f9c70ee1dfc08c7ce9e""
enclave_hash = ""188688c12b710ffa51ae0cf93ddca99f698cd198cbd4391ec44cf6d6091231ff""

[kms]
mrsigner     = ""83d719e77deaca1470f6baf62a4d774303c899db69020f9c70ee1dfc08c7ce9e""
enclave_hash = ""c208057b989f6c6b19da9ef014529246e8c7d1472f805307e74b209699f8ebf2""

[tdfs]
mrsigner     = ""83d719e77deaca1470f6baf62a4d774303c899db69020f9c70ee1dfc08c7ce9e""
enclave_hash = ""036e3910fed68acdd0a068e9b3e14b9f17ec04b2c666faeda7214bae645c25aa""

[tms]
mrsigner     = ""83d719e77deaca1470f6baf62a4d774303c899db69020f9c70ee1dfc08c7ce9e""
enclave_hash = ""69d9c9dd9ada2b0846d013a50a7b126721c9a07647f50d8a18ec5cb9361bc25a""
```

Deserialization test:

```rust
use serde_derive::{Deserialize};
use serde::{Deserialize, Deserializer};
use hex::FromHex;
use std::collections::HashMap;
use std::fs;

/// Deserializes a hex string to a `Vec<u8>`.
pub fn from_hex<'de, D>(deserializer: D) -> Result<Vec<u8>, D::Error>
where D: Deserializer<'de>
{
    use serde::de::Error;
    String::deserialize(deserializer)
        .and_then(|string| Vec::from_hex(&string).map_err(|err| Error::custom(err.to_string())))
}

#[derive(Debug, Deserialize)]
#[serde(transparent)]
struct EnclaveInfoToml(HashMap<String, EnclaveInfo>);

#[derive(Debug, Deserialize)]
struct EnclaveInfo {
    #[serde(deserialize_with = ""from_hex"")]
    mrsigner: Vec<u8>,
    #[serde(deserialize_with = ""from_hex"")]
    enclave_hash: Vec<u8>,
}

fn main() {
    let contents = fs::read_to_string(""enclave_info.toml"")
        .expect(""Something went wrong reading the enclave info file."");
    let config: EnclaveInfoToml = toml::from_str(&contents).unwrap();
    println!(""{:?}"", config);
}
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/152/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/152,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NTYyNjQyMQ==,incubator-teaclave,565626421,152,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-13T22:07:20Z,2019-12-13T22:07:20Z,I updated the deserialization code so that it auto deserialize hex `String` to `Vec<u8>`.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NTYyNjQyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/153,https://api.github.com/repos/apache/incubator-teaclave/issues/153,incubator-teaclave,537809633,153,CMake init_submodules function doesn't track the status of submodule properly,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-13T22:40:24Z,2019-12-19T19:10:18Z,"The `init_submodules` function in cmake doesn't track the status of submodule properly.

https://github.com/apache/incubator-teaclave/blob/e8e2098857374937b9fdfee353946005b332cf43/cmake/MesaTEEUtils.cmake#L21-L25

Please consider to use git submodule summary [1].

- [1] https://git-scm.com/docs/git-submodule?id=id=%22Documentation/git-submodule.txt-summary--cached--files-n--summary-limitltngtcommit--ltpathgt82308203%22#Documentation/git-submodule.txt-summary--cached--files-n--summary-limitltngtcommit--ltpathgt82308203","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/153/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/156,https://api.github.com/repos/apache/incubator-teaclave/issues/156,incubator-teaclave,537868840,156,Separate mesatee_core/src/rpc/sgx/utils to mesatee_utils,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-14T05:15:27Z,2019-12-14T22:36:54Z,"Since these utility functions are used in many projects core, sdk, and cli, we can separate it into one single project.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/156/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/156,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NTc1OTE3MQ==,incubator-teaclave,565759171,156,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-14T22:36:54Z,2019-12-14T22:36:54Z,Resolved by  #155.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2NTc1OTE3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/157,https://api.github.com/repos/apache/incubator-teaclave/issues/157,incubator-teaclave,537869012,157,Introduce `make lint` which combines `make format` and `make clippy`,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-14T05:16:54Z,2020-05-21T03:37:22Z,This will make life easier.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/157/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/157,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTg1OTU5Nw==,incubator-teaclave,631859597,157,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-21T03:37:21Z,2020-05-21T03:37:21Z,"This is not needed actually. We have three commands for various purposes:
  - `make check`: just check format
  - `make format`: format rust in place
  - `make CLP=1`: use clippy for more linting

So, I'm closing this issue.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTg1OTU5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/158,https://api.github.com/repos/apache/incubator-teaclave/issues/158,incubator-teaclave,537869431,158,Auditor signatures check can be seperated from users' client sdk/cli,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-14T05:21:29Z,2019-12-16T17:52:53Z,"Yes, users *should* check the auditors signatures before the connection. However, this can be done offline with a separate tools or integrated in the `mesatee_cli` in a separate command. Current implementation force users to check auditors with APIs and CLI interface, and this is not actually needed. This makes the interfaces very wired and not flexible.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/158/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/159,https://api.github.com/repos/apache/incubator-teaclave/issues/159,incubator-teaclave,537872266,159,The `sgx_launch_check` function is no longer needed,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-14T05:56:30Z,2019-12-14T22:23:58Z,"This legacy function can be removed because of the newly introduced `teaclave_config`.

They do same thing:

https://github.com/apache/incubator-teaclave/blob/542cbb392e879f7fbc51f64a64249bb76ecdfe9c/mesatee_core/src/utils.rs#L22-L27

and

https://github.com/apache/incubator-teaclave/blob/b42caf44a17348dd586a7e64251a6ea8b5317b36/teaclave_config/src/lib.rs#L86-L92","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/159/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/161,https://api.github.com/repos/apache/incubator-teaclave/issues/161,incubator-teaclave,537970306,161,Gracefully exit from SGX trusted lib,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-14T21:53:29Z,2019-12-18T04:15:13Z,"For example, in teaclave_config, we `expect()` the `IAS_KEY` and `IAS_SPID`. This will cause panic when env vars are not found. Can we gracefully exit the program (or exit ECALL) from SGX trusted lib without printing the call stack and core dump? (like `std::process::exit()`).

https://github.com/apache/incubator-teaclave/blob/b88bfad0503c341c829fa35d6fff6cf24ae91163/teaclave_config/src/lib.rs#L86-L92

```
$ ./kms
thread panicked at 'Cannot find IAS_SPID from environment variables.: NotPresent', src/libcore/result.rs:1084:5
stack backtrace:
   0:     0x7f167018ed7f - sgx_tstd::sys::backtrace::tracing::gcc_s::unwind_backtrace::h5dd474a55d31fd9d
   1:     0x7f16701937fa - sgx_tstd::sys_common::backtrace::print::hc78b8089d66ece2f
   2:     0x7f167018d83f - sgx_tstd::panicking::default_panic_handler::hc37153da6feeaed2
   3:     0x7f167018ddaa - sgx_tstd::panicking::rust_panic_with_hook::h5ac4fab6ea9856c9
   4:     0x7f167018da01 - sgx_tstd::panicking::continue_panic_fmt::h31da02c4f33a4041
   5:     0x7f167018d8e5 - rust_begin_unwind
   6:     0x7f16701a9e0c - core::panicking::panic_fmt::he735306adad582cd
                               at src/libcore/panicking.rs:85
   7:     0x7f16701a9f06 - core::result::unwrap_failed::hdff43e0babb9ddc7
                               at src/libcore/result.rs:1084
   8:     0x7f167024a34e - spin::once::Once<T>::call_once::h5a7a2904fff4848f
   9:     0x7f16700edd6e - mesatee_core::rpc::sgx::ra::create_attestation_report::h8c8c2e187fc7de2c
  10:     0x7f16700f315d - mesatee_core::rpc::sgx::ra::get_ra_cert::hc041714c0ec5740f
  11:     0x7f16700e9a7b - mesatee_core::rpc::sgx::prelude::h689bfd7790cc7392
  12:     0x7f167005cd9f - kms_enclave::sgx::handle_init_enclave::h13e0985b1c7864dd
  13:     0x7f1670066288 - <mesatee_core::ipc::channel::tee_dep::ECallReceiver as mesatee_core::ipc::IpcReceiver>::dispatch::h1c807b9f72914261
  14:     0x7f167005d35a - ecall_ipc_entry_point
  15:     0x7f167003e683 - sgx_ecall_ipc_entry_point
  16:     0x7f16702c2a74 - enter_enclave
  17:     0x7f16702c2c41 - <unknown>
  18:     0x7f167b4d060a - <unknown>
fatal runtime error: failed to initiate panic, error 5
[1]    27744 illegal hardware instruction (core dumped)  ./kms
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/161/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/169,https://api.github.com/repos/apache/incubator-teaclave/issues/169,incubator-teaclave,538584141,169,Remove dependency `quicli` in `teaclave_cli`,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-16T18:39:49Z,2019-12-16T19:09:23Z,"The only thing we need is `type CliResult = Result<(), ExitFailure>` in the `quicli::prelude`. I think we can remove this dependency.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/169/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/173,https://api.github.com/repos/apache/incubator-teaclave/issues/173,incubator-teaclave,538942426,173,`kms`'s test data is not gated by test_mode,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-17T09:29:04Z,2020-01-20T19:09:13Z,https://github.com/apache/incubator-teaclave/blob/6f78e92d4a6a7e43c8275194a91fd0834dc1e114/mesatee_services/kms/sgx_trusted_lib/src/kms.rs#L38-L44,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/173/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/173,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NjM5ODY1MQ==,incubator-teaclave,576398651,173,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-01-20T19:09:13Z,2020-01-20T19:09:13Z,This is not a valid issue in the `develop` branch. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NjM5ODY1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/175,https://api.github.com/repos/apache/incubator-teaclave/issues/175,incubator-teaclave,539443011,175,"ecall_ipc_entry_point, app sgx_error::SGX_ERROR_ENCLAVE_LOST",z1queue,53327024,zEqueue,,OPEN,2019-12-18T04:23:23Z,2019-12-18T05:03:03Z,"When i use mesatee for gbdt train, some hours later, it shows the ERROR log.
<img width=""859"" alt=""image"" src=""https://user-images.githubusercontent.com/53327024/71055538-ffde7e00-2190-11ea-971e-a6ed43b8b88a.png"">

[ERROR mesatee_core::ipc::channel::app_dep] ecall_ipc_entry_point, app sgx_error::SGX_ERROR_ENCLAVE_LOST.

I lookup Intel_SGX_SDK_Developer_Reference_Linux_1.6_Open_Source.pdf, it tell me 

> Handling Power Events
The protected memory encryption keys that are stored within an SGX- enabled CPU are destroyed with every power event, including suspend and hibernation.
Thus, when a power transition occurs, the enclave memory will be removed and all enclave data will not be accessible after that. As a result, when the sys- tem resumes, any subsequent ECALL will fail returning the error code SGX_ ERROR_ENCLAVE_LOST. This specific error code indicates the enclave is lost due to a power transition.
An SGX application should have the capability to handle any power transition that might occur while the enclave is loaded in protected memory. To handle the power event and resume enclave execution with minimum impact, the application must be prepared to receive the error code SGX_ERROR_ ENCLAVE_LOST when an ECALL fails. When this happens, one and only one thread from the application must destroy the enclave, sgx_destroy_ enclave(), and reload it again, sgx_create_enclave(). In addition, to resume execution from where it was when the enclave was destroyed, the application should periodically seal and save enclave state information on the platform and use this information to restore the enclave to its original state after the enclave is reloaded.


","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/175/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/175,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2Njg2NTQ0NQ==,incubator-teaclave,566865445,175,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-18T04:47:03Z,2019-12-18T04:47:03Z,Thanks for the report. We didn't handle the power transition issue right now. I found a sample code of how to handling power transition. https://github.com/intel/linux-sgx/tree/master/SampleCode/PowerTransition. This may be helpful for people who is interested to work on this.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2Njg2NTQ0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/175,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2Njg2ODY5NA==,incubator-teaclave,566868694,175,NA,z1queue,53327024,zEqueue,,NA,2019-12-18T05:03:03Z,2019-12-18T05:03:03Z,"> Thanks for the report. We didn't handle the power transition issue right now. I found a sample code of how to handling power transition. https://github.com/intel/linux-sgx/tree/master/SampleCode/PowerTransition. This may be helpful for people who is interested to work on this.

OK, i will try it","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2Njg2ODY5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/181,https://api.github.com/repos/apache/incubator-teaclave/issues/181,incubator-teaclave,539888046,181,Investigate how to make cargo run in our generator offline (using vendored crates),mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-18T19:51:38Z,2020-04-25T00:10:51Z,"Hi, current `cargo run` in our generators do not use our vendored crates. We need to investigate how to fix this.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/181/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/196,https://api.github.com/repos/apache/incubator-teaclave/issues/196,incubator-teaclave,543146245,196,sgx_tcrypto_helper crate is incompatible with MesaTEE.,hi-T0day,24287890,T0day,,CLOSED,2019-12-28T12:36:25Z,2019-12-29T23:49:41Z,"### Error:
One of the rust-sgx-sdk crates: sgx_tcrypto_helper can not be compiled when I code the sgx_trusted_worker. 
### step1: 
I add this line `sgx_tcrypto_help = { version = ""1.1.0"" }` in the file: `mesatee_services/fns/sgx_trusted_lib/Cargo.toml`. Here is the error:
```
error: couldn't read /home/t0day/Desktop/mesa-project/incubator-teaclave-12-27/build/cmake_tomls/sgx_trusted_lib/third_party/crates-sgx/vendor/sgx_tcrypto_helper/../sgx_crypto_helper/src/lib.rs: No such file or directory (os error 2)
```
### step2: 
So I add `sgx_crypto_helper = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.0"" }` in the file: `third_party/crates-sgx/Cargo.toml`
Next, `make all` in this folder. An error occurs again:
```
error: failed to sync

Caused by:
  found duplicate version of package `rdrand v0.6.0` vendored from two sources:

  source 1: https://github.com/mesalock-linux/rust_rdrand-sgx#cc6ba9a3
  source 2: registry `https://github.com/rust-lang/crates.io-index`
Makefile:2: recipe for target 'all' failed
make: *** [all] Error 101
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/196/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/196,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQxNDAzMw==,incubator-teaclave,569414033,196,NA,hi-T0day,24287890,T0day,,NA,2019-12-28T12:46:35Z,2019-12-28T12:46:35Z,"### Solution
So I did some tests and got a solution. I rewrite the sgx_tcrypto_helper in rust sgx sdk. Here is the code: [My update](https://github.com/hi-T0day/incubator-teaclave-sgx-sdk/commit/288ef9ad6fe1653f6a44ee83c313a9b9eb79c1af). 
I just copy the source code form sgx_crypto_helper into sgx_tcrypto_helper and change the compile path in Cargo.toml.

### Result
I add `sgx_crypto_helper = { git = ""https://github.com/hi-T0day/incubator-teaclave-sgx-sdk"" }` in the file: `third_party/crates-sgx/Cargo.toml`.  
The compiling and running result show sgx_tcrypto_helper can be used now.

If there is no other solution for this problem. I will pull request this. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQxNDAzMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/196,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQzOTUzMg==,incubator-teaclave,569439532,196,NA,dingelish,1870436,Yu Ding,,NA,2019-12-28T18:12:26Z,2019-12-28T18:12:26Z,@mssun I think we can do this. how do you think?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQzOTUzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/196,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQ0Mjc1Nw==,incubator-teaclave,569442757,196,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2019-12-28T18:59:18Z,2019-12-28T18:59:18Z,"Thanks @hi-T0day. The main cause of this problem is that `sgx_crypto_helper` is not implemented in a way that both app and sgx can use. And I just checked, making it support both targets may introduce a lot of changed on the crypto related libraries. I think your solution can be a temporary work around. If later we can share code in both targets, that will make maintenance more easier, especially for the crypto. 

Thanks, please submit PR on your changes. We can later discuss on how to provide a more universal crates.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQ0Mjc1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/196,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQ3NTk0OA==,incubator-teaclave,569475948,196,NA,dingelish,1870436,Yu Ding,,NA,2019-12-29T05:17:38Z,2019-12-29T05:17:38Z,"@hi-T0day Thanks for contribution!

crates-sgx has been updated with correct sgx_tcrypto_helper
https://github.com/mesalock-linux/crates-sgx/commit/466fe3cd1569617ca4cbecff9e3c25b736879abf

Please create a PR to update submodule rust-sgx-sdk and crates-sgx","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQ3NTk0OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/196,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQ3NjI1OQ==,incubator-teaclave,569476259,196,NA,dingelish,1870436,Yu Ding,,NA,2019-12-29T05:24:28Z,2019-12-29T05:24:28Z,"btw, i strongly recommend you to sign your commit using GPG like

```
git commit -S -m ""This is the commit message""
```
and then get your commit ""verified"" by github.

Please follow these instructions to create a GPG keypair, then upload the public key to Github and sign your commits.

https://help.github.com/en/enterprise/2.17/user/authenticating-to-github/generating-a-new-gpg-key
https://help.github.com/en/github/authenticating-to-github/telling-git-about-your-signing-key
https://help.github.com/en/github/authenticating-to-github/signing-commits","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU2OTQ3NjI1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/199,https://api.github.com/repos/apache/incubator-teaclave/issues/199,incubator-teaclave,543785622,199,Consider to use http_req to replace the HTTP request/response parser in IasClient,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2019-12-30T07:54:17Z,2020-04-18T01:26:43Z,"`http_req` (https://crates.io/crates/http_req) can help us with our hand-written HTTP request/response parser. However, I'm not sure whether the functions are good for us. Also, since there is not too many crates use this, I'm worried about the stability and usability. We need to evaluate this library first.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/199/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/199,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTUzMzQ4MA==,incubator-teaclave,615533480,199,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-18T01:26:43Z,2020-04-18T01:26:43Z,Current implementation works very well. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTUzMzQ4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/201,https://api.github.com/repos/apache/incubator-teaclave/issues/201,incubator-teaclave,544703427,201,Use a template for proto_gen to make it more readable/configurable,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2020-01-02T19:01:37Z,2020-01-05T07:42:51Z,"Currently, `proto_gen` generates Rust protos in source, which is very difficult to make changes. We can use a template for our `proto_gen` to make it more readable/configurable. For example, we can use `djc/askama` (https://github.com/djc/askama) as a Jinja template engine.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/201/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/201,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3MDMxNDE4OQ==,incubator-teaclave,570314189,201,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2020-01-02T19:24:19Z,2020-01-02T19:24:19Z,"```proto_gen``` has following functionalities:
1) generate rust code for messages
2) generate enum structures
3) generate rust code for services
4) generate rust code for clients

Currently ```2,3,4``` are implemented with customized ```service generator```.  We can rewrite the ```service generator``` with templates.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3MDMxNDE4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/201,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3MDg4NjQzMg==,incubator-teaclave,570886432,201,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-01-05T07:42:51Z,2020-01-05T07:42:51Z,"Fixed by 3aad0d8.

This is the current template for the proto generation:

```
use anyhow;
use teaclave_rpc;
use core::convert::TryFrom;

#[derive(Clone, serde_derive::Serialize, serde_derive::Deserialize, Debug)]
#[serde(tag = ""type"", rename_all = ""snake_case"")]
pub enum {{ service.proto_name }}Request {
    {% for m in service.methods %}
    {{ m.proto_name }}({{ m.input_type }}),
    {% endfor %}
}

#[derive(Clone, serde_derive::Serialize, serde_derive::Deserialize, Debug)]
#[serde(tag = ""type"", rename_all = ""snake_case"")]
pub enum {{ service.proto_name }}Response {
    {% for m in service.methods %}
    {{ m.proto_name }}({{ m.output_type }}),
    {% endfor %}
}

pub trait {{ service.proto_name }} {
    {% for m in service.methods %}
    fn {{ m.name }}(request: crate::{{ m.input_type }}) -> anyhow::Result<crate::{{ m.output_type }}>;
    {% endfor %}
    fn dispatch(&self, request: {{ service.proto_name }}Request) -> anyhow::Result<{{ service.proto_name }}Response> {
        match request {
            {% for m in service.methods %}
            {{ service.proto_name }}Request::{{ m.proto_name }}(request) => {
                let request = crate::{{ m.input_type }}::try_from(request)?;
                let response = {{ m.output_type }}::from(Self::{{ m.name }}(request)?);
                Ok(response).map({{ service.proto_name }}Response::{{ m.proto_name }})
            },
            {% endfor %}
        }
    }
}

pub struct {{ service.proto_name }}Client {
    channel: teaclave_rpc::channel::SgxTrustedTlsChannel<{{ service.proto_name }}Request, {{ service.proto_name }}Response>,
}

impl {{ service.proto_name }}Client {
    pub fn new(channel: teaclave_rpc::channel::SgxTrustedTlsChannel<{{ service.proto_name }}Request, {{ service.proto_name }}Response>) -> anyhow::Result<Self> {
        Ok(Self { channel })
    }

    {% for m in service.methods %}
    pub fn {{ m.name }}(&mut self, request: {{ m.input_type }}) -> anyhow::Result<{{ m.output_type }}> {
        let request = {{ service.proto_name }}Request::UserLogin(request);
        let response = self.channel.invoke(request)?;
        match response {
            {{ service.proto_name }}Response::{{ m.proto_name }}(response) => Ok(response),
            {% if service.methods.len() > 1 -%}
            _ => Err(anyhow!(""rpc error"")),
            {% endif %}
        }
    }
    {% endfor %}
}
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU3MDg4NjQzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/236,https://api.github.com/repos/apache/incubator-teaclave/issues/236,incubator-teaclave,578606839,236,A little idea about arranging the project structure,sammyne,16666661,Sammy,xiangminli@alumni.sjtu.edu.cn,OPEN,2020-03-10T14:09:13Z,2020-03-11T05:36:14Z,"Currently, compiling the project relies heavily on the cmake, rendering CMakeLists.txt so large. That's not so friendly for starters to play with it.

It would be nice if the the CMakeLists.txt is slimmed down, delegating part of its job to cargo workspaces, which would make the CMakeLists.txt easier to understand.

Therefore comes the proposal of arranging the project structure as follows (only `examples`, `services` folders is of interest)


```text
|-teaclave
    |-...
    |-examples  // A CARGO WORKSPACE 
        |-CMakeLists.txt // passing env variables to help building examples
        |-Cargo.toml    // just list the examples of interest, and exclude any dislikes
        |-hello-world   // examples
        |-...
    |-...
    |-services
        |-apps  // A CARGO WORKSPACE, gathering all untrusted applications driven by enclaves
            |-CMakeLists.txt // passing env variables to help building apps
            |-Cargo.toml    // lists all apps
            |-access_control    // the app part of the access control service 
            |-authentication    // the app part of the authentication service
            |-execution         // the app part of the execution service
            |-frontend          // the app part of frontend service
            |-management        // the app part of the management service
            |-scheduler         // the app part of the scheduler service
            |-storage           // the app part of the storage service
        |-enclaves  // A CARGO WORKSPACE,  gathering all trusted enclaves
            |-CMakeLists.txt // passing env variables to help building enclaves
            |-Cargo.toml    // lists all enclaves
            |-access_control    // the enclave part of the access control service 
            |-authentication    // the enclave part of the authentication service
            |-execution         // the enclave part of the execution service
            |-frontend          // the enclave part of frontend service
            |-management        // the enclave part of the management service
            |-scheduler         // the enclave part of the scheduler service
            |-storage           // the enclave part of the storage service
```

Pro:
- Crates serving similar functions are categorized into the same workspace
- It's clear to see the trusted and untrusted parts
- The utility cmake function like `add_cargo_build_target` can be removed
- Some utility scripts such as `setup_cmake_tomls` and `parse_cargo_package.py` can be removed
- The Cargo.*.toml in cmake/tomls designated for the virtual cargo workspaces now go into the actual 
    place, rather than the ones built indirectly by cmake
- Delegating some jobs from cmake to cargo should make the CMakeLists.txt not so large, which is 
    good for guys interested to dig into the project

Just some personal ideas ~","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/236/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/236,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5NzMzMTA3Nw==,incubator-teaclave,597331077,236,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-03-10T21:39:44Z,2020-03-10T21:39:44Z,"Thanks, I suggest we can discuss this proposal in several aspects:
  - readability
  - complexity of the building system (maintenance, adding/deleting new services, etc.)
  - compilation time

I also added test in your proposal:

```
|-teaclave
    |-...
    |-examples  // A CARGO WORKSPACE 
        |-CMakeLists.txt // passing env variables to help building examples
        |-Cargo.toml    // just list the examples of interest, and exclude any dislikes
        |-hello-world   // examples
        |-...
    |-...
    |-services
        |-apps  // A CARGO WORKSPACE, gathering all untrusted applications driven by enclaves
            |-CMakeLists.txt // passing env variables to help building apps
            |-Cargo.toml    // lists all apps
            |-access_control    // the app part of the access control service 
            |-authentication    // the app part of the authentication service
            |-execution         // the app part of the execution service
            |-frontend          // the app part of frontend service
            |-management        // the app part of the management service
            |-scheduler         // the app part of the scheduler service
            |-storage           // the app part of the storage service
        |-enclaves  // A CARGO WORKSPACE,  gathering all trusted enclaves
            |-CMakeLists.txt // passing env variables to help building enclaves
            |-Cargo.toml    // lists all enclaves
            |-access_control    // the enclave part of the access control service 
            |-authentication    // the enclave part of the authentication service
            |-execution         // the enclave part of the execution service
            |-frontend          // the enclave part of frontend service
            |-management        // the enclave part of the management service
            |-scheduler         // the enclave part of the scheduler service
            |-storage           // the enclave part of the storage service
        |-proto
    |-tests
        |-apps            
            |-CMakeLists.txt
            |-Cargo.toml
            |-functional
            |-integration
            |-unit
        |-enclaves
            |-CMakeLists.txt
            |-Cargo.toml
            |-functional
            |-integration
            |-unit
        |-fixtures
        |-...

```

The only draw back for me is code of same service are separated in two different places. Another important issue we need to take consideration is the compilation performance. We don't want to see any downgrade on the compilation time caused by multiple compilation. For the current proposal, I believe the tests apps/enclaves will be compiled separately, resulting compiling same crates twice.

In terms of our building system with cmake, I'm not sure whether this will make it more simpler. I can imagine that our previous workarounds with symlinks can be removed.

Overall, I'm okay with the new directory organization. However, since this is a major changes of a lot of files, I'd like to suggest to put this change on hold before we finished all service implementations to avoid potential merging conflicts.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5NzMzMTA3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/236,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5NzQwNTc1Nw==,incubator-teaclave,597405757,236,NA,sammyne,16666661,Sammy,xiangminli@alumni.sjtu.edu.cn,NA,2020-03-11T02:02:54Z,2020-03-11T02:02:54Z,"Under every relevant folders (services/tests), the **cmake targets** to build enclaves should depend on the ones to build apps, and this dependency is achieved through CMakeLists.txt in the services/tests folders.


So I don't get the following point~

> For the current proposal, I believe the tests apps/enclaves will be compiled separately, resulting compiling same crates twice

Help me out, please 😄 @mssun ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5NzQwNTc1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/236,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5NzQ1MjY1Mg==,incubator-teaclave,597452652,236,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-03-11T05:36:14Z,2020-03-11T05:36:14Z,"I see. Okay, then it seems that the compilation time won't be changed.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDU5NzQ1MjY1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/245,https://api.github.com/repos/apache/incubator-teaclave/issues/245,incubator-teaclave,586527789,245,DCAP Attestation Error: SGX_QL_TCBINFO_UNSUPPORTED_FORMAT  ,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2020-03-23T21:24:18Z,2020-04-03T00:40:56Z,"Since the recent update of Intel attestation service protocol, DCAP 1.3's QVE is no longer compatible with the new protocol. Specifically, a new TCB status (SWHardeningNeeded) is introduced, which QVE will reject it and give an `SGX_QL_TCBINFO_UNSUPPORTED_FORMAT` error. DCAP 1.5 has fixed this issue [1]. Currently, DCAP is not usable. We are working to upgrade the Teaclave SGX SDK to support Intel SGX SDK 2.9.  Thanks.

- [1] https://github.com/intel/SGXDataCenterAttestationPrimitives/commit/ab8d31d72f842adb4b8a49eb3639f2e9a789d13b#diff-b472c6347c94a4cb91391f5cd79b5015","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/245/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/245,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYwODE2NzUxNA==,incubator-teaclave,608167514,245,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-03T00:40:56Z,2020-04-03T00:40:56Z,Fixed by #256 and #258.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYwODE2NzUxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/251,https://api.github.com/repos/apache/incubator-teaclave/issues/251,incubator-teaclave,588791493,251,Implement subcommond in teaclave_cli for encryption/decryption,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2020-03-26T23:36:26Z,2020-04-18T01:23:47Z,"The subcommand interfaces:

```
teaclave_cli encrypt --algorithm teaclave_file_128 --key 0123456789ABCDEF0123456789ABCDEF --input-file input.txt --output-file output.enc
teaclave_cli encrypt -a teaclave_file_128 -k 0123456789ABCDEF0123456789ABCDEF -i input.txt -o output.enc

teaclave_cli decrypt --algorithm teaclave_file_128 --key 0123456789ABCDEF0123456789ABCDEF --input-file input.enc --output-file output.txt
teaclave_cli decrypt -a teaclave_file_128  -k 0123456789ABCDEF0123456789ABCDEF -i input.enc -o output.txt
```

Currently, supported algorithms are:
- aes_gcm_128
- aes_gcm_256
- teaclave_file_128","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/251/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/251,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTUzMjc0MA==,incubator-teaclave,615532740,251,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-04-18T01:23:47Z,2020-04-18T01:23:47Z,Fixed in 7ba355f2b196b23ed07c2f12579f8d421f5a72c1.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTUzMjc0MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/265,https://api.github.com/repos/apache/incubator-teaclave/issues/265,incubator-teaclave,601665787,265,Switch the access control service to official Casbin-RS,veotax,14900285,Dave Smith,,OPEN,2020-04-17T02:56:12Z,2020-04-17T03:57:19Z,"I saw we built a custom access control service here: https://github.com/apache/incubator-teaclave/pull/64 . I found it is actually re-implementing something like Casbin-RS: https://github.com/casbin/casbin-rs . I totally understood it because this PR is done in last November, but Casbin-RS only got primary features (RBAC, ABAC, etc.) done after last December. Actually Casbin supports 8 languages and Rust is the last one that got ready:)

So now I think we are safe to move to Casbin-RS finally because after 5 months' development, it's now ready for production and actively maintained. So teaclave maintainers don't need to take efforts to maintain this part of code.

teaclave model:

https://github.com/apache/incubator-teaclave/blob/c574bd6f9c5f0e8acd6526acd7dafa0dce2a4ec1/mesatee_services/acs/model.conf#L1-L32

Casbin RBAC model:

```ini
[request_definition]
r = sub, obj, act

[policy_definition]
p = sub, obj, act

[role_definition]
g = _, _

[policy_effect]
e = some(where (p.eft == allow))

[matchers]
m = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/265/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/265,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTAyNDk0Ng==,incubator-teaclave,615024946,265,NA,uraj,1215558,Pei Wang,,NA,2020-04-17T03:50:04Z,2020-04-17T03:50:04Z,"Thanks for the info. Indeed, when we were implementing our access control subsystem, we referred to Casbin and that's why the format of configuration file is similar.

However, our model is more powerful. Simply speaking, our rules are Turing-complete. It's more like a home-made logic programming language that resembles Prolog. The resolution engine is written in Python and powered by MesaPy in SGX.

Teaclave faces some unique problems in terms of access control because it is dealing with multi-party trusted computation. I'm no access control expert so the current design and implementation are likely suboptimal. If you are interested in helping make improvements please let us know.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYxNTAyNDk0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/283,https://api.github.com/repos/apache/incubator-teaclave/issues/283,incubator-teaclave,613038137,283,Avoid compiling/linking mismatched version of Intel SGX SDK,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2020-05-06T04:15:17Z,2020-08-10T20:53:26Z,"Right now, Tealcave only support a specific version of Intel SGX SDK. Linking with a different version may result in undefined behavior. Basically, there are two methods to avoid compiling with a mismatch version of Intel SGX SDK:

  - [x] Check Intel SGX SDK version in cmake
  - [ ] Install the compatible SDK on demand

We can do both in our building system and add an option to download the specific version of SDK on demand.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/283/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/283,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyNDkwNzQ1Mg==,incubator-teaclave,624907452,283,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-06T21:44:25Z,2020-05-06T21:44:25Z,The first fix in the proposal has been implemented in #285.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyNDkwNzQ1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/287,https://api.github.com/repos/apache/incubator-teaclave/issues/287,incubator-teaclave,613817538,287,Fusion base directory is not mounted,m3ngzhang,57617027,Meng Zhang,,CLOSED,2020-05-07T06:49:56Z,2020-05-07T23:27:09Z,"I see u guys made a lot of changes. And I cloned ur the newest code to give it a shot. I have to say this is much better than the old version. But when I was try to launch Teaclave Services with docker-compose command, I got a situation here. Like below.

teaclave-execution-service         | [2020-05-07T04:25:14Z ERROR teaclave_execution_service_enclave] Failed to start the service: Fusion base directory is not mounted: /tmp/fusion_data
teaclave-execution-service         | Service exit with error: ServiceError
teaclave-execution-service exited with code 0

It seems the execution-service is down because of a mount thing. Waiting for any help. BTW, if I run it successfully, what would I see when I hit the link(https://api.trustedservices.intel.com:443). I don not see any doc about it. BTW AGAIN, the new docs ur uploaded explain my lots of questions.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/287/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/287,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyNTM5OTAzMA==,incubator-teaclave,625399030,287,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-07T17:40:20Z,2020-05-07T17:40:20Z,"""Fusion base directory"" is a directory for store temporary (encrypted) fusion data and can be set in the runtime config (https://github.com/apache/incubator-teaclave/blob/master/config/runtime.config.toml#L34).

The issue is caused by a check in the execution service (https://github.com/apache/incubator-teaclave/blob/master/services/execution/enclave/src/lib.rs#L66). You can create a directory by your self in `/tmp/fusion_data` to start the service.

Thanks for your report. We will propose a better implementation for this case.

At last, the link you mentioned (https://api.trustedservices.intel.com:443) is the URL of attestation service. API  specifications can be found here: https://software.intel.com/content/dam/develop/public/us/en/documents/sgx-attestation-api-spec.pdf.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyNTM5OTAzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/299,https://api.github.com/repos/apache/incubator-teaclave/issues/299,incubator-teaclave,619971767,299,"During installation,it fail to check SGX sdk version.",xinuo,7897771,,,CLOSED,2020-05-18T07:23:29Z,2020-05-18T08:02:48Z,"When I follow ReadMe.md ,
`
docker run --rm -v $(pwd):/teaclave -w /teaclave   -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9:latest    bash -c "". /root/.cargo/env && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
     make --trace""
`
and it show:
`
CMake Error at CMakeLists.txt:12 (message):
Intel SGX SDK (version 2.9.1) is not found or version not matched.
`
when i saw CMakeLists.txt line 12 ,it check the sgx sdk version.
And in my host,it already install the sgx sdk version 2.9.1.But in the docker image(teaclave-build-ubuntu-1804-sgx-2.9),i think it is not install the sdk.
So,if i should install the sdk in the docker image?
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/299/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/299,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyOTk5NTg2MA==,incubator-teaclave,629995860,299,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-18T07:24:23Z,2020-05-18T07:24:23Z,"#298 has fixeed this issue, but not merged yet.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyOTk5NTg2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/299,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyOTk5NzMxNg==,incubator-teaclave,629997316,299,NA,xinuo,7897771,,,NA,2020-05-18T07:27:34Z,2020-05-18T07:27:34Z,"> #298 has fixeed this issue, but not merged yet.

Oh thanks.
I saw the contributers are working in baidu . So can i get some contact such like wechat or qq group?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYyOTk5NzMxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/299,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAwMTIzMQ==,incubator-teaclave,630001231,299,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-18T07:35:50Z,2020-05-18T07:35:50Z,"Sure. You can drop me an email (mssun at apache dot org), though, it's encouraged to discuss in an open way (e.g., in GitHub issues or mailing list) :)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAwMTIzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/299,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAxNTEzNQ==,incubator-teaclave,630015135,299,NA,xinuo,7897771,,,NA,2020-05-18T08:02:48Z,2020-05-18T08:02:48Z,OK.THANKS.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAxNTEzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/300,https://api.github.com/repos/apache/incubator-teaclave/issues/300,incubator-teaclave,620013035,300,Failing to run simulation mode.,xinuo,7897771,,,CLOSED,2020-05-18T08:30:56Z,2020-05-18T08:45:59Z,"I had built Teaclave in simulation mode
`
docker run --rm -v $(pwd):/teaclave -w /teaclave   -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest    bash -c "". /root/.cargo/env && \
     mkdir -p build && cd build && \
     . /opt/sgxsdk/environment && \
     cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
     make   --trace""
`

I want to launch all services after building Teaclave.

But when i run this code 
`
 (cd docker && docker-compose -f docker-compose-ubuntu-1804.yml up --build)
`
and it show
`
ERROR: for 1d54dc72d75f_teaclave-storage-service  Cannot start service teaclave-storage-service: linux runtime spec devices: error gathering device information while adding custom device ""/dev/isgx"": no such file or director
`

So,why the simulation mode is not work.May be i do wrong step?

My os : Ubuntu 18.04.4 LTS
My CPU:Intel(R) Xeon(R) CPU E5-2620 v4 @ 2.10GHz
There is no sgx tech in the CPU.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/300/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/300,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAzMzA2NQ==,incubator-teaclave,630033065,300,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-18T08:37:07Z,2020-05-18T08:37:07Z,"Under simulation mode, you also need to change the `docker-compose-ubuntu-1804.yml` file accordingly to remove unused device/volume mappings.

That is, comment out these lines:

```
      - type: bind
        source: /var/run/aesmd/aesm.socket
        target: /var/run/aesmd/aesm.socket
    devices:
      - /dev/isgx
```

I’ll update the doc later.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAzMzA2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/300,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAzNzc5MQ==,incubator-teaclave,630037791,300,NA,xinuo,7897771,,,NA,2020-05-18T08:45:59Z,2020-05-18T08:45:59Z,"It works!
Thank you very much.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMDAzNzc5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/305,https://api.github.com/repos/apache/incubator-teaclave/issues/305,incubator-teaclave,621483339,305,Got error when invoking echo function by python!,m3ngzhang,57617027,Meng Zhang,,CLOSED,2020-05-20T05:59:20Z,2020-05-20T20:27:09Z,"Hi, I use simulation mode and I successfully run the 7 services. When I executed python code builtin_echo.py, I got a openssl error message like below.

Traceback (most recent call last):
  File ""builtin_echo.py"", line 199, in <module>
    main()
  File ""builtin_echo.py"", line 191, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 158, in echo
    verify_report(AS_ROOT_CA_CERT_PATH, ENCLAVE_INFO_PATH, cert, ""authentication"")
  File ""incubator-teaclave/sdk/python/teaclave.py"", line 41, in verify_report
    signing_cert = load_certificate(FILETYPE_ASN1, signing_cert)
  File "".local/lib/python3.6/site-packages/OpenSSL/crypto.py"", line 1794, in load_certificate
    _raise_current_error()
  File "".local/lib/python3.6/site-packages/OpenSSL/_util.py"", line 54, in exception_from_error_queue
    raise exception_type(errors)
OpenSSL.crypto.Error: [('asn1 encoding routines', 'ASN1_get_object', 'header too long')]

I know I am using demo certs. Do I need to generate those files by myself? Is it related to my openssl lib version or something like that? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/305/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/305,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTI1NzY1OQ==,incubator-teaclave,631257659,305,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-20T06:07:34Z,2020-05-20T06:07:34Z,"If you are using simulation mode, there is no attestation. Please set the env var `SGX_MODE` before starting the example by `export SGX_MODE=SW`.

See: https://github.com/apache/incubator-teaclave/blob/master/sdk/python/teaclave.py#L202

I'll update the doc later.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTI1NzY1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/308,https://api.github.com/repos/apache/incubator-teaclave/issues/308,incubator-teaclave,622195433,308,How to load secrets into teaclave and train a gbdt model,m3ngzhang,57617027,Meng Zhang,,CLOSED,2020-05-21T02:10:27Z,2020-05-28T19:06:01Z,"Hi, 
After some effort, I got ""Hello teaclave"" message by running buitin_echo.py and mesapy_echo.py with **HW** mode! That is amazing! And I wanna go further. I'm going to train a gbdt model at my next step. Here, I meet my first question, which is how I can put my secret data files into teaclave. And I also need the my data encrypted before it is loaded into  gbdt model. BTW, do u guys have the docs about registering my own customized functions? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/308/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/308,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTg1NDM1OA==,incubator-teaclave,631854358,308,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-21T03:17:08Z,2020-05-21T03:17:08Z,"For now, you can see our end to end test for reference: https://github.com/apache/incubator-teaclave/blob/master/tests/functional/enclave/src/end_to_end/builtin_gbdt_train.rs.

More examples and docs will be updated in these days. Stay tuned.

Also, if you'd like to contribute, I'll be more than happy.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMTg1NDM1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/308,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNDYxMzUwOQ==,incubator-teaclave,634613509,308,NA,m3ngzhang,57617027,Meng Zhang,,NA,2020-05-27T12:02:05Z,2020-05-27T12:02:05Z,"@mssun I've already finished the builtin-gbdt-train script, can I do a pull request and upload my code?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNDYxMzUwOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/308,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNDgzMDU2NQ==,incubator-teaclave,634830565,308,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-27T17:46:54Z,2020-05-27T17:46:54Z,"Great! Yes, you can submit a PR. Thank you so much.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNDgzMDU2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/308,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNTUzODcxMQ==,incubator-teaclave,635538711,308,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-28T19:06:01Z,2020-05-28T19:06:01Z,#319 has been merged. Issue closed. Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNTUzODcxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/310,https://api.github.com/repos/apache/incubator-teaclave/issues/310,incubator-teaclave,622828843,310,[SURVEY] What companies or open source projects are using the Apache Teaclave (Incubating) platform?,mssun,1270392,Mingshen Sun,bob@mssun.me,OPEN,2020-05-21T22:28:28Z,2022-11-08T01:58:15Z,"I am working on building the community of Teaclave. I think it's a good time to have a list of:
  - companies who are using Teaclave/Teaclave SGX SDK
  - open source projects depends on Teaclave/Teaclave SGX SDK

**You are welcome to reply this thread about your company name or project name, and how you are using this project.**

It is important for us to understand more of our users and provide better features. I'll also includes these names in our website. Thank you so much!

For mailing list subscribers, sorry for the duplicated thread [1].

[1] https://lists.apache.org/thread.html/r38c087dcc4a0a6e4b52a061eb772211707f8764d4c01231bf9734726%40%3Cdev.teaclave.apache.org%3E
[2] https://incubator.apache.org/guides/sites.html#creating_a_good_podling_site","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/310/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/310,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTU4Mzc4NQ==,incubator-teaclave,671583785,310,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-10T20:52:39Z,2020-08-10T20:52:39Z,"I have listed some projects and organizations using Teaclave here: http://teaclave.apache.org/community/#organizations-and-projects. I'm closing this issue. If you want to add your project/organization in this list, feel free to ask in our mailing list. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTU4Mzc4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/310,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42z4mt,incubator-teaclave,919570861,310,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-14T23:03:14Z,2021-09-14T23:03:14Z,"Hi, I want to ping this thread again. Please tell us while using the Teaclave platform. This is really important for us to build the community.

You can also send a pull request to the ""Powered By"" page in our home page about your projects/companies here: https://github.com/apache/incubator-teaclave-website/blob/master/site/powered-by.md","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42z4mt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/310,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Ny52n,incubator-teaclave,1305189799,310,NA,ChuanDou2021,95392611,douchuan,,NA,2022-11-07T07:25:51Z,2022-11-07T07:25:51Z,"> Hi, I want to ping this thread again. Please tell us while using the Teaclave platform. This is really important for us to build the community.
> 
> You can also send a pull request to the ""Powered By"" page in our home page about your projects/companies here: https://github.com/apache/incubator-teaclave-website/blob/master/site/powered-by.md

If ""Used by"" provided, that's excellent.

![截屏2022-11-07 15 22 18](https://user-images.githubusercontent.com/95392611/200249635-eb403f82-d219-4906-bff4-89d282676819.png)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Ny52n/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/310,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5N10ge,incubator-teaclave,1305954334,310,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-11-07T17:32:29Z,2022-11-07T17:32:29Z,"@ChuanDou2021 Thanks for the suggestions. The ""Used by"" feature is automatically generated if GitHub find public dependencies on this repo: https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/exploring-the-dependencies-of-a-repository#changing-the-used-by-package. I didn't see any dependent repos yet.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5N10ge/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/310,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5N36a3,incubator-teaclave,1306502839,310,NA,ChuanDou2021,95392611,douchuan,,NA,2022-11-08T01:52:56Z,2022-11-08T01:52:56Z,"> I didn't see any dependent repos yet.

teaclave itself is an independent service, find dependent repos  is hard.
How to better introduce teaclave, is a problem.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5N36a3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/314,https://api.github.com/repos/apache/incubator-teaclave/issues/314,incubator-teaclave,624285473,314,Be stuck with registering input file when writing builtin-gbdt-train python script,m3ngzhang,57617027,Meng Zhang,,CLOSED,2020-05-25T12:59:28Z,2020-05-28T19:06:16Z,"Hi, 
I'm writing builtin-gbdt-train python sample script. I got a problem about rewrite the registering input and output files. I imitated the code like register_function like making a RegisterInputFileRequest class and so on, but I invalid request error. Here is my code:

def register_input_file(self):
        url = ""http://localhost:6789/fixtures/functions/gbdt_training/train.enc""
        cmac = ""881adca6b0524472da0a9d0bb02b9af9""
        crypto_info = ""0000000000000000""
        request = RegisterInputFileRequest(self.metadata, urlparse(url), FileAuthTag(cmac), TeaclaveFile128Key(crypto_info))
        write_message(self.channel, request)
        response = read_message(self.channel)
        return reponse[""content""][""data_id""]","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/314/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/314,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMzY5MDc2OQ==,incubator-teaclave,633690769,314,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-25T19:19:38Z,2020-05-25T19:19:38Z,"Hi, thanks! You can enable the log with `RUST_LOG=debug=teaclave` to check the request format is a valid or not by comparing to the Rust's test.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMzY5MDc2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/314,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNTUzODgxMg==,incubator-teaclave,635538812,314,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-28T19:06:16Z,2020-05-28T19:06:16Z,#319 has been merged. Issue closed. Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNTUzODgxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/317,https://api.github.com/repos/apache/incubator-teaclave/issues/317,incubator-teaclave,624685958,317,How to create Functions by useing other language such like Go or Java.,xinuo,7897771,,,CLOSED,2020-05-26T08:10:49Z,2020-05-26T09:42:15Z,"Hi:
In this project , i had seen the function such like ""builtin-echo"".It can be find in function/src/echo.rs ,right?
So,if i want to create my function useing other language,must i impl the excutor by useing rust and then create my function?
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/317/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/317,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMzg4MDY1MQ==,incubator-teaclave,633880651,317,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-26T08:19:01Z,2020-05-26T08:19:01Z,"Correct.

Currently, we have two executors:
  - native: native functions implemented in Rust
  - mesapy: python functions

We do have plan to implement other executors to support more languages. E.g., we can implement a webassembly executors in SGX, or we can use some libos-like SGX implementations as executors. But this is a long-term plan, and needs a lot efforts.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMzg4MDY1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/317,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMzkyMjIwMw==,incubator-teaclave,633922203,317,NA,xinuo,7897771,,,NA,2020-05-26T09:42:14Z,2020-05-26T09:42:14Z,"Ok,thanks for your reply.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzMzkyMjIwMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/321,https://api.github.com/repos/apache/incubator-teaclave/issues/321,incubator-teaclave,626982863,321,Support persistent data storage,m3ngzhang,57617027,Meng Zhang,,CLOSED,2020-05-29T04:08:36Z,2022-12-28T03:37:33Z,"Hi, I'm seeking for a way to persist data after relaunching teaclave services. I read your roadmap, and I found you guys have done a persistent database implementation work. Can I use this database to save like register information and data owner meta info? If not, do you have a other way that you guys maybe discussed before? Really need a way out.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/321/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/321,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNTc0OTUyMQ==,incubator-teaclave,635749521,321,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-05-29T04:22:09Z,2020-05-29T04:22:09Z,"Thanks for asking.

We have two places for data storage in services:

Authentication service: https://github.com/apache/incubator-teaclave/blob/master/services/authentication/enclave/src/user_db.rs#L96
Storage service: https://github.com/apache/incubator-teaclave/blob/master/services/storage/enclave/src/lib.rs#L80

Current implementations only open DB in memory.

To persist DB into disk, you can use these APIs to encrypt DB into disk:

https://github.com/apache/incubator-teaclave/blob/master/tests/integration/enclave/src/rusty_leveldb_sgx.rs#L103

However, we haven't implemented and provided interfaces to support this in our services right now.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNTc0OTUyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/321,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0MTA2NDcyNw==,incubator-teaclave,641064727,321,NA,m3ngzhang,57617027,Meng Zhang,,NA,2020-06-09T06:36:40Z,2020-06-09T06:36:40Z,"@mssun what extra interfaces should I look forward to? I mean if I replace memory DBs in both authentication service and storage service with level-db, like what is happening in rusty_leveldb_sgx test, is it not enough? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0MTA2NDcyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/321,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5RcLV8,incubator-teaclave,1366340988,321,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2022-12-28T03:30:27Z,2022-12-28T03:30:27Z,I think we have already supported persistent data storage through rusty-leveldb-sgx. It can be enabled in [storage service](https://github.com/apache/incubator-teaclave/blob/df5c0a7f314ede717c9ccfad3aa95a737b8cf6d5/services/storage/enclave/src/lib.rs#L115). Do I miss anything? @mssun @m4sterchain ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5RcLV8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/321,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5RcL12,incubator-teaclave,1366343030,321,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-12-28T03:37:33Z,2022-12-28T03:37:33Z,Yes. This issue can be closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5RcL12/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/328,https://api.github.com/repos/apache/incubator-teaclave/issues/328,incubator-teaclave,628957404,328,Can I generate key for encrypting output file during computation instead of before registering output file,m3ngzhang,57617027,Meng Zhang,,OPEN,2020-06-02T07:08:54Z,2020-07-01T00:25:08Z,"Hi, here is problem that is a little bit hard for me. I see u guys kicked kms service and tdfs service away from the whole system. And if u want to compute something using teaclave, u have to generate a key for output file before the computation happens. But when I use teaclave to solve my preblem, it is usually not a single computation, which means I have to use several teaclave functions one by one like a chain. So I do not want any one know the keys of intermediate files but teaclave itself. And after the last computation finishes, I can get key from teaclave, just like tdfs kms style. It is possible that I can do that?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/328/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/328,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNzUzODEwMg==,incubator-teaclave,637538102,328,NA,teaclave-archiver,59631545,,,NA,2020-06-02T13:21:08Z,2020-06-02T13:21:08Z,"Using encryption, anything is possible! Using a single symmetric key, you
can feed that into a cipher to form a random number generator. Then you can
use keys derived from the key stream.

On a more serious note, key management is definitely important. What
happened?

On Tue, Jun 2, 2020 at 02:09 czzmmc <notifications@github.com> wrote:

> Hi, here is problem that is a little bit hard for me. I see u guys kicked
> kms service and tdfs service away from the whole system. And if u want to
> compute something using teaclave, u have to generate a key for output file
> before the computation happens. But when I use teaclave to solve my
> preblem, it is usually not a single computation, which means I have to use
> several teaclave functions one by one like a chain. So I do not want any
> one know the keys of intermediate files but teaclave itself. And after the
> last computation finishes, I can get key from teaclave, just like tdfs kms
> style. It is possible that I can do that?
>
> --
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub:
> https://github.com/apache/incubator-teaclave/issues/328

-- 
Matt Sicker <boards@gmail.com>
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNzUzODEwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/328,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNzcxMzUxNg==,incubator-teaclave,637713516,328,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-02T18:03:23Z,2020-06-02T18:03:23Z,"Hi @czzmmc, I think you are talking about fusion data. For fusion data, you don't have to generate keys. (https://github.com/apache/incubator-teaclave/blob/master/services/proto/src/proto/teaclave_frontend_service.proto#L166).

Here is an example of fusion data:

https://github.com/apache/incubator-teaclave/blob/master/tests/functional/enclave/src/end_to_end/mesapy_data_fusion.rs","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNzcxMzUxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/328,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNjAyMw==,incubator-teaclave,652116023,328,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T00:25:08Z,2020-07-01T00:25:08Z,"Hi, any update on this issue? Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNjAyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/329,incubator-teaclave,629070363,329,How to register local files?,m3ngzhang,57617027,Meng Zhang,,OPEN,2020-06-02T09:59:02Z,2020-06-29T06:20:29Z,"Hi, 
Registering files in Teaclave is upgraded by adding a new feature that it can support remote files, which is really great. But does it still supports local files?  If do, how should I do? THX ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/329/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNzY5OTY1Mw==,incubator-teaclave,637699653,329,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-02T17:35:22Z,2020-06-02T17:35:22Z,"You can find a component called file agent (https://github.com/apache/incubator-teaclave/tree/master/file_agent), which provides functionalities to interactive (download and upload files) with data storage services. As you can see from the code, the `file://` schema is for local file storage. That is to say, you can register local files with `file://` in the prefix of the URL.

However, note that the `file://` schema is not recommended right now. We need time to improve the security and usability.

At last, I don't really understand why you want to use local files. Does this mean your client and services are in the same machine?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzNzY5OTY1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzODE3MjcyNQ==,incubator-teaclave,638172725,329,NA,m3ngzhang,57617027,Meng Zhang,,NA,2020-06-03T12:44:12Z,2020-06-03T12:44:12Z,"@mssun Great! What I want to say is u guys made a lot of useful test samplecode, but they usually are located on different files. If u dont know where to go, u may spend a lot of time on finding them over massive folders. U may consider a better way to get them.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzODE3MjcyNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0ODcwMzUxNQ==,incubator-teaclave,648703515,329,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-24T09:20:17Z,2020-06-24T09:20:17Z,"I'm trying to use file agent to pass a local file as well and failed with ""permission denied"" error, do you have any clue that I might missed? Thanks...

Following are the code snippet:

--------------------------------------------------------------
in the builtin function:

`let mut f = _runtime.open_input(""image_key"")?;`

and in the client:

```
image_id = register_input_file(client)
...
print(""[+] assigning data to task"")
client.assign_data_to_task(task_id, [DataMap(""image_key"", image_id)], [])

...

def register_input_file(client):
    url = ""file:///home/ubuntu/incubator-teaclave/1.jpg.enc""
    cmac = ""cf8a2eec4ab2fb53cd5c0b2ce3c0a828""
    schema = ""teaclave-file-128""
    key = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3]
    iv = []
    key_data_id = client.register_input_file(url, schema, key, iv, cmac)

    return key_data_id
```
----------------------------------------------------------
and following are the errors (I have modified teaclave.py to print out the response)

> [+] assigning data to task
> b'{""result"":""err"",""request_error"":""permission denied""}'

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0ODcwMzUxNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0ODk3Mjg4MQ==,incubator-teaclave,648972881,329,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-24T17:53:58Z,2020-06-24T17:53:58Z,"This is not a issue about registering local files.

A lot of cases can cause ""permission denied"". How do you register the input file and create  the task? If possible, can you provide the sources of the client side? Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0ODk3Mjg4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE4NjE1MQ==,incubator-teaclave,649186151,329,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-25T03:04:15Z,2020-06-25T03:04:15Z,"Here's the python client:

cat incubator-teaclave/examples/python/builtin_rustface.py
```
#!/usr/bin/env python3

import sys
import base64

from teaclave import (AuthenticationService, FrontendService,
                      AuthenticationClient, FrontendClient, DataMap)
from utils import (AUTHENTICATION_SERVICE_ADDRESS, FRONTEND_SERVICE_ADDRESS,
                   AS_ROOT_CA_CERT_PATH, ENCLAVE_INFO_PATH, USER_ID,
                   USER_PASSWORD)


class BuiltinRustfaceExample:
    def __init__(self, user_id, user_password):
        self.user_id = user_id
        self.user_password = user_password

    def detect_face(self, image_base64):
        client = AuthenticationService(
            AUTHENTICATION_SERVICE_ADDRESS, AS_ROOT_CA_CERT_PATH,
            ENCLAVE_INFO_PATH).connect().get_client()

        print(""[+] registering user"")
        client.user_register(self.user_id, self.user_password)

        print(""[+] login"")
        token = client.user_login(self.user_id, self.user_password)

        client = FrontendService(FRONTEND_SERVICE_ADDRESS,
                                 AS_ROOT_CA_CERT_PATH,
                                 ENCLAVE_INFO_PATH).connect().get_client()
        metadata = {""id"": self.user_id, ""token"": token}
        client.metadata = metadata


        print(""[+] registering key file"")
        image_id = register_input_file(client)
        print(""[+] key file id"" + image_id)

        print(""[+] registering function"")
        function_id = client.register_function(
            name=""builtin-rustface-detector"",
            description=""Native Face Detection Function"",
            executor_type=""builtin"",
            arguments=[""image_base64""])

        print(""[+] creating task"")
        task_id = client.create_task(function_id=function_id,
                                     function_arguments={""image_base64"": image_base64},
                                     executor=""builtin"")
        print(""[+] assigning data to task"")
        client.assign_data_to_task(task_id, [DataMap(""image_key"", image_id)], [])

        print(""[+] invoking task"")
        client.invoke_task(task_id)

        print(""[+] getting result"")
        result = client.get_task_result(task_id)
        print(""[+] done"")

        return bytes(result)


def register_input_file(client):
    url = ""file:///home/ubuntu/incubator-teaclave/1.jpg.enc""
    cmac = ""cf8a2eec4ab2fb53cd5c0b2ce3c0a828""
    schema = ""teaclave-file-128""
    key = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3]
    iv = []
    key_data_id = client.register_input_file(url, schema, key, iv, cmac)

    return key_data_id

def main():
    example = BuiltinRustfaceExample(USER_ID, USER_PASSWORD)
    if len(sys.argv) > 1:
        image = sys.argv[1]
    else:
        image = ""1.jpg""

    with open(image, 'rb') as binary_file:
        binary_file_data = binary_file.read()
        base64_encoded_data = base64.b64encode(binary_file_data)
        base64_message = base64_encoded_data.decode('utf-8')

        rt = example.detect_face(base64_message)

        print(""[+] function return: "", rt)


if __name__ == '__main__':
    main()
``` ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE4NjE1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE5MTY4Ng==,incubator-teaclave,649191686,329,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-25T03:22:56Z,2020-06-25T03:22:56Z,"Thanks @yc-huang. I think I find the issue.

When registering the function, you should also provide input information if used. Here is an example:

https://github.com/apache/incubator-teaclave/blob/70f02555f58ad3f58640f75f4aadab3307230a0b/examples/python/builtin_gbdt_train.py#L36-L48

The register_function API is like this: https://teaclave.apache.org/docs/client-sdk-python/teaclave.html#teaclave.FrontendClient.register_function

Sorry, the document of this API is not completed.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE5MTY4Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE5ODE1NQ==,incubator-teaclave,649198155,329,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2020-06-25T03:47:57Z,2020-06-25T03:47:57Z,"Thanks @mssun and @yc-huang . The gbdt example also specifies the ownership of the file, which is missing in the above code. Is it necessary to define the `ownership` if it is a single user task?

https://github.com/apache/incubator-teaclave/blob/70f02555f58ad3f58640f75f4aadab3307230a0b/examples/python/builtin_gbdt_train.py#L70-L85","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE5ODE1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTI1ODE1Ng==,incubator-teaclave,649258156,329,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-25T06:33:57Z,2020-06-25T06:33:57Z,"Thanks @mssun and @qinkunbao ,  we need to specify the ""input"" parameter when register the function and ""inputs_ownership"" when create the task:

```
function_id = client.register_function(
            name=""builtin-rustface-detector"",
            description=""Native Face Detection Function"",
            executor_type=""builtin"",
            inputs=[FunctionInput(""image_key"", ""Input key file."")],
            arguments=[""image_base64""])

task_id = client.create_task(function_id=function_id,
            function_arguments={""image_base64"": image_base64},
            inputs_ownership=[OwnerList(""image_key"", [self.user_id])],
            executor=""builtin"")
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTI1ODE1Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk0NDc3MA==,incubator-teaclave,650944770,329,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-29T06:15:28Z,2020-06-29T06:15:28Z,Need to make sure that the local file url is accessible from the teaclave-execution-service but not the teaclave client. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk0NDc3MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/329,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk0NjUzOA==,incubator-teaclave,650946538,329,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-29T06:20:29Z,2020-06-29T06:20:29Z,"Yes, thanks for explanation! @yc-huang ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk0NjUzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/334,https://api.github.com/repos/apache/incubator-teaclave/issues/334,incubator-teaclave,629812725,334,docker 无法启动,60ke,10956315,LookForAdmin,,CLOSED,2020-06-03T08:46:57Z,2020-06-05T04:34:58Z,"本地环境搭建好了，intel dcap的sample也跑通了。docker build失败:
```bash
error: aborting due to previous error

error: could not compile `teaclave_dcap_ref_as`.
```
后来从docker hub pull了一个镜像 启动失败:
```bash
docker pull teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.6
# docker images
REPOSITORY                                         TAG                 IMAGE ID            CREATED             SIZE
teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.6   latest              2df43a07ce77        5 weeks ago         2.94GB
teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1      latest              064ec33c02d5        5 weeks ago

# docker ps -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS                                        NAMES
98f1daa71a3d        2df43a07ce77        ""/bin/bash""         27 seconds ago      Exited (0) 26 seconds ago 
```

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/334/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/334,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzODM0NzMwOQ==,incubator-teaclave,638347309,334,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-03T17:38:03Z,2020-06-03T17:38:03Z,"1. 能不能把编译 `teaclave_dcap_ref_as` 错误的 log 发一下？
2. 我用 `docker run --rm -it teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.6 /bin/bash` 是可以启动 docker 的，没办法重现你所说的问题。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzODM0NzMwOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/334,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzODc0Njc3Ng==,incubator-teaclave,638746776,334,NA,60ke,10956315,LookForAdmin,,NA,2020-06-04T09:53:09Z,2020-06-04T09:53:09Z,"> 1. 能不能把编译 `teaclave_dcap_ref_as` 错误的 log 发一下？
> 2. 我用 `docker run --rm -it teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.6 /bin/bash` 是可以启动 docker 的，没办法重现你所说的问题。

```bash
   Compiling teaclave_dcap_ref_as v0.1.0 (/teaclave/build/cmake_tomls/unix_app/dcap)
error: linking with `cc` failed: exit code: 1
  |
  = note: ""cc"" ""-Wl,--as-needed"" ""-Wl,-z,noexecstack"" ""-m64"" ""-L"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.0.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.1.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.10.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.11.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.12.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.13.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.14.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.15.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.2.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.3.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.4.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.5.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.6.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.7.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.8.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.teaclave_dcap_ref_as.c4khteit-cgu.9.rcgu.o"" ""-o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-792cd81302667cb3.4z4ntxwdifp3hdds.rcgu.o"" ""-Wl,--gc-sections"" ""-pie"" ""-Wl,-zrelro"" ""-Wl,-znow"" ""-nodefaultlibs"" ""-L"" ""/teaclave/build/target/unix/debug/deps"" ""-L"" ""/teaclave/build/target/unix/debug/build/ring-4e751fe7ef204568/out"" ""-L"" ""/opt/sgxsdk/lib64"" ""-L"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib"" ""-lsgx_dcap_quoteverify"" ""-lsgx_dcap_ql"" ""-lsgx_urts"" ""-Wl,-Bstatic"" ""/teaclave/build/target/unix/debug/deps/libpem-52d42fd85d16988b.rlib"" ""/teaclave/build/target/unix/debug/deps/libregex-a204aeb32b8c1c31.rlib"" ""/teaclave/build/target/unix/debug/deps/libthread_local-a3521d504bd8f290.rlib"" ""/teaclave/build/target/unix/debug/deps/libregex_syntax-c7619cf4b9a0342f.rlib"" ""/teaclave/build/target/unix/debug/deps/libaho_corasick-78d93fa2c5b4aabe.rlib"" ""/teaclave/build/target/unix/debug/deps/libuuid-fe26132252106821.rlib"" ""/teaclave/build/target/unix/debug/deps/libsgx_ucrypto-5e220750f783dba2.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_core-1865baf9c743dc12.rlib"" ""/teaclave/build/target/unix/debug/deps/librdrand-1a0e3d9b16e069d9.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_core-3a698b15f161056b.rlib"" ""/teaclave/build/target/unix/debug/deps/libsgx_types-c2bea4f440874554.rlib"" ""/teaclave/build/target/unix/debug/deps/libserde_json-a0669b6cfa2493ff.rlib"" ""/teaclave/build/target/unix/debug/deps/libryu-950af5789f29c7b1.rlib"" ""/teaclave/build/target/unix/debug/deps/libitoa-a4afa66527930f8d.rlib"" ""/teaclave/build/target/unix/debug/deps/librand-9c4d368f850132eb.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_chacha-69020c91628d83c7.rlib"" ""/teaclave/build/target/unix/debug/deps/libppv_lite86-4b4a308a2124b254.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_core-b4b8ab8e89f9d949.rlib"" ""/teaclave/build/target/unix/debug/deps/libgetrandom-662bdd3ccabcc320.rlib"" ""/teaclave/build/target/unix/debug/deps/libchrono-e7f5909436170d69.rlib"" ""/teaclave/build/target/unix/debug/deps/libnum_integer-4762b4d7f1c2e2ae.rlib"" ""/teaclave/build/target/unix/debug/deps/libnum_traits-99aa88b5243f6508.rlib"" ""/teaclave/build/target/unix/debug/deps/librocket-8eab8889060651c4.rlib"" ""/teaclave/build/target/unix/debug/deps/libbinascii-47f7f37cbc16c843.rlib"" ""/teaclave/build/target/unix/debug/deps/libatty-9cc3c3a21baa893f.rlib"" ""/teaclave/build/target/unix/debug/deps/librocket_http-6cac5e35d2ce2e91.rlib"" ""/teaclave/build/target/unix/debug/deps/libindexmap-381d974e8f2d28b6.rlib"" ""/teaclave/build/target/unix/debug/deps/libcookie-97111450eeb34ab0.rlib"" ""/teaclave/build/target/unix/debug/deps/libbase64-13bb3a3053ecf0d8.rlib"" ""/teaclave/build/target/unix/debug/deps/libpercent_encoding-0de3b805f7ac4134.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicode_xid-8102a7debacf0baa.rlib"" ""/teaclave/build/target/unix/debug/deps/libhyper_sync_rustls-4e6e5c3880b3c073.rlib"" ""/teaclave/build/target/unix/debug/deps/libwebpki_roots-9ea98cbc1b8e97dd.rlib"" ""/teaclave/build/target/unix/debug/deps/librustls-469c7677e28cbc73.rlib"" ""/teaclave/build/target/unix/debug/deps/libbase64-5df6bdb3393b29c4.rlib"" ""/teaclave/build/target/unix/debug/deps/libsct-854bfc85acec67de.rlib"" ""/teaclave/build/target/unix/debug/deps/libwebpki-56443d955a848264.rlib"" ""/teaclave/build/target/unix/debug/deps/libring-bb17445cf7aaba04.rlib"" ""/teaclave/build/target/unix/debug/deps/libspin-5a76732e4f249b56.rlib"" ""/teaclave/build/target/unix/debug/deps/liblazy_static-e8d0fcd846fd43e8.rlib"" ""/teaclave/build/target/unix/debug/deps/libuntrusted-4c638cd2061bb65f.rlib"" ""/teaclave/build/target/unix/debug/deps/libhyper-decc97d345993f5a.rlib"" ""/teaclave/build/target/unix/debug/deps/libmime-4656296def0fa722.rlib"" ""/teaclave/build/target/unix/debug/deps/liblog-8ca5275367362654.rlib"" ""/teaclave/build/target/unix/debug/deps/liblanguage_tags-7a2cfe85a7235d72.rlib"" ""/teaclave/build/target/unix/debug/deps/libtypeable-5d4315e2c57ad47b.rlib"" ""/teaclave/build/target/unix/debug/deps/libtraitobject-343a8cba90793a1e.rlib"" ""/teaclave/build/target/unix/debug/deps/libnum_cpus-e385143875d0ef85.rlib"" ""/teaclave/build/target/unix/debug/deps/libhttparse-e85e13ac4d67401d.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicase-ec0ff9f1041dfac7.rlib"" ""/teaclave/build/target/unix/debug/deps/liburl-0c8949274a75bdb0.rlib"" ""/teaclave/build/target/unix/debug/deps/libpercent_encoding-7093e1ee51655e97.rlib"" ""/teaclave/build/target/unix/debug/deps/libidna-a9ebfe114da3ecd2.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicode_normalization-1a2417a9e98c92b4.rlib"" ""/teaclave/build/target/unix/debug/deps/libsmallvec-3112d90514e4748a.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicode_bidi-46ddd28428b2ff37.rlib"" ""/teaclave/build/target/unix/debug/deps/libmatches-a1c5d8ff7097d2c4.rlib"" ""/teaclave/build/target/unix/debug/deps/libtime-01a3a116efa55fb5.rlib"" ""/teaclave/build/target/unix/debug/deps/libbase64-47124ec074459fd9.rlib"" ""/teaclave/build/target/unix/debug/deps/libsafemem-ef7103d20bc9f02a.rlib"" ""/teaclave/build/target/unix/debug/deps/libbyteorder-a0ae8b7982465d10.rlib"" ""/teaclave/build/target/unix/debug/deps/libtoml-2f6ae19a5c8de9d2.rlib"" ""/teaclave/build/target/unix/debug/deps/libserde-8afb67d581f59408.rlib"" ""/teaclave/build/target/unix/debug/deps/libtime-7814df5cfeb48478.rlib"" ""/teaclave/build/target/unix/debug/deps/liblibc-e36123c1fe9e120f.rlib"" ""/teaclave/build/target/unix/debug/deps/libstandback-11ce9142d662cf5d.rlib"" ""/teaclave/build/target/unix/debug/deps/libtime_macros-21a29e200b5b1884.rlib"" ""/teaclave/build/target/unix/debug/deps/libmemchr-3daf40e1f337e844.rlib"" ""/teaclave/build/target/unix/debug/deps/libstate-52d524c0e3fe646b.rlib"" ""/teaclave/build/target/unix/debug/deps/libyansi-a24016f2a456044c.rlib"" ""/teaclave/build/target/unix/debug/deps/libpear-94e3c0e7fb366d99.rlib"" ""/teaclave/build/target/unix/debug/deps/liblog-607655ac55ab7686.rlib"" ""/teaclave/build/target/unix/debug/deps/libcfg_if-b119cae66d6c7553.rlib"" ""-Wl,--start-group"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-5880c0f0bfd74f3b.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libpanic_unwind-80318e9a073232dc.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libhashbrown-32bb59042e6ce4f7.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_alloc-9b38c0948c2d27e2.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libbacktrace-7a3d82bf6cf61acc.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libbacktrace_sys-a66835881023c910.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_demangle-21e51998beafe269.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunwind-ff91d811cb2cc06b.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcfg_if-1a3ebd51865a27a7.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-42821e074cc8ca7e.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-3820a32f8f6914a6.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_core-f50813bc0da88bf6.rlib"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-a2554e6c88c3fd7a.rlib"" ""-Wl,--end-group"" ""/root/.rustup/toolchains/nightly-2020-04-07-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-cc0b971ba3542be2.rlib"" ""-Wl,-Bdynamic"" ""-lutil"" ""-ldl"" ""-lutil"" ""-ldl"" ""-lrt"" ""-lpthread"" ""-lgcc_s"" ""-lc"" ""-lm"" ""-lrt"" ""-lpthread"" ""-lutil"" ""-lutil""
  = note: /usr/bin/ld: cannot find -lsgx_dcap_quoteverify
          /usr/bin/ld: cannot find -lsgx_dcap_ql
          collect2: error: ld returned 1 exit status
          

error: aborting due to previous error

error: could not compile `teaclave_dcap_ref_as`.

To learn more, run the command again with --verbose.
cp: cannot stat '/teaclave/build/target/unix/debug/teaclave_dcap_ref_as': No such file or directory
CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/build.make:57: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as' failed
make[2]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as] Error 1
CMakeFiles/Makefile2:1331: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all' failed
make[1]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzODc0Njc3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/334,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzOTEwMzUyMg==,incubator-teaclave,639103522,334,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-04T20:38:17Z,2020-06-04T20:38:17Z,"You need to install dcap quote library, more dependencies you can find them in the docker file for dcap: https://github.com/apache/incubator-teaclave/blob/master/docker/build.ubuntu-1804.sgx-dcap-1.6.Dockerfile#L44.

Also, please refer to the official document for installation instruction: https://download.01.org/intel-sgx/sgx-dcap/1.6/linux/docs/Intel_SGX_DCAP_Linux_SW_Installation_Guide.pdf","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzOTEwMzUyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/334,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzOTI1Mjg2MQ==,incubator-teaclave,639252861,334,NA,60ke,10956315,LookForAdmin,,NA,2020-06-05T04:34:57Z,2020-06-05T04:34:57Z,"> You need to install dcap quote library, more dependencies you can find them in the docker file for dcap: https://github.com/apache/incubator-teaclave/blob/master/docker/build.ubuntu-1804.sgx-dcap-1.6.Dockerfile#L44.
> 
> Also, please refer to the official document for installation instruction: https://download.01.org/intel-sgx/sgx-dcap/1.6/linux/docs/Intel_SGX_DCAP_Linux_SW_Installation_Guide.pdf

dcap装好了，之前报错的原因找到了，
docker build 的时候只在cmake添加了`-DDCAP=ON` 未替换`teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest` 为`teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.6`
之前是看到了这个https://github.com/apache/incubator-teaclave-sgx-sdk/issues/135#issuecomment-631630380，过来看看实现  感谢！","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDYzOTI1Mjg2MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/346,https://api.github.com/repos/apache/incubator-teaclave/issues/346,incubator-teaclave,635665323,346,Error: Failed to new the enclave,romanumero,1836478,Damon Henry,,CLOSED,2020-06-09T18:29:03Z,2020-06-09T21:02:56Z,"Running the command: (cd docker && docker-compose -f docker-compose-ubuntu-1804.yml up --build).  Device/volume mappings have been removed from docker-compose-ubuntu-1804.yml

Results in the error:

Successfully tagged docker_teaclave-execution-service:latest
Starting teaclave-authentication-service ... done
Starting teaclave-storage-service        ... done
Starting teaclave-access-control-service ... done
Starting teaclave-management-service     ... done
Starting teaclave-scheduler-service      ... done
Starting teaclave-execution-service      ... done
Starting teaclave-frontend-service       ... done
Attaching to teaclave-authentication-service, teaclave-access-control-service, teaclave-storage-service, teaclave-scheduler-service, teaclave-execution-service, teaclave-management-service, teaclave-frontend-service
teaclave-authentication-service    | Error: Failed to new the enclave.
teaclave-authentication-service    | 
teaclave-authentication-service    | Caused by:
teaclave-authentication-service    |     SgxError
teaclave-access-control-service    | Error: Failed to new the enclave.
teaclave-access-control-service    | 
teaclave-access-control-service    | Caused by:
teaclave-access-control-service    |     SgxError
teaclave-execution-service         | Error: Failed to new the enclave.
teaclave-execution-service         | 
teaclave-execution-service         | Caused by:
teaclave-execution-service         |     SgxError
teaclave-access-control-service exited with code 1
teaclave-execution-service exited with code 1
teaclave-scheduler-service         | Error: Failed to new the enclave.
teaclave-scheduler-service         | 
teaclave-scheduler-service         | Caused by:
teaclave-scheduler-service         |     SgxError
teaclave-management-service        | Error: Failed to new the enclave.
teaclave-management-service        | 
teaclave-management-service        | Caused by:
teaclave-management-service        |     SgxError
teaclave-storage-service           | Error: Failed to new the enclave.
teaclave-storage-service           | 
teaclave-storage-service           | Caused by:
teaclave-storage-service           |     SgxError
teaclave-scheduler-service exited with code 1
teaclave-management-service exited with code 1
teaclave-storage-service exited with code 1
teaclave-frontend-service          | Error: Failed to new the enclave.
teaclave-frontend-service          | 
teaclave-frontend-service          | Caused by:
teaclave-frontend-service          |     SgxError
teaclave-authentication-service exited with code 1
teaclave-frontend-service exited with code 1

OS :Ubuntu 18.04 64-bit
CPU: 3.1 GHz Intel ® Xeon ® Platinum 8269 (Cascade Lake) 
Cloud Provider: Alibaba Cloud (ecs.hfr6); SGX enabled","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/346/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/346,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0MTUwNTMwNw==,incubator-teaclave,641505307,346,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-09T18:52:49Z,2020-06-09T18:52:49Z,"Thanks for the report.

If you want to use in the simulation mode, please configure with cmake `-DSGX_SIM_MODE=ON` when building the platform. Please see this [document](https://github.com/apache/incubator-teaclave/blob/master/docs/my-first-function.md#simulation-mode) for more about simulation mode. Otherwise, you don't have to remove SGX device mapping in the docker compose file.

Seems that you built the platform in hardware mode, but removed the essential device mappings of SGX from the docker container. That's why you got the `SgxError` when start an SGX enclave (in hardware mode).","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0MTUwNTMwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/346,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0MTU3MDE2MQ==,incubator-teaclave,641570161,346,NA,romanumero,1836478,Damon Henry,,NA,2020-06-09T21:02:55Z,2020-06-09T21:02:55Z,This worked! Thanks,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0MTU3MDE2MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/358,https://api.github.com/repos/apache/incubator-teaclave/issues/358,incubator-teaclave,639923190,358,Could teaclave be used to protect a custom algorithm?,welaunchcn,50825988,,,CLOSED,2020-06-16T19:35:58Z,2020-06-16T21:41:03Z,"Instead of protecting private data/model, I'm wondering, could teaclave be used to protect custom proprietary algorithm that runs on 3rd party controlled environment? If yes, are there any examples demostrating such usage?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/358/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/358,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NDk3NzMwOA==,incubator-teaclave,644977308,358,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-16T19:49:50Z,2020-06-16T19:49:50Z,"Yes, definitely.

We have two typical function executors: Python script executor (language interpreter) and built-in function executor (native function). These should be discussed separately.

For the Python executor, basically, a python script (which implement the proprietary algorithm) is treated as a secret data and executed at runtime. In this case, 3rd party (i.e., service provider) does not know the function.

For built-in functions, the code (e.g., proprietary algorithm implementations) is compiled into the execution service. To protect this kind of functions, we can utilize the Intel PCL (Protected Code Loader) feature which is intended to protect Intellectual Property (IP) within the code for Intel SGX enclave applications [1]. We also have sample code using our Rust SGX SDK. Therefore, to integrate this method to the Teaclave platform, we can make some changes on the execution service enclave to support PCL.

- [1] https://github.com/intel/linux-sgx/tree/master/SampleCode/SampleEnclavePCL/
- [2] https://github.com/apache/incubator-teaclave-sgx-sdk/tree/master/samplecode/pcl","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NDk3NzMwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/360,incubator-teaclave,640120351,360,build error while following the document,yc-huang,1187779,YC,ychuang.cn@gmail.com,CLOSED,2020-06-17T03:55:46Z,2020-06-24T09:29:12Z,"I'm following the document to try to setup a teeclave environment but failed with build errors, any suggestions? Thanks.
```

docker run --rm -v $(pwd):/teaclave -w /teaclave \
>   -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
>    bash -c "". /root/.cargo/env && \
>      . /opt/sgxsdk/environment && \
>      mkdir -p build && cd build && \
>      cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
>      make""
-- Submodule update
SGX_SDK=/opt/sgxsdk
SGX_MODE=SW
RUSTUP_TOOLCHAIN=nightly-2020-04-07
DCAP=OFF
BUILD_TYPE=debug
TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.viZpdRsKWSuz
-- ====== /teaclave/build/environment GENERATED ======
-- Configuring done
-- Generating done
-- Build files have been written to: /teaclave/build
[  0%] Built target prep
[ 12%] Built target pycomponent
[ 16%] Building sgxlib-teaclave_unit_tests, enclave info to /teaclave/build/intermediate/teaclave_unit_tests_enclave_info.toml
   Compiling sgx_build_helper v0.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.2#31b32336)
   Compiling sgx_types v1.1.2 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.2#31b32336)
   Compiling cc v1.0.52
   Compiling autocfg v1.0.0
   Compiling sgx_tstd v1.1.2 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.2#31b32336)
   Compiling sgx_alloc v1.1.2 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.2#31b32336)
   Compiling sgx_demangle v1.1.2 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.2#31b32336)
   Compiling proc-macro2 v1.0.10
   Compiling unicode-xid v0.2.0
   Compiling syn v1.0.18
   Compiling autocfg v0.1.7
   Compiling cfg-if v0.1.10
   Compiling spin v0.5.2
   Compiling serde v1.0.105 (https://github.com/mesalock-linux/serde-sgx#3e1fcf4c)
   Compiling typenum v1.12.0
   Compiling byteorder v1.3.2 (https://github.com/mesalock-linux/byteorder-sgx#8ad66bc3)
   Compiling getrandom v0.1.14 (https://github.com/mesalock-linux/getrandom-sgx#66a998d6)
   Compiling ppv-lite86 v0.2.6 (https://github.com/mesalock-linux/cryptocorrosion-sgx#b31e8668)
   Compiling untrusted v0.7.0
   Compiling ryu v1.0.4
   Compiling log v0.4.8 (https://github.com/mesalock-linux/log-sgx#3503e4d9)
   Compiling inventory v0.1.6
   Compiling libc v0.2.69
   Compiling rand_core v0.4.2
   Compiling matches v0.1.8 (https://github.com/mesalock-linux/rust-std-candidates-sgx#5747bcf3)
   Compiling percent-encoding v2.1.0 (https://github.com/mesalock-linux/rust-url-sgx#ba94521f)
   Compiling either v1.5.3
   Compiling teaclave_config v0.1.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/config)
   Compiling httparse v1.3.4
   Compiling proc-macro2 v0.4.30
   Compiling hashbrown v0.3.1
   Compiling bit-vec v0.6.1
   Compiling unicode-xid v0.1.0
   Compiling quick-error v1.2.2 (https://github.com/mesalock-linux/quick-error-sgx#c77b8867)
   Compiling syn v0.15.44
   Compiling num-iter v0.1.39 (https://github.com/mesalock-linux/num-iter-sgx#08168b9a)
   Compiling anyhow v1.0.26 (https://github.com/mesalock-linux/anyhow-sgx#b4164eed)
   Compiling teaclave_binder v0.1.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/binder)
   Compiling teaclave_proto v0.1.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/services/proto)
   Compiling rawpointer v0.2.1
   Compiling crc v2.0.0
error: could not compile `crc`.

Caused by:
  process didn't exit successfully: `/teaclave/cmake/scripts/rustc_wrapper.sh --crate-name crc --edition=2018 /teaclave/build/cmake_tomls/sgx_trusted_lib/third_party/crates-sgx/vendor/crc/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C debuginfo=2 -C metadata=00442ba3caacd126 -C extra-filename=-00442ba3caacd126 --out-dir /teaclave/build/target/trusted/debug/deps -L dependency=/teaclave/build/target/trusted/debug/deps --cap-lints allow --cfg test_mode --cfg sgx_sim --cfg test_mode` (signal: 9, SIGKILL: kill)
/usr/bin/ld: cannot find -lteaclave_unit_tests_enclave
collect2: error: ld returned 1 exit status
CMakeFiles/sgxlib-teaclave_unit_tests.dir/build.make:57: recipe for target 'CMakeFiles/sgxlib-teaclave_unit_tests' failed
make[2]: *** [CMakeFiles/sgxlib-teaclave_unit_tests] Error 1
CMakeFiles/Makefile2:68: recipe for target 'CMakeFiles/sgxlib-teaclave_unit_tests.dir/all' failed
make[1]: *** [CMakeFiles/sgxlib-teaclave_unit_tests.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2

```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/360/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzMzAxNA==,incubator-teaclave,645133014,360,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-17T03:59:00Z,2020-06-17T03:59:00Z,"Can you give me the log with `VERBOSE=1`? Like this:

```
docker run --rm -v $(pwd):/teaclave -w /teaclave \
   -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
    bash -c "". /root/.cargo/env && \
      . /opt/sgxsdk/environment && \
      mkdir -p build && cd build && \
      cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
      make VERBOSE=1""
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzMzAxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzNTAzNw==,incubator-teaclave,645135037,360,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-17T04:05:44Z,2020-06-17T04:05:44Z,"Following is the log with VERBOSE=1, thanks for you help:
```
docker run --rm -v $(pwd):/teaclave -w /teaclave \
>   -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
>    bash -c "". /root/.cargo/env && \
>      . /opt/sgxsdk/environment && \
>      mkdir -p build && cd build && \
>      cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
>      make""
-- Submodule update
SGX_SDK=/opt/sgxsdk
SGX_MODE=SW
RUSTUP_TOOLCHAIN=nightly-2020-04-07
DCAP=OFF
BUILD_TYPE=debug
TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.3wK9WFJtKIG8
-- ====== /teaclave/build/environment GENERATED ======
-- Configuring done
-- Generating done
-- Build files have been written to: /teaclave/build
[  0%] Built target prep
[ 12%] Built target pycomponent
[ 16%] Building sgxlib-teaclave_unit_tests, enclave info to /teaclave/build/intermediate/teaclave_unit_tests_enclave_info.toml
   Compiling crc v2.0.0
error: could not compile `crc`.

Caused by:
  process didn't exit successfully: `/teaclave/cmake/scripts/rustc_wrapper.sh --crate-name crc --edition=2018 /teaclave/build/cmake_tomls/sgx_trusted_lib/third_party/crates-sgx/vendor/crc/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C debuginfo=2 -C metadata=00442ba3caacd126 -C extra-filename=-00442ba3caacd126 --out-dir /teaclave/build/target/trusted/debug/deps -L dependency=/teaclave/build/target/trusted/debug/deps --cap-lints allow --cfg test_mode --cfg sgx_sim --cfg test_mode` (signal: 9, SIGKILL: kill)
/usr/bin/ld: cannot find -lteaclave_unit_tests_enclave
collect2: error: ld returned 1 exit status
CMakeFiles/sgxlib-teaclave_unit_tests.dir/build.make:57: recipe for target 'CMakeFiles/sgxlib-teaclave_unit_tests' failed
make[2]: *** [CMakeFiles/sgxlib-teaclave_unit_tests] Error 1
CMakeFiles/Makefile2:68: recipe for target 'CMakeFiles/sgxlib-teaclave_unit_tests.dir/all' failed
make[1]: *** [CMakeFiles/sgxlib-teaclave_unit_tests.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
[centos@ip-172-31-19-164 incubator-teaclave]$ docker run --rm -v $(pwd):/teaclave -w /teaclave \
>    -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
>     bash -c "". /root/.cargo/env && \
>       . /opt/sgxsdk/environment && \
>       mkdir -p build && cd build && \
>       cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
>       make VERBOSE=1""
-- Submodule update
SGX_SDK=/opt/sgxsdk
SGX_MODE=SW
RUSTUP_TOOLCHAIN=nightly-2020-04-07
DCAP=OFF
BUILD_TYPE=debug
TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.yV1IxJrrQAGG
-- ====== /teaclave/build/environment GENERATED ======
-- Configuring done
-- Generating done
-- Build files have been written to: /teaclave/build
/usr/bin/cmake -H/teaclave -B/teaclave/build --check-build-system CMakeFiles/Makefile.cmake 0
/usr/bin/cmake -E cmake_progress_start /teaclave/build/CMakeFiles /teaclave/build/CMakeFiles/progress.marks
make -f CMakeFiles/Makefile2 all
make[1]: Entering directory '/teaclave/build'
make -f CMakeFiles/prep.dir/build.make CMakeFiles/prep.dir/depend
make[2]: Entering directory '/teaclave/build'
cd /teaclave/build && /usr/bin/cmake -E cmake_depends ""Unix Makefiles"" /teaclave /teaclave /teaclave/build /teaclave/build /teaclave/build/CMakeFiles/prep.dir/DependInfo.cmake --color=
make[2]: Leaving directory '/teaclave/build'
make -f CMakeFiles/prep.dir/build.make CMakeFiles/prep.dir/build
make[2]: Entering directory '/teaclave/build'
/usr/bin/cmake -E env TEACLAVE_PROJECT_ROOT=/teaclave TEACLAVE_BUILD_ROOT=/teaclave/build TEACLAVE_OUT_DIR=/teaclave/build/intermediate TEACLAVE_SERVICE_INSTALL_DIR=/teaclave/release/services TEACLAVE_EXAMPLE_INSTALL_DIR=/teaclave/release/examples TEACLAVE_BIN_INSTALL_DIR=/teaclave/release/bin TEACLAVE_CLI_INSTALL_DIR=/teaclave/release/cli TEACLAVE_DCAP_INSTALL_DIR=/teaclave/release/dcap TEACLAVE_LIB_INSTALL_DIR=/teaclave/release/lib TEACLAVE_DOC_INSTALL_DIR=/teaclave/release/docs TEACLAVE_TEST_INSTALL_DIR=/teaclave/release/tests TEACLAVE_AUDITORS_DIR=/teaclave/release/services/auditors TEACLAVE_EXAMPLE_AUDITORS_DIR=/teaclave/release/examples/auditors TEACLAVE_TARGET_DIR=/teaclave/build/target TEACLAVE_CFG_DIR=/teaclave TEACLAVE_BUILD_CFG_DIR=/teaclave TEACLAVE_EDL_DIR=/teaclave/edl TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.yV1IxJrrQAGG SGX_SDK=/opt/sgxsdk SGX_MODE=SW DCAP=OFF ENCLAVE_OUT_DIR=/teaclave/build/intermediate RUSTUP_TOOLCHAIN=nightly-2020-04-07 RUST_SGX_SDK=/teaclave/third_party/rust-sgx-sdk MT_SCRIPT_DIR=/teaclave/cmake/scripts MT_SGXAPP_TOML_DIR=/teaclave/build/cmake_tomls/sgx_untrusted_app CARGO_INCREMENTAL= CMAKE_C_COMPILER=/usr/bin/cc CC=/teaclave/cmake/scripts/cc_wrapper.sh MT_RUSTC_WRAPPER=/teaclave/cmake/scripts/rustc_wrapper.sh CMAKE_SOURCE_DIR=/teaclave CMAKE_BINARY_DIR=/teaclave/build MESAPY_VERSION=eb769f13d6f9947b62aa04c2fb34496082bdadeb SGX_EDGER8R=/opt/sgxsdk/bin/x64/sgx_edger8r CMAKE_AR=/usr/bin/ar DCAP=OFF SGX_UNTRUSTED_CFLAGS=-m64\ -O2\ -fPIC\ -Wno-attributes\ -I/opt/sgxsdk/include\ -I/teaclave/third_party/rust-sgx-sdk/edl SGX_TRUSTED_CFLAGS=-m64\ -O2\ -nostdinc\ -fvisibility=hidden\ -fpie\ -fstack-protector\ -I/teaclave/third_party/rust-sgx-sdk/edl\ -I/teaclave/third_party/rust-sgx-sdk/common/inc\ -I/opt/sgxsdk/include\ -I/opt/sgxsdk/include/tlibc\ -I/opt/sgxsdk/include/stlport\ -I/opt/sgxsdk/include/epid /teaclave/cmake/scripts/prep.sh
make[2]: Leaving directory '/teaclave/build'
[  0%] Built target prep
make -f CMakeFiles/pycomponent.dir/build.make CMakeFiles/pycomponent.dir/depend
make[2]: Entering directory '/teaclave/build'
cd /teaclave/build && /usr/bin/cmake -E cmake_depends ""Unix Makefiles"" /teaclave /teaclave /teaclave/build /teaclave/build /teaclave/build/CMakeFiles/pycomponent.dir/DependInfo.cmake --color=
make[2]: Leaving directory '/teaclave/build'
make -f CMakeFiles/pycomponent.dir/build.make CMakeFiles/pycomponent.dir/build
make[2]: Entering directory '/teaclave/build'
make[2]: Nothing to be done for 'CMakeFiles/pycomponent.dir/build'.
make[2]: Leaving directory '/teaclave/build'
[ 12%] Built target pycomponent
make -f CMakeFiles/sgxlib-teaclave_unit_tests.dir/build.make CMakeFiles/sgxlib-teaclave_unit_tests.dir/depend
make[2]: Entering directory '/teaclave/build'
cd /teaclave/build && /usr/bin/cmake -E cmake_depends ""Unix Makefiles"" /teaclave /teaclave /teaclave/build /teaclave/build /teaclave/build/CMakeFiles/sgxlib-teaclave_unit_tests.dir/DependInfo.cmake --color=
make[2]: Leaving directory '/teaclave/build'
make -f CMakeFiles/sgxlib-teaclave_unit_tests.dir/build.make CMakeFiles/sgxlib-teaclave_unit_tests.dir/build
make[2]: Entering directory '/teaclave/build'
[ 16%] Building sgxlib-teaclave_unit_tests, enclave info to /teaclave/build/intermediate/teaclave_unit_tests_enclave_info.toml
cd /teaclave/build/cmake_tomls/sgx_trusted_lib && /usr/bin/cmake -E env TEACLAVE_PROJECT_ROOT=/teaclave TEACLAVE_BUILD_ROOT=/teaclave/build TEACLAVE_OUT_DIR=/teaclave/build/intermediate TEACLAVE_SERVICE_INSTALL_DIR=/teaclave/release/services TEACLAVE_EXAMPLE_INSTALL_DIR=/teaclave/release/examples TEACLAVE_BIN_INSTALL_DIR=/teaclave/release/bin TEACLAVE_CLI_INSTALL_DIR=/teaclave/release/cli TEACLAVE_DCAP_INSTALL_DIR=/teaclave/release/dcap TEACLAVE_LIB_INSTALL_DIR=/teaclave/release/lib TEACLAVE_DOC_INSTALL_DIR=/teaclave/release/docs TEACLAVE_TEST_INSTALL_DIR=/teaclave/release/tests TEACLAVE_AUDITORS_DIR=/teaclave/release/services/auditors TEACLAVE_EXAMPLE_AUDITORS_DIR=/teaclave/release/examples/auditors TEACLAVE_TARGET_DIR=/teaclave/build/target TEACLAVE_CFG_DIR=/teaclave TEACLAVE_BUILD_CFG_DIR=/teaclave TEACLAVE_EDL_DIR=/teaclave/edl TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.yV1IxJrrQAGG SGX_SDK=/opt/sgxsdk SGX_MODE=SW DCAP=OFF ENCLAVE_OUT_DIR=/teaclave/build/intermediate RUSTUP_TOOLCHAIN=nightly-2020-04-07 RUST_SGX_SDK=/teaclave/third_party/rust-sgx-sdk MT_SCRIPT_DIR=/teaclave/cmake/scripts MT_SGXAPP_TOML_DIR=/teaclave/build/cmake_tomls/sgx_untrusted_app CARGO_INCREMENTAL= CMAKE_C_COMPILER=/usr/bin/cc CC=/teaclave/cmake/scripts/cc_wrapper.sh MT_RUSTC_WRAPPER=/teaclave/cmake/scripts/rustc_wrapper.sh RUSTFLAGS=\ --cfg\ test_mode\ --cfg\ sgx_sim\ --cfg\ test_mode /teaclave/cmake/scripts/cargo_build_ex.sh -p teaclave_unit_tests_enclave --target-dir /teaclave/build/target/trusted -Z package-features --features mesalock_sgx
   Compiling crc v2.0.0
error: could not compile `crc`.

Caused by:
  process didn't exit successfully: `/teaclave/cmake/scripts/rustc_wrapper.sh --crate-name crc --edition=2018 /teaclave/build/cmake_tomls/sgx_trusted_lib/third_party/crates-sgx/vendor/crc/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C debuginfo=2 -C metadata=00442ba3caacd126 -C extra-filename=-00442ba3caacd126 --out-dir /teaclave/build/target/trusted/debug/deps -L dependency=/teaclave/build/target/trusted/debug/deps --cap-lints allow --cfg test_mode --cfg sgx_sim --cfg test_mode` (signal: 9, SIGKILL: kill)
cd /teaclave/build/cmake_tomls/sgx_trusted_lib && /usr/bin/cmake -E env TEACLAVE_PROJECT_ROOT=/teaclave TEACLAVE_BUILD_ROOT=/teaclave/build TEACLAVE_OUT_DIR=/teaclave/build/intermediate TEACLAVE_SERVICE_INSTALL_DIR=/teaclave/release/services TEACLAVE_EXAMPLE_INSTALL_DIR=/teaclave/release/examples TEACLAVE_BIN_INSTALL_DIR=/teaclave/release/bin TEACLAVE_CLI_INSTALL_DIR=/teaclave/release/cli TEACLAVE_DCAP_INSTALL_DIR=/teaclave/release/dcap TEACLAVE_LIB_INSTALL_DIR=/teaclave/release/lib TEACLAVE_DOC_INSTALL_DIR=/teaclave/release/docs TEACLAVE_TEST_INSTALL_DIR=/teaclave/release/tests TEACLAVE_AUDITORS_DIR=/teaclave/release/services/auditors TEACLAVE_EXAMPLE_AUDITORS_DIR=/teaclave/release/examples/auditors TEACLAVE_TARGET_DIR=/teaclave/build/target TEACLAVE_CFG_DIR=/teaclave TEACLAVE_BUILD_CFG_DIR=/teaclave TEACLAVE_EDL_DIR=/teaclave/edl TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.yV1IxJrrQAGG SGX_SDK=/opt/sgxsdk SGX_MODE=SW DCAP=OFF ENCLAVE_OUT_DIR=/teaclave/build/intermediate RUSTUP_TOOLCHAIN=nightly-2020-04-07 RUST_SGX_SDK=/teaclave/third_party/rust-sgx-sdk MT_SCRIPT_DIR=/teaclave/cmake/scripts MT_SGXAPP_TOML_DIR=/teaclave/build/cmake_tomls/sgx_untrusted_app CARGO_INCREMENTAL= CMAKE_C_COMPILER=/usr/bin/cc CC=/teaclave/cmake/scripts/cc_wrapper.sh MT_RUSTC_WRAPPER=/teaclave/cmake/scripts/rustc_wrapper.sh SGX_LIBRARY_PATH=/opt/sgxsdk/lib64 SGX_ENCLAVE_SIGNER=/opt/sgxsdk/bin/x64/sgx_sign Service_Library_Name=sgx_tservice_sim Trts_Library_Name=sgx_trts_sim TRUSTED_TARGET_DIR=/teaclave/build/target/trusted TARGET=debug SGX_COMMON_CFLAGS=-m64\ -O2 CUR_PKG_NAME=teaclave_unit_tests_enclave CUR_PKG_PATH=tests/unit/enclave CUR_INSTALL_DIR=/teaclave/release/tests /teaclave/cmake/scripts/sgx_link_sign.sh Enclave_fa_t
/usr/bin/ld: cannot find -lteaclave_unit_tests_enclave
collect2: error: ld returned 1 exit status
CMakeFiles/sgxlib-teaclave_unit_tests.dir/build.make:57: recipe for target 'CMakeFiles/sgxlib-teaclave_unit_tests' failed
make[2]: *** [CMakeFiles/sgxlib-teaclave_unit_tests] Error 1
make[2]: Leaving directory '/teaclave/build'
CMakeFiles/Makefile2:68: recipe for target 'CMakeFiles/sgxlib-teaclave_unit_tests.dir/all' failed
make[1]: *** [CMakeFiles/sgxlib-teaclave_unit_tests.dir/all] Error 2
make[1]: Leaving directory '/teaclave/build'
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzNTAzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzNzY5MA==,incubator-teaclave,645137690,360,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-17T04:14:54Z,2020-06-17T04:14:54Z,"not sure why it's SIGKILL,  try start container with --oom-kill-disable and remain the same error...","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzNzY5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzOTAxMA==,incubator-teaclave,645139010,360,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-17T04:19:35Z,2020-06-17T04:19:35Z,"Yes, this is very wired. I can compile it with the exact same command in a 32G memory PC.

How about directly build with the compilation command?
```
/teaclave/cmake/scripts/rustc_wrapper.sh --crate-name crc --edition=2018 /teaclave/build/cmake_tomls/sgx_trusted_lib/third_party/crates-sgx/vendor/crc/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C debuginfo=2 -C metadata=00442ba3caacd126 -C extra-filename=-00442ba3caacd126 --out-dir /teaclave/build/target/trusted/debug/deps -L dependency=/teaclave/build/target/trusted/debug/deps --cap-lints allow --cfg test_mode --cfg sgx_sim --cfg test_mode 
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTEzOTAxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTE1NDg0MQ==,incubator-teaclave,645154841,360,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-17T05:11:45Z,2020-06-17T05:11:45Z,"It runs with no output and then get killed...

I'm running this on a small aws node, I guess I might need to increase the hardware resource first...","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTE1NDg0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/360,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTE5Mzk4MA==,incubator-teaclave,645193980,360,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-17T07:07:34Z,2020-06-17T07:07:34Z,"Tried this on a new aws instance with 8GB memory and everything looks good now, thank you @mssun for your prompt help.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NTE5Mzk4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/363,incubator-teaclave,641074229,363,about write a new function with python,gaojunjie03,30582212,gjj,,CLOSED,2020-06-18T09:57:00Z,2020-06-25T03:25:29Z,"the mesapy_echo_payload.py is too easy , how can i write a python function just like private_join_and_compute.rs？  private_join_and_compute.rs more in line with the actual case ,but 
But learning rust is too expensive","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/363/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjM2Mjg2Mw==,incubator-teaclave,646362863,363,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-18T23:59:18Z,2020-06-18T23:59:18Z,"Thanks, that's a good suggestion! We had a more complex example of implementing a logistic regression with Python in our previous legacy version (https://github.com/apache/incubator-teaclave/blob/legacy/examples/py_logistic_reg/payload.py). If you have interest to contribute, I can help you to migrate this function to our current platform as an example.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjM2Mjg2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQwODMzNg==,incubator-teaclave,646408336,363,NA,gaojunjie03,30582212,gjj,,NA,2020-06-19T03:02:02Z,2020-06-19T03:02:02Z,"> Thanks, that's a good suggestion! We had a more complex example of implementing a logistic regression with Python in our previous legacy version (https://github.com/apache/incubator-teaclave/blob/legacy/examples/py_logistic_reg/payload.py). If you have interest to contribute, I can help you to migrate this function to our current platform as an example.

I'll learn teaclave first . 
i have anthor question : when i finish install teaclave  in simulation mode, i can not find the The Teaclave command line tool (teaclave_cli) , where is it ? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQwODMzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQxMTcyNw==,incubator-teaclave,646411727,363,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-19T03:14:42Z,2020-06-19T03:14:42Z,"After building the platform, all compilation output will be copied to the `release/` directory. The CLI will be at `release/cli/teaclave_cli`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQxMTcyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQxNDQ0Mg==,incubator-teaclave,646414442,363,NA,gaojunjie03,30582212,gjj,,NA,2020-06-19T03:26:12Z,2020-06-19T03:26:12Z,"> After building the platform, all compilation output will be copied to the `release/` directory. The CLI will be at `release/cli/teaclave_cli`.

ok  find it.
but....
`./teaclave_cli: error while loading shared libraries: libcrypto.so.1.1: cannot open shared object file: No such file or directory`
the release/lib is blank","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQxNDQ0Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQxNzI0MA==,incubator-teaclave,646417240,363,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-19T03:37:28Z,2020-06-19T03:37:28Z,Please install the openssl library: `sudo apt-get install libssl-dev` (for Ubuntu).,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NjQxNzI0MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzc4NTE2NQ==,incubator-teaclave,647785165,363,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-22T21:45:19Z,2020-06-22T21:45:19Z,"Thanks to @GeminiCarrie, a PR (0316757e2dfe748185b84d1bff5ae04701b46c8f) of an example on using Python to implement logistic regression has been merged. Please check it out. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzc4NTE2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/363,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE5MjQwMA==,incubator-teaclave,649192400,363,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-25T03:25:28Z,2020-06-25T03:25:28Z,"Tutorial on writing functions in Python is also added: https://teaclave.apache.org/docs/functions-in-python/.

I think this issue can be closed. Thanks!
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTE5MjQwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/366,incubator-teaclave,642691355,366,invoke builtin_private_join_and_compute.py error (in simulation mode),gaojunjie03,30582212,gjj,,CLOSED,2020-06-22T01:51:53Z,2020-07-01T01:19:04Z,"
![image](https://user-images.githubusercontent.com/30582212/85241397-3d88d000-b46e-11ea-892e-1725ebf4bb05.png)

In simulation mode","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/366/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIyMzYwNA==,incubator-teaclave,647223604,366,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2020-06-22T01:56:51Z,2020-06-22T01:56:51Z,"Did you try other examples (e.g., builtin_gbdt_train.py)? Did they work as expected on your machine?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIyMzYwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIyNTI1Nw==,incubator-teaclave,647225257,366,NA,gaojunjie03,30582212,gjj,,NA,2020-06-22T02:03:27Z,2020-06-22T02:03:27Z,"builtin_gbdt_train.py can not work.  
looks like the example with 'register_input_file' can not work . 
same error: 'ocall error = 1'
the other can work(mesapy_echo.py、builtin_echo.py 、builtin_online_decrypt.py...)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIyNTI1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIyNjg0OQ==,incubator-teaclave,647226849,366,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2020-06-22T02:09:31Z,2020-06-22T02:09:31Z,"OK. Thanks for the information. Could you please type `make run-tests` or `make run-examples` 
after you build the project? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIyNjg0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIzMjA3Mw==,incubator-teaclave,647232073,366,NA,gaojunjie03,30582212,gjj,,NA,2020-06-22T02:27:22Z,2020-06-22T02:27:22Z,"make run-tests work。  i use the local file ""file://"" to register_input_file and register_output_file. is that a problem ?  ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzIzMjA3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI0MjI3MQ==,incubator-teaclave,647242271,366,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-22T03:01:50Z,2020-06-22T03:01:50Z,"I saw an ""ocall error"" in the response. Maybe this is from the file agent. Since you are saying about using `file://` scheme, I guess this is because your registered file does not exist on the file system of the execution service.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI0MjI3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI0NzAyNQ==,incubator-teaclave,647247025,366,NA,gaojunjie03,30582212,gjj,,NA,2020-06-22T03:17:27Z,2020-06-22T03:17:27Z,"> I saw an ""ocall error"" in the response. Maybe this is from the file agent. Since you are saying about using `file://` scheme, I guess this is because your registered file does not exist on the file system of the execution service.


It exists in the local system","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI0NzAyNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI0ODcxOQ==,incubator-teaclave,647248719,366,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-22T03:22:35Z,2020-06-22T03:22:35Z,Can you run the service with `RUST_LOG=teaclave=debug` env vars and paste the log here? Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI0ODcxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI1NDE1NQ==,incubator-teaclave,647254155,366,NA,gaojunjie03,30582212,gjj,,NA,2020-06-22T03:40:43Z,2020-06-22T03:40:43Z,"![image](https://user-images.githubusercontent.com/30582212/85246180-82b3fe80-b47c-11ea-957d-e905d762fd58.png)
It's really a non-existent error.  but It exists in the local system
![image](https://user-images.githubusercontent.com/30582212/85246318-e807ef80-b47c-11ea-8600-59736bd47495.png)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI1NDE1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI1NDk0OQ==,incubator-teaclave,647254949,366,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-22T03:43:28Z,2020-06-22T03:43:28Z,"If you are using docker, the file should be also in the container of the execution service.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzI1NDk0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzMyOTM0OQ==,incubator-teaclave,647329349,366,NA,gaojunjie03,30582212,gjj,,NA,2020-06-22T07:06:25Z,2020-06-22T07:06:25Z,"
![image](https://user-images.githubusercontent.com/30582212/85258295-d3862000-b499-11ea-9be8-f29d0504f818.png)

![image](https://user-images.githubusercontent.com/30582212/85258315-e4369600-b499-11ea-92c1-8f00bf174031.png)

but 

![image](https://user-images.githubusercontent.com/30582212/85258232-b2bdca80-b499-11ea-848b-467665429deb.png)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0NzMyOTM0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzc4ODgxMg==,incubator-teaclave,647788812,366,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-22T21:55:06Z,2020-06-22T21:55:06Z,"From your previous screenshots of the log, I can see that you are using `docker-compose` to start the services. This command will launch services in different container with isolated file system, i.e., the execution service does not see files in your local file system. If that's the case, please use shared volume in docker with the host and preserve the same path. Or, do not run services in containers separated with the host file system. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzc4ODgxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNTQ1Mw==,incubator-teaclave,652115453,366,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T00:22:57Z,2020-07-01T00:22:57Z,"Hi, any update on this issue?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNTQ1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjEzMDU1Mg==,incubator-teaclave,652130552,366,NA,gaojunjie03,30582212,gjj,,NA,2020-07-01T01:17:59Z,2020-07-01T01:17:59Z,"> Hi, any update on this issue?

you can close this one","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjEzMDU1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/366,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjEzMDg0Ng==,incubator-teaclave,652130846,366,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T01:19:04Z,2020-07-01T01:19:04Z,Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjEzMDg0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/368,https://api.github.com/repos/apache/incubator-teaclave/issues/368,incubator-teaclave,643022800,368,function中支持对输入文件进行流式读写吗？,ly137062117,52770138,,,CLOSED,2020-06-22T12:17:07Z,2020-07-01T00:22:08Z,"最近在teaclave中执行gbdt训练时，发现对大样本文件（大约1.7G）进行训练时占用内存十分巨大。
因此想请问下，在利用Runtime获取到输入文件的reader和输出文件的writer时，reader.lines() 是将整个文件内容加载到内存中，进行操作，还是流式操作的呢？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/368/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/368,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzc4NDM4MQ==,incubator-teaclave,647784381,368,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-22T21:43:02Z,2020-06-22T21:43:02Z,"`BufReader` 实现了 `BufRead` trait，就是所谓的 “流式操作”。

内存使用可能是其他问题造成的，比如说 samples:

https://github.com/apache/incubator-teaclave/blob/0316757e2dfe748185b84d1bff5ae04701b46c8f/function/src/gbdt_train.rs#L135

或者其他问题引起的，需要详细 review/profile 代码。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzc4NDM4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/368,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzg1NzIwNQ==,incubator-teaclave,647857205,368,NA,ly137062117,52770138,,,NA,2020-06-23T01:47:08Z,2020-06-23T01:47:08Z,@mssun 那请问下，在 tee 里边，通过 BufWriter 包装了 io::Write 也能实现流式地写吗？那这种情况下， tee 对输出文件中的内容进行加密的机制是逐行写入，逐行加密吗？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzg1NzIwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/368,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzg2MTIxNQ==,incubator-teaclave,647861215,368,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-23T02:02:10Z,2020-06-23T02:02:10Z,"Teaclave execution service 使用的 secure file system 基于 `protected_fs`， (https://github.com/apache/incubator-teaclave/blob/master/common/protected_fs_rs/src/sgx_tprotected_fs.rs) 提供了 POSIX compatible 的 file I/O 接口。

对于加密方式，不是“逐行写入，逐行加密”，而是按照 block 进行，提供了 LRU cache。

如果想了解更多，可以参考 protected fs 的代码：https://github.com/apache/incubator-teaclave/tree/master/common/protected_fs_rs/protected_fs_c/sgx_tprotected_fs","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzg2MTIxNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/368,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzg3MzQ4OQ==,incubator-teaclave,647873489,368,NA,litongxin1991,6188502,TX,litongxin1991@gmail.com,NA,2020-06-23T02:46:06Z,2020-06-23T02:46:06Z,关于内存占用的问题，主要是gbdt-rs算法实现引起的。在进行训练时，gbdt-rs需要使用所有的数据进行计算。设置不同的`training_optimization_level`在训练时会有不同的内存访问模式和内部数据表达，占用的内存也会不一样。其中，`training_optimization_level=0或1`使用的内存会比`training_optimization_level=2`小。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Nzg3MzQ4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/368,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNTI1OA==,incubator-teaclave,652115258,368,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T00:22:07Z,2020-07-01T00:22:07Z,I'm closing this issue. Feel free to reopen or create a new one if you have further questions. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNTI1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/371,https://api.github.com/repos/apache/incubator-teaclave/issues/371,incubator-teaclave,645209204,371,Is there any best practice to debug builtin function,yc-huang,1187779,YC,ychuang.cn@gmail.com,CLOSED,2020-06-25T06:42:25Z,2020-07-01T00:21:55Z,"I'm trying to add some new builtin functions, but found it's very time costy to debug; I'm wondering if there's some suggestions on:
1. After mading some changes to the builtin function/executor code, what's the fatest way to re-compile/deploy those changes?
2. What's the best way to log out some debug informations in my builtin functions? 

Thanks,
YC","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/371/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/371,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTI4MDU4MQ==,incubator-teaclave,649280581,371,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-25T06:59:35Z,2020-06-25T06:59:35Z,"1. I suggest to compile (`make teaclave_unit_tests`) and run (`make run-unit-tests`) unit tests. You can see other builtin function implementations.
2. You can use `log::debug!()`. Then run services or tests with `RUST_LOG=teaclave=debug` env set.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTI4MDU4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/371,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTI4MTc0Nw==,incubator-teaclave,649281747,371,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-25T07:00:53Z,2020-06-25T07:00:53Z,You can find more about our build system in this doc: https://teaclave.apache.org/docs/build-system/,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY0OTI4MTc0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/371,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNTE4Nw==,incubator-teaclave,652115187,371,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T00:21:55Z,2020-07-01T00:21:55Z,I'm closing this issue. Feel free to reopen or create a new one if you have further questions. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjExNTE4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/372,incubator-teaclave,647044300,372,怎么去证明teaclave是可行计算的环境呢?,xinuo,7897771,,,CLOSED,2020-06-29T01:00:33Z,2020-07-02T01:24:32Z,"你好:
      1,在使用teaclave项目的过程中,我有一个疑问,我怎么去证明teaclave乃至Intel-SGX是可信环境?
      2,从examples里可以看到,teaclave是读取加密文件,但是key以及cmac都是以明文的形式硬编码在脚本里(),同时我使用该key就可以解密数据.怎样去保证链路中的安全呢?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/372/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk0ODQxNA==,incubator-teaclave,650948414,372,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-29T06:25:49Z,2020-06-29T06:25:49Z,"client/service 以及 service/service 之间使用 RPC 通信。RPC 是基于 attested TLS，简单来说，1) 通过 remote attestation 证明 Teaclave service 运行于可信环境，2) 通过 TLS 保证链路安全。

RPC 的文档有简单的介绍：http://teaclave.apache.org/docs/codebase/rpc/ ，但对于 attested TLS 可能需要一个专门的文档去描述，后续也会加入到文档中。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk0ODQxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk4NzgyNA==,incubator-teaclave,650987824,372,NA,xinuo,7897771,,,NA,2020-06-29T07:37:31Z,2020-06-29T07:37:31Z,"谢谢解答.
不过对于明文的key在脚本(builtin_private_join_and_compute.py)里还存在疑惑:
是不是只能保证这个py文件不被别人窃取,不然,别人得到这些key也是可以通过cli进行解密?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MDk4NzgyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTE4MjU4Ng==,incubator-teaclave,651182586,372,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2020-06-29T15:08:59Z,2020-06-29T15:08:59Z,"我最近也在看SGX，这是我的理解。如有不对欢迎指出来。

A <---------> B
假设A是Client，B是encalve里面的代码，首先你信任client，因为这是在你本地上的，换言之这是你自己。B是Teaclave，但是你怎么需要保证Teaclave是你相信的那个版本（比如没有篡改。。。。。。），以及它跑在一个可信的环境里面（真的在encalve里面）呢？这就需要Remote Attestation （RA），你可以查阅Intel SGX的相关文档。

但是问题还有，比如你说的key的问题。理论上应该只有A和B知道key，A是你自己的client，你不能通过网络明文传输key是什么。这就需要A和B之间的通信是加密的。这里是通过TLS来保证。在remote attestation的过程中，attestaiton的report有可以包含程序自定义的64 byte数据，RA的过程中放入用于TLS handshake的数据，从而建立一个A和B之间的Attested TLS。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTE4MjU4Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTE5OTg3Mg==,incubator-teaclave,651199872,372,NA,xinuo,7897771,,,NA,2020-06-29T15:38:52Z,2020-06-29T15:38:52Z,"@qinkunbao 
非常感谢解答!
听你这样说,我应该明白了.
我可能被example所""迷惑"",是我自己误解了.因为我看到是放在2个用户的key都放在同一个py文件内.
真实的场景应该是
1,用户1,用户2(相当于A1,A2)各自提交自己的payload(通过SDK方式)来创建自己的task
2,最终由平台(B)来runTask.
3,A1,A2各自等待返回的结果.
这也是我的理解,也欢迎各位指正.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTE5OTg3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ3NzQ4Mg==,incubator-teaclave,651477482,372,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-06-30T02:13:50Z,2020-06-30T02:13:50Z,@mssun attested TLS用到的TLS的实现是谁提供的，实际是运行在什么环境的，会不会因为这块的实现有漏洞（比如以前open ssl的很多漏洞）从而导致泄密？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ3NzQ4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/372,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ4NDc3Mw==,incubator-teaclave,651484773,372,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-30T02:35:13Z,2020-06-30T02:35:13Z,"我们使用了 rustls [1]，是 Rust rewrite 的 TLS 库，很大程度上避免了内存安全相关的漏洞，OpenSSL 的 heartbleed 漏洞 [2] 就是由内存安全问题引起的。

- [1] https://github.com/ctz/rustls
- [2] https://heartbleed.com/","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ4NDc3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/373,incubator-teaclave,647248337,373,start service error,gaojunjie03,30582212,gjj,,CLOSED,2020-06-29T09:46:57Z,2020-07-01T08:38:33Z,"docker-compose -f docker-compose-ubuntu-1804.yml up --build


![image](https://user-images.githubusercontent.com/30582212/85995064-7a396600-ba30-11ea-988d-e2938d9c31ab.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/373/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQxNzQzMA==,incubator-teaclave,651417430,373,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-29T23:17:29Z,2020-06-29T23:17:29Z,"There is something wrong with your SGX environment. Please check if the SGX device (`/dev/isgx`) still exists.

Also, I'll come up a fix to provide more information on the error.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQxNzQzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ0NDYzMQ==,incubator-teaclave,651444631,373,NA,gaojunjie03,30582212,gjj,,NA,2020-06-30T00:36:50Z,2020-06-30T00:36:50Z,"> There is something wrong with your SGX environment. Please check if the SGX device (`/dev/isgx`) still exists.
> 
> Also, I'll come up a fix to provide more information on the error.

The SGX environment and teaclave of the server were running normally. Later, after the server was shut down and restarted, the error unable to find ""/dev/ isgx"" was reported when starting teaclave. Then, I installed SGX_driver again, there is the file ""/dev/isgx"", and then starting teaclave will report an error as shown in the figure
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ0NDYzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ0NTkwMw==,incubator-teaclave,651445903,373,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-30T00:40:40Z,2020-06-30T00:40:40Z,"Also, try to restart the AESM daemon which helps to manage architectural enclaves : `sudo systemctl restart aesmd`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ0NTkwMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ0ODgxNw==,incubator-teaclave,651448817,373,NA,gaojunjie03,30582212,gjj,,NA,2020-06-30T00:49:40Z,2020-06-30T00:49:40Z,"> sudo systemctl restart aesmd

it work. thanks
but next time when i reboot the system.  
i have to continue to reload SGX_ Driver and restart aesmd?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ0ODgxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ1MDEyNg==,incubator-teaclave,651450126,373,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-30T00:53:09Z,2020-06-30T00:53:09Z,The main reason is that the kernel may be upgraded when you reboot the system. You can setup your Linux distro to manually upgrade kernel.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ1MDEyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTkzNjcyNw==,incubator-teaclave,651936727,373,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-30T17:29:17Z,2020-06-30T17:29:17Z,I think this issue has been solved. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTkzNjcyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/373,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjEwNzc3MQ==,incubator-teaclave,652107771,373,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-30T23:56:14Z,2020-06-30T23:56:14Z,"Hi, #375 is merged. You will see more error type on SGX related errors. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjEwNzc3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/374,https://api.github.com/repos/apache/incubator-teaclave/issues/374,incubator-teaclave,647360221,374,Access Control 服务中的python脚本参与实际环境中的权限校验吗,ly137062117,52770138,,,CLOSED,2020-06-29T13:05:56Z,2020-08-10T20:50:28Z,"最近读Access Control模块源码时，发现几个不太理解的问题：
（1）acs.rs 中权限校验的逻辑最终调用了acs_enforce_request() 和acs_announce_fact() 函数，而这两个函数是在acs_engine.py 脚本中实现的。请问下，teaclave 服务启动后，acs_engine.py 是被编译为二进制参与到权限校验中吗？如果没有被编译，那么当 py 脚本被人为篡改（例如篡改了acs_enforce_request() 和 acs_announce_fact()的逻辑），那么权限校验岂不是失效了？
（2）model.conf 文件被加载时，没有任何的加解密或验证措施，当人为修改了model.conf的内容（例如将user_access_data始终设置为true），那么权限校验逻辑岂不是也失效了？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/374/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/374,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQxODA1Nw==,incubator-teaclave,651418057,374,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-29T23:19:34Z,2020-06-29T23:19:34Z,`acs_engine.py` 和 `model.conf` 都是静态编译进 enclave 里的。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQxODA1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/374,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ3MzAzNw==,incubator-teaclave,651473037,374,NA,ly137062117,52770138,,,NA,2020-06-30T01:59:59Z,2020-06-30T01:59:59Z,请问下，model.conf 文件是如何编译到 enclave 中的呢？配置文件也能静态编译吗？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ3MzAzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/374,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ3MzU4Mg==,incubator-teaclave,651473582,374,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-06-30T02:02:06Z,2020-06-30T02:02:06Z,"通过 `include_str!` (https://doc.rust-lang.org/std/macro.include_str.html)。

https://github.com/apache/incubator-teaclave/blob/80fe5e9b78f3d5a023a07f9b44cabf4bd994a919/services/access_control/enclave/src/acs.rs#L33","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MTQ3MzU4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/374,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTU4Mjg3MQ==,incubator-teaclave,671582871,374,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-10T20:50:27Z,2020-08-10T20:50:27Z,"Since there's no more question, I'm closing this issue.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTU4Mjg3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/376,https://api.github.com/repos/apache/incubator-teaclave/issues/376,incubator-teaclave,648789410,376,start teaclave services error 2,gaojunjie03,30582212,gjj,,CLOSED,2020-07-01T08:41:51Z,2020-07-02T00:37:20Z,"reboot kernel
this time no more sgx error
but 
it looks like no communication between services .
After executing the start command many times, it is still reported that there is no communication between services
![image](https://user-images.githubusercontent.com/30582212/86222921-784ede80-bbb9-11ea-97ba-f29717f65cbf.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/376/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/376,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjI4NzA4Nw==,incubator-teaclave,652287087,376,NA,gaojunjie03,30582212,gjj,,NA,2020-07-01T08:53:01Z,2020-07-01T08:53:01Z,It's not until you restart it many times. maybe got luck?....Is the service unstable?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjI4NzA4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/376,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjYwMjk4NQ==,incubator-teaclave,652602985,376,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T19:23:55Z,2020-07-01T19:23:55Z,Can you run with debug log enabled (set  the`RUST_LOG=teaclave=debug` env var)? Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjYwMjk4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/376,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjcxMzIxNw==,incubator-teaclave,652713217,376,NA,gaojunjie03,30582212,gjj,,NA,2020-07-02T00:37:20Z,2020-07-02T00:37:20Z,"Restart the system again, and then restart teaclave to start normally. Maybe there is something wrong with the operating system. Next time something goes wrong, I'll take a screenshot, thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjcxMzIxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/377,incubator-teaclave,649225657,377,error when following first function example SGX_ERROR_SERVICE_UNAVAILABLE,amiller,71644,Andrew Miller,socrates1024@gmail.com,CLOSED,2020-07-01T19:03:08Z,2020-07-02T18:00:14Z,"After following the instructions: at my-first-function, I get the following error when running the services from docker-compose
```
$ (cd docker && docker-compose -f docker-compose-ubuntu-1804.yml up)
Recreating teaclave-authentication-service ... done
Recreating teaclave-access-control-service ... done
Recreating teaclave-storage-service        ... done
Recreating teaclave-management-service     ... done
Recreating teaclave-scheduler-service      ... done
Recreating teaclave-execution-service      ... done
Recreating teaclave-frontend-service       ... done
Attaching to teaclave-access-control-service, teaclave-storage-service, teaclave-scheduler-service, teaclave-execution-service, teaclave-authentication-service, teaclave-management-service, teaclave-frontend-service
teaclave-execution-service         | [2020-07-01T18:57:07Z ERROR teaclave_execution_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-access-control-service    | [2020-07-01T18:57:06Z ERROR teaclave_access_control_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-authentication-service    | [2020-07-01T18:57:07Z ERROR teaclave_authentication_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-execution-service exited with code 0
teaclave-access-control-service exited with code 0
teaclave-scheduler-service         | [2020-07-01T18:57:06Z ERROR teaclave_scheduler_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-storage-service           | [2020-07-01T18:57:05Z ERROR teaclave_storage_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-scheduler-service exited with code 0
teaclave-storage-service exited with code 0
teaclave-management-service        | [2020-07-01T18:57:08Z ERROR teaclave_management_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-authentication-service exited with code 0
teaclave-management-service exited with code 0
teaclave-frontend-service          | [2020-07-01T18:57:08Z ERROR teaclave_frontend_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-frontend-service exited with code 0
```
The code indicates this relates to the AESM service, but as far as I can tell the AESM service is running, `/var/run/aesmd/aesm.socket` is vailable
```
$ sudo service aesmd status
● aesmd.service - Intel(R) Architectural Enclave Service Manager
   Loaded: loaded (/lib/systemd/system/aesmd.service; enabled; vendor preset: enabled)
   Active: active (running) since Wed 2020-07-01 13:48:14 CDT; 14min ago
  .....
``` 
https://github.com/apache/incubator-teaclave/blob/7b15990b56b701a9771b45b8ac754d1d83791ec9/common/protected_fs_rs/protected_fs_c/inc/sgx_error.h#L65
Any suggestions how to debug further?
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/377/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjU5ODkzMQ==,incubator-teaclave,652598931,377,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T19:14:29Z,2020-07-01T19:14:29Z,"There are something wrong when initializing the quote.

https://github.com/apache/incubator-teaclave/blob/db6ddd8847216a56a3c80a4f732773727974d502/attestation/src/platform.rs#L37

What type of EPID you are using?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjU5ODkzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjYwNDkyNA==,incubator-teaclave,652604924,377,NA,amiller,71644,Andrew Miller,socrates1024@gmail.com,NA,2020-07-01T19:28:03Z,2020-07-01T19:28:03Z,"Linkable EPID. I followed the instructions to change the default to quote type linkable in aesmd.conf. I also tried with an unlinkable key as an alternative but no difference.
 When i use the same SPID and key in other remote attestation demos (graphene) these keys are working.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjYwNDkyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjYxMjA2OQ==,incubator-teaclave,652612069,377,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T19:44:54Z,2020-07-01T19:44:54Z,"This is wired. Yes, `SGX_ERROR_SERVICE_UNAVAILABLE` means the AE service did not respond when initializing quote. I don't know what happened to your platform.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjYxMjA2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY0MDY1Mg==,incubator-teaclave,652640652,377,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T20:52:14Z,2020-07-01T20:52:14Z,"The `docker-compose` file will map the domain socket file (`/var/run/aesmd/aesm.socket`) to the service containers. Did you change the `docker-compose` file? If possible, can you only run a service with debug log enabled? Like this:

```
$ cd release/services/
$ RUST_LOG=teaclave=debug ./teaclave_authentication_service
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY0MDY1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY1MzgwMA==,incubator-teaclave,652653800,377,NA,amiller,71644,Andrew Miller,socrates1024@gmail.com,NA,2020-07-01T21:23:55Z,2020-07-01T21:23:55Z,"No change to the docker-compose file. The following is such output (run on the host btw not the dockerfile)
```
$ RUST_LOG=teaclave=debug ./teaclave_authentication_service
[2020-07-01T21:22:31Z DEBUG teaclave_binder::binder] EnclaveID: 2
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
[2020-07-01T21:22:31Z DEBUG teaclave_service_enclave_utils] Enclave initializing
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 32d5 bytes
[2020-07-01T21:22:31Z DEBUG teaclave_authentication_service_enclave] handle_invoke
[2020-07-01T21:22:31Z DEBUG teaclave_attestation::platform] init_quote
[2020-07-01T21:22:31Z ERROR teaclave_authentication_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_SERVICE_UNAVAILABLE
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
[2020-07-01T21:22:31Z DEBUG teaclave_authentication_service_enclave] handle_invoke
[2020-07-01T21:22:31Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
[2020-07-01T21:22:31Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
[2020-07-01T21:22:31Z DEBUG teaclave_authentication_service_enclave] handle_invoke
[2020-07-01T21:22:31Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
[2020-07-01T21:22:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY1MzgwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY1ODgwMg==,incubator-teaclave,652658802,377,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-01T21:36:33Z,2020-07-01T21:36:33Z,"Can you help me to check if these libraries are correctly installed? Thanks. (Some dev libraries may not be used for executing the enclave, but I just included all in case).

```
# echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' | \
    tee /etc/apt/sources.list.d/intel-sgx.list
# curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
# apt-get update && VERSION=2.9.101.2-bionic1 apt-get install -y \
    libsgx-aesm-launch-plugin=$VERSION \
    libsgx-enclave-common=$VERSION \
    libsgx-enclave-common-dev=$VERSION \
    libsgx-epid=$VERSION \
    libsgx-epid-dev=$VERSION \
    libsgx-launch=$VERSION \
    libsgx-launch-dev=$VERSION \
    libsgx-quote-ex=$VERSION \
    libsgx-quote-ex-dev=$VERSION \
    libsgx-uae-service=$VERSION \
    libsgx-urts=$VERSION
```

Then don't forget to restart the aesmd service.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY1ODgwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY3MjU0Mw==,incubator-teaclave,652672543,377,NA,amiller,71644,Andrew Miller,socrates1024@gmail.com,NA,2020-07-01T22:14:47Z,2020-07-01T22:14:47Z,"I had all of those packages installed except for the ""-dev"" versions. After installing those, I restarted the aesmd service and rebuilt teaclave but the behavior is the same","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY3MjU0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY4MjA1MQ==,incubator-teaclave,652682051,377,NA,m4sterchain,2987500,Zhaofeng Chen,,NA,2020-07-01T22:45:02Z,2020-07-01T22:45:02Z,"Hi @amiller , could you execute `sudo journalctl -b -u aesmd.service` to check if there is any additional information for the aesmd service?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjY4MjA1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjcxOTM4OA==,incubator-teaclave,652719388,377,NA,amiller,71644,Andrew Miller,socrates1024@gmail.com,NA,2020-07-02T01:02:35Z,2020-07-02T01:02:35Z,"The logs for aesmd do not convey too much, in particular don't seem to indicate any errors
```
$ sudo journalctl -b -u aesmd.service
....
Jul 01 20:01:20 amiller-fractal systemd[1]: Starting Intel(R) Architectural Enclave Service Manager...
Jul 01 20:01:20 amiller-fractal systemd[1]: Started Intel(R) Architectural Enclave Service Manager.
Jul 01 20:01:20 amiller-fractal aesm_service[13515]: The server sock is 0x5616fad87fb0
Jul 01 20:01:20 amiller-fractal aesm_service[13515]: [ADMIN]White List update requested
Jul 01 20:01:20 amiller-fractal aesm_service[13515]: [ADMIN]White list update request successful for Version: 78
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MjcxOTM4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1Mjc2MzczNg==,incubator-teaclave,652763736,377,NA,dingelish,1870436,Yu Ding,,NA,2020-07-02T03:42:32Z,2020-07-02T03:42:32Z,"Hi @amiller , could you please try Intel's SGX samplecode on the host machine? Typically it's under `/opt/sgxsdk`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1Mjc2MzczNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzA1Njk3Ng==,incubator-teaclave,653056976,377,NA,amiller,71644,Andrew Miller,socrates1024@gmail.com,NA,2020-07-02T14:58:30Z,2020-07-02T14:58:30Z,"Actually the remote attestation does fail, specifically at `sgx_select_att_key_id`. So maybe this is an indication of the sort of thing going wrong. I haven't been able to find much in the way of trouble shooting for this so I may start over reinstalling things until I can crack it.  
```
amiller@amiller-fractal:~/installing/linux-sgx/sgxsdk/SampleCode/RemoteAttestation$ ./app 

First round, we will try ECDSA algorithm.

Call sgx_get_extended_epid_group_id success.
MSG0 body generated -
4 bytes:
{
0x0, 0x0, 0x0, 0x0 
}

Sending msg0 to remote attestation service provider.

Sent MSG0 to remote attestation service.

Info, call sgx_select_att_key_id fail, current platform configuration doesn't support this attestation key ID. [main]
Second round, we will try EPID algorithm.

Call sgx_get_extended_epid_group_id success.
MSG0 body generated -
4 bytes:
{
0x0, 0x0, 0x0, 0x0 
}

Sending msg0 to remote attestation service provider.

Sent MSG0 to remote attestation service.

Info, call sgx_select_att_key_id fail, current platform configuration doesn't support this attestation key ID. [main]
Enter a character before exit ...
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzA1Njk3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzExMTEwNA==,incubator-teaclave,653111104,377,NA,amiller,71644,Andrew Miller,socrates1024@gmail.com,NA,2020-07-02T16:38:06Z,2020-07-02T16:38:06Z,"OK this is all resolved. 
I fixed the above error by reinstalling the SGX driver. I had previously installed `sgx_linux_x64_driver_1.33.bin` which I think is mainly for DCAP, rather than IAS. After installing the `sgx_linux_x64_driver_2.6.0_95eaa6f.bin` driver and reinstalling the SDK, all of the example programs in `/opt/sgxsdk` including remote attestation work fine. Thank you both for your help debugging and suggestions to narrow in on the problem.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzExMTEwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/377,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzE0NzAzMA==,incubator-teaclave,653147030,377,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-02T18:00:14Z,2020-07-02T18:00:14Z,"You are welcome. We will introduce a tool to dump information of both hardware and software to help debugging.

Feel free to ask questions at anytime. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzE0NzAzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/378,https://api.github.com/repos/apache/incubator-teaclave/issues/378,incubator-teaclave,649850766,378,How to deploy teaclave with dcap using docker-compose?,m3ngzhang,57617027,Meng Zhang,,OPEN,2020-07-02T11:18:29Z,2021-10-13T06:21:55Z,"Hi, guys!
I am trying to build the whole system with dcap in those days. But I met some problem about how to deploy teaclave. I've already built it successfully with the help of Issue#334. Here is what I got.
Starting teaclave-authentication-service ... done
Starting teaclave-storage-service        ... done
Starting teaclave-access-control-service ... done
Starting teaclave-scheduler-service      ... done
Starting teaclave-management-service     ... done
Starting teaclave-execution-service      ... done
Starting teaclave-frontend-service       ... done
Attaching to teaclave-storage-service, teaclave-authentication-service, teaclave-access-control-service, teaclave-scheduler-service, teaclave-management-service, teaclave-execution-service, teaclave-frontend-service
teaclave-authentication-service    | [2020-07-02T11:12:19Z ERROR teaclave_authentication_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-access-control-service    | [2020-07-02T11:12:20Z ERROR teaclave_access_control_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-authentication-service exited with code 0
teaclave-execution-service         | [2020-07-02T11:12:26Z ERROR teaclave_execution_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-access-control-service exited with code 0
teaclave-management-service        | [2020-07-02T11:12:22Z ERROR teaclave_management_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-scheduler-service         | [2020-07-02T11:12:21Z ERROR teaclave_scheduler_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-execution-service exited with code 0
teaclave-management-service exited with code 0
teaclave-storage-service           | [2020-07-02T11:12:19Z ERROR teaclave_storage_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-scheduler-service exited with code 0
teaclave-storage-service exited with code 0
teaclave-frontend-service          | [2020-07-02T11:12:29Z ERROR teaclave_frontend_service_enclave] Failed to start the service: Failed to initialize quote : SGX_ERROR_UNEXPECTED
teaclave-frontend-service exited with code 0
ANY IDEA?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/378/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/378,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzIxODc4Mw==,incubator-teaclave,653218783,378,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-02T21:01:59Z,2020-07-02T21:01:59Z,The `docker-compose-ubuntu-1804.yml` file is using the image built from `teaclave-rt.ubuntu-1804.Dockerfile`. You need to prepare a runtime image for dcap specifically and also make sure you can access attestation service inside the containers.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzIxODc4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/378,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzQxMjY3NA==,incubator-teaclave,653412674,378,NA,m3ngzhang,57617027,Meng Zhang,,NA,2020-07-03T08:04:55Z,2020-07-03T08:04:55Z,"@mssun I wrote another docker-compose .yml file for dcap and I successfully access attestation service inside the seven containers. But there is some error I want to share with u. 

POST /sgx/dev/attestation/v4/report application/json:
    => Matched: POST /sgx/dev/attestation/v4/report application/json (verify_quote)
sgx_qv_verify_quote fialed: SGX_QL_QUOTE_FORMAT_UNSUPPORTED
    => Outcome: Failure
    => Warning: Responding with 400 Bad Request catcher.
    => Response succeeded.

The  message is from teaclave_dcap_ref_as service. And this is my request I found from trace log.

teaclave-execution-service         | [2020-07-03T07:57:18Z TRACE teaclave_attestation::service] POST /sgx/dev/attestation/v4/report HTTP/1.1
teaclave-execution-service         |     HOST: localhost
teaclave-execution-service         |     Ocp-Apim-Subscription-Key: 00000000000000000000000000000000
teaclave-execution-service         |     Connection: Close
teaclave-execution-service         |     Content-Length: 1510
teaclave-execution-service         |     Content-Type: application/json
teaclave-execution-service         |     
teaclave-execution-service         |     {""isvEnclaveQuote"":""AgABAIYLAAALAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAADAAAAAAAAAPSdMwIXyTCOv53UZbLuzN3BVi3DCG/0Kq7yYsNI+NF8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACD1xnnferKFHD2uvYqTXdDA8iZ22kCD5xw7h38CMfOngAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/X2yymcMqRtntp3ZTB5zX1HgSVzXACpBc/mOkVdrKmYSND1f58RA3sQePJfgpDSpqwmOyU7Zg0Dew/8h7PaSEqAIAACU+6e53Iqc4m5TVRoz6iO8xpozNgQnECzzPU7FYJ5Yv1JFcRB/j3HekayQGuIuvWt/lD4BMRev/6H0R7BXKafCtwV5xt3shyQXgkOvX2sBkrj0I+SEmsfuBLnWU8sfDz1VxPgW/BGvaAcAzQBF02ajg3sPZtgiTRcx4w9FqtxtcWbrRd1s0ZXd9cKq/xXxkR3ZPYn2fyj0qra6mfcuPpz6eaFirMTKYAt6013zTBcptqp2ZUdkPjGMv34AbqJusJVEDpzrsTq4NwQQWbevxZbaf9/VwO1brQ82IhwaKIn1C5JSxVZYcL63NUPr2ZKr7qoq1COiQgmofOSIJkN/ExW2BX/sfgOlt9+AzmEk2byx1SNtEOc18QC5HkCG4kluiq75ranS4lcI12n2Ds2gBAABe3LUz1jg65OtzfQlie2mEQ+Fb34DOlUgKHYb+8H2X2PEf9clrBUZMNsJ/VeOKC8N2YxdWLfEVgBOTI+r8UgyjgjO6PQ8PdHpCXDADJVw+AWk2julvYes51PH7voKjH8xWKXZEF5coi4shsyygAPlJE8oMotHGlMLas8k8XL0S2w1tUXV6HxoP0qPsSZGd74yylfBpWuO/P7mRjEzD0EOuyv47DglEqaRgSaq7jN6Qf+g733DQnqEiJmqDg+Bl1674uBJQD0yUr4kS7jA0FKB9dtxX3DC6SXmZ9smbbB2kVHiq/lTqf7mbek5cO3RnyJHVe+OJ7pmIOptCtyJe+o3OKXq54nZpfpI+MWB6YAI2HLI89GL0leTce9ozP3qfyawpUTAGgK8t2YqLVoZTkjj1Ku735++iWRJVyQwIGMG+TGrTqYtLzFViam4qpBLypk1hvoLvYjzo4mC+8kbmbKxrHtiUSIo1Vy0XTNfeW+T4CZbcUvPwdkRS""}","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1MzQxMjY3NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/378,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44JS3w,incubator-teaclave,941960688,378,NA,SeaCSKY,22488192,BlueSKY,,NA,2021-10-13T06:21:07Z,2021-10-13T06:21:07Z,我也遇到了这样的问题， 有办法解决吗,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44JS3w/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/378,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44JS-R,incubator-teaclave,941961105,378,NA,SeaCSKY,22488192,BlueSKY,,NA,2021-10-13T06:21:55Z,2021-10-13T06:21:55Z,"用dcap做远程认证的时候，报：
[2021-10-13T06:17:58Z DEBUG rustls::client::hs] Using ciphersuite TLS13_CHACHA20_POLY1305_SHA256
[2021-10-13T06:17:58Z DEBUG rustls::client::tls13] Not resuming
[2021-10-13T06:17:58Z TRACE rustls::client] EarlyData rejected
[2021-10-13T06:17:58Z TRACE rustls::client] Dropping CCS
[2021-10-13T06:17:58Z DEBUG rustls::client::tls13] TLS1.3 encrypted extensions: [ServerNameAck]
[2021-10-13T06:17:58Z DEBUG rustls::client::hs] ALPN protocol is None
[2021-10-13T06:17:58Z DEBUG rustls::client::tls13] Server cert is [Certificate(b""0\x82\x0580\x82\x03 \xa0\x03\x02\x01\x02\x02\x14Q\xc1\xec\xc45\x87Z\xc1\xeb\x84y\xdc\xf9\n\xd3_\xdf\xe3\x04L0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x0b\x05\00K1\x0b0\t\x06\x03U\x04\x06\x13\x02US1\x0b0\t\x06\x03U\x04\x08\x0c\x02CA1\x140\x12\x06\x03U\x04\n\x0c\x0bTeaclave CA1\x190\x17\x06\x03U\x04\x03\x0c\x10Teaclave Root CA0\x1e\x17\r211008062559Z\x17\r311006062559Z0D1\x0b0\t\x06\x03U\x04\x06\x13\x02US1\x0b0\t\x06\x03U\x04\x08\x0c\x02CA1\x110\x0f\x06\x03U\x04\n\x0c\x08Teaclave1\x150\x13\x06\x03U\x04\x03\x0c\x0cwww.test.com0\x82\x02\""0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x01\x05\0\x03\x82\x02\x0f\00\x82\x02\n\x02\x82\x02\x01\0\xc5\xa3:\xbf\x8b\xc6\x10\x11\x06\xec\x1d\xe6\xa3eG\xcf[\x0c\x9d\0\x12\xffpb=\xec\xbc4@\x8fx\xe9\x1f\xb1\xfe\x9f\x1a\xb0\xab\0fx\x176\x96\xb1j\xc54\x1f\xdb4B.`U\xf0\x12\xc07%]Z\xa3\x82\n\xa7\xc4q\xf0\xfb\xa0\x88j\xc8\xd6\xe4I\x16\x81\\\xd25=\x16;\xc20<\xf9Ski\xcb\x8e\xf4\xc6\xc0\xea\x99\""V2hP\xad\xf1\xa0\xab;\xb5\xe3\xd3)@\x9f\xf2\x97\x86\xab\x0c\x9c\xd6\x05\x94'\xe9~\x9a\x02f\xdeZS\xb3\xc1\x1b2\xe9\xd8\xc9\x1anh[\xf4%N~\xcf\x8ez\xd7\xca\xef\xab c6:?\x1f\xb2\xcc\xb7\xaf\xde\x0bb\x1c\xe9\x8a\xc7\xd5\x02\xda\x80JH\xa6\xd3mw.\xf9&\xc2_O\xcaI-lx\x1a\xb1\xe6'\x16\x92\xbb\xae\x99\xbd\xda\xb0T\xa5\xa7m\xf2]!j\x01,},\xa6O\xc9V\x10@\xe4\x83\xa4\xd4M\x9f(\xb9\xcam%\xbd\x9f~\xba\x9e\x84L\x04O>\x0e_\xc5(\xe0\x13\xf4G\x81+\xda\r\x9de\xdf\x02\xf4\xeb\xf8\xa2$\xdb\x9f\xd5t\xa0\x14'\x0e\0Do\xcdm\xd7\x0b\xf5\xd7r\xec'\x93\xc6:\rJ\xc2\x8f\x11\x8b\xc4c\x8b\x8b@\x89\\\xd4 \x14h\xa9\x0cLUP\xa1\xfcn\xb5\xa5\xb9N\xdf\xa4:\xab(t74V\xc7\xb3-C\x01\x15\xf6#(\xe4\xdb\xc1L\xaf\x0f\x83\r\x7f\x91J\xe8\x10X\xc5Ue\xb3wl\xa8\\J]\xf8\x07Cih4\xc5\xcb\xaa\xc6~\xe2\xac\x1b\x8e\xc21\x03}\xc7\xb4\xd1\xdf\xeb\x1cx\xceD\xcd\xd8Re\xe6\x04\x96\x85b\x8d\xac\xf0w!\xd9g\xd5\x1e\xfc\xd0h\x8e\x18\xca\x82\xaai\xa1P\xb5B]_S\x87&\x96\xd2\xd5\x8d\xee\xc7\xbf\xd1s\x11^\x159T\x88ON\x8a\xdc\x03\xc2o\xaf\xc2(\t\xf5\xcc\x03v\x9f\x16\xb9\xf9Y\xcf\x89\xca\xc9\0\xee\x8eO\x9a\xa8\x93\xac;=\x88b\xbas\xca\xa1\xe4\xac'\xc2\xa6\x92\xb47\x99Q\xad\xdd\xa7\x84\x04 \xdf\xc5}\xca\xcf\x8c\xd8\x8b\x04\xdd\xad\x9a\xba\xd0\x9a\xbf-\x02\x03\x01\0\x01\xa3\x1b0\x190\x17\x06\x03U\x1d\x11\x04\x100\x0e\x82\x0cwww.test.com0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x0b\x05\0\x03\x82\x02\x01\0\x96\xab\xd2DL,\xe2S\xf6\xa7\x14FV\x9do\xaa\xac\x885\x15\x8a2\x0fv\xe4D_\x89/\xe2\xdd\\Zy\xb44\xf8\xa2|v|\x0e\xe6M\xbe\x90uU\xea\x82\x8eL@\x1esGX\xfe[\x99*\xce\xc0K\xca9\xa2\x9b7xSV\xe7\xda\x7f\xd2\x17~\x06\xc7\xe6\x9f\xec\xde8\xc5\x9eC\x92\xfcFnA\xa6\x16ob\xc4\xfe\xafk\x13O\xef\xd8p\xa3\x9c0\x02T\x90\xd4f\xab&\xc9\x85tQC\xf4M\t5Sj\xc8t\xa9S\xc3\xcc\xa5\xf2\x88a1p\x94\xees\xc5e~\xc4\x96&\x0co\x8a\x9ei^b\xa55\xe2\x19y\xe5\xd8\x9c\xbd3\xe0\xb7\xef\xb5\xd9\xed\xc6\x01\xc3MC,9\x95NxH\xaf\xbc\xab|\xf1\x80\x1f\x84\xde\xa6=%\x1ag\x1c\xfd\xf0\xc3\xcc\xd2j\xed\x9f\xf9\xadK\xc1\x03\xa0\xd6;\x89\xf1\xb8R:\xaf\xf5\xb1\xe65\x12\xf6\xbc\x06\x1c\xc7\xc6\xb7\x84L\x9c\xb2\xc1O6s\xd8F\x1c\xa1@\xc2`\xc1\xab\x88S\x9d\x19\xd8\x83+{\xe3\x07\x9em\xb3\xcc\x99\x18\""p\xe9\x1f\x97/\xa0:\x1b\x96\xf7\x82\xec\xb8\x92\xc8\xd8\x1c+\xd2\x8f\xc8\xa1\xb8\xadw\x1a\xaf\xb9\x05zw9\xa3\xbb2%\xa00\xb6\x8d\xe6%\xbe\xb2\xf7?\xe5\x8f\xb1\xb5\xcfL\x98w\xe1\xf2D\xe6>8\xd2\xa4\x84\xf8\xae\x0f\x9a\x9fA\x1f\r\x0ebfJ\xe7\xb4\xc6}_Ee\x8e\xfd\xb3/\x81p\x0f\xef!\x83\xa7\xb2\""$\x1f\x17\x18\xe4\xeb$\x0e\x0b2\xdd#\xc45\xdf\xf8\xfd)U,\xc7\x90\x12_\xc4Q\x13)\xd67}>\x1a0\xae\xf1\xec\r5]\x89w\xe8S\x1b\x83\xc8\x85\xa8\xd8 \xa4\xb4\x8cQ\0C\x07\xf4T\xf9Di\x1f8Y\x1a\x01Wh\xbf\x87\xb1\xb3T\x03\xf0gu3_\xe3e\xbdo/!Z\xb0\xe2\x1e\x8b\xe3\xe5\xd2\xe5\x81\xc9\xbf\xac\xf1\xd1\xb0\xc3\xe6\xfc\x86\xd9>\xb27x\xf9r?5.\xe9\xea\xdb\xef\xe6\n\x96\x0c\x8a]\x05\x80\x93 \n\xca\x9e\x94'X\xf1\x1f\xcf\x9f\x17\xa0\x16/\xa2\xdag\xfd\xe4\xdc\xb1"")]
[2021-10-13T06:17:58Z DEBUG rustls::client::tls13] Ticket saved
[2021-10-13T06:17:58Z TRACE teaclave_attestation::service] HTTP/1.1 400 Bad Request
    Connection: close
    Content-Type: text/html; charset=utf-8
    Server: Rocket
    Content-Length: 649
    Date: Wed, 13 Oct 2021 06:17:58 GMT
    
    
                <!DOCTYPE html>
                <html lang=""en"">
                <head>
                    <meta charset=""utf-8"">
                    <title>400 Bad Request</title>
                </head>
                <body align=""center"">
                    <div role=""main"" align=""center"">
                        <h1>400: Bad Request</h1>
                        <p>The request could not be understood by the server due
                    to malformed syntax.</p>
                        <hr />
                    </div>
                    <div role=""contentinfo"" align=""center"">
                        <small>Rocket</small>
                    </div>
                </body>
                </html>
            
[2021-10-13T06:17:58Z DEBUG teaclave_attestation::service] http_response.parse
[2021-10-13T06:17:58Z DEBUG teaclave_attestation::service] Invalid Attestation Evidence Payload. The client should not
                     repeat the request without modifications.
[2021-10-13T06:17:58Z ERROR teaclave_authentication_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
            request without modifications.
[2021-10-13T06:17:58Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
[2021-10-13T06:17:58Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
[2021-10-13T06:17:58Z TRACE teaclave_authentication_service_enclave] tee receive cmd: 1002, input_buf = [110, 117, 108, 108]
[2021-10-13T06:17:58Z DEBUG teaclave_authentication_service_enclave] handle_invoke
[2021-10-13T06:17:58Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
[2021-10-13T06:17:58Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
[2021-10-13T06:17:58Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
[2021-10-13T06:17:58Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
[2021-10-13T06:17:58Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
[2021-10-13T06:17:58Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44JS-R/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/382,https://api.github.com/repos/apache/incubator-teaclave/issues/382,incubator-teaclave,651161502,382,Teaclave SGX Tool on DCAP driver v1.33,dingelish,1870436,Yu Ding,,CLOSED,2020-07-05T22:53:25Z,2020-07-05T23:48:58Z,"Teaclave SGX tool seems cannot recognize DCAP driver [v1.33 kernel driver](https://download.01.org/intel-sgx/latest/dcap-latest/linux/distro/ubuntuServer18.04/sgx_linux_x64_driver_1.33.bin)
```
$ modinfo isgx
modinfo: ERROR: Module isgx not found.
$ modinfo sgx
modinfo: ERROR: Module sgx not found.
$ lsmod | grep sgx
intel_sgx              28672  0
$ modinfo intel_sgx
filename:       /lib/modules/4.15.0-108-generic/updates/dkms/intel_sgx.ko
version:        1.33
license:        Dual BSD/GPL
author:         Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com>
description:    Intel SGX DCAP Driver
srcversion:     4285BC07F23FBC39ABE0D69
depends:
retpoline:      Y
name:           intel_sgx
vermagic:       4.15.0-108-generic SMP mod_unload
signat:         PKCS#7
signer:
sig_key:
sig_hashalgo:   md4
```

should we probe one more module `intel_sgx` at https://github.com/apache/incubator-teaclave/blob/master/tool/app/src/main.rs#L176","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/382/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/386,https://api.github.com/repos/apache/incubator-teaclave/issues/386,incubator-teaclave,654110208,386,远程稍大文件（50）下载到,ly137062117,52770138,,,CLOSED,2020-07-09T14:34:14Z,2020-07-10T05:05:31Z,"在execution service 执行任务时，下载的远程文件，通过docker查看，发现sha256sum (tmp文件地址)和sha256sum(我们注册的文件地址)，其结果不一样，runtime.open_input()出现报错Err(Unknown error: 28676 (os error: 28676))。是否是文件下载过程中出现了损坏？

docker中文件进行sha256：
sha256sum Bob_1000.enc
eb11d658c25c2cf0bdf08135ac5af769b76e6adaed60152c1af57885ab66b11f

外部文件进行sha256：
sha256sum Bob_1000.enc
8cc9b09a3d2a0e62a096c592600114f1b1ba667f4d75085df1d5420dbb04bfc8","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/386/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/386,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ4NDYzMA==,incubator-teaclave,656484630,386,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-10T05:05:30Z,2020-07-10T05:05:30Z,Closed. Duplicated with #387.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ4NDYzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/387,incubator-teaclave,654454961,387,注册文件执行任务时，远程下载大文件（50k），出现文件损坏,ly137062117,52770138,,,CLOSED,2020-07-10T02:00:57Z,2020-07-10T17:51:15Z,"在execution service 执行任务时，下载的远程文件，通过docker查看，发现sha256sum (tmp文件地址)和sha256sum(我们注册的文件地址)，其结果不一样，runtime.open_input()出现报错Err(Unknown error: 28676 (os error: 28676))。是否是文件下载过程中出现了损坏？

docker中文件进行sha256：
sha256sum Bob_1000.enc
eb11d658c25c2cf0bdf08135ac5af769b76e6adaed60152c1af57885ab66b11f

外部文件进行sha256：
sha256sum Bob_1000.enc
8cc9b09a3d2a0e62a096c592600114f1b1ba667f4d75085df1d5420dbb04bfc8","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/387/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ2NzUzNQ==,incubator-teaclave,656467535,387,NA,duanbing,3865728,Bing,,NA,2020-07-10T03:53:01Z,2020-07-10T03:53:01Z,下载过程中有什么异常日志吗？ 类似 Dest local file:  xxx already exists.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ2NzUzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ4NDQ5NQ==,incubator-teaclave,656484495,387,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-10T05:05:06Z,2020-07-10T05:05:06Z,文件大小是多少？请把复现的步骤写清楚，多谢了。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ4NDQ5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ4NjgwMA==,incubator-teaclave,656486800,387,NA,ly137062117,52770138,,,NA,2020-07-10T05:13:22Z,2020-07-10T05:13:22Z,问题已定位，是用到的reqwest库，在下载远程文件时，会有损失，尝试下载一份500k的数据文件，下载到本地结果只有140k左右,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ4NjgwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ5NTQ3OA==,incubator-teaclave,656495478,387,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-10T05:46:11Z,2020-07-10T05:46:11Z,好的，具体是什么引起的？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ5NTQ3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ5NzYxNQ==,incubator-teaclave,656497615,387,NA,ly137062117,52770138,,,NA,2020-07-10T05:53:26Z,2020-07-10T05:53:26Z,"我们通过日志发现，在这里 tokio 库在写入文件的时候，会出现文件不完整的情况（只写入部分），我们独立运行这个库，也是得到相同的结果：
https://github.com/apache/incubator-teaclave/blob/d3a6abd158e2113df89a7de13cad91080a81d027/file_agent/src/agent.rs#L38","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjQ5NzYxNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjUwMDM4Mg==,incubator-teaclave,656500382,387,NA,ly137062117,52770138,,,NA,2020-07-10T06:03:19Z,2020-07-10T06:03:19Z,每个循环中下载到chunk中的数据是完整的，但是每次 write(chunk) 写入文件时，最多只能写入16384字节长度的数据，导致了多余的数据丢失,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjUwMDM4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjUxMTMzMg==,incubator-teaclave,656511332,387,NA,duanbing,3865728,Bing,,NA,2020-07-10T06:39:55Z,2020-07-10T06:39:55Z,"write == create（truncate if exists） + write_all.  这里是不是只调用write_all?  
https://doc.rust-lang.org/src/std/fs.rs.html#344-349  ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjUxMTMzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/387,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjgwMzY3Ng==,incubator-teaclave,656803676,387,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-10T17:51:14Z,2020-07-10T17:51:14Z,Fixed by cc74ed0. Thanks. Closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY1NjgwMzY3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/392,https://api.github.com/repos/apache/incubator-teaclave/issues/392,incubator-teaclave,659059433,392,builtin_echo failed with large input,yc-huang,1187779,YC,ychuang.cn@gmail.com,CLOSED,2020-07-17T09:18:09Z,2020-07-31T08:18:54Z,"The python client will fail with large input arguments; this could be replicated by running builtin_echo example with large input (e.g. the project LICENSE file, size 11887).

-  increase the heap size of both storage and management service (service/[storage, management]/enclave/Enclave.config.xml) to e.g. 0x4000000 could avoid the oom issue;
-  it seems that the rpc reqs/resps could be too verbose / low efficiency;
-  it seems that the response payload get truncated somewhere to 16k(16384) and become malformed.

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/392/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/392,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2Njc0MTA3OQ==,incubator-teaclave,666741079,392,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-07-30T22:21:02Z,2020-07-30T22:21:02Z,"I have increased the default to 256M in this commit #396 and fixed the truncated response issue in the Python client SDK.

For the large input, we don't suggest to send as function parameters and we may consider to limit the size of an RPC message later. One reason is that the current RPC is in JSON format which does not support raw binary data very well. That's why large inputs consume many memory when parsing the RPC messages. This situation will be improved if we support HTTP(s).","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2Njc0MTA3OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/392,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2Njk5ODcyOQ==,incubator-teaclave,666998729,392,NA,yc-huang,1187779,YC,ychuang.cn@gmail.com,NA,2020-07-31T08:18:54Z,2020-07-31T08:18:54Z,"Thanks @mssun,  my local test confirmed that this had been fixed.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2Njk5ODcyOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/393,https://api.github.com/repos/apache/incubator-teaclave/issues/393,incubator-teaclave,661270944,393,How to debug Python scripts,hoshinoko,32092170,,,OPEN,2020-07-20T02:15:52Z,2021-12-22T11:08:59Z,"Hello! I want to use teaclave to build some machine learning algorithms, but when debugging the program, I find that the error message is not clear. I think the problem lies in that I use numpy to run the program locally, while teaclave uses the library in mesapy to run it, which may be due to version inconsistency. Can you give me some advice? Should I look at the source code of the supported libraries in the mesapy library to rewrite my Python program, or should I learn rust and use it to write machine learning algorithms.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/393/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/393,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTU3Mzk3Ng==,incubator-teaclave,669573976,393,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-05T22:45:32Z,2020-08-05T22:45:32Z,"Hi, thanks for asking. This is one of our limitation for the MesaPy executor. One way to debug Python scripts is to directly use the standalone MesaPy for SGX. For instance, you can use the exec example (https://github.com/mesalock-linux/mesapy/tree/sgx/sgx/examples/exec) to develop the Python script first and then run in the Teaclave framework.

For your case, I think this is because you are using numpy, while the MesaPy executor does not support numpy and many other third-party libraries currently.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTU3Mzk3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/393,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MTgyMDIzNg==,incubator-teaclave,761820236,393,NA,master-davidlee,49427668,,,NA,2021-01-17T14:21:57Z,2021-01-17T14:21:57Z,"Hi, How can I load the MachineLearning model files and run it within Teaclave? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MTgyMDIzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/393,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47kv9f,incubator-teaclave,999489375,393,NA,aqinwenky,17559640,wenky,qinwenjie@aliyun.com,NA,2021-12-22T11:08:59Z,2021-12-22T11:08:59Z,"> Hi, thanks for asking. This is one of our limitation for the MesaPy executor. One way to debug Python scripts is to directly use the standalone MesaPy for SGX. For instance, you can use the exec example (https://github.com/mesalock-linux/mesapy/tree/sgx/sgx/examples/exec) to develop the Python script first and then run in the Teaclave framework.
> 
> For your case, I think this is because you are using numpy, while the MesaPy executor does not support numpy and many other third-party libraries currently.

@mssun  hi mssun，about this example https://github.com/mesalock-linux/mesapy/tree/sgx/sgx/examples/exec , I have a question.   
I want to disable print buffer, make SGX_PRERELEASE=1 SGX_DEBUG=0, and then exec ./app  
but app.py  still prints some buffer， I think app.py is performed inside enclave,   `print(argv)
    print(""Hello, World!"") `  should not execute successfully. So Can you explain why? Maybe I misunderstood. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47kv9f/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/400,https://api.github.com/repos/apache/incubator-teaclave/issues/400,incubator-teaclave,673178648,400,关于数据文件加密解密的问题,gaojunjie03,30582212,gjj,,CLOSED,2020-08-05T01:09:37Z,2020-08-05T05:56:53Z,"现在我已知的数据文件加密解密是通过./teaclave-cli encrypt/decrypt来生成的，也就是我其他方的数据文件必须得拷贝到teaclave所在服务器上才能进行加密和解密。
现在有个问题就是我的数据文件明文可能并不想直接拷贝到teaclave所在服务器上进行解密，因为个人隐私问题。是否能提供这种功能？
如：./teaclave_cli encrypt --algorithm teaclave-file-128 --input-file http://192.168.4.143:8888/teaclave/guest_student_data.csv --key 00000000000000000000000000000000 --output-file http://192.168.4.143:8888/teaclave/guest_student_data_enc.csv -c
通过http连接....
或者是能否介绍下如何用java代码或者其他语言去实现teaclave-file-128算法？这样我可以单独把这个算法抽取出来放到其他机器上单独进行数据文件的加密和解密呢？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/400/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/400,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODkyOTQ0NA==,incubator-teaclave,668929444,400,NA,gaojunjie03,30582212,gjj,,NA,2020-08-05T02:00:04Z,2020-08-05T02:00:04Z,或者是否可以单独编译teaclave_cli？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODkyOTQ0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/400,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODk1MjMwNA==,incubator-teaclave,668952304,400,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2020-08-05T03:06:58Z,2020-08-05T03:06:58Z,"可以单独编译teaclave_cli
`$ cd cli`
`$ cargo build`","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODk1MjMwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/400,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODk3MDI5Mg==,incubator-teaclave,668970292,400,NA,gaojunjie03,30582212,gjj,,NA,2020-08-05T04:17:31Z,2020-08-05T04:17:31Z,"> 可以单独编译teaclave_cli
> `$ cd cli`
> `$ cargo build`

可以！ 感谢","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODk3MDI5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/400,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODk5NjI2OA==,incubator-teaclave,668996268,400,NA,teaclave-archiver,59631545,,,NA,2020-08-05T05:56:30Z,2020-08-05T05:56:30Z,"Please read our doc on the build system for more advanced building usages.
Thanks.

https://github.com/apache/incubator-teaclave/blob/master/docs/build-system.md
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2ODk5NjI2OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/401,https://api.github.com/repos/apache/incubator-teaclave/issues/401,incubator-teaclave,673383928,401,关于多方计算问题,gaojunjie03,30582212,gjj,,CLOSED,2020-08-05T09:11:00Z,2020-08-05T10:08:04Z,"现在有个需求是这样的，A方和B方还有一个平台方，平台方安装好了teaclave。
A方和B方只用到了teaclave的python http服务（6789）对外映射自己的加密数据文件。

1. 首先，平台方执行PYTHONPATH=../../sdk/python python3 builtin_echo.py .....根据双方的输入数据和输出数据的label产生taskID，然后把taskID传给A方和B方
2. 然后A方和B方都是用了PYTHONPATH=../../sdk/python python3 builtin_echo.py ..根据平台方得到的taskId 来registerData自己的数据并同时approveTask。
3. 平台方收到A方和B方都registerData和approveTask成功，平台方再次执行PYTHONPATH=../../sdk/python python3 builtin_echo.py ..... 把该taskID进行approve_task和invoke_task。

现在问题出现在第三步的invoke_task 报错{'result': 'err', 'request_error': 'permission denied'}。

我这个需求主要是想A方和B方自己管理自己的加密文件和密钥、cmac值，自己进行registerData 不再统一在平台方上进行。
最终报以上错误
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/401/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/401,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTA4MDI5Ng==,incubator-teaclave,669080296,401,NA,gaojunjie03,30582212,gjj,,NA,2020-08-05T09:13:23Z,2020-08-05T09:13:23Z,A方和B方的example\python\utils.py  的HOSTNAME 我改成了平台方的ip,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTA4MDI5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/401,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTA4NjQzOA==,incubator-teaclave,669086438,401,NA,gaojunjie03,30582212,gjj,,NA,2020-08-05T09:26:05Z,2020-08-05T09:26:05Z,"通过阅读源码 最终定位到是这里报了错
![image](https://user-images.githubusercontent.com/30582212/89396038-a7201d80-d740-11ea-84b0-0f100ddff7ba.png)
![image](https://user-images.githubusercontent.com/30582212/89396108-bacb8400-d740-11ea-8ac8-7872b73cf885.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTA4NjQzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/401,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTEwNjE5Nw==,incubator-teaclave,669106197,401,NA,gaojunjie03,30582212,gjj,,NA,2020-08-05T10:08:00Z,2020-08-05T10:08:00Z,哦哦 我尝试了下要在平台方那边对A方和B方再次approve_task 就可以了,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY2OTEwNjE5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/403,https://api.github.com/repos/apache/incubator-teaclave/issues/403,incubator-teaclave,673997158,403,启动服务报错,gaojunjie03,30582212,gjj,,CLOSED,2020-08-06T04:04:37Z,2020-08-12T21:22:26Z,"非Simulation Mode

![image](https://user-images.githubusercontent.com/30582212/89489325-c8cee280-d7dc-11ea-85f5-38ee3217fefe.png)

![image](https://user-images.githubusercontent.com/30582212/89489359-e0a66680-d7dc-11ea-97ce-37bc0e45f370.png)

![image](https://user-images.githubusercontent.com/30582212/89489365-e56b1a80-d7dc-11ea-9e05-77328ba4687e.png)

![image](https://user-images.githubusercontent.com/30582212/89489376-ebf99200-d7dc-11ea-9fe0-9be0dea07c3a.png)

Failed to start the service: TLS connection error.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/403/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/403,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MDE2Mzk4MQ==,incubator-teaclave,670163981,403,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-06T20:02:03Z,2020-08-06T20:02:03Z,"There are two places which may report this error:

```
 config
        .root_store
        .add_pem_file(&mut DCAP_ROOT_CA_CERT.to_string().as_bytes())
        .map_err(|_| AttestationServiceError::TlsError)?;
```

and
 
```
let mut stream = new_tls_stream(url).map_err(|_| AttestationServiceError::TlsError)?;
```

That is to say, please check the DCAP_ROOT_CA_CERT file or attestation service connectivity.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MDE2Mzk4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/403,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTY4NzI5Nw==,incubator-teaclave,671687297,403,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-11T02:28:14Z,2020-08-11T02:28:14Z,Any update on this issue?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTY4NzI5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/403,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTY4NzY1Mw==,incubator-teaclave,671687653,403,NA,gaojunjie03,30582212,gjj,,NA,2020-08-11T02:29:36Z,2020-08-11T02:29:36Z,"no. u can close this one




------------------&nbsp;原始邮件&nbsp;------------------
发件人: ""Mingshen Sun""<notifications@github.com&gt;; 
发送时间: 2020年8月11日(星期二) 上午10:28
收件人: ""apache/incubator-teaclave""<incubator-teaclave@noreply.github.com&gt;; 
抄送: ""Gjj.""<gaojunjie03@qq.com&gt;; ""Author""<author@noreply.github.com&gt;; 
主题: Re: [apache/incubator-teaclave] 启动服务报错 (#403)





 
Any update on this issue?
 
—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub, or unsubscribe.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTY4NzY1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/404,https://api.github.com/repos/apache/incubator-teaclave/issues/404,incubator-teaclave,676756089,404,About teaclave-file-128 encryption algorithm error,hoshinoko,32092170,,,CLOSED,2020-08-11T10:17:40Z,2020-08-25T21:44:15Z,"There is no problem with using teaclave-file-128 to encrypt and decrypt data in cli, but when I use teaclave-file-128 to run in Simulation Mode, I found that the key can only take a number less than 2 digits. If it exceeds, an error will occur. What format is the key of teaclave-file-128?

![Q 7J~VRT$ 4BLG9)H8DP11H](https://user-images.githubusercontent.com/32092170/89886098-a8e55780-dbfe-11ea-9e4a-9d634ecc8e57.png)
key：000...0001234

![528d027737e252cc330d8120da95e9d](https://user-images.githubusercontent.com/32092170/89886240-e1853100-dbfe-11ea-8741-56e79c8135ba.png)
key：000...0000004","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/404/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/404,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MzExMDY3Mg==,incubator-teaclave,673110672,404,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-12T21:05:30Z,2020-08-12T21:05:30Z,"Thanks for your report.

For CLI, the key is in hex format, while in Python SDK, key is in binary array.

`00000000000000000000000000001234` should be `[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x12, 0x34]`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MzExMDY3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/404,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3ODQ5NjA3Mw==,incubator-teaclave,678496073,404,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-21T21:05:25Z,2020-08-21T21:05:25Z,"Hi @hoshinoko, any update?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3ODQ5NjA3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/404,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4MDI4NDk0NA==,incubator-teaclave,680284944,404,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-25T21:44:14Z,2020-08-25T21:44:14Z,"Since there is no update on this issue, I'm closing it. Feel free to reopen if you think it's still valid. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4MDI4NDk0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/405,https://api.github.com/repos/apache/incubator-teaclave/issues/405,incubator-teaclave,678216989,405,about sql capability of trusted computing scripts,gaojunjie03,30582212,gjj,,CLOSED,2020-08-13T07:26:43Z,2020-08-18T00:21:09Z,"First of all, there is a requirement: use SQL ability to fuse multi-party data to get a result set output, such as the personnel financial data of Party A and the personnel consumption data of Party B, and finally fuse the result set of AB and Party B according to the left/right/inner join of SQL and the where condition. I think this requirement can be realized by using Python pandas or sparksql ... , but it is not supported by mesapy.

What is the solution to achieve this effect? If i use rust to develop built-in functions, it will work?
If rust can be implemented, what libraries can be used to implement rust? I haven't written about rust","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/405/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/405,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3NTEzNjQ3MQ==,incubator-teaclave,675136471,405,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-17T22:00:20Z,2020-08-17T22:00:20Z,"Sorry, we do not support the libraries you mentioned for data analytics. However, you can write you own function to achieve similar functionalities.

BTW, Apache Arrow's Rust implementation looks promising [1]. I hope someone may help and find out if it works for Teaclave.

- [1] https://github.com/apache/arrow/tree/master/rust","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3NTEzNjQ3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/405,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3NTE3OTIyNg==,incubator-teaclave,675179226,405,NA,gaojunjie03,30582212,gjj,,NA,2020-08-18T00:21:09Z,2020-08-18T00:21:09Z,ok thank. i will check it out.  ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY3NTE3OTIyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/410,https://api.github.com/repos/apache/incubator-teaclave/issues/410,incubator-teaclave,685959731,410,How to use _numpypy,gaojunjie03,30582212,gjj,,CLOSED,2020-08-26T02:40:31Z,2020-08-28T08:03:28Z,"Since numpy and _numpyy are used differently, can u list the usage of _numpyy ?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/410/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/411,incubator-teaclave,687909782,411,Got error when invoking echo function by python!,Agzs,24476625,,,OPEN,2020-08-28T08:37:11Z,2020-10-22T21:36:21Z,"Hi, I am new to Intel SGX and docker. I have successfully executed python code `builtin_echo.py` in simulation mode. But when I rebuilt project and executed it in hardware mode, I got the same openssl error message like [#305] as follows: 
```
Traceback (most recent call last):
  File ""builtin_echo.py"", line 68, in <module>
    main()
  File ""builtin_echo.py"", line 60, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 20, in echo
    ENCLAVE_INFO_PATH).connect().get_client()
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 145, in connect
    ""authentication"")
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 464, in _verify_report
    signing_cert = load_certificate(FILETYPE_ASN1, signing_cert)
  File ""/home/ethtest/.local/lib/python3.6/site-packages/OpenSSL/crypto.py"", line 1794, in load_certificate
    _raise_current_error()
  File ""/home/ethtest/.local/lib/python3.6/site-packages/OpenSSL/_util.py"", line 54, in exception_from_error_queue
    raise exception_type(errors)
OpenSSL.crypto.Error: [('asn1 encoding routines', 'ASN1_get_object', 'header too long')]
```
My operations are as follows:
- Install SGX driver, SDK and PSW at version 2.9, successfully run SampleEnclave
- Clone codes at master branch and build Teaclave in hardware mode
- Setup IAS to obtain my own SPID and Primary key, and configure `/etc/aesmd.conf`
- Lanuch Teaclave services with specified environment variables
- Open another terminal, and execute python code `builtin_echo.py`, but it reports the above error

I have even compared `keys/ias_root_ca_cert.pem` and `Intel_SGX_Attestation_RootCA.pem` downloaded at [Intel IAS](https://api.portal.trustedservices.intel.com/EPID-attestation). But I don't know how to solve it, thanks for your help! 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/411/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4Mjk2NjYyNA==,incubator-teaclave,682966624,411,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-08-28T17:28:23Z,2020-08-28T17:28:23Z,"Thanks for the report. Can you print the TLS extension here https://github.com/apache/incubator-teaclave/blob/47b8573df074ac1879aa082e5ea23d8d5baaee9d/sdk/python/teaclave.py#L459.

Seems that the sigining certification you got from the attestation report is invalid.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4Mjk2NjYyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4MzQwNjQ5Ng==,incubator-teaclave,683406496,411,NA,Agzs,24476625,,,NA,2020-08-30T11:03:14Z,2020-08-30T11:03:14Z,"Thanks. I print it, but its variables are NULL as follows:
```
{'report': [], 'signature': [], 'signing_cert': []}
Traceback (most recent call last):
  File ""builtin_echo.py"", line 68, in <module>
    main()
  File ""builtin_echo.py"", line 60, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 20, in echo
    ENCLAVE_INFO_PATH).connect().get_client()
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 145, in connect
    ""authentication"")
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 465, in _verify_report
    signing_cert = load_certificate(FILETYPE_ASN1, signing_cert)
  File ""/home/ethtest/.local/lib/python3.6/site-packages/OpenSSL/crypto.py"", line 1794, in load_certificate
    _raise_current_error()
  File ""/home/ethtest/.local/lib/python3.6/site-packages/OpenSSL/_util.py"", line 54, in exception_from_error_queue
    raise exception_type(errors)
OpenSSL.crypto.Error: [('asn1 encoding routines', 'ASN1_get_object', 'header too long')]
```
OS is Ubuntu 18.04.5, and my SPID and Primary key are as follows:
```
ethtest@ethtest:docker$ echo $AS_SPID 
7118C31619F0003A3F5EDC7D32E9AED0
ethtest@ethtest:docker$ echo $AS_KEY 
27***d36a1************************************
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4MzQwNjQ5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4ODA4Mjc5MA==,incubator-teaclave,688082790,411,NA,Agzs,24476625,,,NA,2020-09-07T07:01:30Z,2020-09-07T07:01:30Z,"And I use teaclave_sgx_tool and obtain its report as follows:
```
ethtest@ethtest:incubator-teaclave$ find ./ -name teaclave_sgx_tool
./build/target/untrusted/debug/teaclave_sgx_tool
./release/tool/teaclave_sgx_tool
*****************************************************************************************************************************************
ethtest@ethtest:incubator-teaclave$ ./build/target/untrusted/debug/teaclave_sgx_tool status
Vendor: GenuineIntel
CPU Model: Intel(R) Core(TM) i7-9700 CPU @ 3.00GHz
SGX: 
  Has SGX: true
  Has SGX1: true
  Has SGX2: false
  Supports ENCLV instruction leaves EINCVIRTCHILD, EDECVIRTCHILD, and ESETCONTEXT: false
  Supports ENCLS instruction leaves ETRACKC, ERDINFO, ELDBC, and ELDUC: false
  Bit vector of supported extended SGX features: 0x00000000
  Maximum supported enclave size in non-64-bit mode: 2^31
  Maximum supported enclave size in 64-bit mode: 2^36
  Bits of SECS.ATTRIBUTES[127:0] set with ECREATE: 0x0000000000000036 (lower) 0x000000000000001F (upper)
  EPC physical base: 0x0000000080200000
  EPC size: 0x0000000005D80000 (93M)
  Supports flexible launch control: true
  SGX device: /dev/sgx false, /dev/isgx true
  AESM service: true

Kernel module (isgx):
filename:       /lib/modules/5.4.0-42-generic/kernel/drivers/intel/sgx/isgx.ko
license:        Dual BSD/GPL
version:        2.6.0
author:         Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com>
description:    Intel SGX Driver
srcversion:     F725A4ECA4194E2D2470F56
alias:          acpi*:INT0E0C:*
depends:        
retpoline:      Y
name:           isgx
vermagic:       5.4.0-42-generic SMP mod_unload 

Kernel module (sgx):
modinfo: ERROR: Module sgx not found.

Kernel module (intel_sgx):
modinfo: ERROR: Module intel_sgx not found.
```
But, when I test attestation, it reports errors as follows:
```
ethtest@ethtest:incubator-teaclave$ ./build/target/untrusted/debug/teaclave_sgx_tool attestation --key XXX --spid XXX 
Error: found SGX error: SGX_ERROR_ENCLAVE_FILE_ACCESS
****************************************************************************************************************************************
ethtest@ethtest:incubator-teaclave$ ./release/tool/teaclave_sgx_tool attestation --key XXX --spid XXX --url https://api.trustedservices.intel.com:443 --algorithm sgx_epid
Error: found SGX error: SGX_ERROR_ENCLAVE_FILE_ACCESS
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4ODA4Mjc5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4ODY1NzExNA==,incubator-teaclave,688657114,411,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-09-08T06:50:50Z,2020-09-08T06:50:50Z,@Agzs can you change to the `teaclave_sgx_tool` directory (`cd  release/tool`) and execute the `attestation` subcommand again?  Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4ODY1NzExNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4ODY4NjA3NQ==,incubator-teaclave,688686075,411,NA,Agzs,24476625,,,NA,2020-09-08T07:46:19Z,2020-09-08T07:46:19Z,"@mssun , thanks, I do that as #379 but get nothing
```
ethtest@ethtest:tool$ ./teaclave_sgx_tool attestation --key XXX --spid 7118C31619F0003A3F5EDC7D32E9AED0 
**********************************************************************************************************************************
ethtest@ethtest:tool$ ./teaclave_sgx_tool attestation --key XXX --spid 7118C31619F0003A3F5EDC7D32E9AED0 --url https://api.trustedservices.intel.com:443 --algorithm sgx_epid
***********************************************************************************************************************************
ethtest@ethtest:tool$ pwd
/home/ethtest/incubator-teaclave/release/tool
************************************************************************************************************************************
ethtest@ethtest:tool$ ll
total 77956
drwxr-xr-x  2 root root     4096 8月  27 16:56 ./
drwxr-xr-x 10 root root     4096 8月  27 16:49 ../
-rwxr-xr-x  1 root root 37968152 8月  31 16:52 teaclave_sgx_tool*
-rw-r--r--  1 root root 41843008 8月  31 16:52 teaclave_sgx_tool_enclave.signed.so
****************************************************************************************
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4ODY4NjA3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTE5NjczMg==,incubator-teaclave,689196732,411,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-09-08T23:50:22Z,2020-09-08T23:50:22Z,"Hi, in this PR #416, I have fixed the issue about error message printing. Can you pull the latest master and compile the teaclave sgx tool again? Then, you will get the error message in the standard output. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTE5NjczMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTMwMTAyOA==,incubator-teaclave,689301028,411,NA,Agzs,24476625,,,NA,2020-09-09T04:52:34Z,2020-09-09T04:52:34Z,"@mssun Thanks, I do that, and get the error as follows:
```
ethtest@ethtest:tool$ pwd
/home/ethtest/incubator-teaclave/release/tool
***********************************************************************************************************************************
ethtest@ethtest:tool$ ./teaclave_sgx_tool attestation --key XXX --spid XXX 
Error: ServiceError
```
How to solve it? I am new to Intel SGX and Rust","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTMwMTAyOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTMwNzQxMw==,incubator-teaclave,689307413,411,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-09-09T05:13:29Z,2020-09-09T05:13:29Z,Can you set the env var `export TEACLAVE_LOG=debug` before running the tool as well?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTMwNzQxMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTMxOTMyMA==,incubator-teaclave,689319320,411,NA,Agzs,24476625,,,NA,2020-09-09T05:44:17Z,2020-09-09T05:44:17Z,"@mssun OK, there is the new report:
```
ethtest@ethtest:tool$ export TEACLAVE_LOG=debug
*************************************************************************************************************************************
ethtest@ethtest:tool$ ./teaclave_sgx_tool attestation --key XXX --spid XXX 
[2020-09-09T05:41:05Z DEBUG teaclave_binder::binder] EnclaveID: 30683246362626
[2020-09-09T05:41:05Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
[2020-09-09T05:41:05Z DEBUG teaclave_service_enclave_utils] Enclave initializing
[2020-09-09T05:41:05Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
[2020-09-09T05:41:05Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1004, b8 bytes
[2020-09-09T05:41:05Z DEBUG teaclave_sgx_tool_enclave] handle_invoke
[2020-09-09T05:41:05Z ERROR teaclave_sgx_tool_enclave] Failed to start the service: EOF while parsing a value at line 1 column 0
[2020-09-09T05:41:05Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
[2020-09-09T05:41:05Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
[2020-09-09T05:41:05Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
[2020-09-09T05:41:05Z DEBUG teaclave_sgx_tool_enclave] handle_invoke
[2020-09-09T05:41:05Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
[2020-09-09T05:41:05Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
Error: ServiceError
```
Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTMxOTMyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTcyMzM3Mw==,incubator-teaclave,689723373,411,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-09-09T17:57:27Z,2020-09-09T17:57:27Z,"This is wired. Can you add some print in the following enclave file so that I can know which function failed?

https://github.com/apache/incubator-teaclave/blob/500e624e25b7ab9f4580c7b9b7a72a7e367983e0/tool/enclave/src/lib.rs#L38-L67

Seems that L39 failed, but I don't know what causes this issue. If yes, please also help me to print the `raw_json_input.json` value. This should be a valid json string.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTcyMzM3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MDEwOTAzOQ==,incubator-teaclave,690109039,411,NA,Agzs,24476625,,,NA,2020-09-10T09:24:41Z,2020-09-10T09:24:41Z,"@mssun Thanks. I solve it and get another error.

Ok. I remove the files (codes, images, sgx driver, PSW and SDK) related to this projects, and reboot local machine, then clone the latest teaclave codes (commit:500e624) and configure it as [My First Function](https://github.com/apache/incubator-teaclave/blob/master/docs/my-first-function.md). And now, I execute `attestation` subcommand  with `teaclave_sgx_tool` and obtain the same information as the example in #379. I think that some environment variables work after rebooting system and we should execute `cd incubator-teaclave && sudo rm -rf build/ release/` before changing different modes!

 However, I get another error running sample code as follows, its services exited with code 0.
```
ethtest@ethtest:docker$ docker-compose -f docker-compose-ubuntu-1804.yml up --build
...
Creating teaclave-storage-service        ... done
Creating teaclave-authentication-service ... done
Creating teaclave-access-control-service ... done
Creating teaclave-scheduler-service      ... done
Creating teaclave-management-service     ... done
Creating teaclave-execution-service      ... done
Creating teaclave-frontend-service       ... done
Attaching to teaclave-storage-service, teaclave-authentication-service, teaclave-access-control-service, teaclave-scheduler-service, teaclave-management-service, teaclave-execution-service, teaclave-frontend-service
teaclave-management-service exited with code 0
teaclave-frontend-service exited with code 0
^CGracefully stopping... (press Ctrl+C again to force)
Stopping teaclave-execution-service      ... done
Stopping teaclave-scheduler-service      ... done
Stopping teaclave-access-control-service ... done
Stopping teaclave-storage-service        ... done
Stopping teaclave-authentication-service ... done
```
I start these containers again, and it reports as follows:
```
ethtest@ethtest:docker$ docker-compose -f docker-compose-ubuntu-1804.yml start
Starting teaclave-authentication-service ... done
Starting teaclave-storage-service        ... done
Starting teaclave-access-control-service ... done
Starting teaclave-management-service     ... done
Starting teaclave-frontend-service       ... done
Starting teaclave-scheduler-service      ... done
Starting teaclave-execution-service      ... done
***************************************************************************************************************************************************ethtest@ethtest:docker$ docker ps -a
CONTAINER ID        IMAGE                                    COMMAND                  CREATED             STATUS                              PORTS                               NAMES
53a17668ea1c        docker_teaclave-frontend-service         ""./teaclave_frontend…""   35 minutes ago      Up 5 seconds                        0.0.0.0:7777->7777/tcp              teaclave-frontend-service
2063a9b4e8c3        docker_teaclave-execution-service        ""./teaclave_executio…""   35 minutes ago      Up 5 seconds                        17770/tcp                           teaclave-execution-service
8604fea14482        docker_teaclave-management-service       ""./teaclave_manageme…""   35 minutes ago      Exited (0) Less than a second ago                                       teaclave-management-service
9ab6aefa993f        docker_teaclave-scheduler-service        ""./teaclave_schedule…""   35 minutes ago      Up 6 seconds                        17780/tcp                           teaclave-scheduler-service
826f5b39b51a        docker_teaclave-access-control-service   ""./teaclave_access_c…""   35 minutes ago      Up 7 seconds                        17779/tcp                           teaclave-access-control-service
38525e9ba87a        docker_teaclave-storage-service          ""./teaclave_storage_…""   35 minutes ago      Up 6 seconds                        17778/tcp                           teaclave-storage-service
85199bcec12b        docker_teaclave-authentication-service   ""./teaclave_authenti…""   35 minutes ago      Up 7 seconds                        0.0.0.0:7776->7776/tcp, 17776/tcp   teaclave-authentication-service
```
And, I run it again and again, all services are starting as follows, note the status of `docker_teaclave-management-service`
```
ethtest@ethtest:docker$ docker-compose -f docker-compose-ubuntu-1804.yml start
Starting teaclave-authentication-service ... done
...
Starting teaclave-execution-service      ... done
*************************************************************************************************************
ethtest@ethtest:docker$ docker ps -a
CONTAINER ID        IMAGE                                    COMMAND                  CREATED             STATUS              PORTS                               NAMES
53a17668ea1c        docker_teaclave-frontend-service         ""./teaclave_frontend…""   36 minutes ago      Up 27 seconds       0.0.0.0:7777->7777/tcp              teaclave-frontend-service
2063a9b4e8c3        docker_teaclave-execution-service        ""./teaclave_executio…""   36 minutes ago      Up 27 seconds       17770/tcp                           teaclave-execution-service
8604fea14482        docker_teaclave-management-service       ""./teaclave_manageme…""   36 minutes ago      Up 3 seconds        17777/tcp                           teaclave-management-service
9ab6aefa993f        docker_teaclave-scheduler-service        ""./teaclave_schedule…""   36 minutes ago      Up 27 seconds       17780/tcp                           teaclave-scheduler-service
826f5b39b51a        docker_teaclave-access-control-service   ""./teaclave_access_c…""   36 minutes ago      Up 29 seconds       17779/tcp                           teaclave-access-control-service
38525e9ba87a        docker_teaclave-storage-service          ""./teaclave_storage_…""   36 minutes ago      Up 28 seconds       17778/tcp                           teaclave-storage-service
85199bcec12b        docker_teaclave-authentication-service   ""./teaclave_authenti…""   36 minutes ago      Up 29 seconds       0.0.0.0:7776->7776/tcp, 17776/tcp   teaclave-authentication-service
```
Then I run the sample code, but cannot get the result after waiting some time as follows:
```
ethtest@ethtest:python$ docker ps -a
CONTAINER ID        IMAGE                                    COMMAND                  CREATED             STATUS              PORTS                               NAMES
53a17668ea1c        docker_teaclave-frontend-service         ""./teaclave_frontend…""   45 minutes ago      Up 9 minutes        0.0.0.0:7777->7777/tcp              teaclave-frontend-service
2063a9b4e8c3        docker_teaclave-execution-service        ""./teaclave_executio…""   45 minutes ago      Up 9 minutes        17770/tcp                           teaclave-execution-service
8604fea14482        docker_teaclave-management-service       ""./teaclave_manageme…""   45 minutes ago      Up 8 minutes        17777/tcp                           teaclave-management-service
9ab6aefa993f        docker_teaclave-scheduler-service        ""./teaclave_schedule…""   45 minutes ago      Up 9 minutes        17780/tcp                           teaclave-scheduler-service
826f5b39b51a        docker_teaclave-access-control-service   ""./teaclave_access_c…""   45 minutes ago      Up 9 minutes        17779/tcp                           teaclave-access-control-service
38525e9ba87a        docker_teaclave-storage-service          ""./teaclave_storage_…""   45 minutes ago      Up 9 minutes        17778/tcp                           teaclave-storage-service
85199bcec12b        docker_teaclave-authentication-service   ""./teaclave_authenti…""   45 minutes ago      Up 9 minutes        0.0.0.0:7776->7776/tcp, 17776/tcp   teaclave-authentication-service
******************************************************************************************************************** 15:23:42
ethtest@ethtest:python$ pwd
/home/ethtest/incubator-teaclave/examples/python
******************************************************************************************************************** 15:23:44
ethtest@ethtest:python$ PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'
[+] registering user
[+] login
[+] registering function
[+] creating task
[+] invoking task
[+] getting result
^CTraceback (most recent call last):
  File ""builtin_echo.py"", line 85, in <module>
    main()
  File ""builtin_echo.py"", line 77, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 67, in echo
    result = client.get_task_result(task_id)
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 431, in get_task_result
    time.sleep(1)
KeyboardInterrupt
******************************************************************************************************************** 15:27:54
ethtest@ethtest:python$ SGX_MODE=SW PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'
[+] registering user
[+] login
[+] registering function
[+] creating task
[+] invoking task
[+] getting result
^CTraceback (most recent call last):
  File ""builtin_echo.py"", line 85, in <module>
    main()
  File ""builtin_echo.py"", line 77, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 67, in echo
    result = client.get_task_result(task_id)
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 431, in get_task_result
    time.sleep(1)
KeyboardInterrupt
******************************************************************************************************************** 15:30:38
```

Overall, I test teaclave and find that:

Firstly, compile teaclave in Hardware mode, it reports the error (named as ERROR-1) as mentioned above and cannot get the final result 
```
...
[+] function return:  b'Hello, Teaclave!'
```

Secondly, compile teaclave in Simulation mode, and can run sample codes successfully.

Thirdly, compile teaclave in Hardware mode, but run its sample code and it reports the error (named as ERROR-2) described as the first comment of this issue (#411).

However, I execute `cd incubator-teaclave && sudo rm -rf build/ release/` and compile teaclave in Hardware mode, then run its sample code and it reports errors (named as ERROR-3)  as follows:
```
ethtest@ethtest:python$ PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'
[+] registering user
[+] login
[+] registering function
Traceback (most recent call last):
  File ""builtin_echo.py"", line 85, in <module>
    main()
  File ""builtin_echo.py"", line 77, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 56, in echo
    arguments=[""message""])
  File ""/home/ethtest/incubator-teaclave/sdk/python/teaclave.py"", line 374, in register_function
    return response[""content""][""function_id""]
KeyError: 'content'
```

Finally, I remove teaclave project, clone and compile it again in Hardware mode, it recurs ERROR-1.

I just want to try to compile and run teaclave for testing SGX, and I don't know how to solve them. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MDEwOTAzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/411,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNDc3NjA3Mw==,incubator-teaclave,714776073,411,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-10-22T21:36:21Z,2020-10-22T21:36:21Z,"Hi @Agzs, sorry for the late reply. I am still trying to figure out your issues. Since I cannot reproduce the problem you have, can you provide some logs of the services when executing the function by set the env var to `TEACLAVE_LOG=debug`?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNDc3NjA3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/412,https://api.github.com/repos/apache/incubator-teaclave/issues/412,incubator-teaclave,688968266,412,authentication error,z1queue,53327024,zEqueue,,CLOSED,2020-08-31T07:04:15Z,2020-09-02T09:15:07Z,"Hi、when i use teaclave run a gbdt example for a long time (may be 1447 seconds). the result return ""authentication error"". is there any config about the execution running timeout","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/412/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/412,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4NTQ3Mjc5OA==,incubator-teaclave,685472798,412,NA,z1queue,53327024,zEqueue,,NA,2020-09-02T09:15:03Z,2020-09-02T09:15:03Z,https://github.com/apache/incubator-teaclave/blob/master/services/authentication/enclave/src/api_service.rs  ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4NTQ3Mjc5OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/419,https://api.github.com/repos/apache/incubator-teaclave/issues/419,incubator-teaclave,697300219,419,memory allocation of .....failed,gaojunjie03,30582212,gjj,,CLOSED,2020-09-10T01:27:16Z,2020-09-10T08:42:01Z,"
![image](https://user-images.githubusercontent.com/30582212/92670821-6d49c480-f347-11ea-9cf5-168af10e373a.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/419/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/419,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTkzOTExNw==,incubator-teaclave,689939117,419,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-09-10T02:39:18Z,2020-09-10T02:39:18Z,"Please change the pre-defined heap size in the `Enclave.config.xml` files. You can find it in each service's enclave directory. (e.g., `services/execution/enclave/Enclave.config.xml`)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTkzOTExNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/419,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTk0NTY3Ng==,incubator-teaclave,689945676,419,NA,gaojunjie03,30582212,gjj,,NA,2020-09-10T02:59:37Z,2020-09-10T02:59:37Z,"> services/execution/enclave/Enclave.config.xml

I changed it to look like this

`<EnclaveConfiguration>
  <ProdID>0</ProdID>
  <ISVSVN>0</ISVSVN>
  <StackMaxSize>0x2000000</StackMaxSize> 
  <HeapMaxSize>0x300000000</HeapMaxSize> 
  <TCSNum>22</TCSNum>
  <TCSPolicy>0</TCSPolicy>
  <DisableDebug>0</DisableDebug>
  <MiscSelect>0</MiscSelect>
  <MiscMask>0xFFFFFFFF</MiscMask>
</EnclaveConfiguration>`

and restart teacalve, it still reports the same error and kills the executionservice

There are various array loops in my code, and the total amount of data is about 500000
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTk0NTY3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/419,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTk1Mzk1NQ==,incubator-teaclave,689953955,419,NA,gaojunjie03,30582212,gjj,,NA,2020-09-10T03:25:55Z,2020-09-10T03:25:55Z,"I only modified the Enclave.config.xml of executionservice, it need all services to be modified?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY4OTk1Mzk1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/419,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MDAzNjgyOQ==,incubator-teaclave,690036829,419,NA,gaojunjie03,30582212,gjj,,NA,2020-09-10T07:08:25Z,2020-09-10T07:08:25Z,"not work.  
After modifying this file, it is executed 
`docker-compose -f docker-compose-ubuntu-1804.yml up --build` ？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MDAzNjgyOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/419,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MDA4NjUxNw==,incubator-teaclave,690086517,419,NA,gaojunjie03,30582212,gjj,,NA,2020-09-10T08:42:01Z,2020-09-10T08:42:01Z,"emm....  I have to re install and compile teaclave to work

I hope it will work if you restart it","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MDA4NjUxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/420,https://api.github.com/repos/apache/incubator-teaclave/issues/420,incubator-teaclave,700244486,420,use mesapy to develop python script....,gaojunjie03,30582212,gjj,,CLOSED,2020-09-12T13:51:09Z,2020-09-14T01:25:22Z,"Because teaclave was unable to debug our Python scripts, I deployed measy to develop scripts separately, and I encountered problems here：

When I use teaclave_open  method, the file cannot be read and the file cannot be written out. Where is the read file? Where are the documents written","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/420/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/421,https://api.github.com/repos/apache/incubator-teaclave/issues/421,incubator-teaclave,703217221,421,mesapy添加了自定义模块后，teaclave这边要怎么同步mesapy?,gaojunjie03,30582212,gjj,,CLOSED,2020-09-17T02:34:29Z,2020-09-17T10:22:51Z,"mesapy添加了自定义模块后，teaclave这边要怎么同步mesapy?
是需要重新执行
`docker run --rm -v $(pwd):/teaclave  -w /teaclave \
-it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON .. && \
     make""`
这条命令才行吗？
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/421/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/425,https://api.github.com/repos/apache/incubator-teaclave/issues/425,incubator-teaclave,721085330,425,Is task execution concurrent?,gaojunjie03,30582212,gjj,,CLOSED,2020-10-14T02:34:45Z,2020-10-16T03:43:09Z,"Now I have a task that takes a long time to execute. If I submit other tasks that do not take a long time, they will affect each other. The task that was not executed for a long time will take a long time to complete
So is there a configuration to configure concurrent execution of tasks?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/425/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/425,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwODE0NzY0Nw==,incubator-teaclave,708147647,425,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-10-14T04:23:34Z,2020-10-14T04:23:34Z,"You can start more execution services, that is to say, providing more function workers.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwODE0NzY0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/425,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwODE0ODI2Ng==,incubator-teaclave,708148266,425,NA,gaojunjie03,30582212,gjj,,NA,2020-10-14T04:25:52Z,2020-10-14T04:25:52Z,"> services

ok  i'll try","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwODE0ODI2Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/425,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwODE5OTEwNQ==,incubator-teaclave,708199105,425,NA,gaojunjie03,30582212,gjj,,NA,2020-10-14T06:50:38Z,2020-10-14T06:50:38Z,"> You can start more execution services, that is to say, providing more function workers.

Is to add another teaclave execution service = = > teaclave-execution-service2 （expose:17771） in docker-compose-ubuntu-1804.yml file  。

Then 
`docker-compose -f docker-compose-ubuntu-1804.yml start teaclave-execution-service2`？
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwODE5OTEwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/425,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwOTcxMjkxMw==,incubator-teaclave,709712913,425,NA,gaojunjie03,30582212,gjj,,NA,2020-10-16T03:43:09Z,2020-10-16T03:43:09Z,got it,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcwOTcxMjkxMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/427,https://api.github.com/repos/apache/incubator-teaclave/issues/427,incubator-teaclave,728777795,427,builtin function question,gaojunjie03,30582212,gjj,,CLOSED,2020-10-24T12:19:16Z,2020-11-02T00:51:57Z,"I added a built-in function that requires a third-party library, but I reported an error when compiling.

![image](https://user-images.githubusercontent.com/30582212/97081619-1e759700-1636-11eb-9aaf-c43a7ca24f76.png)

This bag is in https://crates.io/ It exists","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/427/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/427,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNjA2ODY4Ng==,incubator-teaclave,716068686,427,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-10-24T23:31:50Z,2020-10-24T23:31:50Z,"In short, you cannot use third-party Rust crates which are not in the `third_party/crates-sgx` directory.

For your case, if you want to use ndarray, you need to vendor ndarray-sgx (https://github.com/mesalock-linux/ndarray-sgx) in the `crates-sgx` directory.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNjA2ODY4Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/427,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNjA3NDMxNg==,incubator-teaclave,716074316,427,NA,gaojunjie03,30582212,gjj,,NA,2020-10-25T00:35:52Z,2020-10-25T00:35:52Z,"> In short, you cannot use third-party Rust crates which are not in the `third_party/crates-sgx` directory.
> 
> For your case, if you want to use ndarray, you need to vendor ndarray-sgx (https://github.com/mesalock-linux/ndarray-sgx) in the `crates-sgx` directory.

ok i'll try.
Can you provide a document on how to add a third-party library to crates-sgx, because I may need other third-party libraries in the future, which are not available in crates-sgx.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNjA3NDMxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/427,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNjE3OTY2NA==,incubator-teaclave,716179664,427,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-10-25T17:09:07Z,2020-10-25T17:09:07Z,"Thanks for your suggestion. We will definitely document it when we find out a good workflow for working on third-party SGX crates. Before this, you have to understand our build system in order to include more SGX libraries.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcxNjE3OTY2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/430,https://api.github.com/repos/apache/incubator-teaclave/issues/430,incubator-teaclave,734107207,430,questions about custom Executor ,gaojunjie03,30582212,gjj,,CLOSED,2020-11-02T00:55:30Z,2020-11-17T09:44:52Z,"now teaclave have builtin and mesapy executor .

I want to customize an executor myself, Does this custom executor need to implement SGX like mesapy to join teaclave?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/430/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/430,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyMzIzMTkyNA==,incubator-teaclave,723231924,430,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-11-06T18:26:53Z,2020-11-06T18:26:53Z,"You can implement you own executor.

I don't understand your question. I guess you were asking how to add your executor into the Teaclave execution service. Yes, you can refer to the interfaces of MesaPy and Builtin executors.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyMzIzMTkyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/430,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyNDQyNTI3NQ==,incubator-teaclave,724425275,430,NA,gaojunjie03,30582212,gjj,,NA,2020-11-10T03:25:04Z,2020-11-10T03:25:04Z,"My plan now is to write a golang dynamic library, which provides golang computing tasks. Then connect the dynamic library to execution_service (executor), I found that the connection action is in cmake/scripts/sgx_ link_ sign.sh So I add dynamic library connection to this script


![image](https://user-images.githubusercontent.com/30582212/98623613-152f3e80-2347-11eb-9c66-2665c488e13a.png)


the execution of this command was successful

But in the sgx_sign is wrong.

![image](https://user-images.githubusercontent.com/30582212/98623739-4c055480-2347-11eb-955b-622272ee1e4b.png)

Therefore, can only static library link, not dynamic library link?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyNDQyNTI3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/434,https://api.github.com/repos/apache/incubator-teaclave/issues/434,incubator-teaclave,743404598,434,How do I add the ocall function,gaojunjie03,30582212,gjj,,CLOSED,2020-11-16T01:36:29Z,2020-11-16T07:19:42Z,"I write an ocall function on the app of execution.

And then in enclave_ fa.edl, This ocall function declaration is added to the untrusted area of the file. Then I went to executor/src/builtin.rs The ocall function is introduced by using extern ""C"".

when i compile ,it go wrong :
undefined reference to ""ocall_test_func""

I'm following the ""ocall_ handle_ file_request”you wrote. this ocall function can comile.  but my custom ocall go wrong,  so how can i do that?
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/434/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/434,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyNzc4NzQyMw==,incubator-teaclave,727787423,434,NA,gaojunjie03,30582212,gjj,,NA,2020-11-16T07:19:39Z,2020-11-16T07:19:39Z,oh  i know  that,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyNzc4NzQyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/435,incubator-teaclave,744573059,435,关于ocall、ecall函数的问题,gaojunjie03,30582212,gjj,,CLOSED,2020-11-17T09:40:51Z,2020-11-27T00:22:37Z,"我模仿了teaclave的ecall_ipc_app_to_tee 这个ecall函数编写了个ocall函数，ocall函数会可能会返回一个很长的字符串。
现在这里这个
![image](https://user-images.githubusercontent.com/30582212/99373094-fa873780-28fb-11eb-806e-710f5afd97ca.png)

如果设置过大，底层会报错并自动退出execution_service服务.
![image](https://user-images.githubusercontent.com/30582212/99372977-d3c90100-28fb-11eb-9791-bf55f71ad778.png)

这个该怎么解决呢？我这边d的场景是有可能会返回很长的值....

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/435/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTI3MTA5Mw==,incubator-teaclave,729271093,435,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-11-17T23:14:57Z,2020-11-17T23:14:57Z,设置 `Enclave.config.xml` 文件中的 `StackMaxSize` 可以调整 SGX enclave 的 stack size。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTI3MTA5Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM2MTE5MA==,incubator-teaclave,729361190,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T03:29:33Z,2020-11-18T03:29:33Z,"我调整到这个地步了 要求内存10g（这样看上去是足够得了  而且也有很多内存浪费）....
![image](https://user-images.githubusercontent.com/30582212/99478852-1cca9500-2990-11eb-8964-0812f8d67ee0.png)
但依然报这个stack overflow的错误。

代码如下（ocall）：
enclave端:
![image](https://user-images.githubusercontent.com/30582212/99479255-c7db4e80-2990-11eb-863f-218c2be59f66.png)
ocall函数的extern声明:
![image](https://user-images.githubusercontent.com/30582212/99479290-d6c20100-2990-11eb-99e5-393c941f0662.png)
app端具体ocall函数实现 :
![image](https://user-images.githubusercontent.com/30582212/99479397-0ec94400-2991-11eb-9ee8-051f6b738dbe.png)
edl文件：
![image](https://user-images.githubusercontent.com/30582212/99479421-1983d900-2991-11eb-8c55-6c65faece740.png)

基本上就是按照ecall_ipc_app_to_tee实现
ocall返回的数据字节数组inner_len长度是2504955，报错 stack overflow，数据量大概7000条 不是很多






","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM2MTE5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM2NTg2Mg==,incubator-teaclave,729365862,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T03:33:00Z,2020-11-18T03:33:00Z,代码在少数据量的情况下测试是可以的,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM2NTg2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM5NDk2NQ==,incubator-teaclave,729394965,435,NA,dingelish,1870436,Yu Ding,,NA,2020-11-18T04:18:22Z,2020-11-18T04:18:22Z,"@gaojunjie03 
这不是sgx的问题，这是linux线程栈大小的问题，之前有过讨论
https://github.com/apache/incubator-teaclave-sgx-sdk/issues/77

https://man7.org/linux/man-pages/man3/pthread_create.3.html
pthread_create(3) — Linux manual page

       Under the NPTL threading implementation, if the RLIMIT_STACK soft
       resource limit at the time the program started has any value other
       than ""unlimited"", then it determines the default stack size of new
       threads.  Using pthread_attr_setstacksize(3), the stack size
       attribute can be explicitly set in the attr argument used to create a
       thread, in order to obtain a stack size other than the default.  If
       the RLIMIT_STACK resource limit is set to ""unlimited"", a per-
       architecture value is used for the stack size.  Here is the value for
       a few architectures:
              ┌─────────────┬────────────────────┐
              │Architecture │ Default stack size │
              ├─────────────┼────────────────────┤
              │i386         │               2 MB │
              ├─────────────┼────────────────────┤
              │IA-64        │              32 MB │
              ├─────────────┼────────────────────┤
              │PowerPC      │               4 MB │
              ├─────────────┼────────────────────┤
              │S/390        │               2 MB │
              ├─────────────┼────────────────────┤
              │Sparc-32     │               2 MB │
              ├─────────────┼────────────────────┤
              │Sparc-64     │               4 MB │
              ├─────────────┼────────────────────┤
              │x86_64       │               2 MB │
              └─────────────┴────────────────────┘

2504955这个大小已经超过了主线程的栈大小 (2MB)，在ecall过程中 sgx_ocalloc会分配一个栈上的空间保存数据，此时栈溢出","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM5NDk2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM5NTM4MQ==,incubator-teaclave,729395381,435,NA,dingelish,1870436,Yu Ding,,NA,2020-11-18T04:19:46Z,2020-11-18T04:19:46Z,"@gaojunjie03 建议你尝试这个回复里的做法，使用ulimit
https://github.com/apache/incubator-teaclave-sgx-sdk/issues/77#issuecomment-469442636","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM5NTM4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM5NzQ2Mw==,incubator-teaclave,729397463,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T04:26:35Z,2020-11-18T04:26:35Z,好的!  我试试 谢谢,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTM5NzQ2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ4OTQzMQ==,incubator-teaclave,729489431,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T07:22:52Z,2020-11-18T07:22:52Z,"针对teaclave 是修改docker容器内（teaclave_execution_service）的ulimit吧？ 
我修改为-1
![image](https://user-images.githubusercontent.com/30582212/99498003-b7879b80-29b1-11eb-80a5-f3c83c23e249.png)
容器内的ulimit -a 对应的stack size已经是unlimited了
![image](https://user-images.githubusercontent.com/30582212/99498063-d5ed9700-29b1-11eb-8909-614584b67b12.png)

宿主机我也修改成unlimited  但还是报相同的错误

是要在哪里修改这个ulimit呢？

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ4OTQzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ5MDA3OA==,incubator-teaclave,729490078,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T07:24:17Z,2020-11-18T07:24:17Z,其他teaclave所有服务都修改成unlimited 也还是不行。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ5MDA3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ5NDAyOQ==,incubator-teaclave,729494029,435,NA,dingelish,1870436,Yu Ding,,NA,2020-11-18T07:33:33Z,2020-11-18T07:33:33Z,"@gaojunjie03 刚才那个issue里也有人提到，主线程就是不行，新创建的线程（创建时指定更大的stack size）就可以
https://github.com/apache/incubator-teaclave-sgx-sdk/issues/77#issuecomment-469200138

如果真的一直解决不了，那就用`usercheck`传递一个指针回到enclave，再传一个长度回来。然后在enclave里手工使用memcpy把那个buffer复制进来就好。记得做好指针的有效性检测（必须是enclave外的指针，使用`rsgx_raw_is_outside_enclave`）。
https://github.com/apache/incubator-teaclave-sgx-sdk/blob/master/sgx_trts/src/trts.rs#L171","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ5NDAyOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ5NTAyNw==,incubator-teaclave,729495027,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T07:35:47Z,2020-11-18T07:35:47Z,好的,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTQ5NTAyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTU0MDMwOA==,incubator-teaclave,729540308,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-18T09:07:03Z,2020-11-18T09:07:03Z,"我在对应ocall/ecall函数的服务app/main.rs 新建了个线程并修改stack_size方法，可以了。 
![image](https://user-images.githubusercontent.com/30582212/99506889-aa70a980-29bd-11eb-8851-99ea77c1b910.png)
这样应该不会对底层有什么影响吧？ 走了一下流程是通的","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTU0MDMwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTk4MTQxMA==,incubator-teaclave,729981410,435,NA,dingelish,1870436,Yu Ding,,NA,2020-11-18T21:56:20Z,2020-11-18T21:56:20Z,"@gaojunjie03 应该没有问题
换句话说，就是你的ulimit没有起作用","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDcyOTk4MTQxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/435,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczMDA1OTA4Nw==,incubator-teaclave,730059087,435,NA,gaojunjie03,30582212,gjj,,NA,2020-11-19T01:15:26Z,2020-11-19T01:15:26Z,"> @gaojunjie03 应该没有问题
> 换句话说，就是你的ulimit没有起作用

是的  没有作用","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczMDA1OTA4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/437,incubator-teaclave,755816458,437,How solve the runtime error in simulation mode?,light-ok,73336777,,,OPEN,2020-12-03T04:24:16Z,2021-01-20T07:21:26Z,"Hello,

I had built Teaclave in simulation mode
`docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
     make""`

And then I run the command
`(cd docker && docker-compose -f docker-compose-ubuntu-1804.yml up --build)`
but it show
`ERROR: Service 'teaclave-access-control-service' failed to build: ADD failed: stat /var/lib/docker/tmp/docker-builder869057053/release/services/teaclave_frontend_service: no such file or directory
`

How to sovle the issue for  the simulation mode?

My os : Ubuntu 18.04.4 LTS
My CPU:Intel(R) Xeon(R) Gold 6266C CPU @ 3.00GHz
It does not support Intel SGX.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/437/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczNzY2MTY0Mw==,incubator-teaclave,737661643,437,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-03T04:42:22Z,2020-12-03T04:42:22Z,The `teaclave_frontend_service` is the output of compilation. Seems that your building was failed. Can you check if there are service binaries generated in the `release/services/` direactory?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczNzY2MTY0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczNzgxOTk2OQ==,incubator-teaclave,737819969,437,NA,light-ok,73336777,,,NA,2020-12-03T10:05:19Z,2020-12-03T10:05:19Z,"> The `teaclave_frontend_service` is the output of compilation. Seems that your building was failed. Can you check if there are service binaries generated in the `release/services/` direactory?

When I compiled the project, it shown the error as below:
```zsg
Caused by:
  process didn't exit successfully: `/teaclave/cmake/scripts/rustc_wrapper.sh --crate-name crc --edition=2018 /teaclave/build/cmake_tomls/sgx_trusted_lib/third_party/crates-sgx/vendor/crc/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C debuginfo=2 -C metadata=39ca99cb54d77a3c -C extra-filename=-39ca99cb54d77a3c --out-dir /teaclave/build/target/trusted/debug/deps -L dependency=/teaclave/build/target/trusted/debug/deps --cap-lints allow --cfg test_mode --cfg sgx_sim` (signal: 9, SIGKILL: kill)
warning: build failed, waiting for other jobs to finish...
error: build failed
```

The files in `release\services` is:
```zsh
# ll release/services
total 696M
drwxr-xr-x 5 root root 4.0K Nov 30 19:31 auditors
-rw-r--r-- 1 root root 1.9K Dec  3 17:57 enclave_info.toml
lrwxrwxrwx 1 root root   32 Nov 30 19:31 fixtures -> /teaclave/release/tests/fixtures
-rw-r--r-- 1 root root 1.4K Dec  3 17:50 runtime.config.toml
-rwxr-xr-x 1 root root  35M Dec  3 17:55 teaclave_access_control_service
-rw-r--r-- 1 root root  64M Dec  3 17:57 teaclave_access_control_service_enclave.signed.so
-rwxr-xr-x 1 root root  35M Dec  3 17:57 teaclave_authentication_service
-rw-r--r-- 1 root root  55M Dec  3 10:44 teaclave_authentication_service_enclave.signed.so
-rwxr-xr-x 1 root root  70M Dec  3 17:57 teaclave_execution_service
-rw-r--r-- 1 root root  86M Dec  3 17:53 teaclave_execution_service_enclave.signed.so
-rwxr-xr-x 1 root root  35M Dec  3 17:57 teaclave_frontend_service
-rw-r--r-- 1 root root  54M Dec  3 17:53 teaclave_frontend_service_enclave.signed.so
-rwxr-xr-x 1 root root  35M Dec  3 17:55 teaclave_management_service
-rw-r--r-- 1 root root  55M Dec  3 17:57 teaclave_management_service_enclave.signed.so
-rwxr-xr-x 1 root root  35M Dec  3 17:57 teaclave_scheduler_service
-rw-r--r-- 1 root root  53M Dec  3 17:52 teaclave_scheduler_service_enclave.signed.so
-rwxr-xr-x 1 root root  35M Dec  3 17:57 teaclave_storage_service
-rw-r--r-- 1 root root  54M Dec  3 10:48 teaclave_storage_service_enclave.signed.so
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczNzgxOTk2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczODE3Mjg4Nw==,incubator-teaclave,738172887,437,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-03T17:45:50Z,2020-12-03T17:45:50Z,"I see ""signal: 9, SIGKILL: kill"" in your log. I believe this is cause by the out of memory, resulting compilation failed. Please increase your memory if your are using VM in cloud service or docker in Mac.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczODE3Mjg4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczODUwMDgwMQ==,incubator-teaclave,738500801,437,NA,light-ok,73336777,,,NA,2020-12-04T01:47:42Z,2020-12-04T01:47:42Z,"> I see ""signal: 9, SIGKILL: kill"" in your log. I believe this is cause by the out of memory, resulting compilation failed. Please increase your memory if your are using VM in cloud service or docker in Mac.

Now, I have compiled successfully.  
```zsh
[ 96%] Building sgxapp-teaclave_execution_service
   Compiling indexmap v1.3.2
   Compiling h2 v0.2.2
   Compiling hyper v0.13.3
   Compiling hyper-tls v0.4.1
   Compiling reqwest v0.10.4
   Compiling teaclave_file_agent v0.1.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/file_agent)
   Compiling teaclave_execution_service v0.1.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/services/execution/app)
    Finished dev [unoptimized + debuginfo] target(s) in 15.37s
[ 96%] Built target sgxapp-teaclave_execution_service
[100%] Building sgxapp-teaclave_functional_tests
    Finished dev [unoptimized + debuginfo] target(s) in 0.16s
[100%] Built target sgxapp-teaclave_functional_tests
```
But I run the command
(cd docker && docker-compose -f docker-compose-ubuntu-1804.yml up --build)
but it  also show
```zsh
ERROR: Service 'teaclave-access-control-service' failed to build: ADD failed: stat /var/lib/docker/tmp/docker-builder869057053/release/services/teaclave_frontend_service: no such file or directory
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDczODUwMDgwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0MDI0ODEyNg==,incubator-teaclave,740248126,437,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-07T23:39:00Z,2020-12-07T23:39:00Z,Can you confirm the `teaclave_frontend_service` file is successfully generated?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0MDI0ODEyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM4NTIyNg==,incubator-teaclave,763385226,437,NA,master-davidlee,49427668,,,NA,2021-01-20T07:01:19Z,2021-01-20T07:01:19Z,"I met a similar error 
![image](https://user-images.githubusercontent.com/49427668/105138662-2c9d5b80-5b30-11eb-8fb5-3c692c99e6cd.png)
and this is my release/services
![image](https://user-images.githubusercontent.com/49427668/105138731-4474df80-5b30-11eb-92df-ab878727b69a.png)
and I successed compiled
![image](https://user-images.githubusercontent.com/49427668/105139407-3c696f80-5b31-11eb-96a2-c40900527e93.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM4NTIyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/437,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM5NDc3NQ==,incubator-teaclave,763394775,437,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T07:21:26Z,2021-01-20T07:21:26Z,"Ok, yours is different. The `docker-compose` reports an error. There are something wrong with the `docker-compose-ubuntu-1804-sgx-sim-mode.yml` file.

Here is a patch. I'll create a PR to solve this issue. Thanks.

```diff
diff --git a/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml b/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
index b0f25aa..5b5895d 100644
--- a/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
+++ b/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
@@ -20,7 +20,7 @@ services:
       - AS_URL
       - TEACLAVE_LOG
     entrypoint: ./teaclave_authentication_service
-    container_name: teaclave-authentication-service
+    container_name: teaclave-authentication-service-sgx-sim-mode
     networks:
       api:
       internal:
@@ -44,8 +44,8 @@ services:
       - TEACLAVE_LOG
     entrypoint: ./teaclave_frontend_service
     depends_on:
-      - teaclave-management-service
-    container_name: teaclave-frontend-service
+      - teaclave-management-service-sgx-sim-mode
+    container_name: teaclave-frontend-service-sgx-sim-mode
     networks:
       api:
       internal:
@@ -67,9 +67,9 @@ services:
       - TEACLAVE_LOG
     entrypoint: ./teaclave_management_service
     depends_on:
-      - teaclave-storage-service
-      - teaclave-access-control-service
-    container_name: teaclave-management-service
+      - teaclave-storage-service-sgx-sim-mode
+      - teaclave-access-control-service-sgx-sim-mode
+    container_name: teaclave-management-service-sgx-sim-mode
     networks:
       internal:

@@ -89,7 +89,7 @@ services:
       - AS_URL
       - TEACLAVE_LOG
     entrypoint: ./teaclave_storage_service
-    container_name: teaclave-storage-service
+    container_name: teaclave-storage-service-sgx-sim-mode
     networks:
       internal:

@@ -108,7 +108,7 @@ services:
       - AS_ALGO
       - AS_URL
       - TEACLAVE_LOG
-    container_name: teaclave-access-control-service
+    container_name: teaclave-access-control-service-sgx-sim-mode
     entrypoint: ./teaclave_access_control_service
     networks:
       internal:
@@ -129,9 +129,9 @@ services:
       - AS_URL
       - TEACLAVE_LOG
     entrypoint: ./teaclave_execution_service
-    container_name: teaclave-execution-service
+    container_name: teaclave-execution-service-sgx-sim-mode
     depends_on:
-      - teaclave-scheduler-service
+      - teaclave-scheduler-service-sgx-sim-mode
     networks:
       internal:
       fs:
@@ -152,9 +152,9 @@ services:
       - AS_URL
       - TEACLAVE_LOG
     entrypoint: ./teaclave_scheduler_service
-    container_name: teaclave-scheduler-service
+    container_name: teaclave-scheduler-service-sgx-sim-mode
     depends_on:
-      - teaclave-storage-service
+      - teaclave-storage-service-sgx-sim-mode
     networks:
       internal:

```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM5NDc3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/443,https://api.github.com/repos/apache/incubator-teaclave/issues/443,incubator-teaclave,767418102,443,关于自定义添加外部依赖到crates-io问题,gaojunjie03,30582212,gjj,,CLOSED,2020-12-15T10:11:58Z,2020-12-21T06:52:56Z,"我添加了一下第三方依赖到crates-io的vendor上，在A服务器编译成功了，然后我提交代码（第三方源）到我的git crates-io仓库中，teaclave主仓库也更新了crates-io。 然后我再另外一台B机器上安装编译teaclave时，发现会出现crates-io中的依赖会出现list checksum的问题 说这个文件期待值是某个hash值  但实际上是这个hash值（.cargo-checksum.json）。
我把A机器上的crates-io整个vendor目录拷贝到B服务器上的crates-io就没问题了。 但是这样再换一台机器安装teaclave还是会出现list checksum的问题。
这个该如何解决呢？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/443/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/443,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTU2MDk4MA==,incubator-teaclave,745560980,443,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-15T20:54:15Z,2020-12-15T20:54:15Z,你的 submodule 没有 commit？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTU2MDk4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/443,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcxNTMzOA==,incubator-teaclave,745715338,443,NA,gaojunjie03,30582212,gjj,,NA,2020-12-16T02:05:36Z,2020-12-16T02:05:36Z,"我是这样提交的，因为其他方案对我无效 所以我采用以下方案，不知是否有问题？
在teaclve主仓库下执行以下：
![image](https://user-images.githubusercontent.com/30582212/102295414-3a3a5100-3f86-11eb-8e0f-88c08d337e65.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcxNTMzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/443,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0Njc2MTQ0MQ==,incubator-teaclave,746761441,443,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-16T18:15:53Z,2020-12-16T18:15:53Z,感觉没问题，你能确认一下 pull 下来的 crates-io 的 submodule 是你新的地址么 (https://xxx/crates-io)？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0Njc2MTQ0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/444,incubator-teaclave,768348665,444,运行builtin_gbdt_train.py出现以下报错，是什么问题呢,xglreal,6261949,xuguoliang,x1572030301@gmail.com,CLOSED,2020-12-16T00:56:47Z,2020-12-18T21:40:20Z,"使用模拟模式运行gbdt示例，出现报错
运行命令：$SGX_MODE=SW PYTHONPATH=../../sdk/python python3 builtin_gbdt_train.py 
出现错误：
'result': {'result': {'Err': {'reason': 'ocall error = 1'}}}}
这是什么问题呢？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/444/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTY5Mzk1OQ==,incubator-teaclave,745693959,444,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-16T00:58:35Z,2020-12-16T00:58:35Z,请问你是如何启动 teaclave services 的？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTY5Mzk1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTY5NTYxNA==,incubator-teaclave,745695614,444,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2020-12-16T01:03:39Z,2020-12-16T01:03:39Z,"> 请问你是如何启动 teaclave services 的？

 (cd docker && docker-compose -f docker-compose-ubuntu-1804-sgx-sim-mode.yml up --build)

docker-compose启动的

builtin_face_detection.py builtin_online_decrypt.py这些都能运行成功。看了以下差异好像是builtin_face_detection.py builtin_online_decrypt.py直接输出结果，builtin_gbdt_train.py是往链接里写数据？

运行/incubator-teaclave/tests/scripts/simple_http_server.py使链接http://localhost:6789/fixtures/functions/gbdt_training/train.enc能够访问。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTY5NTYxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcwNDE3Mw==,incubator-teaclave,745704173,444,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-16T01:29:18Z,2020-12-16T01:29:18Z,明白了，这里应该是 execution service 的 docker 无法访问 localhost 这个文件系统才出现的错误。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcwNDE3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcwNjE3NA==,incubator-teaclave,745706174,444,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-16T01:35:10Z,2020-12-16T01:35:10Z,"一个解决方法是修改 docker compose 文件：
```patch
diff --git a/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml b/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
index aa5388d..b0f25aa 100644
--- a/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
+++ b/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
@@ -134,6 +134,7 @@ services:
       - teaclave-scheduler-service
     networks:
       internal:
+      fs:

   teaclave-scheduler-service-sgx-sim-mode:
     build:
@@ -157,6 +158,16 @@ services:
     networks:
       internal:

+  teaclave-file-service:
+    image: python:3
+    volumes:
+      - ../tests:/teaclave-file-service
+    working_dir: /teaclave-file-service
+    entrypoint: ./scripts/simple_http_server.py
+    networks:
+      fs:
+
 networks:
   internal:
   api:
+  fs:
```

service 启动后找到  teaclave-file-service 的名字：
```
$ docker ps
docker ps
CONTAINER ID        IMAGE                                    COMMAND                  CREATED             STATUS              PORTS                               NAMES
8f41f56016d9        python:3                                 ""./scripts/simple_ht…""   4 minutes ago       Up 4 minutes        6789/tcp                            docker_teaclave-file-service_1
```

修改在 example 的文件地址为：```http://docker_teaclave-file-service_1:5678/xxxxxx```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcwNjE3NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcyNDI4MQ==,incubator-teaclave,745724281,444,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2020-12-16T02:34:11Z,2020-12-16T02:34:11Z,"> 一个解决方法是修改 docker compose 文件：
> 
> ```diff
> diff --git a/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml b/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
> index aa5388d..b0f25aa 100644
> --- a/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
> +++ b/docker/docker-compose-ubuntu-1804-sgx-sim-mode.yml
> @@ -134,6 +134,7 @@ services:
>        - teaclave-scheduler-service
>      networks:
>        internal:
> +      fs:
> 
>    teaclave-scheduler-service-sgx-sim-mode:
>      build:
> @@ -157,6 +158,16 @@ services:
>      networks:
>        internal:
> 
> +  teaclave-file-service:
> +    image: python:3
> +    volumes:
> +      - ../tests:/teaclave-file-service
> +    working_dir: /teaclave-file-service
> +    entrypoint: ./scripts/simple_http_server.py
> +    networks:
> +      fs:
> +
>  networks:
>    internal:
>    api:
> +  fs:
> ```
> 
> service 启动后找到 teaclave-file-service 的名字：
> 
> ```
> $ docker ps
> docker ps
> CONTAINER ID        IMAGE                                    COMMAND                  CREATED             STATUS              PORTS                               NAMES
> 8f41f56016d9        python:3                                 ""./scripts/simple_ht…""   4 minutes ago       Up 4 minutes        6789/tcp                            docker_teaclave-file-service_1
> ```
> 
> 修改在 example 的文件地址为：`http://docker_teaclave-file-service_1:5678/xxxxxx`


按照你的方法配置了，有问题
wget http://docker_teaclave-file-service_1:6789
--2020-12-16 10:22:58-- http://docker_teaclave-file-service_1:6789/
Resolving docker_teaclave-file-service_1 (docker_teaclave-file-service_1)... failed: Temporary failure in name resolution.
wget: unable to resolve host address ‘docker_teaclave-file-service_1’

docker_teaclave-file-service_1解析不了

镜像
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
03f3fa28793c docker_teaclave-scheduler-service ""./teaclave_schedule…"" 32 minutes ago Up 32 minutes 17780/tcp teaclave-scheduler-service
3ec63834b9d1 python:3 ""./scripts/simple_ht…"" 32 minutes ago Up 14 minutes docker_teaclave-file-service_1","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTcyNDI4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTczMDIwNQ==,incubator-teaclave,745730205,444,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-16T02:55:23Z,2020-12-16T02:55:23Z,"> wget http://docker_teaclave-file-service_1:6789
--2020-12-16 10:22:58-- http://docker_teaclave-file-service_1:6789/
Resolving docker_teaclave-file-service_1 (docker_teaclave-file-service_1)... failed: Temporary failure in name resolution.
wget: unable to resolve host address ‘docker_teaclave-file-service_1’

docker_teaclave-file-service_1解析不了

这个是在 execution service 的 docker container 里才能 resolve 的域名。通过 fs 这个 network 连接。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NTczMDIwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/444,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NjAwMTQxOA==,incubator-teaclave,746001418,444,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2020-12-16T09:46:04Z,2020-12-16T09:46:04Z,"> > wget http://docker_teaclave-file-service_1:6789
> > --2020-12-16 10:22:58-- http://docker_teaclave-file-service_1:6789/
> > Resolving docker_teaclave-file-service_1 (docker_teaclave-file-service_1)... failed: Temporary failure in name resolution.
> > wget: unable to resolve host address ‘docker_teaclave-file-service_1’
> 
> docker_teaclave-file-service_1解析不了
> 
> 这个是在 execution service 的 docker container 里才能 resolve 的域名。通过 fs 这个 network 连接。

谢谢，问题已解决。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0NjAwMTQxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/445,https://api.github.com/repos/apache/incubator-teaclave/issues/445,incubator-teaclave,768645093,445,数据加解密问题,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2020-12-16T09:45:25Z,2020-12-16T18:16:46Z,"请问下：
incubator-teaclave-master\tests\fixtures\functions\private_join_and_compute\three_party_data\*.enc下面的加密文件如何获得的，加密文件在tee里面是怎么解密的？tee传输回来的数据文件如何解密？整个mesatee的加解密机制是如何的，有相关资料吗？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/445/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/445,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0Njc2Mjc5Nw==,incubator-teaclave,746762797,445,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-16T18:16:45Z,2020-12-16T18:16:45Z,加密文件通过 Teaclave Command Line Tool 得到: https://github.com/apache/incubator-teaclave/tree/master/cli,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0Njc2Mjc5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/448,https://api.github.com/repos/apache/incubator-teaclave/issues/448,incubator-teaclave,773348196,448,请问下，mesatee是使用mesapy来支持矩阵操作的吗？现在mesapy支不支持pandas做一些矩阵（表）操作？,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2020-12-23T01:15:14Z,2020-12-24T06:38:46Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/448/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/448,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0OTg2MzQxNg==,incubator-teaclave,749863416,448,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2020-12-23T01:16:12Z,2020-12-23T01:16:12Z,比如求交、表join、表过滤之类的数据库操作,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc0OTg2MzQxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/448,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1MDQ0MTM5Nw==,incubator-teaclave,750441397,448,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2020-12-23T19:29:43Z,2020-12-23T19:29:43Z,"1. mesatee是使用mesapy来支持矩阵操作的吗？

MesaPy 作为 Teaclave 的一个 executor，可以执行 Python function。同时还可以使用 native executor，也就是用 Rust 编写 builtin function。两种 executor 均可以支持矩阵操作。

2. 现在mesapy支不支持pandas做一些矩阵（表）操作？

现在不支持 import pandas。

MesaPy 提供了 Python 2 的 builtin types 和 builtin functions 以及一些基本的 modules。关于问题中的矩阵（表）操作可以通过使用 Python 的基本类型进行。当然，MesaPy 对于 builtin 库和第三方库的支持还在进行中，希望更多的人能参与贡献。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1MDQ0MTM5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/448,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1MDc3MTQzOQ==,incubator-teaclave,750771439,448,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2020-12-24T06:38:46Z,2020-12-24T06:38:46Z,"> 1. mesatee是使用mesapy来支持矩阵操作的吗？
> 
> MesaPy 作为 Teaclave 的一个 executor，可以执行 Python function。同时还可以使用 native executor，也就是用 Rust 编写 builtin function。两种 executor 均可以支持矩阵操作。
> 
> 1. 现在mesapy支不支持pandas做一些矩阵（表）操作？
> 
> 现在不支持 import pandas。
> 
> MesaPy 提供了 Python 2 的 builtin types 和 builtin functions 以及一些基本的 modules。关于问题中的矩阵（表）操作可以通过使用 Python 的基本类型进行。当然，MesaPy 对于 builtin 库和第三方库的支持还在进行中，希望更多的人能参与贡献。

mesapy的编程文档有吗？就是支持哪些操作？怎么进行操作？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1MDc3MTQzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/449,https://api.github.com/repos/apache/incubator-teaclave/issues/449,incubator-teaclave,774129152,449,[Feature Request]add access to attestion report in teaclave functions ,yc-huang,1187779,YC,ychuang.cn@gmail.com,OPEN,2020-12-24T01:55:17Z,2021-01-20T06:54:34Z,"In some situation in teaclave functions we need to present the attestion report to other parties to authenticate to access some protected resources, or as proof of some kind of execution log for third-party validation or future audit purpose.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/449/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/449,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM4MjIwMA==,incubator-teaclave,763382200,449,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T06:54:34Z,2021-01-20T06:54:34Z,Thanks for your request. I have added it in our 2021 plan (#460).,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM4MjIwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/450,https://api.github.com/repos/apache/incubator-teaclave/issues/450,incubator-teaclave,774289804,450,worker含义,xglreal,6261949,xuguoliang,x1572030301@gmail.com,CLOSED,2020-12-24T09:21:54Z,2021-01-05T19:22:07Z,"    +-----------------------------------+
    |        Execution Service               |
    |  +-----------------------------+  |
    |  |            Worker                     |  |
    |  |  +----------+  +---------+   |  |
    |  |  | Executor |  | Runtime   |  |  |
    |  |  +----------+  +---------+   |  |
    |  +-----------------------------+  |
    +-----------------------------------+

请问下：
worker是具体对应到了具体的sgx硬件了吗？
一个Execution Service可以分配多个sgx？
然后runtime是什么含义？我看可以指定default, raw-io，这两个有什么区别吗？
提交到gsx是以什么方式提交的？rust代码吗？各方数据文件是以数据链接+key的方式还是直接加密的数据文件传入的？

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/450/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/450,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1MjgxNDU3MQ==,incubator-teaclave,752814571,450,NA,gaojunjie03,30582212,gjj,,NA,2020-12-31T01:52:14Z,2020-12-31T01:52:14Z,"1/2、实际上整个execution-service（enclave端）服务已经在sgx环境上跑了，所以整个execution-service（enclave端）是在可信环境上执行
3、runtime的作用就是用来给你的文件数据进行解密获取，加密写出。比如mesapy的with teaclave_open(""label"",""rb"") as f: 最终会调用runtime的open_input获取解密后的数据，with teaclave_open(""label"",""wb"") as f: 则最终调用runtime的create_output将要写入的数据进行加密然后写到文件default 是默认的runtime用于生产环境，raw-io是测试用的runtime
4、以execution-service为例（其它的服务都是同样的操作），首先将edl文件生成一个.o的执行文件，然后利用这个.o的执行文件与execution-service（enclave）编译生成的静态库、mesapy的静态库和sgx的一些静态库库一起合并生成一个共享库(so)，然后sgx的sdk对该共享库进行签名生成最终的execution-service.sign.so签名共享库。 最终execution-service（app）端会使用rust-sgx-sdk的api启动该execution-service.sign.so签名共享库。所以整个execution-service(enclave)端是完全在sgx环境下执行的
5、各方数据文件先用cli工具进行加密，然后利用teaclave提供的pythonsdk进行数据的注册，最终写py代码时，with teaclave_open(""label"",""rb"") as f: 这个label是你注册数据时的label，runtime会用这个label找到对应的文件链接（因为你已经用pythonsdk进行label和链接密钥cmac等进行注册了），接下来就是3的那个过程


我是阅读了底层源码给你的解答，我不是作者本人~.~ 可能会有些出入，但我觉得大致就是如我所说的那样。 作者如果发现我有回答错误的希望提出解答下","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1MjgxNDU3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/450,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDI5Nzg5MA==,incubator-teaclave,754297890,450,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-04T23:59:12Z,2021-01-04T23:59:12Z,@gaojunjie03 多谢你的回答，非常准确。现在文档还不是很完善，阅读代码会更直接一些。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDI5Nzg5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/450,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDU1MTU1OA==,incubator-teaclave,754551558,450,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2021-01-05T10:31:53Z,2021-01-05T10:31:53Z,"> 1/2、实际上整个execution-service（enclave端）服务已经在sgx环境上跑了，所以整个execution-service（enclave端）是在可信环境上执行
> 3、runtime的作用就是用来给你的文件数据进行解密获取，加密写出。比如mesapy的with teaclave_open(""label"",""rb"") as f: 最终会调用runtime的open_input获取解密后的数据，with teaclave_open(""label"",""wb"") as f: 则最终调用runtime的create_output将要写入的数据进行加密然后写到文件default 是默认的runtime用于生产环境，raw-io是测试用的runtime
> 4、以execution-service为例（其它的服务都是同样的操作），首先将edl文件生成一个.o的执行文件，然后利用这个.o的执行文件与execution-service（enclave）编译生成的静态库、mesapy的静态库和sgx的一些静态库库一起合并生成一个共享库(so)，然后sgx的sdk对该共享库进行签名生成最终的execution-service.sign.so签名共享库。 最终execution-service（app）端会使用rust-sgx-sdk的api启动该execution-service.sign.so签名共享库。所以整个execution-service(enclave)端是完全在sgx环境下执行的
> 5、各方数据文件先用cli工具进行加密，然后利用teaclave提供的pythonsdk进行数据的注册，最终写py代码时，with teaclave_open(""label"",""rb"") as f: 这个label是你注册数据时的label，runtime会用这个label找到对应的文件链接（因为你已经用pythonsdk进行label和链接密钥cmac等进行注册了），接下来就是3的那个过程
> 
> 我是阅读了底层源码给你的解答，我不是作者本人~.~ 可能会有些出入，但我觉得大致就是如我所说的那样。 作者如果发现我有回答错误的希望提出解答下

谢谢解答","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDU1MTU1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/451,https://api.github.com/repos/apache/incubator-teaclave/issues/451,incubator-teaclave,776708109,451,关于execution-service服务的问题,gaojunjie03,30582212,gjj,,CLOSED,2020-12-31T01:36:04Z,2021-01-05T01:03:19Z,"我看到这里的源码
![image](https://user-images.githubusercontent.com/30582212/103389671-3cd2a400-4b4b-11eb-9852-93cb236a1df7.png)
一次只能拉取一个准备执行的任务，这里为什么不能做一次拉取多次任务比如5次，然后5次都是并发执行，然后主线程等待这5次线程执行完毕再循环下一次？
这样看execution-service一次只能执行一个task，这好像效率不是很高。是因为什么不能做并发执行呢？
(当然我知道可以同时启动多个execution-service，这样就可以并发执行多个task，但效率还是远远不够)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/451/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/451,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDI5NzM0NA==,incubator-teaclave,754297344,451,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-04T23:57:26Z,2021-01-04T23:57:26Z,"有一下几个原因：

- SGX EPC 大小受限，多线程不会带来太多的 performance gain
- 线程之间没有内存隔离（进程隔离），不同 task 在同一进程执行可能会带来安全隐患

一台物理机启动多个 execution-service 的方式进行并发执行应该能满足现在的需求。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDI5NzM0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/451,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDMxOTczNw==,incubator-teaclave,754319737,451,NA,gaojunjie03,30582212,gjj,,NA,2021-01-05T01:03:19Z,2021-01-05T01:03:19Z,"> 有一下几个原因：
> 
> * SGX EPC 大小受限，多线程不会带来太多的 performance gain
> * 线程之间没有内存隔离（进程隔离），不同 task 在同一进程执行可能会带来安全隐患
> 
> 一台物理机启动多个 execution-service 的方式进行并发执行应该能满足现在的需求。

好的  明白","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1NDMxOTczNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/452,https://api.github.com/repos/apache/incubator-teaclave/issues/452,incubator-teaclave,783903293,452,intel sgx认证机制,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-01-12T04:40:59Z,2021-01-12T18:38:29Z,"请问一下，mesatee是怎么进行sgx的合法性验证的？

$ export AS_SPID=""00000000000000000000000000000000""  # SPID from IAS subscription
$ export AS_KEY=""00000000000000000000000000000000""   # Primary key/Secondary key from IAS subscription
$ export AS_ALGO=""sgx_epid""                          # Attestation algorithm, sgx_epid for IAS
$ export AS_URL=""https://api.trustedservices.intel.com:443""    # IAS URL
这些参数是什么含义？

sgx合法性认证可以必须通过intel官网进行认证吗？

可以离线认证吗？

谢谢","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/452/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/452,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1ODg1Njg5Mg==,incubator-teaclave,758856892,452,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-12T18:38:29Z,2021-01-12T18:38:29Z,"- SPID, KEY 是给 Intel Attestation Service [1] 使用的。
- 除了用 Intel Attestation Service，也可以用 DCAP [2] 搭建 offline 的 attestation。

[1] https://api.portal.trustedservices.intel.com/EPID-attestation
[2] https://teaclave.apache.org/docs/codebase/dcap/","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc1ODg1Njg5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/453,https://api.github.com/repos/apache/incubator-teaclave/issues/453,incubator-teaclave,785686662,453,formal specification and verification for teaclave access control module,SeanVer,77425230,,,OPEN,2021-01-14T06:20:24Z,2021-01-20T13:00:04Z,"The access control module plays a key role in the teaclave architecture, it works as a base security function for other functions to use in teaclave. Because of that, the vulnerabilities of access control module can cause severe threats which breaks down the whole system. So, it is necessary to provide rigorous evidences showing that the implementation of access control policy complies with the security objectives required.

In order to achieve the rigorous compliance between implementation and security objectives required, I propose formal specification and verification for tealcave access control module in Isabelle. Here is a brief summary of steps to achieve this:
1. identify the security objectives required by teaclave access control module
2. decompose the security objectives to security functional requirements(SFR) based on CC (common criteria for information technology)
3. use axioms and uninterpreted types, constants, and functions as formal specifications in terms of SFR to represent the system architecture and high level design of teaclave access control module 
4. state the security objectives as theorems in the context of formal specifications created in step 3.
5. demonstrate by proving with Isabelle that the security objectives specified as theorems are satisfied by the formal specifications created in step 3.

After the steps above, the verified formal specifications are provided. The axioms used for constructing the formal specifications can then be used to verify the implementation by creating test cases following MC/DC procedure.

There are many other base security function modules in teaclave. In the future, I hope to provide formal specification and verification for all such  modules.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/453/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/453,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM3ODI4NA==,incubator-teaclave,763378284,453,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T06:46:23Z,2021-01-20T06:46:23Z,"Thanks for your proposal. Sorry for the late reply. Can you provide a simple example to clarify your goal. More specifically, I'd like to see what kind of outputs you will contribute (e.g., formal document, proof, and readme to reproduce). Please try your best to list them. The followup question is about how to integrate your contributions into the project. If you have can provide several sample repositories on how to open source specifications, that would be very helpful.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM3ODI4NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/453,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzU5MDI5OQ==,incubator-teaclave,763590299,453,NA,SeanVer,77425230,,,NA,2021-01-20T13:00:03Z,2021-01-20T13:00:03Z,"> Thanks for your proposal. Sorry for the late reply. Can you provide a simple example to clarify your goal. More specifically, I'd like to see what kind of outputs you will contribute (e.g., formal document, proof, and readme to reproduce). Please try your best to list them. The followup question is about how to integrate your contributions into the project. If you have can provide several sample repositories on how to open source specifications, that would be very helpful.

The outputs of my work include:
1. atomized decomposition of access control module based on CC(common criteria),along with the standardized documentation
2. formal representation of specification of the access control module constructed by decomposed components
3. formal representation of security objectives required by model.conf
4. mechanic proof with readable steps showing that the specification complies with the security objectives.

Isabelle/Isar/HOL is used as a programing language for the formal presentation. The specification is constructed using built-in module called locale of Isabelle. The consistency proof between specifications is also proved using interpretation mechanism. For the explanation of the mechanism provided by Isabelle, such as locale, please refer to: https://isabelle.in.tum.de/documentation.html.

As for open sourced specifications, links below might be helpful:
https://github.com/ZipCPU/wbuart32/tree/master/doc","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzU5MDI5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/454,https://api.github.com/repos/apache/incubator-teaclave/issues/454,incubator-teaclave,788125051,454,dcap认证服务如何使用,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-01-18T10:08:40Z,2021-01-20T06:51:48Z,"请问一下：
1、按照这个项目https://github.com/intel/SGXDataCenterAttestationPrimitives ，安装好dcap之后，如何使用这个安装好的dcap认证服务呢？
2、使用dcap认证服务，mesatee是不是需要重新编译？需要修改哪些配置呢？

谢谢","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/454/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/454,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM4MDkwMg==,incubator-teaclave,763380902,454,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T06:51:47Z,2021-01-20T06:51:47Z,"1. 我们暂时没有相关，主要的学习资料还是来自 Intel 官方文档。
2. 需要重新编译（https://teaclave.apache.org/docs/codebase/dcap/）：

> By default, Intel Attestation Service (IAS) will be used for attestation in Teaclave. To use DCAP instead of IAS, you have to first build Teaclave with DCAP enabled (by appending -DDCAP=ON option to cmake) and deploy in infrastructure with DCAP supported.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM4MDkwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/458,https://api.github.com/repos/apache/incubator-teaclave/issues/458,incubator-teaclave,789442194,458,File access problem in builtin function,Mengyuan-L,77701508,,,CLOSED,2021-01-19T22:46:26Z,2021-03-18T00:54:13Z,"Hi all, 

I have met some problems about running some builtin functions (e.g., ""builtin_private_join_and_compute.py"", ""builtin_ordered_set_intersect.py"", and ""builtin_gbdt_train.py"" ).

The error looks like:

```
Traceback (most recent call last):
  File ""builtin_private_join_and_compute.py"", line 238, in <module>
    main()
  File ""builtin_private_join_and_compute.py"", line 228, in main
    result_user0 = user0.get_task_result(task_id)
  File ""builtin_private_join_and_compute.py"", line 196, in get_task_result
    return bytes(client.get_task_result(task_id))
  File ""/home/mengyuan/incubator-teaclave/sdk/python/teaclave.py"", line 436, in get_task_result
    return response[""content""][""result""][""result""][""Ok""][""return_value""]
KeyError: 'Ok'
```

Any ideas?
Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/458/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/458,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzE5MjI4Mg==,incubator-teaclave,763192282,458,NA,Mengyuan-L,77701508,,,NA,2021-01-19T22:47:09Z,2021-01-19T22:47:09Z,"I found the reason for these kinds of problems.

The reason is that the execution service inside the docker cannot correctly access the input files as well as the output files.

One can fix this problem by changing the URL inside /examples/python/builtin_XXXX.py from
```
INPUT_FILE_URL_PREFIX = ""http://localhost:6789/fixtures/functions/ordered_set_intersect/""
OUTPUT_FILE_URL_PREFIX = ""http://localhost:6789/fixtures/functions/ordered_set_intersect/""
```

to 

```
INPUT_FILE_URL_PREFIX = ""http://teaclave-file-service:6789/fixtures/functions/ordered_set_intersect/""
OUTPUT_FILE_URL_PREFIX = ""http://teaclave-file-service:6789/fixtures/functions/ordered_set_intersect/""
```

The domain name ""teaclave-file-service"" can be found via `$ docker ps`
you can get the domain name for teaclave file service under the ""NAMES"" column like this:

```
CONTAINER ID     ||   IMAGE          ||   COMMAND                     || CREATED     ||   STATUS      ||      NAMES
XXXXXXXX         ||     python:3     || ""./scripts/simple_ht…""       || 1 days ago   ||   Up 1 days   ||   teaclave-file-service
```


Note that in a real-world case, the url or the input files should be provided by the user. In the built-in example, the developer embeds those files for test usage and we may also use our own files here.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzE5MjI4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/459,https://api.github.com/repos/apache/incubator-teaclave/issues/459,incubator-teaclave,789556736,459,How to get DCAP(ECDSA） attestation information,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-01-20T02:04:04Z,2021-01-20T06:30:11Z,"How to get the value of AS_ALGO,AS_URL,AS_KEY,AS_SPID to attest with DCAP  attestation service?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/459/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/459,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzI4MjE3NQ==,incubator-teaclave,763282175,459,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T02:21:24Z,2021-01-20T02:21:24Z,"For DCAP, `AS_ALGO` is `ecdsa`. `AS_URL` is the URL of your data center attestation service. `AS_KEY` and `AS_SPID` are not used for DCAP.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzI4MjE3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/459,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM2ODUyNg==,incubator-teaclave,763368526,459,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2021-01-20T06:25:01Z,2021-01-20T06:25:01Z,"> For DCAP, `AS_ALGO` is `ecdsa`. `AS_URL` is the URL of your data center attestation service. `AS_KEY` and `AS_SPID` are not used for DCAP.

How to get the 'dcap_root_ca_cert.pem'？ And do there have any complete material introduce how to install DCAP and use it？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM2ODUyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/459,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM3MDc5Mw==,incubator-teaclave,763370793,459,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T06:30:11Z,2021-01-20T06:30:11Z,This link (https://software.intel.com/content/www/us/en/develop/articles/intel-software-guard-extensions-data-center-attestation-primitives-quick-install-guide.html) contains a lot useful documents.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzM3MDc5Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/460,https://api.github.com/repos/apache/incubator-teaclave/issues/460,incubator-teaclave,789562386,460,[RFC] Roadmap in 2021: Project Maturity and Community Buildup,mssun,1270392,Mingshen Sun,bob@mssun.me,OPEN,2021-01-20T02:14:57Z,2023-01-10T03:13:29Z,"Last year, we published an RFC - ""[Roadmap: Towards the First Public Release](https://github.com/apache/incubator-teaclave/issues/121)"" [1]. Thanks for the continuous efforts made by the community. We have completed several milestones and amazing achievements.

Specifically, we published the first Apache incubator release - [version 0.1.0](https://teaclave.apache.org/blog/2020-10-21-announcing-teaclave-0-1-0/) [2]. In this release, we refactored and rewrote almost all core components for better engineering. New features and enhancements was implemented and well tested. Also we wrote plenty of documents for the design, implementation, as well as the code base. Furthermore, the [homepage](https://teaclave.apache.org/) [3] of Apache Teaclave (incubating) was built and online, which contains many useful information on the project and community. We also organized several offline meetups to build up and grow the Teaclave family. In addition, for better explaining the project, we introduced the blog in the Teaclave homepage and then published an [article about the ecosystem](https://teaclave.apache.org/blog/2020-12-08-teaclave-ecosystem/) [4]. In this article, we spent some time to summarize existing open source projects powered by Teaclave. Last but not least, we also attended SGX Workshop and ApacheCon to introduce our project. Overall we're very glad to see the development of the project and growth of the community.

In the year of 2021, we need to focus on the maturity of the project and building a healthier and more sustainable community. Therefore, I summarize several to-do lists here. There are mainly four parts. The first three are about the project's features and enhancements, which include Teaclave FaaS framework, Teaclave SGX SDK, and Teaclave TrustZone SDK (this project just completed the donation voting, more things need to do later). The last one is about community buildup. Yes, this is a very long list. Please let me know if you are interested in. I'm more than happy to help you if not familiar with Teaclave, SGX, or Rust. At last, this is not a complete list. Feel free to comment and discuss in this thread.


## Teaclave FaaS Framework

  - [ ] Support WebAssembly executor
  - [ ] Expose attestation related functions to the executor runtime
  - [ ] Database persistency
  - [ ] Execution report for end user
  - [ ] Async RPC framework for better throughput performance
  - [ ] Monitoring
  - [ ] Performance/Scalability evaluation
  - [ ] Multi-language client SDK: C, Rust client SDK
  - [ ] Improve legacy code using latest compiler features
  - [ ] Documentation: Lifecycle of a task in Teaclave
  - [ ] Documentation: How to launch a multi-party secure computation task
  - [ ] Documentation: FAQ
  - [ ] Technical report
  - [ ] Use a separated service and rule evaluation engine for access control
  - [ ] Implement KMS
  - [ ] Attestation specification for third party enclaves
  - [ ] Automatic state transition of pre-approved tasks
  - [ ] Local configuration of attestation method
  - [ ] Better attestation report freshness management
  - [ ] Refactor RPC interfaces
  - [ ] Add a secure logging service
  - [ ] Active enclaves status service
  - [ ] Support multiple TEE implementations
  - [ ] GRPC or thrift compatibility
  - [ ] Universal TEE interface design and implementation

## Teaclave SGX SDK

  - [ ] Security auditing and enhancement
  - [ ] Code polishing
  - [ ] Publish an Apache release
  - [ ] Design a proper development, releasing development lifecycle
  - [ ] Documentation polishing
  - [ ] Tutorial
  - [ ] Maintenance of Rust crates for Teaclave
  - [ ] Document porting guideline for Rust crates for SGX
  - [ ] std Aware Cargo supports
  - [ ] Rust secure file system

## Teaclave TrustZone SDK

  - [ ] Keep update to the latest Rust standard library
  - [ ] Keep update to the latest OP-TEE version
  - [ ] Rust Crates for TrustZone, examples
  - [ ] Design attestation framework for TZ

## Teaclave Community

  - [ ] Organize meetups on topics around Teaclave
  - [ ] Give public talks to developers
  - [ ] Reach out to more Teaclave users
  - [ ] Collaboration with industry and academia
  - [ ] Blogs on Rust, TEE, and Teaclave


[1] https://github.com/apache/incubator-teaclave/issues/121
[2] https://teaclave.apache.org/blog/2020-10-21-announcing-teaclave-0-1-0/
[3] https://teaclave.apache.org/
[4] https://teaclave.apache.org/blog/2020-12-08-teaclave-ecosystem/
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/460/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/461,https://api.github.com/repos/apache/incubator-teaclave/issues/461,incubator-teaclave,789709565,461,I a error when use simulate model,master-davidlee,49427668,,,CLOSED,2021-01-20T07:16:44Z,2021-01-20T14:25:50Z,"I met a error 
![image](https://user-images.githubusercontent.com/49427668/105138662-2c9d5b80-5b30-11eb-8fb5-3c692c99e6cd.png)
and this is my release/services
![image](https://user-images.githubusercontent.com/49427668/105138731-4474df80-5b30-11eb-92df-ab878727b69a.png)
and I successed compiled
![image](https://user-images.githubusercontent.com/49427668/105139407-3c696f80-5b31-11eb-96a2-c40900527e93.png)

_Originally posted by @master-davidlee in https://github.com/apache/incubator-teaclave/issues/437#issuecomment-763385226_","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/461/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/461,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzQyODA3OQ==,incubator-teaclave,763428079,461,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T08:28:03Z,2021-01-20T08:28:03Z,See PR #462.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzQyODA3OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/461,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzY0MTYwNg==,incubator-teaclave,763641606,461,NA,master-davidlee,49427668,,,NA,2021-01-20T14:25:46Z,2021-01-20T14:25:46Z,Thanks it work,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzY0MTYwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/463,incubator-teaclave,790031869,463,Execute builtin_echo.py error,master-davidlee,49427668,,,CLOSED,2021-01-20T14:34:26Z,2021-04-09T19:13:33Z,"I have launched all the service 
![image](https://user-images.githubusercontent.com/49427668/105189064-896c3680-5b6f-11eb-881d-f0a3bf8f2023.png)
but when I want to run  the example  echo.py
![image](https://user-images.githubusercontent.com/49427668/105189161-a3a61480-5b6f-11eb-9b85-293382fdfd65.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/463/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzgyMzY2MA==,incubator-teaclave,763823660,463,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-20T17:53:05Z,2021-01-20T17:53:05Z,"1. I saw that several services have exited. Please make sure all services successfully launched.
2. You should install the `toml` and other essential modules for the python client: `pip3 install pyopenssl toml cryptography`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2MzgyMzY2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NDIwNTM4Nw==,incubator-teaclave,764205387,463,NA,master-davidlee,49427668,,,NA,2021-01-21T03:16:49Z,2021-01-21T03:16:49Z,"I install the python lib, but after I run `(cd docker && docker-compose -f docker-compose-ubuntu-1804-sgx-sim-mode.yml up --build)` 
some service will be exited after a while automatically
![image](https://user-images.githubusercontent.com/49427668/105275318-003e1980-5bda-11eb-8b70-c11fe5f675ba.png)
and when I run `SGX_MODE=SW PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'`
![image](https://user-images.githubusercontent.com/49427668/105275353-19df6100-5bda-11eb-83fb-6aaae06bacf5.png)
![image](https://user-images.githubusercontent.com/49427668/105275364-22d03280-5bda-11eb-9e2b-421e5901c8b3.png)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NDIwNTM4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk0MzAxNw==,incubator-teaclave,767943017,463,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-27T01:22:20Z,2021-01-27T01:22:20Z,Can you set the env var `export TEACLAVE_LOG=debug`? Then start the services with `docker-compose`. Please paste log here. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk0MzAxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk1MjYyNw==,incubator-teaclave,767952627,463,NA,master-davidlee,49427668,,,NA,2021-01-27T01:47:00Z,2021-01-27T01:47:00Z,"![image](https://user-images.githubusercontent.com/49427668/105930272-569cd380-6084-11eb-80cb-be976ac3d886.png)
![image](https://user-images.githubusercontent.com/49427668/105930317-69170d00-6084-11eb-85e5-6e6c4abe36fd.png)
![image](https://user-images.githubusercontent.com/49427668/105930337-759b6580-6084-11eb-98c8-decc0fef7b08.png)
![image](https://user-images.githubusercontent.com/49427668/105930362-82b85480-6084-11eb-80b5-0510bcb6a856.png)
![image](https://user-images.githubusercontent.com/49427668/105930393-8ea41680-6084-11eb-9309-277468bd2a9c.png)
![image](https://user-images.githubusercontent.com/49427668/105930416-982d7e80-6084-11eb-8f01-5fdcda2bb80a.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk1MjYyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk1MzQ2Nw==,incubator-teaclave,767953467,463,NA,master-davidlee,49427668,,,NA,2021-01-27T01:49:07Z,2021-01-27T01:49:07Z,"it looks like right at the beginning, but something wrong after a while. Can you help me with that?  Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk1MzQ2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk2MzQ0Nw==,incubator-teaclave,767963447,463,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-27T02:13:52Z,2021-01-27T02:13:52Z,Seems that there're connection issues between containers (services) started by `docker-compose`. I don't know why.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk2MzQ0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk2NDg2Nw==,incubator-teaclave,767964867,463,NA,master-davidlee,49427668,,,NA,2021-01-27T02:17:03Z,2021-01-27T02:17:03Z,"Ok, I will try in the real TEE with another PC．And can I load my own machine learning model file use Teaclave?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk2NDg2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk2NjYyNw==,incubator-teaclave,767966627,463,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-27T02:21:35Z,2021-01-27T02:21:35Z,"> And can I load my own machine learning model file use Teaclave?

Sorry, I don't know how to answer this question. It's too general. Can you give me more detailed information?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk2NjYyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2ODAwNjI3OA==,incubator-teaclave,768006278,463,NA,master-davidlee,49427668,,,NA,2021-01-27T03:58:45Z,2021-01-27T03:58:45Z,"Current Teaclave supports any python machine learning modules?  can I load a pickle-dumped machine learning model file in Teaclave and run it? like below


import numpy as np

class Linear_Regression:
    def __init__(self):
        self._w = None

    def fit(self, X, y, lr=0.01, epsilon=0.01, epoch=1000):
        #训练数据
        #将输入的X,y转换为numpy数组
        X, y = np.asarray(X, np.float32), np.asarray(y, np.float32)
        #给X增加一列常数项
        X=np.hstack((X,np.ones((X.shape[0],1))))
        #初始化w
        self._w = np.zeros((X.shape[1],1)) 
        
        for _ in range(epoch):
            #随机选择一组样本计算梯度
            random_num=np.random.choice(len(X))
            x_random=X[random_num].reshape(1,2)
            y_random=y[random_num]
        
            gradient=(x_random.T)*(np.dot(x_random,self._w)-y_random)
            
            #如果收敛，那么停止迭代
            if (np.abs(self._w-lr*gradient)<epsilon).all():    
                break
            #否则，更新w
            else:
                self._w =self._w-lr*gradient          
        
        return self._w
        
    def print_results(self):
        print(""参数w:{}"".format(self._w))
        print(""回归拟合线:y={}x+{}"".format(self._w[0],self._w[1]))
        
    def predict(self,x):
        x=np.asarray(x, np.float32)
        x=x.reshape(x.shape[0],1)
        x=np.hstack((x,np.ones((x.shape[0],1))))
        return np.dot(x,self._w)
 

#训练并保存模型：

import pickle

#创建数据
x=np.linspace(0,100,10).reshape(10,1)
rng=np.random.RandomState(4)
noise=rng.randint(-10,10,size=(10,1))*4
y=4*x+4+noise

model=Linear_Regression()
model.fit(x,y,lr=0.0001,epsilon=0.001,epoch=20)

with open('model.pickle', 'wb') as file:
    pickle.dump(model, file)
 

#然后调取模型并进行预测和打印结果：

with open('model.pickle', 'rb') as file:
    model=pickle.load(file)
    print(model.predict([50]))
    model.print_results()
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2ODAwNjI3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc3MDM4NjE4MQ==,incubator-teaclave,770386181,463,NA,master-davidlee,49427668,,,NA,2021-01-31T13:55:07Z,2021-01-31T13:55:07Z,"`ipfs@249:~/incubator-teaclave$ (cd docker && docker-compose -f docker-compose-ubuntu-1804-sgx-sim-mode.yml up --build)
Building teaclave-authentication-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-authentication-service-sgx-sim-mode:latest
Building teaclave-storage-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-storage-service-sgx-sim-mode:latest
Building teaclave-access-control-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-access-control-service-sgx-sim-mode:latest
Building teaclave-management-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-management-service-sgx-sim-mode:latest
Building teaclave-frontend-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-frontend-service-sgx-sim-mode:latest
Building teaclave-scheduler-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-scheduler-service-sgx-sim-mode:latest
Building teaclave-execution-service-sgx-sim-mode
Step 1/29 : FROM ubuntu:18.04
 ---> c090eaba6b94
Step 2/29 : ENV VERSION 2.9.101.2-bionic1
 ---> Using cache
 ---> c79b094403a2
Step 3/29 : ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-linux/2.9.1/distro/ubuntu18.04-server""
 ---> Using cache
 ---> 275d85d58955
Step 4/29 : ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.9.101.2.bin
 ---> Using cache
 ---> 156c9a878491
Step 5/29 : ENV SGX_LINUX_X64_SDK_URL ""$SGX_DOWNLOAD_URL_BASE/$SGX_LINUX_X64_SDK""
 ---> Using cache
 ---> 6521903008e8
Step 6/29 : RUN apt-get update && apt-get install -q -y     libcurl4-openssl-dev     libprotobuf-dev     curl     pkg-config     wget
 ---> Using cache
 ---> 04db0a867bcd
Step 7/29 : RUN echo 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' |   tee /etc/apt/sources.list.d/intel-sgx.list
 ---> Using cache
 ---> 2961160d045a
Step 8/29 : RUN curl -fsSL  https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | apt-key add -
 ---> Using cache
 ---> 164af245f044
Step 9/29 : RUN apt-get update && apt-get install -q -y     libsgx-launch=$VERSION     libsgx-urts=$VERSION     libsgx-quote-ex=$VERSION
 ---> Using cache
 ---> f823bb1bca74
Step 10/29 : RUN mkdir /etc/init
 ---> Using cache
 ---> 52c1c3cce471
Step 11/29 : RUN wget $SGX_LINUX_X64_SDK_URL               &&     chmod u+x $SGX_LINUX_X64_SDK              &&     echo -e 'no\n/opt' | ./$SGX_LINUX_X64_SDK &&     rm $SGX_LINUX_X64_SDK                     &&     echo 'source /opt/sgxsdk/environment' >> /etc/environment
 ---> Using cache
 ---> 688849fbc26e
Step 12/29 : ENV LD_LIBRARY_PATH=/opt/sgxsdk/sdk_libs
 ---> Using cache
 ---> 16060263928f
Step 13/29 : RUN mkdir -p /tmp/fusion_data
 ---> Using cache
 ---> bf1356023ff0
Step 14/29 : ADD release/services/teaclave_frontend_service /teaclave/
 ---> Using cache
 ---> 827d26630464
Step 15/29 : ADD release/services/teaclave_frontend_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> b6fee11daa2f
Step 16/29 : ADD release/services/teaclave_authentication_service /teaclave/
 ---> Using cache
 ---> 9dd52d5fd225
Step 17/29 : ADD release/services/teaclave_authentication_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 80271d9446bb
Step 18/29 : ADD release/services/teaclave_management_service /teaclave/
 ---> Using cache
 ---> 5a41dca34b9a
Step 19/29 : ADD release/services/teaclave_management_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 921d3bd8b318
Step 20/29 : ADD release/services/teaclave_scheduler_service /teaclave/
 ---> Using cache
 ---> 30a7046e9939
Step 21/29 : ADD release/services/teaclave_scheduler_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> bad5c52051c3
Step 22/29 : ADD release/services/teaclave_access_control_service /teaclave/
 ---> Using cache
 ---> cfe3f99ee1fb
Step 23/29 : ADD release/services/teaclave_access_control_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> f52abbab7cf3
Step 24/29 : ADD release/services/teaclave_storage_service /teaclave/
 ---> Using cache
 ---> 301b116a6525
Step 25/29 : ADD release/services/teaclave_storage_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 4211ad0a1ad7
Step 26/29 : ADD release/services/teaclave_execution_service /teaclave/
 ---> Using cache
 ---> 2912ec8a1d15
Step 27/29 : ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/
 ---> Using cache
 ---> 81ffad21ab27
Step 28/29 : ADD release/services/enclave_info.toml /teaclave/
 ---> Using cache
 ---> 3a7b6c47f1a3
Step 29/29 : ADD release/services/auditors /teaclave/auditors
 ---> Using cache
 ---> cd92db5bf5fa

Successfully built cd92db5bf5fa
Successfully tagged docker_teaclave-execution-service-sgx-sim-mode:latest
Recreating teaclave-access-control-service-sgx-sim-mode ... done
Recreating teaclave-authentication-service-sgx-sim-mode ... done
Recreating teaclave-storage-service-sgx-sim-mode        ... done
Starting docker_teaclave-file-service_1                 ... done
Recreating teaclave-scheduler-service-sgx-sim-mode      ... done
Recreating teaclave-management-service-sgx-sim-mode     ... done
Recreating teaclave-execution-service-sgx-sim-mode      ... done
Recreating teaclave-frontend-service-sgx-sim-mode       ... done
Attaching to teaclave-storage-service-sgx-sim-mode, teaclave-access-control-service-sgx-sim-mode, docker_teaclave-file-service_1, teaclave-authentication-service-sgx-sim-mode, teaclave-scheduler-service-sgx-sim-mode, teaclave-management-service-sgx-sim-mode, teaclave-execution-service-sgx-sim-mode, teaclave-frontend-service-sgx-sim-mode
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_access_control_service_enclave] handle_invoke
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 87, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 49, 57, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 49, 57, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 150, 231, 23, 233, 32, 75, 7, 132, 78, 10, 185, 145, 162, 206, 121, 250, 50, 180, 60, 158, 17, 251, 254, 235, 52, 230, 69, 164, 243, 249, 207, 133, 159, 198, 194, 98, 132, 250, 106, 186, 99, 114, 12, 216, 147, 190, 17, 11, 222, 67, 193, 209, 2, 11, 113, 55, 96, 224, 219, 93, 186, 86, 166, 123, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 73, 0, 48, 70, 2, 33, 0, 207, 73, 114, 197, 172, 158, 183, 6, 142, 178, 171, 43, 15, 99, 100, 163, 117, 220, 15, 239, 249, 255, 186, 250, 50, 78, 41, 101, 161, 3, 32, 42, 2, 33, 0, 182, 74, 230, 145, 101, 170, 172, 29, 187, 115, 61, 18, 22, 18, 90, 90, 191, 79, 141, 137, 20, 38, 98, 189, 50, 55, 158, 23, 14, 196, 157, 3], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 208, 37, 66, 92, 89, 90, 90, 186, 60, 93, 24, 189, 234, 255, 180, 153, 98, 77, 92, 226, 130, 77, 147, 39, 233, 136, 102, 164, 245, 73, 185, 208, 161, 68, 3, 66, 0, 4, 150, 231, 23, 233, 32, 75, 7, 132, 78, 10, 185, 145, 162, 206, 121, 250, 50, 180, 60, 158, 17, 251, 254, 235, 52, 230, 69, 164, 243, 249, 207, 133, 159, 198, 194, 98, 132, 250, 106, 186, 99, 114, 12, 216, 147, 190, 17, 11, 222, 67, 193, 209, 2, 11, 113, 55, 96, 224, 219, 93, 186, 86, 166, 123], time: SystemTime { tv_sec: 1612101199, tv_nsec: 280574482 }, validity: 3600s }
teaclave-access-control-service-sgx-sim-mode    | [2021-01-31T13:53:19Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_authentication_service_enclave] handle_invoke
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 86, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 50, 48, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 50, 48, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 144, 122, 83, 225, 186, 8, 251, 185, 188, 78, 77, 74, 211, 220, 249, 165, 211, 6, 35, 77, 131, 176, 183, 51, 84, 92, 202, 241, 110, 110, 139, 18, 185, 67, 190, 16, 255, 57, 82, 43, 192, 233, 67, 19, 154, 16, 48, 52, 185, 129, 68, 93, 77, 73, 73, 75, 172, 125, 120, 217, 232, 175, 243, 2, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 72, 0, 48, 69, 2, 33, 0, 133, 89, 156, 202, 226, 28, 235, 116, 10, 81, 35, 163, 241, 194, 67, 63, 126, 180, 60, 54, 182, 212, 251, 92, 25, 43, 115, 252, 51, 56, 4, 163, 2, 32, 67, 126, 106, 53, 163, 16, 96, 81, 107, 239, 148, 70, 9, 225, 81, 250, 126, 215, 69, 178, 75, 10, 25, 134, 106, 119, 152, 97, 175, 99, 197, 141], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 171, 49, 126, 162, 57, 54, 61, 50, 208, 0, 171, 161, 72, 225, 195, 109, 8, 153, 157, 182, 63, 5, 238, 167, 168, 203, 94, 49, 115, 127, 62, 244, 161, 68, 3, 66, 0, 4, 144, 122, 83, 225, 186, 8, 251, 185, 188, 78, 77, 74, 211, 220, 249, 165, 211, 6, 35, 77, 131, 176, 183, 51, 84, 92, 202, 241, 110, 110, 139, 18, 185, 67, 190, 16, 255, 57, 82, 43, 192, 233, 67, 19, 154, 16, 48, 52, 185, 129, 68, 93, 77, 73, 73, 75, 172, 125, 120, 217, 232, 175, 243, 2], time: SystemTime { tv_sec: 1612101200, tv_nsec: 189609315 }, validity: 3600s }
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-authentication-service-sgx-sim-mode    | [2021-01-31T13:53:20Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_scheduler_service_enclave] handle_invoke
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_storage_service_enclave] handle_invoke
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 86, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 50, 48, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 50, 48, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 225, 165, 184, 86, 228, 87, 40, 46, 143, 203, 149, 161, 198, 54, 133, 140, 8, 169, 206, 68, 69, 199, 85, 106, 249, 240, 203, 3, 204, 81, 244, 255, 161, 172, 17, 86, 233, 216, 61, 86, 67, 100, 29, 12, 166, 169, 188, 207, 131, 104, 198, 223, 97, 22, 167, 44, 195, 6, 188, 164, 22, 6, 247, 106, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 72, 0, 48, 69, 2, 32, 17, 251, 128, 228, 124, 110, 52, 54, 157, 93, 194, 243, 186, 70, 36, 199, 30, 39, 235, 138, 35, 53, 151, 20, 55, 73, 151, 151, 178, 201, 162, 161, 2, 33, 0, 211, 205, 183, 93, 142, 254, 145, 7, 101, 216, 158, 73, 221, 154, 66, 206, 54, 247, 110, 217, 84, 247, 214, 87, 92, 56, 72, 88, 56, 168, 200, 230], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 84, 202, 208, 86, 117, 18, 125, 3, 229, 130, 125, 211, 181, 8, 12, 230, 206, 245, 160, 104, 175, 245, 34, 124, 85, 151, 175, 124, 176, 129, 206, 163, 161, 68, 3, 66, 0, 4, 225, 165, 184, 86, 228, 87, 40, 46, 143, 203, 149, 161, 198, 54, 133, 140, 8, 169, 206, 68, 69, 199, 85, 106, 249, 240, 203, 3, 204, 81, 244, 255, 161, 172, 17, 86, 233, 216, 61, 86, 67, 100, 29, 12, 166, 169, 188, 207, 131, 104, 198, 223, 97, 22, 167, 44, 195, 6, 188, 164, 22, 6, 247, 106], time: SystemTime { tv_sec: 1612101200, tv_nsec: 255423425 }, validity: 3600s }
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_management_service_enclave] handle_invoke
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 87, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 49, 56, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 49, 56, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 226, 205, 228, 72, 30, 8, 90, 106, 232, 191, 160, 0, 250, 75, 23, 167, 233, 187, 189, 135, 15, 1, 96, 38, 176, 188, 154, 229, 207, 164, 199, 3, 159, 13, 56, 132, 240, 241, 225, 206, 215, 63, 178, 27, 120, 245, 105, 148, 188, 215, 64, 176, 250, 216, 146, 47, 5, 162, 45, 97, 236, 177, 115, 62, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 73, 0, 48, 70, 2, 33, 0, 182, 78, 94, 117, 33, 25, 187, 40, 153, 53, 162, 61, 180, 219, 47, 226, 118, 189, 182, 155, 74, 159, 86, 60, 170, 247, 8, 60, 145, 115, 2, 74, 2, 33, 0, 239, 198, 79, 38, 132, 32, 170, 147, 166, 119, 136, 46, 186, 168, 116, 185, 139, 126, 216, 151, 46, 28, 46, 108, 158, 81, 5, 57, 168, 9, 225, 38], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 72, 230, 115, 5, 249, 6, 163, 83, 68, 183, 141, 17, 79, 83, 102, 2, 135, 231, 140, 95, 215, 193, 128, 10, 201, 241, 236, 9, 156, 0, 202, 158, 161, 68, 3, 66, 0, 4, 226, 205, 228, 72, 30, 8, 90, 106, 232, 191, 160, 0, 250, 75, 23, 167, 233, 187, 189, 135, 15, 1, 96, 38, 176, 188, 154, 229, 207, 164, 199, 3, 159, 13, 56, 132, 240, 241, 225, 206, 215, 63, 178, 27, 120, 245, 105, 148, 188, 215, 64, 176, 250, 216, 146, 47, 5, 162, 45, 97, 236, 177, 115, 62], time: SystemTime { tv_sec: 1612101198, tv_nsec: 897395160 }, validity: 3600s }
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 86, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 50, 48, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 50, 48, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 183, 102, 168, 82, 71, 53, 255, 253, 209, 45, 245, 62, 206, 235, 243, 69, 48, 138, 177, 141, 181, 176, 79, 41, 19, 6, 62, 49, 57, 49, 8, 86, 170, 74, 2, 207, 195, 73, 0, 233, 223, 168, 42, 160, 254, 64, 239, 164, 207, 84, 112, 4, 72, 234, 81, 36, 116, 172, 45, 149, 12, 242, 198, 195, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 72, 0, 48, 69, 2, 33, 0, 133, 223, 240, 229, 39, 40, 183, 91, 10, 71, 93, 212, 137, 234, 117, 136, 24, 3, 52, 60, 241, 76, 141, 85, 239, 9, 177, 117, 178, 176, 39, 254, 2, 32, 62, 17, 46, 7, 169, 60, 252, 66, 236, 213, 76, 105, 193, 77, 112, 57, 252, 159, 128, 221, 196, 156, 223, 22, 68, 173, 54, 232, 219, 117, 23, 181], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 95, 69, 21, 67, 5, 100, 162, 172, 201, 195, 46, 249, 241, 6, 120, 228, 110, 97, 10, 52, 232, 235, 94, 248, 4, 80, 166, 124, 246, 93, 153, 218, 161, 68, 3, 66, 0, 4, 183, 102, 168, 82, 71, 53, 255, 253, 209, 45, 245, 62, 206, 235, 243, 69, 48, 138, 177, 141, 181, 176, 79, 41, 19, 6, 62, 49, 57, 49, 8, 86, 170, 74, 2, 207, 195, 73, 0, 233, 223, 168, 42, 160, 254, 64, 239, 164, 207, 84, 112, 4, 72, 234, 81, 36, 116, 172, 45, 149, 12, 242, 198, 195], time: SystemTime { tv_sec: 1612101200, tv_nsec: 459649828 }, validity: 3600s }
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-storage-service-sgx-sim-mode           | [2021-01-31T13:53:18Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:20Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 0
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:20Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 0
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_execution_service_enclave] handle_invoke
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 86, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 50, 49, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 50, 49, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 225, 132, 130, 87, 230, 255, 239, 92, 154, 236, 171, 78, 123, 210, 92, 235, 158, 238, 49, 83, 14, 205, 114, 88, 159, 2, 239, 70, 32, 91, 30, 128, 201, 120, 86, 141, 215, 244, 217, 193, 57, 122, 77, 60, 44, 109, 150, 84, 182, 246, 173, 100, 50, 185, 189, 93, 102, 133, 188, 215, 29, 100, 239, 123, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 72, 0, 48, 69, 2, 33, 0, 177, 41, 4, 238, 223, 87, 21, 182, 239, 187, 116, 202, 60, 14, 91, 87, 187, 241, 121, 151, 215, 210, 241, 161, 226, 68, 58, 0, 92, 214, 214, 201, 2, 32, 125, 94, 29, 81, 126, 234, 112, 88, 174, 121, 88, 180, 187, 46, 244, 107, 223, 56, 204, 161, 150, 198, 121, 98, 66, 162, 233, 192, 220, 25, 98, 115], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 186, 229, 227, 237, 38, 113, 211, 128, 56, 169, 114, 245, 16, 40, 229, 127, 235, 180, 61, 206, 254, 23, 250, 187, 193, 150, 156, 210, 219, 109, 72, 33, 161, 68, 3, 66, 0, 4, 225, 132, 130, 87, 230, 255, 239, 92, 154, 236, 171, 78, 123, 210, 92, 235, 158, 238, 49, 83, 14, 205, 114, 88, 159, 2, 239, 70, 32, 91, 30, 128, 201, 120, 86, 141, 215, 244, 217, 193, 57, 122, 77, 60, 44, 109, 150, 84, 182, 246, 173, 100, 50, 185, 189, 93, 102, 133, 188, 215, 29, 100, 239, 123], time: SystemTime { tv_sec: 1612101201, tv_nsec: 594974879 }, validity: 3600s }
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:21Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 0
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_service_enclave_utils] Enclave initializing
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1000, 3348 bytes
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_frontend_service_enclave] handle_invoke
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_attestation::attestation] AttestedTlsConfig { cert: [48, 130, 1, 86, 48, 129, 253, 160, 3, 2, 1, 2, 2, 1, 1, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 48, 19, 49, 17, 48, 15, 6, 3, 85, 4, 3, 12, 8, 84, 101, 97, 99, 108, 97, 118, 101, 48, 30, 23, 13, 50, 49, 48, 49, 51, 49, 49, 51, 53, 51, 50, 49, 90, 23, 13, 50, 49, 48, 53, 48, 49, 49, 51, 53, 51, 50, 49, 90, 48, 22, 49, 20, 48, 18, 6, 3, 85, 4, 3, 12, 11, 67, 78, 61, 84, 101, 97, 99, 108, 97, 118, 101, 48, 89, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 3, 66, 0, 4, 190, 194, 173, 67, 154, 107, 54, 111, 23, 24, 161, 27, 240, 126, 88, 131, 64, 147, 201, 62, 59, 125, 3, 83, 78, 86, 211, 161, 112, 101, 174, 211, 232, 152, 117, 56, 49, 19, 226, 176, 150, 126, 179, 56, 104, 206, 132, 172, 181, 163, 214, 220, 9, 64, 214, 92, 123, 61, 49, 20, 20, 149, 26, 111, 163, 63, 48, 61, 48, 59, 6, 9, 96, 134, 72, 1, 134, 248, 66, 1, 13, 4, 46, 123, 34, 114, 101, 112, 111, 114, 116, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 91, 93, 44, 34, 115, 105, 103, 110, 105, 110, 103, 95, 99, 101, 114, 116, 34, 58, 91, 93, 125, 48, 10, 6, 8, 42, 134, 72, 206, 61, 4, 3, 2, 3, 72, 0, 48, 69, 2, 33, 0, 246, 198, 34, 84, 103, 119, 210, 148, 100, 70, 158, 233, 80, 184, 157, 147, 9, 47, 24, 3, 169, 26, 127, 248, 125, 154, 123, 249, 82, 45, 252, 80, 2, 32, 16, 133, 181, 56, 100, 167, 199, 24, 130, 209, 177, 142, 199, 68, 234, 254, 52, 9, 116, 166, 12, 26, 219, 57, 190, 148, 66, 176, 97, 96, 111, 87], private_key: [48, 129, 135, 2, 1, 0, 48, 19, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 8, 42, 134, 72, 206, 61, 3, 1, 7, 4, 109, 48, 107, 2, 1, 1, 4, 32, 202, 122, 86, 161, 184, 132, 178, 14, 136, 74, 7, 28, 87, 212, 74, 232, 241, 21, 98, 247, 199, 63, 122, 216, 124, 97, 113, 251, 118, 47, 143, 157, 161, 68, 3, 66, 0, 4, 190, 194, 173, 67, 154, 107, 54, 111, 23, 24, 161, 27, 240, 126, 88, 131, 64, 147, 201, 62, 59, 125, 3, 83, 78, 86, 211, 161, 112, 101, 174, 211, 232, 152, 117, 56, 49, 19, 226, 176, 150, 126, 179, 56, 104, 206, 132, 172, 181, 163, 214, 220, 9, 64, 214, 92, 123, 61, 49, 20, 20, 149, 26, 111], time: SystemTime { tv_sec: 1612101201, tv_nsec: 904973437 }, validity: 3600s }
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_attestation::attestation] AttestationFreshnessKeeper started
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:21Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 0
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:23Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 1
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:23Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 1
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:24Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 1
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:24Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 1
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:26Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 2
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:26Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 2
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:27Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 2
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:27Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 2
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:29Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 3
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:29Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 3
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:30Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 3
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:30Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 3
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:32Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 4
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:32Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 4
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:33Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 4
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:33Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 4
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:35Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 5
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:35Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 5
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:36Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 5
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:36Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 5
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:38Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 6
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:38Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 6
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:39Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 6
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:39Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 6
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:41Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 7
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:41Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 7
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:42Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 7
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:42Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 7
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:44Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 8
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:44Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 8
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:45Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 8
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:45Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 8
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:47Z DEBUG teaclave_scheduler_service_enclave::service] Failed to connect to storage service, retry 9
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:47Z DEBUG teaclave_management_service_enclave::service] Failed to connect to storage service, retry 9
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:48Z DEBUG teaclave_execution_service_enclave::service] Failed to connect to scheduler service, retry 9
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:48Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 9
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z ERROR teaclave_scheduler_service_enclave] Failed to start the service: failed to connect to storage service
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_scheduler_service_enclave] handle_invoke
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-scheduler-service-sgx-sim-mode         | [2021-01-31T13:53:50Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z ERROR teaclave_management_service_enclave] Failed to start the service: failed to connect to storage service
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_management_service_enclave] handle_invoke
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-management-service-sgx-sim-mode        | [2021-01-31T13:53:50Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-scheduler-service-sgx-sim-mode exited with code 0
teaclave-management-service-sgx-sim-mode exited with code 0
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z ERROR teaclave_execution_service_enclave] Failed to start the service: failed to connect to scheduler service
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_execution_service_enclave] handle_invoke
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-execution-service-sgx-sim-mode         | [2021-01-31T13:53:51Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z ERROR teaclave_frontend_service_enclave] Failed to start the service: failed to connect to authentication service
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_frontend_service_enclave] handle_invoke
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-frontend-service-sgx-sim-mode          | [2021-01-31T13:53:51Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-execution-service-sgx-sim-mode exited with code 0
teaclave-frontend-service-sgx-sim-mode exited with code 0
`","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc3MDM4NjE4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNTM0Nzg1MA==,incubator-teaclave,815347850,463,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-04-08T00:03:36Z,2021-04-08T00:03:36Z,"Hi this issue is same with #495, please see my solution there. I'll fix it later so that people doesn't have to change anything to run in the simulation mode.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNTM0Nzg1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/463,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNjkwMTk3MQ==,incubator-teaclave,816901971,463,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-04-09T19:13:33Z,2021-04-09T19:13:33Z,Fixed in #496.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNjkwMTk3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/465,https://api.github.com/repos/apache/incubator-teaclave/issues/465,incubator-teaclave,790576570,465,Cargo build error for Rust SDK,Mengyuan-L,77701508,,,CLOSED,2021-01-21T01:12:07Z,2021-01-22T01:20:05Z,"Hi all,
 
When I tried to cargo build `/teaclave/sdk/rust/`, I met the following error:

```
error: failed to run custom build command for `teaclave_proto v0.1.0 (/teaclave/services/proto)`
Caused by:
  process didn't exit successfully: `/teaclave/sdk/rust/target/debug/build/teaclave_proto-1f6374e59418fb11/build-script-build` (exit code: 101)

--- stderr
thread 'main' panicked at 'stdout: ""error: failed to download `ansi_term v0.11.0`\n\nCaused by:\n  can\'t make HTTP request in the offline mode\n"", stderr: ""error: failed to download `ansi_term v0.11.0`\n\nCaused by:\n  can\'t make HTTP request in the offline mode\n""', /teaclave/services/proto/build.rs:76:9
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

warning: build failed, waiting for other jobs to finish...
error: build failed
```
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/465/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/465,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NDE0OTc5Ng==,incubator-teaclave,764149796,465,NA,Mengyuan-L,77701508,,,NA,2021-01-21T01:15:21Z,2021-01-21T01:15:21Z,"The problem can be solved by commenting cargo build option ""--offline""  in /services/proto/build.rs. I guess there are some new packets needed by building the sdk. Maybe a update is needed here. 
Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NDE0OTc5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/465,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NDg3MzQ4Nw==,incubator-teaclave,764873487,465,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-21T19:12:42Z,2021-01-21T19:12:42Z,"Thanks for reporting this. No, this is not caused by the needs of new crates.

This is because all of our dependencies for the frameworks, SDKs, cli, etc. are vendored for offline building. However, this is managed by the build system (i.e., cmake). If you want to compile a crate directly in side the directory, there may be some compilation errors.

In your case, I'm thinking about the solution. Maybe, putting a `Cargo.lock` should work.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NDg3MzQ4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/466,https://api.github.com/repos/apache/incubator-teaclave/issues/466,incubator-teaclave,790753729,466,How about provide a live demo API to  experience？,master-davidlee,49427668,,,CLOSED,2021-01-21T06:52:52Z,2021-12-01T03:42:49Z,"I have tried your tutorial about ""the first function"", but met many errors. 
How about providing a live demo API that includes executing custom python files and machine learning to experience?  In this way, people can directly experience your work and save a lot of time for both of us.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/466/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/469,https://api.github.com/repos/apache/incubator-teaclave/issues/469,incubator-teaclave,793936881,469,some problem about sgx_ecdsa attentation,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-01-26T05:21:39Z,2021-01-28T14:05:38Z,"I use the dcap client 'teaclave_sgx_tool ' to get attentation with the dcap service, but some error was occured.

The commend is:
_./teaclave_sgx_tool attestation   --url https://localhost:8080 --algorithm sgx_ecdsa_

The error is：
_root@cc:~/incubator-teaclave#  Configured for development.
    => address: localhost
    => port: 8080
    => log: normal
    => workers: 4
    => secret key: generated
    => limits: forms = 32KiB
    => keep-alive: 5s
    => tls: enabled
  Mounting /:
    => POST /sgx/dev/attestation/v4/report application/json (verify_quote)
 Rocket has launched from https://localhost:8080
POST /sgx/dev/attestation/v4/report application/json:
    => Matched: POST /sgx/dev/attestation/v4/report application/json (verify_quote)
sgx_qv_verify_quote fialed: SGX_QL_QUOTE_CERTIFICATION_DATA_UNSUPPORTED
    => Outcome: Failure
    => Warning: Responding with 400 Bad Request catcher.
    => Response succeeded._

Where is the problem about it?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/469/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/469,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzc0OTAzNQ==,incubator-teaclave,767749035,469,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-26T18:44:47Z,2021-01-26T18:44:47Z,"Hi @xglreal, thanks for your question! Sorry, I couldn't help you if you cannot provide more detailed information. Like how did you setup the environment?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzc0OTAzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/469,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2OTA2NTg0Mw==,incubator-teaclave,769065843,469,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2021-01-28T13:50:37Z,2021-01-28T13:50:37Z,"> Hi @xglreal, thanks for your question! Sorry, I couldn't help you if you cannot provide more detailed information. Like how did you setup the environment?


The **teaclave_dcap_ref_as** is builded on the steps:
**1、docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.6:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON -DDCAP=ON .. && \
     make""
2、docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON -DDCAP=ON .. && \
     make""**

and the **teaclave_dcap_ref_as** will appear in the directory incubator-teaclave/release/dcap/.


I use **incubator-teaclave/release/dcap/teaclave_dcap_ref_as**, the builded tool to start dcap service. The setup message is below:
 _Configured for development.
    => address: localhost
    => port: 8080
    => log: normal
    => workers: 4
    => secret key: generated
    => limits: forms = 32KiB
    => keep-alive: 5s
    => tls: enabled
  Mounting /:
    => POST /sgx/dev/attestation/v4/report application/json (verify_quote)
 Rocket has launched from https://localhost:8080_


Then, I use the command **./teaclave_sgx_tool attestation  --url https://localhost:8080 --algorithm sgx_ecdsa** to get the dcap service, but eventually I fail to get the service.
The error message is below:
_Error: ServiceError_

Is there anyone can help me to fix it?

Thanks.

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2OTA2NTg0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/471,https://api.github.com/repos/apache/incubator-teaclave/issues/471,incubator-teaclave,794310466,471,GPG error: The following signatures couldn't be verified,master-davidlee,49427668,,,CLOSED,2021-01-26T15:11:04Z,2021-03-17T23:22:15Z,"when I run the last  command 
![image](https://user-images.githubusercontent.com/49427668/105863271-adc28a00-602b-11eb-83ef-1d0dfc5c6348.png)
I met an error 
![image](https://user-images.githubusercontent.com/49427668/105863327-bfa42d00-602b-11eb-86fd-9be814479865.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/471/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/471,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NzYxMDQ1OA==,incubator-teaclave,767610458,471,NA,master-davidlee,49427668,,,NA,2021-01-26T15:13:58Z,2021-01-26T15:13:58Z,"And I use these 2 steps fixed it 
1. the first step is to take note of the public key, for example, there is the 78BD65473CB3BD13
![image](https://user-images.githubusercontent.com/49427668/105863541-f417e900-602b-11eb-8b12-c5cb368edde7.png)
2. sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys (public_key)
Then it should be fixed

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2NzYxMDQ1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/471,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzc0ODM2MA==,incubator-teaclave,767748360,471,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-01-26T18:43:27Z,2021-01-26T18:43:27Z,I think this command will add the public key of Intel.  `$ wget -qO - https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | sudo apt-key add -` . What did I missing? Any errors when adding the key for you?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzc0ODM2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/471,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk0MjM0Ng==,incubator-teaclave,767942346,471,NA,master-davidlee,49427668,,,NA,2021-01-27T01:20:18Z,2021-01-27T01:20:18Z,"I remember this command returned OK, but the error still occurred but I have fixed it. Can you take look at the other error#463. It bothers me many days Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc2Nzk0MjM0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/471,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgwMTUwNDg5Ng==,incubator-teaclave,801504896,471,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-03-17T23:22:14Z,2021-03-17T23:22:14Z,I believe this issue can be closed. Feel free to reopen it if you need more helps.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgwMTUwNDg5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/490,https://api.github.com/repos/apache/incubator-teaclave/issues/490,incubator-teaclave,818559579,490,SEV 支持,zwying,58444,,,CLOSED,2021-03-01T07:18:07Z,2021-03-01T08:30:46Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

(Write your question here.)

![image](https://user-images.githubusercontent.com/58444/109464157-2b513e00-7aa1-11eb-8384-50ce1809e4fb.png)
 You mentioned SEV support in the above picture, so I am wondering what's the status of AMD platform support to run MesaTee. thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/490/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/490,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4NzcyMDIwMQ==,incubator-teaclave,787720201,490,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-03-01T07:27:29Z,2021-03-01T07:27:29Z,"Since AMD SEV isn't mature enough to support our current platform, we don't have plan to integrate it in this year. However, we'll keep eye on it and will release a short report of the feasibility of using AMD SEV in the near future.

If you're interested in our 2021 plan, please read this blog (https://teaclave.apache.org/blog/2021-01-19-roadmap-in-2021-project-maturity-and-community-buildup/) and also documented in the issue #460 . Thanks.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4NzcyMDIwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/490,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4NzcyMjMwMQ==,incubator-teaclave,787722301,490,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-03-01T07:30:52Z,2021-03-01T07:30:52Z,"Also, please read all documents around Teaclave instead. Others may cause some confusion. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4NzcyMjMwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/490,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4Nzc1ODk1NA==,incubator-teaclave,787758954,490,NA,zwying,58444,,,NA,2021-03-01T08:29:21Z,2021-03-01T08:29:21Z,thanks for the quick answer.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4Nzc1ODk1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/490,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4Nzc1OTg5OA==,incubator-teaclave,787759898,490,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-03-01T08:30:46Z,2021-03-01T08:30:46Z,You're welcome.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDc4Nzc1OTg5OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/495,https://api.github.com/repos/apache/incubator-teaclave/issues/495,incubator-teaclave,851075159,495,run Teaclave in sim_mod,cgair,64237451,Aircg,,CLOSED,2021-04-06T06:56:51Z,2021-04-09T19:13:07Z,"Run command (cd docker && docker-compose -f docker-compose-ubuntu-1804-sgx-sim-mode.yml up --build)
Results in the error:
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:16:37Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 4
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:16:46Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 5
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:16:55Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 6
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:04Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 7
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:13Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 8
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:22Z DEBUG teaclave_frontend_service_enclave::service] Failed to connect to authentication service, retry 9
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z ERROR teaclave_frontend_service_enclave] Failed to start the service: failed to connect to authentication service
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_frontend_service_enclave] handle_invoke
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_service_enclave_utils] Enclave finalizing
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-frontend-service-sgx-sim-mode          | [2021-04-06T06:17:31Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-frontend-service-sgx-sim-mode exited with code 0","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/495/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/495,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNTM0NzEwMg==,incubator-teaclave,815347102,495,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-04-08T00:01:44Z,2021-04-08T00:01:44Z,"Hi, thanks for your report. I have found the cause.

We defines all container names of services in simulation mode as `xxx-sgx-sim-mode` (e.g., `teaclave-storage-service-sgx-sim-mode`). Therefore, to start the services in sim mode using docker compose. You have to change the `docker/runtime.config.toml` file accordingly by adding the `-sgx-sim-mode` suffix.

Change the `docker/runtime.config.toml` file from:

```
authentication = { listen_address = ""0.0.0.0:17776"", advertised_address = ""teaclave-authentication-service:17776"" }
management     = { listen_address = ""0.0.0.0:17777"", advertised_address = ""teaclave-management-service:17777"" }
storage        = { listen_address = ""0.0.0.0:17778"", advertised_address = ""teaclave-storage-service:17778"" }
access_control = { listen_address = ""0.0.0.0:17779"", advertised_address = ""teaclave-access-control-service:17779"" }
execution      = { listen_address = ""0.0.0.0:17770"", advertised_address = ""teaclave-execution-service:17770"" }
scheduler      = { listen_address = ""0.0.0.0:17780"", advertised_address = ""teaclave-scheduler-service:17780"" }
```

to

```
authentication = { listen_address = ""0.0.0.0:17776"", advertised_address = ""teaclave-authentication-service-sgx-sim-mode:17776"" }
management     = { listen_address = ""0.0.0.0:17777"", advertised_address = ""teaclave-management-service-sgx-sim-mode:17777"" }
storage        = { listen_address = ""0.0.0.0:17778"", advertised_address = ""teaclave-storage-service-sgx-sim-mode:17778"" }
access_control = { listen_address = ""0.0.0.0:17779"", advertised_address = ""teaclave-access-control-service-sgx-sim-mode:17779"" }
execution      = { listen_address = ""0.0.0.0:17770"", advertised_address = ""teaclave-execution-service-sgx-sim-mode:17770"" }
scheduler      = { listen_address = ""0.0.0.0:17780"", advertised_address = ""teaclave-scheduler-service-sgx-sim-mode:17780"" }
```

Then, services in docker can resolve IPs with these advertised addresses.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNTM0NzEwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/495,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNTQxMTI1NA==,incubator-teaclave,815411254,495,NA,cgair,64237451,Aircg,,NA,2021-04-08T03:05:28Z,2021-04-08T03:05:28Z,"@mssun
Thank you very much, this really works!

But I was troubled by new problems again. I tried to install the Intel® SGX driver with ECDSA attestation enabled (ubuntu18.04-server, driver 1.36.2, sdk 2.12.100.3) according to this link: https://download.01.org/intel-sgx/sgx-linux/2.12/docs/Intel_SGX_Installation_Guide_Linux_2.12_Open_Source.pdf.

Then I ran Teaclave in simulation mode. The strange thing is that running command: ```SGX_MODE=SW PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'``` was smooth, but the following error appears when I run ```cargo test``` in sdk/rust/, and the log error is given later.
I believe there is a problem with authentication, but python can run but rust cannot be very puzzling.
```
running 6 tests
test tests::test_approve_task ... FAILED
test tests::test_assign_data ... FAILED
test tests::test_assign_data_err ... FAILED
test tests::test_frontend_service ... FAILED
test tests::test_frontend_service_with_request ... FAILED
test tests::test_authentication_service ... FAILED

failures:

---- tests::test_approve_task stdout ----
thread 'tests::test_approve_task' panicked at 'called `Result::unwrap()` on an `Err` value: Connection error: invalid certificate: ExtensionValueInvalid', src/lib.rs:686:63
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- tests::test_assign_data stdout ----
thread 'tests::test_assign_data' panicked at 'called `Result::unwrap()` on an `Err` value: Connection error: invalid certificate: ExtensionValueInvalid', src/lib.rs:613:63

---- tests::test_assign_data_err stdout ----
thread 'tests::test_assign_data_err' panicked at 'called `Result::unwrap()` on an `Err` value: Connection error: invalid certificate: ExtensionValueInvalid', src/lib.rs:649:63

---- tests::test_frontend_service stdout ----
thread 'tests::test_frontend_service' panicked at 'called `Result::unwrap()` on an `Err` value: Connection error: invalid certificate: ExtensionValueInvalid', src/lib.rs:529:63

---- tests::test_frontend_service_with_request stdout ----
thread 'tests::test_frontend_service_with_request' panicked at 'called `Result::unwrap()` on an `Err` value: Connection error: invalid certificate: ExtensionValueInvalid', src/lib.rs:571:63

---- tests::test_authentication_service stdout ----
thread 'tests::test_authentication_service' panicked at 'called `Result::unwrap()` on an `Err` value: Connection error: invalid certificate: ExtensionValueInvalid', src/lib.rs:517:51


failures:
    tests::test_approve_task
    tests::test_assign_data
    tests::test_assign_data_err
    tests::test_authentication_service
    tests::test_frontend_service
    tests::test_frontend_service_with_request

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 0 filtered out
```
```
teaclave-authentication-service-sgx-sim-mode    | [2021-04-08T02:45:24Z ERROR rustls::session] TLS alert received: Message {
teaclave-authentication-service-sgx-sim-mode    |         typ: Alert,
teaclave-authentication-service-sgx-sim-mode    |         version: TLSv1_2,
teaclave-authentication-service-sgx-sim-mode    |         payload: Alert(
teaclave-authentication-service-sgx-sim-mode    |             AlertMessagePayload {
teaclave-authentication-service-sgx-sim-mode    |                 level: Fatal,
teaclave-authentication-service-sgx-sim-mode    |                 description: BadCertificate,
teaclave-authentication-service-sgx-sim-mode    |             },
teaclave-authentication-service-sgx-sim-mode    |         ),
teaclave-authentication-service-sgx-sim-mode    |     }
teaclave-authentication-service-sgx-sim-mode    | [2021-04-08T02:45:24Z DEBUG teaclave_rpc::transport] Connection disconnected.
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDgxNTQxMTI1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/497,https://api.github.com/repos/apache/incubator-teaclave/issues/497,incubator-teaclave,862152154,497,Build  with DCAP on error ,eigmax,81497928,Stephen,,CLOSED,2021-04-20T00:07:43Z,2021-04-20T00:08:14Z,"ENV:  
```
ENV DCAP_VERSION 1.9.100.3-bionic1
ENV VERSION 2.12.100.3-bionic1
ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-dcap/1.9/linux/distro/ubuntu18.04-server/""
ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.12.100.3.bin
```

Platform:  Intel(R) Core(TM) i9-10900K CPU @ 3.70GHz,  FLC enabled

COMMAND:  `cmake ../ -DDCAP=ON && make`


Error:
```
error[E0433]: failed to resolve: could not find `Connection` in `header`
   --> dcap/src/main.rs:138:50
    |
138 |                     .header(http::hyper::header::Connection::close())
    |                                                  ^^^^^^^^^^ not found in `http::hyper::header`
    |
help: consider importing one of these items
    |
34  | use crate::http::private::Connection;
    |
34  | use rocket::http::private::Connection;
    |

error[E0107]: wrong number of lifetime arguments: expected 2, found 1
   --> dcap/src/main.rs:119:10
    |
119 | impl<'r> response::Responder<'r> for QuoteVerificationResponse {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ expected 2 lifetime arguments

error[E0308]: method not compatible with trait
   --> dcap/src/main.rs:120:5
    |
120 |     fn respond_to(self, _: &rocket::Request) -> response::Result<'r> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ lifetime mismatch
    |
    = note: expected fn pointer `fn(QuoteVerificationResponse, &'r rocket::Request<'_>) -> std::result::Result<rocket::Response<'static>, _>`
               found fn pointer `fn(QuoteVerificationResponse, &rocket::Request<'_>) -> std::result::Result<rocket::Response<'r>, _>`
note: the lifetime `'r` as defined on the impl at 119:6...
   --> dcap/src/main.rs:119:6
    |
119 | impl<'r> response::Responder<'r> for QuoteVerificationResponse {
    |      ^^
    = note: ...does not necessarily outlive the static lifetime

error[E0061]: this function takes 2 arguments but 1 argument was supplied
   --> dcap/src/main.rs:147:22
    |
147 |                     .sized_body(std::io::Cursor::new(payload))
    |                      ^^^^^^^^^^ ----------------------------- supplied 1 argument
    |                      |
    |                      expected 2 arguments







error: aborting due to 4 previous errors

Some errors have detailed explanations: E0061, E0107, E0308, E0433.
For more information about an error, try `rustc --explain E0061`.
error: could not compile `teaclave_dcap_ref_as`

To learn more, run the command again with --verbose.
cp: cannot stat '/app/build2/target/unix/debug/teaclave_dcap_ref_as': No such file or directory
CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/build.make:57: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as' failed
make[2]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as] Error 1
CMakeFiles/Makefile2:1317: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all' failed
make[1]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
```

Do you have any idea about how to fix this ?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/497/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/498,https://api.github.com/repos/apache/incubator-teaclave/issues/498,incubator-teaclave,862154493,498,Build with DCAP=on error,duanbing,3865728,Bing,,CLOSED,2021-04-20T00:09:35Z,2021-07-08T21:17:30Z,"ENV:  
```
ENV DCAP_VERSION 1.9.100.3-bionic1
ENV VERSION 2.12.100.3-bionic1
ENV SGX_DOWNLOAD_URL_BASE ""https://download.01.org/intel-sgx/sgx-dcap/1.9/linux/distro/ubuntu18.04-server/""
ENV SGX_LINUX_X64_SDK sgx_linux_x64_sdk_2.12.100.3.bin
```

Platform:  Intel(R) Core(TM) i9-10900K CPU @ 3.70GHz,  FLC enabled

COMMAND:  `cmake ../ -DDCAP=ON && make`


Error:
```
error[E0433]: failed to resolve: could not find `Connection` in `header`
   --> dcap/src/main.rs:138:50
    |
138 |                     .header(http::hyper::header::Connection::close())
    |                                                  ^^^^^^^^^^ not found in `http::hyper::header`
    |
help: consider importing one of these items
    |
34  | use crate::http::private::Connection;
    |
34  | use rocket::http::private::Connection;
    |

error[E0107]: wrong number of lifetime arguments: expected 2, found 1
   --> dcap/src/main.rs:119:10
    |
119 | impl<'r> response::Responder<'r> for QuoteVerificationResponse {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ expected 2 lifetime arguments

error[E0308]: method not compatible with trait
   --> dcap/src/main.rs:120:5
    |
120 |     fn respond_to(self, _: &rocket::Request) -> response::Result<'r> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ lifetime mismatch
    |
    = note: expected fn pointer `fn(QuoteVerificationResponse, &'r rocket::Request<'_>) -> std::result::Result<rocket::Response<'static>, _>`
               found fn pointer `fn(QuoteVerificationResponse, &rocket::Request<'_>) -> std::result::Result<rocket::Response<'r>, _>`
note: the lifetime `'r` as defined on the impl at 119:6...
   --> dcap/src/main.rs:119:6
    |
119 | impl<'r> response::Responder<'r> for QuoteVerificationResponse {
    |      ^^
    = note: ...does not necessarily outlive the static lifetime

error[E0061]: this function takes 2 arguments but 1 argument was supplied
   --> dcap/src/main.rs:147:22
    |
147 |                     .sized_body(std::io::Cursor::new(payload))
    |                      ^^^^^^^^^^ ----------------------------- supplied 1 argument
    |                      |
    |                      expected 2 arguments







error: aborting due to 4 previous errors

Some errors have detailed explanations: E0061, E0107, E0308, E0433.
For more information about an error, try `rustc --explain E0061`.
error: could not compile `teaclave_dcap_ref_as`

To learn more, run the command again with --verbose.
cp: cannot stat '/app/build2/target/unix/debug/teaclave_dcap_ref_as': No such file or directory
CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/build.make:57: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as' failed
make[2]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as] Error 1
CMakeFiles/Makefile2:1317: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all' failed
make[1]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
```

Do you have any idea about how to fix this ?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/498/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/498,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg3Njc1MTcwMQ==,incubator-teaclave,876751701,498,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-08T21:17:30Z,2021-07-08T21:17:30Z,"Hi, this bug should be fixed by pining `rocket` to a specific version. https://github.com/apache/incubator-teaclave/blob/314aae5d614703543e748882cebf6b5675f0b2f7/dcap/Cargo.toml#L14

Also, if using our build system, the vendored `rocket` should be used.

I'm closing this issue, please provide more information if still exists. Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg3Njc1MTcwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/499,https://api.github.com/repos/apache/incubator-teaclave/issues/499,incubator-teaclave,881606176,499,Failed to build the Teaclave platform using docker with the -DSGX_SIM_MODE=ON option,AdamsLee,6966214,AdamsLee,adamslee@outlook.com,CLOSED,2021-05-09T01:57:35Z,2021-05-16T13:56:23Z,"I tried to build the Teaclave platform using docker with the -DSGX_SIM_MODE=ON option 
```
$ git clone https://github.com/apache/incubator-teaclave.git
$ cd incubator-teaclave
$ docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
     make""
```

I expected to see this happen: *platform was built successfully*

Instead, this happened: *error occurred: failed to select a version for the requirement `sgx_rand = ""^1.1.2""`*

[  3%] Building teaclave_client_sdk as dynamic and static libraries
    Updating git repository `https://github.com/apache/teaclave-sgx-sdk`
    Updating git submodule `https://github.com/WebAssembly/testsuite`
    Updating crates.io index
    Updating git repository `https://github.com/SergioBenitez/Rocket`
error: failed to select a version for the requirement `sgx_rand = ""^1.1.2""`
  candidate versions found which didn't match: 1.1.1, 1.1.0, 1.0.9, ...
  location searched: crates.io index
required by package `teaclave_attestation v0.2.0 (/teaclave/build/cmake_tomls/unix_app/attestation)`
cp: cannot stat '/teaclave/build/target/unix/debug/libteaclave_client_sdk.so': No such file or directory
cp: cannot stat '/teaclave/build/target/unix/debug/libteaclave_client_sdk.a': No such file or directory
CMakeFiles/teaclave_client_sdk.dir/build.make:57: recipe for target 'CMakeFiles/teaclave_client_sdk' failed
make[2]: *** [CMakeFiles/teaclave_client_sdk] Error 1
CMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/teaclave_client_sdk.dir/all' failed
make[1]: *** [CMakeFiles/teaclave_client_sdk.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/499/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/499,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MDkxNTI2Mg==,incubator-teaclave,840915262,499,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-05-14T00:29:47Z,2021-05-14T00:29:47Z,"Hi, thanks for your report. I cannot reproduce your issue.

Basically, I followed your steps and built Teaclave successfully.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MDkxNTI2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/499,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTA2MjUyNA==,incubator-teaclave,841062524,499,NA,AdamsLee,6966214,AdamsLee,adamslee@outlook.com,NA,2021-05-14T07:14:34Z,2021-05-14T07:14:34Z,"> Hi, thanks for your report. I cannot reproduce your issue.
> 
> Basically, I followed your steps and built Teaclave successfully.

hi, thanks for your response.
I checked https://crates.io/crates/sgx_rand/versions and found that there is no 1.1.2 version and the latest version is 1.1.1.
Looks like that's the reason why it failed. Isn't it?
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTA2MjUyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/499,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTM5NDYwOA==,incubator-teaclave,841394608,499,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-05-14T17:30:46Z,2021-05-14T17:30:46Z,"We only use vendored third-party crates. Therefore, any upstream changes/updates won't affect our build process.

Did you change anything with the building system?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTM5NDYwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/499,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTgyMTEyMg==,incubator-teaclave,841821122,499,NA,AdamsLee,6966214,AdamsLee,adamslee@outlook.com,NA,2021-05-16T13:56:23Z,2021-05-16T13:56:23Z,"After investigation, I think I find the root cause. This isn't the code bug. It should be caused by the GitHub network connection issue within mainland in China. The vendored third-party crates failed to be fully updated. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTgyMTEyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/501,https://api.github.com/repos/apache/incubator-teaclave/issues/501,incubator-teaclave,898896024,501,Ignore,clauverjat,29842852,,,CLOSED,2021-05-22T22:55:36Z,2021-05-22T22:57:45Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/501/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/502,https://api.github.com/repos/apache/incubator-teaclave/issues/502,incubator-teaclave,903201641,502,"How to integrate mesatee with libos(such as occulmn, graphene)?",xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-05-27T04:30:44Z,2021-07-16T17:25:40Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/502/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/502,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40jDJc,incubator-teaclave,881603164,502,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-16T17:25:40Z,2021-07-16T17:25:40Z,"We may try to integrate with Graphene LibOS, Let me create a new feature request ticket to handle this, thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40jDJc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/506,https://api.github.com/repos/apache/incubator-teaclave/issues/506,incubator-teaclave,921191839,506,离线安装,gaojunjie03,30582212,gjj,,CLOSED,2021-06-15T09:23:03Z,2021-06-16T01:38:54Z,请问有离线安装方式吗？,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/506/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/509,https://api.github.com/repos/apache/incubator-teaclave/issues/509,incubator-teaclave,924606663,509,SGX_ERROR_UNEXPECTED错误,gaojunjie03,30582212,gjj,,OPEN,2021-06-18T07:01:52Z,2021-06-18T07:01:52Z,"你好，是这样的。
我在一台可以联网的机器（intel无sgx模块，xeon e5-2650 v4），以Simulation Mode安装部署teaclave，得到docker_teaclave-exectuion-service、docker_teaclave-accesss-control-service等7个docker镜像，我把这7个镜像都保存起来，然后放到其他的机器上进行docker load....
有两台机器 （都不可联网）
一台是 酷睿i7-9750H：这台机器docker load了这7个镜像之后，然后使用docker-compose ....up可以正常运行Simulation Mode的teaclave
但另外一台 cpu是 xeon silver 4214：这台机器同样docker load之后，无法启动teaclave，频繁报错“SGX_ERROR_UNEXPECTED”的问题。
请问下这个是什么问题呢？可以怎么解决吗？docker镜像都来自同cpu的，最终在不同cpu的机器上有不同的运行结果（Simulation Mode）","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/509/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/513,https://api.github.com/repos/apache/incubator-teaclave/issues/513,incubator-teaclave,928889825,513,Is it possible to run rusty-leveldb on top of teaclave-sgx-sdk,jyizheng,2645726,Yizheng Jiao,jyizheng@gmail.com,CLOSED,2021-06-24T06:24:25Z,2021-06-25T16:59:24Z,"I am wondering if it is possible to run rusty-leveldb on top of teaclave-sgx-sdk.
Since teaclave can run rusty-leveldb as its storage service, I guess it should not be very hard to run rusty-leveldb
over teaclave-sgx-sdk directly. I am wondering if there are any steps to follow to port rustly-leveldb to teaclave-sgx-sdk.

Thanks for your help in advance.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/513/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/513,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2NzkzOTE1Mg==,incubator-teaclave,867939152,513,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-06-24T20:44:13Z,2021-06-24T20:44:13Z,"Yes, absolutely.

Here is an example of how we use `rusty-leveldb` in SGX:

https://github.com/apache/incubator-teaclave/blob/master/services/storage/enclave/Cargo.toml#L36","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2NzkzOTE1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/513,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2Nzk2NzkyOA==,incubator-teaclave,867967928,513,NA,jyizheng,2645726,Yizheng Jiao,jyizheng@gmail.com,NA,2021-06-24T21:37:11Z,2021-06-24T21:37:11Z,"@mssun , thank you so much for the pointer. 

I am wondering what sgx sdk, rusty-leveldb is using?

According to the Cargo.toml file, it seems it uses mesalock_sgx, instead of teaclave-sgx-sdk (https://github.com/apache/incubator-teaclave-sgx-sdk), correct? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2Nzk2NzkyOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/513,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2Nzk3MDAyMw==,incubator-teaclave,867970023,513,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-06-24T21:41:21Z,2021-06-24T21:41:21Z,"We have ported the `rusty-leveldb` into SGX hosted here: https://github.com/apache/incubator-teaclave/tree/master/common/rusty_leveldb_sgx.

For the SGX SDK, we are using vendored Teaclave SGX SDK version 1.1.2.

> According to the Cargo.toml file, it seems it uses mesalock_sgx, instead of teaclave-sgx-sdk (https://github.com/apache/incubator-teaclave-sgx-sdk), correct?

They are same one actually.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2Nzk3MDAyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/513,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2Nzk3MjIyNA==,incubator-teaclave,867972224,513,NA,jyizheng,2645726,Yizheng Jiao,jyizheng@gmail.com,NA,2021-06-24T21:45:46Z,2021-06-24T21:45:46Z,Thanks for your clarification. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2Nzk3MjIyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/513,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2ODcwMzE5Nw==,incubator-teaclave,868703197,513,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-06-25T16:59:24Z,2021-06-25T16:59:24Z,I'm closing this issue. Feel free to reopen or create a new one if needed. Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg2ODcwMzE5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/516,https://api.github.com/repos/apache/incubator-teaclave/issues/516,incubator-teaclave,935399254,516,Possible Improvements on Teaclave's workflow and Document,ya0guang,12580159,Hongbo,,OPEN,2021-07-02T04:22:40Z,2021-07-02T20:39:19Z,"<!--
  Thank you for suggesting an idea to make Teaclave better.
  Please fill in as much of the template below as you're able.
-->

### Motivation & problem statement

1. Task audit API is needed
2. Teaclave should be more friendly and accessible to newcomers.

### Proposed solution

1. Add Client API for users to audit a task
2. Add introductive documents about Confidential Computing, TEE, SGX and Teaclave

### Describe alternatives you've considered

I think a simple web interface for user registration/login, file uploading, task creation and auditing can be a intuitive solution.

### Additional context

I'll try to add some introductive references to these concepts.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/516/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/517,https://api.github.com/repos/apache/incubator-teaclave/issues/517,incubator-teaclave,935914289,517,Improvements on Teaclave's performance,ya0guang,12580159,Hongbo,,OPEN,2021-07-02T16:29:37Z,2021-07-02T21:09:24Z,"<!--
  Thank you for suggesting an idea to make Teaclave better.
  Please fill in as much of the template below as you're able.
-->

### Motivation & problem statement

In some use cases, Teaclave can be slow and some components needs redesign.

1. For example, when passing a payload to Teaclave's client API, the payload will be transmitted back and forth between several services and this significantly affect its performance when the payload itself is very large. This also happens when the arguments is very large.
2. Another potential improvement is exposing interfaces for **unprotected** files, or allow users to use raw input files. Sometimes the user may not need to protect all the input files. For example, while conducting genome computing, the reference genome data is from public data set and it needs no protection, but the personal private genome info needs protection. Therefore Teaclave don't need to deal with the decryption of some files.
3. Access control is using FFI and python, and this may not be very performant as using pure Rust.

### Proposed solution

1. Redesign the framework and maybe treat the payload as a kind of ""input file"", therefore alleviate the transmission overhead.
2. Allow unprotected file upload or expose unprotected file interfaces
3. Switch to a logic programming implemented in Rust. [miniKanren](http://minikanren.org/) can be a good choice and it has several [Rust implementations](http://minikanren.org/#implementations). Since Teaclave just needs very simple functions, it can borrow short snippets from these projects or even implement a basic one.

### Describe alternatives you've considered

I don't know if there is an alternative solution.

### Additional context

<!--
  Is there anything else you can add about the proposal?
  You might want to link to related issues here, if you haven't already.
-->

The performance of the DB inside Teaclave may also be enhanced.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/517/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/521,https://api.github.com/repos/apache/incubator-teaclave/issues/521,incubator-teaclave,939520340,521,Compile python to wasm,xglreal,6261949,xuguoliang,x1572030301@gmail.com,CLOSED,2021-07-08T06:33:58Z,2021-07-08T17:13:37Z,Is WebAssembly executor(https://github.com/apache/incubator-teaclave/blob/master/docs/executing-wasm.md) support python?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/521/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/521,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg3NjYwNzAzMA==,incubator-teaclave,876607030,521,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-08T17:13:33Z,2021-07-08T17:13:33Z,"No, only `C` and `Rust` are supported currently.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/MDEyOklzc3VlQ29tbWVudDg3NjYwNzAzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/525,incubator-teaclave,946493345,525,Integration with Graphene,AI-Memory,10856796,Gordon King,,OPEN,2021-07-16T18:01:13Z,2021-09-15T16:11:14Z,"### Motivation & problem statement
As #502 questioned that the integration with a LibOS would be interesting feature for a FaaS platform because allowing to run regular app. directly in enclave along with LibOS handling most syscalls may further improve the usability and simplify the usage model. Theoretically, the performance might be improved slightly as well. from the other side, the app. dev. is agnostic to the LibOS/Kernel. so the app. might contains IO/Mem intensive operations that will have negative impact on performance even stability. 

### Proposed solution
Regarding Graphene, which is a LibOS that can support unmodified app. to run inside enclave, its multiple process feature may not be very useful for FaaS.  In this stage, I think we may need to define an interface for LibOS kind integration first to manage the lifecycle&IO of trusted LibOS enclave instance. 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/525/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40jIJ5,incubator-teaclave,881623673,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-16T18:02:41Z,2021-07-16T18:02:41Z,[Graphene](https://grapheneproject.io/),"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40jIJ5/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40nysM,incubator-teaclave,882846476,525,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-19T20:43:43Z,2021-07-19T20:43:43Z,"Hi @bigdata-memory, thanks for the proposal.

Teaclave is a FaaS-like platform consisting of multiple services. One can register and invoke functions to the platform through the frontend service. Then, Teaclave will help to do authentication, authorization, task preparation, etc and finally dispatch a task to the *execution service*. Currently, we have three executors for different languages and scenarios. For example, the *builtin* executor only execute functions written in Rust natively, while, the *mesapy* executor can run functions written in Python dynamically.

Therefore, to integrate with Graphene, or any other LibOS kind of system in Teaclave, we need to introduce another kind of executor. Luckly, the execution service in Teaclave are designed as a stateless and isolated service which takes a task, executes it and write back the result. Inputs/Outputs of a functions are defined as function arguments, input/output files stored in protected file system. In our design, we prohibit any untrusted I/O  interfaces  (e.g., write date to the untrusted file system, networks I/O) in the executor to protecting sensitive data operated by the function.

Above are some background about our design rationals. Here, I list some concepts involved in integrating with Graphene.

- **RPC**: All Teaclave services communicate with each other via trusted channel (i.e., attested TLS). You can find all protocol definitions in Protobuf in this directory: https://github.com/apache/incubator-teaclave/tree/master/services/proto/src/proto. An execution service instance will periodically fetch tasks from the scheduler service and execute it.
- **Attestation**: We do mutual attestation when establishing trusted RPC channel through attested TLS.
- **Executor Runtime**: Providing interfaces to an executor to read/write input/output files stored in the protected file system.
- **`TeaclaveExecutor` Trait**: The `TeaclaveExecutor` trait defines interfaces of a task.

Recently, we added a WebAssembly executor. You can see recents changes to see how to add an executor in Teaclave. Here is a simple document https://teaclave.apache.org/docs/adding-executors/.

The WebAssembly executor is just a reference. For integrating with Graphene (or other LibOS executors), the design may be different. I'm not sure whether to link the LibOS within the execution service or put it as a separate enclave along with the execution service. The later may need additional attestation mechanism.

At last, can you propose a simple design so that we can work on it together? Please let me know if you have any questions regarding to the current Teaclave design. Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40nysM/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40oKTH,incubator-teaclave,882943175,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-20T00:04:14Z,2021-07-20T00:04:14Z,"Hi @mssun, Thanks you very much for the detailed explanation on leveraging LibOS kind system in Teaclave. 

It is very helpful for us to work on this effectively. the GSGX so far only has relative stable CLI interface and its internal APIs are not designed for 3rd party integration since it's API still under evolving. roughly, we may consider to running GSGX instance as sidecars along with its execution driver service and do mutual attestation with its driver beforehand. It is just my preliminary idea for now, we may define assumption, constraints and requirements for this soon later. Thanks! ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40oKTH/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40tl_1,incubator-teaclave,884367349,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-21T17:36:37Z,2021-07-21T17:36:37Z,"In [attestation](https://teaclave.apache.org/docs/codebase/attestation/)  page,  the way to binding is `We make the certificate cryptographically bound to a specific enclave instance by adding the public key of the certificate in the attestation report.`, how the service certification can get revoked and re-issued at runtime ? Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40tl_1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40tnwO,incubator-teaclave,884374542,525,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-21T17:48:49Z,2021-07-21T17:48:49Z,"> how the service certification can get revoked and re-issued at runtime?

We don't have the revoking mechanism currently.

Right now, there is a freshness timer for the attestation/certificate. Once it's timeout, the service will do another attestation and update the report, re-issue the certificate as well.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40tnwO/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40tw9N,incubator-teaclave,884412237,525,NA,ya0guang,12580159,Hongbo,,NA,2021-07-21T18:46:06Z,2021-07-21T18:46:06Z,"I'm also interested in incorporating Graphene as an Executor of Teaclave. However, I think we must take serious consideration about the interfaces of Graphene (mainly system calls). 

As @bigdata-memory mentioned, many syscalls are handled by libOS, but there're also many syscalls which are forwarded, either in unaltered way or with some changes, to the OS kernel. These forwarded syscalls includes I/O operations on file system, Networks, as well as timing system (e.g. `nanosleep`) and synchronization (e.g. `futex`). Besides, Graphene can also handle interrupts/exceptions. 

To avoid using such untrusted interfaces and information leakage on these interfaces, Teaclave implements *no* untrusted interface. And Graphene aims to support *trusted binary*, whereas Teaclave assumes *potentially malicious function*. Such difference in threat model results in the differences on supported/exposed interfaces to binaries/functions running inside Graphene/Teaclave. If we want to leverage Graphene's power, we may need to think about several questions:

- Tradeoff between binary compatibility and security: how to deal with untrusted interfaces?
- How to run `untrusted binary` in Graphene securely? Personaly I believe auditing can be a solution
- How can Teaclave and Graphene communicate securely? AFAIK, Graphene currently lacks a secure channel implementation.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40tw9N/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40wUhc,incubator-teaclave,885082204,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-22T17:21:51Z,2021-07-22T17:21:51Z,"Hi @ya0guang, Glad to know you also got interested in this. Yes. as you mentioned, the Graphene forwards many `syscalls` to untrusted host, more specifically, `41 SGX OCALLs` to untrusted PAL layer of Graphene and do some kinds of security check. it is similar to have some `unsafe calls` to external libraries in Rust. we need to be very careful to design a mechanism to `audit` it and `filter out` unexpected behaviors according to some `terms` that can be created for untrusted Pal as a new party.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40wUhc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc401Yw2,incubator-teaclave,886410294,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-26T06:17:42Z,2021-07-26T06:17:42Z,"Hi @mssun, as we talked, the `Graphene` will download several dependent 3rd party's codebases during building time. e.g.  [glibc](https://github.com/oscarlab/graphene/blob/9f0943e39432e5440066c8448780a08eb4254c77/LibOS/Makefile#L117), [mbedtls](https://github.com/oscarlab/graphene/blob/30013c6754e9f8aed25bb887cb5994a17ad4efcc/common/src/Makefile#L59), [uthash](https://github.com/oscarlab/graphene/blob/30013c6754e9f8aed25bb887cb5994a17ad4efcc/common/src/Makefile#L134), [toml](https://github.com/oscarlab/graphene/blob/30013c6754e9f8aed25bb887cb5994a17ad4efcc/common/src/Makefile#L152), [gcc](https://github.com/oscarlab/graphene/blob/8c7ac33f80d403b388248ea7827996cb0cc74019/LibOS/Makefile#L183). all downloads are verified by hashcodes, however, the document mentioned `will only consume packages from this designated repository and will not download any code from external package registry` in page [THIRD-PARTY DEPENDENCY VENDORING](https://teaclave.apache.org/docs/codebase/third-party/). does it comply with what is mentioned in the document if linking `Graphene` as one of submodules in `Teaclave` project ? Thanks. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc401Yw2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc403dPs,incubator-teaclave,886952940,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-26T19:05:43Z,2021-07-26T19:05:43Z,"In addition, `Graphene project` licensed as [GPL v3.0](https://github.com/oscarlab/graphene/blob/master/LICENSE.txt) along with an [addendum](https://github.com/oscarlab/graphene/blob/master/LICENSE.addendum.txt), but it is not permissive compatible with `Apache 2`, the page [GPL-compatibility](https://www.apache.org/licenses/GPL-compatibility.html) says `However, GPLv3 software cannot be included in Apache projects`, as talked, looks Graphene cannot be fully integrated with Teaclave at building time, so before Graphene executor is available to use, it needs to be deployed on platform separately, please advice, thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc403dPs/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4039BW,incubator-teaclave,887083094,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-26T23:01:38Z,2021-07-26T23:01:38Z,"Hi @ya0guang I'm studying the PR #504 as a guide to adding Graphene as an executor. In the example script [wasm_simple_add.py](https://github.com/apache/incubator-teaclave/pull/504/files#diff-386761b79979c0852f0de51f53304f32ff8880ffb5733cc5e059899a6b3b4e2d), the [payload_file: wasm_simple_add_payload/simple_add.wasm](https://github.com/ya0guang/incubator-teaclave/blob/a31fc1741c86ee47ac28cbf0e469ad8813ac3731/examples/python/wasm_simple_add.py#L62) is loaded and registered in `front service`. It looks the payload is not part of measurement of enclave, do I understand it correctly ? Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4039BW/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc404Dz7,incubator-teaclave,887110907,525,NA,ya0guang,12580159,Hongbo,,NA,2021-07-27T00:07:52Z,2021-07-27T00:07:52Z,"Hi @bigdata-memory , I think you're right about this example! Since the enclave measurement is determined by its initial code and data before instantiation, the payload which is loaded into Teaclave after instantiation cannot affect the measurement. At least for MesaPy and WASM executor, the payload is uploaded by the user and then loaded after enclave instantiation. However I **guess** the story may be different for the [`Builtin` executor](https://github.com/apache/incubator-teaclave/blob/master/executor/src/builtin.rs), because if you want to add a function, you may need to change the executor itself directly first before an enclave is generated.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc404Dz7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc404Nw6,incubator-teaclave,887151674,525,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-27T02:06:44Z,2021-07-27T02:06:44Z,"> In addition, `Graphene project` licensed as [GPL v3.0](https://github.com/oscarlab/graphene/blob/master/LICENSE.txt) along with an [addendum](https://github.com/oscarlab/graphene/blob/master/LICENSE.addendum.txt), but it is not permissive compatible with `Apache 2`, the page [GPL-compatibility](https://www.apache.org/licenses/GPL-compatibility.html) says `However, GPLv3 software cannot be included in Apache projects`, as talked, looks Graphene cannot be fully integrated with Teaclave at building time, so before Graphene executor is available to use, it needs to be deployed on platform separately, please advice, thanks.

@bigdata-memory, thanks for pointing out this issue. I just checked that Graphene is in LGPL v3.0 license.

As stated in [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x):

> You may NOT include the following licenses within Apache products:  
> - Places restrictions on larger works: GNU LGPL 2, 2.1, 3

Therefore, I suggest **NOT** to include any Graphene code in Teaclave or as a third-party dependency.

Given this situation, if we plan to integrate with Graphene. I suggest to do the followings in Teaclave:
- Provide interfaces for any libOS executors
- Write documents on integrating with Graphene
- Implement a mock libOS implementation for testing only","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc404Nw6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc407ti_,incubator-teaclave,888068287,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-28T07:07:42Z,2021-07-28T07:07:42Z,"@mssun, thank you for the suggestion. regarding `Provide interfaces for any libOS executors`, the 3rd-party libOS would be running in a separate process/enclave space, should we keep it running or once per each request ? thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc407ti_/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41K4Qi,incubator-teaclave,892044322,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-08-03T17:53:38Z,2021-08-03T17:53:38Z,"We drafted the design of GSGX enabling on Teaclave, Please review. thanks.
<img width=""863"" alt=""Teaclave_libos_gsgx"" src=""https://user-images.githubusercontent.com/10856796/128062600-88418e3a-dcec-4107-bc2a-8a390958dcf5.png"">

[teaclave_libos_gsgx.pdf](https://github.com/apache/incubator-teaclave/files/6926126/teaclave_libos_gsgx.pdf)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41K4Qi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41h-vN,incubator-teaclave,898100173,525,NA,hanboa,5266945,Hans Wang,,NA,2021-08-13T01:56:08Z,2021-08-13T01:56:08Z,"@bigdata-memory Regarding the design, how is that going to facilitate the attestation flow in the Teaclave? Will it provide additional features or benefits on top of it?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41h-vN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41ks0j,incubator-teaclave,898813219,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-08-14T04:03:09Z,2021-08-14T04:03:09Z,"@hanboa Thank you for this question, Yes, you are right, the attestation flow is not explicitly shown here, In this design draft, we consider to retrieve the `quote` from the component `Teaclave premain`, honestly, it is not a graceful way to fetch it through this customized component, I proposed one solution to GSGX community, but their maintainer disagreed that it is a legitimate use to support the feature of writing the quote out to `/var/run/` directory. However, the component `GrapheneDriver` is designed handle it anyway. In `GrapheneController`, it should verify the retrieved `quote` right before issuing the `start(...)`.
Regarding the `additional features or benefits` you mentioned, I don't see that from this preliminary design, please advice, thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41ks0j/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/525,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc422IHw,incubator-teaclave,920158704,525,NA,AI-Memory,10856796,Gordon King,,NA,2021-09-15T16:10:41Z,2021-09-15T16:10:41Z,"@mssun As we discussed, It is quite challenging to maintain the security model for this integration because the GSGX is not designed to be integrated at API level, it has to be running in external processes, the secrets and encrypted workload/inputs/arguments are required to be exchanged with a new pre-load module which, in turns, needs to do the following tasks:

1) mutual attesting with Teaclave executor

2) establish a trusted channel with Teaclave executor

3) receive and parse the workload binaries and dependencies, input files, arguments, those are all complex objects.

4) deploy received workload binaries and dependencies, input files, arguments to GSGX enclave at runtime in correct layout and aligned with pre-defined GSGX manifest

5) the output of GSGX needs to be serialized and send back to Teaclave executor.

6) The pre-load module cannot manage the lifecycle of workload that is running in GSGX due to the limitation of GSGX, it has to be handled by Teaclave executor in external Linux signal mechanism, but it is not reliable and GSGX doesn't honor some signal type and still unstable to handle basic signals in GSGX

In addition, The GSGX is limited to run unique workload, it means it doesn't natively support measurement decoupling feature (refused by GSGX maintainer ITL), it implies a huge performance penalties and significant SGX resource consumption for FaaS usage scenario. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc422IHw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/526,https://api.github.com/repos/apache/incubator-teaclave/issues/526,incubator-teaclave,948842797,526,Python.h not found,AI-Memory,10856796,Gordon King,,CLOSED,2021-07-20T16:36:08Z,2021-07-20T17:30:45Z,"On my system, the following error message shown up when compiling acs_py_enclave.c

`
Scanning dependencies of target pycomponent
[ 34%] Building C object CMakeFiles/pycomponent.dir/intermediate/acs_py_enclave.c.o
/home/gordon/incubator-teaclave/build/intermediate/acs_py_enclave.c:29:10: fatal error: Python.h: No such file or directory
 #include <Python.h>
          ^~~~~~~~~~
compilation terminated.
CMakeFiles/pycomponent.dir/build.make:67: recipe for target 'CMakeFiles/pycomponent.dir/intermediate/acs_py_enclave.c.o' failed
make[2]: *** [CMakeFiles/pycomponent.dir/intermediate/acs_py_enclave.c.o] Error 1
CMakeFiles/Makefile2:720: recipe for target 'CMakeFiles/pycomponent.dir/all' failed
make[1]: *** [CMakeFiles/pycomponent.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
`

My finding is the following script snippet that didn't detect the dependency correctly in file `CMakeLists.txt`, because the package `pypy` also put some header files e.g. `pypy_decl.h` in this folder so we cannot safely say that the `pypy_dev` has got installed if the folder `/usr/lib/pypy/include` exists.
`
if(NOT EXISTS ""/usr/lib/pypy/include"")
  message(
    FATAL_ERROR
      ""pypy development package not found\nFor Ubuntu, please run `apt-get install pypy-dev`""
  )
endif()
`
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/526/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/526,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40qbSo,incubator-teaclave,883537064,526,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-20T16:40:43Z,2021-07-20T16:40:43Z,"Nice catch! Thanks.

Normally, we use docker container to build Teaclave.

CMakeList may miss some dependency checks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40qbSo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/526,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40qi5I,incubator-teaclave,883568200,526,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-20T17:30:45Z,2021-07-20T17:30:45Z,Merged.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40qi5I/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/528,https://api.github.com/repos/apache/incubator-teaclave/issues/528,incubator-teaclave,949927286,528,A minor typo issue in a DOCS webpage,AI-Memory,10856796,Gordon King,,CLOSED,2021-07-21T17:08:35Z,2021-07-23T05:06:48Z,"There is a minor type issue in a webpage linked by https://teaclave.apache.org/docs/development-tips/
`parth::to::module=level` => `path::to::module=level`
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/528/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/528,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40toe0,incubator-teaclave,884377524,528,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-21T17:53:43Z,2021-07-21T17:53:43Z,"Nice catch. This doc is automatically generated from here: https://github.com/apache/incubator-teaclave/blob/master/docs/development-tips.md.

You can quickly fix it accordingly.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40toe0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/528,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40xSV2,incubator-teaclave,885335414,528,NA,AI-Memory,10856796,Gordon King,,NA,2021-07-23T01:08:15Z,2021-07-23T01:08:15Z,Thank you for the hint. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc40xSV2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/531,https://api.github.com/repos/apache/incubator-teaclave/issues/531,incubator-teaclave,953466304,531,container exited with code 139 ,zzj136598,43316978,,,CLOSED,2021-07-27T03:32:22Z,2021-07-29T22:14:46Z,"当我使用文档中的(cd docker && docker-compose -f docker-compose-ubuntu-1804-sgx-sim-mode.yml up --build)，使用docker-compose启动Simulation Mode模式服务时，容器返回
teaclave-storage-service exited with code 139
teaclave-management-service exited with code 139                                                                       
teaclave-authentication-service exited with code 139                                                                   
teaclave-access-control-service exited with code 139                                                                   
teaclave-scheduler-service exited with code 139                                                                        
teaclave-execution-service exited with code 139                                                                        
teaclave-frontend-service exited with code 139          

当我进入容器手动启动服务时，打印出了
Segmentation fault (core dumped)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/531/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/531,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc404qFA,incubator-teaclave,887267648,531,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-27T07:07:55Z,2021-07-27T07:07:55Z,"能否详细描述编译过程、编译环境，以及执行命令。

这样能更好地帮助我重现问题并解决，谢谢！","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc404qFA/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/531,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc407PfJ,incubator-teaclave,887945161,531,NA,zzj136598,43316978,,,NA,2021-07-28T01:42:18Z,2021-07-28T01:42:18Z,"我使用macos尝试运行项目，先将mac版本docker增加分配内存的大小，增加到12g，然后根据文档中Simulation Mode板块如下内容进行操作。
$ git clone https://github.com/apache/incubator-teaclave.git
$ cd incubator-teaclave
$ docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-2.14:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
     make""
$ export AS_SPID=""00000000000000000000000000000000""
$ export AS_KEY=""00000000000000000000000000000000""
$ export AS_ALGO=""sgx_epid""
$ export AS_URL=""https://api.trustedservices.intel.com:443""
当我进行到
$ (cd docker && docker-compose -f docker-compose-ubuntu-1804-sgx-sim-mode.yml up --build)
容器启动后都出现了exited with code 139


这是一部分log，在编译和打包镜像的过程中并未出现异常
 => CACHED [22/24] ADD release/services/teaclave_execution_service_enclave.signed.so /teaclave/                                                                                                                    0.0s
 => CACHED [23/24] ADD release/services/enclave_info.toml /teaclave/                                                                                                                                               0.0s
 => CACHED [24/24] ADD release/services/auditors /teaclave/auditors                                                                                                                                                0.0s
 => exporting to image                                                                                                                                                                                             0.0s
 => => exporting layers                                                                                                                                                                                            0.0s
 => => writing image sha256:77123c2709b26cdc39183a465decb0d548e6d6f946a621f2bbb556aedb834e69                                                                                                                       0.0s
 => => naming to docker.io/library/docker_teaclave-execution-service                                                                                                                                               0.0s

Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them
Creating teaclave-authentication-service ... done
Creating teaclave-access-control-service ... done
Creating teaclave-storage-service        ... done
Creating docker_teaclave-file-service_1  ... done
Creating teaclave-management-service     ... done
Creating teaclave-scheduler-service      ... done
Creating teaclave-frontend-service       ... done
Creating teaclave-execution-service      ... done
Attaching to docker_teaclave-file-service_1, teaclave-access-control-service, teaclave-storage-service, teaclave-authentication-service, teaclave-management-service, teaclave-scheduler-service, teaclave-frontend-service, teaclave-execution-service
teaclave-access-control-service exited with code 139
teaclave-authentication-service exited with code 139
teaclave-management-service exited with code 139
teaclave-scheduler-service exited with code 139
teaclave-storage-service exited with code 139
teaclave-execution-service exited with code 139
teaclave-frontend-service exited with code 139

其间我试图直接docker run后进入一个容器，并参考docker-compose中的命令手动启动服务，打印出了如下
Segmentation fault (core dumped)

我不确定是否是一些配置没有设置，因为希望运行的是Simulation Mode，所以上面关于SGX的东西并没有安装

多谢解答！




","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc407PfJ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/531,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc407UTV,incubator-teaclave,887964885,531,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-28T02:39:21Z,2021-07-28T02:39:21Z,"多谢，我不确定是不是 macOS 上 Docker 问题。

我们的代码都有 Linux 上的 CI 测试保证，如果允许的话，最好使用 Linux 系统。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc407UTV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/531,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41BKJs,incubator-teaclave,889496172,531,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-07-29T22:14:45Z,2021-07-29T22:14:45Z,@zzj136598 should be an issue of the SGX SDK dependency. Please check again. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41BKJs/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/533,https://api.github.com/repos/apache/incubator-teaclave/issues/533,incubator-teaclave,956471451,533,"The payload is too large, how to fix?",xglreal,6261949,xuguoliang,x1572030301@gmail.com,CLOSED,2021-07-30T07:11:05Z,2021-08-27T20:38:34Z,"I use a  wasm Excutor, the wasm file is 1.2M. I register the wasm function to the teaclave. Some error have occured:

**_{'result': 'err', 'request_error': 'storage error'}

   function_id = client.register_function(
  File ""/root/incubator-teaclave/sdk/python/teaclave.py"", line 375, in register_function
    return response[""content""][""function_id""]_**

How to fix this problem? Or what the max size of payload file?  Or how to increase the size of wasm that the enclave can accept?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/533/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/533,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41C3zb,incubator-teaclave,889945307,533,NA,ya0guang,12580159,Hongbo,,NA,2021-07-30T14:51:14Z,2021-07-30T14:51:14Z,"Hi @xglreal this problem really exists and we're actively working on a fix.

> How to fix this problem?

Unfortunately, there is no sysctematical fix to this problem. We'll explore if there is a hot/quick fix to just enlarge the memory space so it can hold larger function input.

> Or what the max size of payload file?

Around 700KB.

> Or how to increase the size of wasm that the enclave can accept?

The problem originates in Teaclave's design. In current design, payloads are transmitted in *string*, which is bad for performance. We need to modify the APIs of Teaclave and it's internal protocol to support large function payload.

If you want to try to reduce the size of wasm file, you may try [wasm-gc](https://crates.io/crates/wasm-gc/0.1.6) and add this snippet in `Cargo.toml`:

```
[profile.release]
lto = true
opt-level = ""s""
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41C3zb/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/533,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41Diay,incubator-teaclave,890119858,533,NA,ya0guang,12580159,Hongbo,,NA,2021-07-30T19:53:57Z,2021-07-30T19:53:57Z,"Hi @xglreal if you want a hot fix, please enlarge the the enclave's heap size. 

I've tested it's effectiveness, but I'm not sure how much you need to run your code. You need update the heap size in the enclave's configuration file, [e.g.](https://github.com/apache/incubator-teaclave/blob/master/services/execution/enclave/Enclave.config.xml#L6). Please change the storage, management, scheduler, and execution service enclaves.

Besides, if your WASM app needs more memory, please remember to adjust the heap/stack size of WAMR [here](https://github.com/apache/incubator-teaclave/blob/master/executor/src/wamr.rs#L32).","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41Diay/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/533,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41GwQi,incubator-teaclave,890962978,533,NA,xglreal,6261949,xuguoliang,x1572030301@gmail.com,NA,2021-08-02T11:52:02Z,2021-08-02T11:52:02Z,"> Hi @xglreal if you want a hot fix, please enlarge the the enclave's heap size.
> 
> I've tested it's effectiveness, but I'm not sure how much you need to run your code. You need update the heap size in the enclave's configuration file, [e.g.](https://github.com/apache/incubator-teaclave/blob/master/services/execution/enclave/Enclave.config.xml#L6). Please change the storage, management, scheduler, and execution service enclaves.
> 
> Besides, if your WASM app needs more memory, please remember to adjust the heap/stack size of WAMR [here](https://github.com/apache/incubator-teaclave/blob/master/executor/src/wamr.rs#L32).

Thanks，the file can be uploaded to the enclave according to you hot fix. But there has another question that how to debug the wasm when run in the enclave. The wasm rust can run correctly in my computer locally. But builded wasm had occured errors that didn't have detail message.

Here is the error:
Exception: unreachable
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41GwQi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/533,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41HG-D,incubator-teaclave,891056003,533,NA,ya0guang,12580159,Hongbo,,NA,2021-08-02T14:05:44Z,2021-08-02T14:05:44Z,"This error is basicly saying that your WASM binary may contain a function call which can not be handled in the WASM runtime (sandbox). Please make sure your code doesn't contain any syscalls and functions defined outside, except the Teaclave context file interfaces. You may refer to [this document](https://teaclave.apache.org/docs/executing-wasm/) for the restrictions:

> 1. Be self-contained: not depending on libraries which are not provided by Teaclave, including standard libraries.
> 2. Contains no syscall: no system call-related code.
> 3. Implement required interface: exporting an int entrypoint(int argc, char* argv[]) function which is compatible with Teaclave WAMR calling convention (see examples for more details).","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41HG-D/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/533,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42Fssp,incubator-teaclave,907463465,533,NA,ya0guang,12580159,Hongbo,,NA,2021-08-27T20:38:33Z,2021-08-27T20:38:33Z,Solved.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42Fssp/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/544,https://api.github.com/repos/apache/incubator-teaclave/issues/544,incubator-teaclave,972290312,544,Intel SGX SDK not found (build on baremetal),AI-Memory,10856796,Gordon King,,CLOSED,2021-08-17T04:28:26Z,2021-08-17T17:00:12Z,"Switched to a new ICX server (Ubuntu 20.04.2 LTS), Identified the following issue.
```
-- Found Git: /usr/bin/git (found version ""2.25.1"")
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE
-- Found OpenSSL: /usr/local/lib/libcrypto.a (found version ""1.1.0g"")
CMake Error at CMakeLists.txt:29 (message):
  Intel SGX SDK (version 2.12.100.3) is not found or version not matched.


-- Configuring incomplete, errors occurred!
See also ""/root/tmp/incubator-teaclave/build/CMakeFiles/CMakeOutput.log"".
See also ""/root/tmp/incubator-teaclave/build/CMakeFiles/CMakeError.log"".
```
The SGXSDK has been properly deployed, but cmake cannot find it out.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/544/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/544,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41pLC-,incubator-teaclave,899985598,544,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-08-17T04:31:39Z,2021-08-17T04:31:39Z,"The `CMakeLists.txt` checks if `libsgx_urts>=2.12.100.3`. See here:

https://github.com/apache/incubator-teaclave/blob/f2be66e025f9323512b2e8fec5d99e04908b552a/CMakeLists.txt#L27-L30","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41pLC-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/544,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41pLLV,incubator-teaclave,899986133,544,NA,AI-Memory,10856796,Gordon King,,NA,2021-08-17T04:33:26Z,2021-08-17T04:33:26Z,"Yes, I checked but it doesn't work.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41pLLV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/546,https://api.github.com/repos/apache/incubator-teaclave/issues/546,incubator-teaclave,972970020,546,A top-level Cargo.toml for virtual workspaces,AI-Memory,10856796,Gordon King,,CLOSED,2021-08-17T18:47:55Z,2021-08-18T22:58:33Z,"### Motivation & problem statement
The code analyzer cannot correctly identify this rust project and its workspaces corresponding to  each subdirectories.

### Proposed solution
Adding a top-level Cargo.toml, this configures a virtual workspace – a workspace that is only a container for member packages, but does not build a package itself.

See the main [Cargo.toml](https://github.com/SergioBenitez/Rocket/blob/master/Cargo.toml) file of Rocket for a real-world example of a virtual workspace

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/546/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/546,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41rVNR,incubator-teaclave,900551505,546,NA,ya0guang,12580159,Hongbo,,NA,2021-08-17T18:55:37Z,2021-08-17T18:55:37Z,The trusted part and untrusted part use different set of crates. So we provide a script to prepare analyzer's essentials. You may check [this doc](https://teaclave.apache.org/docs/development-tips/) and try with the script to see if it can solve your concern.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41rVNR/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/546,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41rnNt,incubator-teaclave,900625261,546,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-08-17T20:57:57Z,2021-08-17T20:57:57Z,"Hi, this is not feasible right now. Teaclave uses two sets of Rust dependencies for SGX enclave and untrusted normal world separately. We haven't consolidated these into one. Therefore, we have to compile code in different worlds separately with different `Cargo.toml` files. You can find there here: https://github.com/apache/incubator-teaclave/tree/master/cmake/tomls. Our building system (cmake) will help to switch dependencies when building code for different worlds.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41rnNt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/546,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41sAkx,incubator-teaclave,900729137,546,NA,AI-Memory,10856796,Gordon King,,NA,2021-08-18T00:46:20Z,2021-08-18T00:46:20Z,"@ya0guang @mssun  Thank you for the clarification. However, I still see some workspaces, e.g. `executor` which didn't get indexed either way because they seems not be included in both Cargo.toml files as workspace members. Please advise, thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41sAkx/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/546,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41u4ei,incubator-teaclave,901482402,546,NA,AI-Memory,10856796,Gordon King,,NA,2021-08-18T22:58:33Z,2021-08-18T22:58:33Z,"The problem solved, thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41u4ei/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/547,https://api.github.com/repos/apache/incubator-teaclave/issues/547,incubator-teaclave,973064336,547,Cannot build TVM example,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2021-08-17T21:04:06Z,2021-08-19T17:48:30Z,"CI is broken now as well: https://github.com/apache/incubator-teaclave/runs/3353624057

This is caused by `onnx/models`'s Git LFS quota reached. https://github.com/onnx/models/issues/459
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/547/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/547,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41rwv1,incubator-teaclave,900664309,547,NA,ya0guang,12580159,Hongbo,,NA,2021-08-17T22:09:19Z,2021-08-17T22:09:19Z,This error originates [here](https://github.com/apache/incubator-teaclave/blob/master/examples/python/wasm_tvm_mnist_payload/build_lib.py#L37). The file cannot be downloaded when building the library. I'll store the onnx file to the example folder when the it's accessible.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41rwv1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/547,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41saOg,incubator-teaclave,900834208,547,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-08-18T06:00:46Z,2021-08-18T06:00:46Z,The quota issue of `onnx/models` has been fixed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc41saOg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/548,https://api.github.com/repos/apache/incubator-teaclave/issues/548,incubator-teaclave,974199834,548,dcap attentation,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-08-19T02:17:52Z,2021-08-19T02:20:18Z,"I lauch the dacp reference implement teaclave_dcap_ref_as:
 /# ./teaclave_dcap_ref_as 
🔧 Configured for development.
    => address: 0.0.0.0
    => port: 8080
    => log: normal
    => workers: 4
    => secret key: generated
    => limits: forms = 32KiB
    => keep-alive: 5s
    => tls: enabled
🛰  Mounting /:
    => POST /sgx/dev/attestation/v4/report application/json (verify_quote)
🚀 Rocket has launched from https://0.0.0.0:8080


and use teaclave_sgx_tool to verfify the dcap service:
 /# ./teaclave_sgx_tool attestation --url https://localhost:8080 --algorithm sgx_ecdsa
![image](https://user-images.githubusercontent.com/6261949/129997229-7d6bb6ea-4589-40d4-a26d-45e9c70b6253.png)
It can be verfiry correctly.
By when I use the other ip(127.0.0.1) instead of 'localhost', the error had occured:
![image](https://user-images.githubusercontent.com/6261949/129992578-23c7c27b-7f0a-4f7b-abbe-24a6c881adee.png)

How to fix it?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/548/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/551,https://api.github.com/repos/apache/incubator-teaclave/issues/551,incubator-teaclave,994509957,551,How to deploy Teaclave on TrustZone platform,aqinwenky,17559640,wenky,qinwenjie@aliyun.com,CLOSED,2021-09-13T06:34:05Z,2021-09-15T10:34:23Z,"I have deployed Teaclave based on Intel SGX and  The example has been successfully run.
I also have deployed Teaclave-trustzon-sdk based on OP-TEE. 
so I‘m wondering if Teaclave can be deployed based on Teaclave-trustzon-sdk? If it can be deployed, how to deploy it? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/551/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/551,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42v8E4,incubator-teaclave,918536504,551,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-13T20:09:23Z,2021-09-13T20:09:23Z,"> so I‘m wondering if Teaclave can be deployed based on Teaclave-trustzon-sdk? If it can be deployed, how to deploy it?

No. The current implementation of Teaclave FaaS platform is for Intel SGX.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42v8E4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/551,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc421Jbn,incubator-teaclave,919901927,551,NA,aqinwenky,17559640,wenky,qinwenjie@aliyun.com,NA,2021-09-15T10:34:20Z,2021-09-15T10:34:20Z,ok，thanks,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc421Jbn/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/553,https://api.github.com/repos/apache/incubator-teaclave/issues/553,incubator-teaclave,996462724,553,Support containerized Intel Aesmd service,AI-Memory,10856796,Gordon King,,CLOSED,2021-09-14T21:37:53Z,2021-10-05T18:44:24Z,"### Motivation & problem statement
As recommended in [Intel Linux SGX repo.](https://github.com/intel/linux-sgx), the aesmd service is to be built and run as a [containerized service](https://github.com/intel/linux-sgx/blob/master/docker/build/build_and_run_aesm_docker.sh#L41). it created a [named volume](https://github.com/intel/linux-sgx/blob/8abc6dd8cb44e3cef8294c508e77803ffeb8ed12/docker/build/build_and_run_aesm_docker.sh#L36) `aesmd-socket` that should be mounted into `/var/run/aesmd` folder in relying container. 

However, the docker compose files in Teaclave are using the following stanza to mount host based aesmd socket
![stanze_aemd_mount](https://user-images.githubusercontent.com/10856796/133334968-9e3bbafd-dab9-45f1-b22b-022e65da92d7.png)
That causes the following failure when starting with any docker compose files.
![aesmd_socket_notfound](https://user-images.githubusercontent.com/10856796/133333373-58071e70-52b2-4b36-a932-6d367ae339da.png)

### Proposed solution
I propose a solution to address this problems to streamline the usage of Teaclave services coordinated with containerized aesmd service through docker compose. the solution requires to introduce the following changes to Teaclave docker compose files and associated documents.

- Remove the following configuration from all docker compose files for all services (3 files)
```
      - type: bind
        source: /var/run/aesmd/aesm.socket
        target: /var/run/aesmd/aesm.socket
```
1. docker-compose-ubuntu-1804-intel-sgx.yml
2. docker-compose-ubuntu-1804-isgx.yml
3. docker-compose-ubuntu-1804.yml 

- Add the following override compose files for host based aesmd socket bind mount for every services
1. docker-compose-ubuntu-1804-intel-sgx-with-host-aesmd-socket.yml
2. docker-compose-ubuntu-1804-isgx-with-host-aesmd-socket.yml
3. docker-compose-ubuntu-1804-with-host-aesmd-socket.yml 

with the following bind mount configuration
```
      - type: bind
        source: /var/run/aesmd/aesm.socket
        target: /var/run/aesmd/aesm.socket
```
- Add the following override compose files for containerized aesmd socket volume mount for every services
1. docker-compose-ubuntu-1804-intel-sgx-with-aesmd-socket-volume.yml
2. docker-compose-ubuntu-1804-isgx-with-aesmd-socket-volume.yml
3. docker-compose-ubuntu-1804-with-aesmd-socket-volume.yml 

with the following volume mount configuration
```
      -  aesmd-socket:/var/run/aesmd
```

In addition, the README.md should be updated accordingly. Thanks.

NOTE: The new feature request to change the existing docker-compose commands that may break user scripts if relying on those commands.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/553/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/553,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42zzNS,incubator-teaclave,919548754,553,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-14T22:11:07Z,2021-09-14T22:11:07Z,"Thanks for the proposal. I'm thinking if we still need keep the docker-compose files using the host aesmd. If not, we don't have to maintain these many `yml` files for both host aesmd and containerized aesmd.

Also, we need to have a separate docker file for the AESM service only: `aesm-service.ubuntu-1804.Dockerfile`. I saw `linux-sgx/Dockerfile` uses multi-sage builds (https://docs.docker.com/develop/develop-images/multistage-build/) for different targets. I don't think this is suitable for us.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc42zzNS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/553,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4216Pt,incubator-teaclave,920101869,553,NA,AI-Memory,10856796,Gordon King,,NA,2021-09-15T15:03:21Z,2021-09-15T15:03:21Z,"@mssun Alternatively, we can ask user to create a bind volume using the following command if they don't use containerized aesmd service.
```
docker volume create --driver local \
--opt type=none \
--opt device= /var/run/aesmd\
--opt o=bind aesmd-socket
```

In addition, It is already provided as containerized way to use aesmd service (https://github.com/intel/linux-sgx/blob/6b8d2d14d0daf8ed421165eb3347e7ee15bbf9d0/docker/build/Dockerfile#L65), the end user could just directly run the script `linux-sgx/docker/build/build_and_run_aesm_docker.sh` (https://github.com/intel/linux-sgx/blob/master/docker/build/build_and_run_aesm_docker.sh#L41) to start aesmd service, so we can rely on it to serve the SGX related requests from Teaclave, just need to mount `aesmd-socket` volume in such way to avoid possible conflict with host aesmd service. thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4216Pt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/553,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc422cfV,incubator-teaclave,920242133,553,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-15T17:53:41Z,2021-09-15T17:53:41Z,"Yes, thanks for listing the alternatives to start AESM service.

The goal here is to make the process simple and smooth for the first time users so that they can deploy Teaclave with minimal efforts. Otherwise, it will introduce more confusions. Of course, we can document different setups for different usage scenarios.

With that being said, a separate dockerfile (`aesm-service.ubuntu-1804.Dockerfile`) and using `docker-compose` to manage all containers should be a good option. What do you think?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc422cfV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/553,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc423nsy,incubator-teaclave,920550194,553,NA,AI-Memory,10856796,Gordon King,,NA,2021-09-16T03:38:06Z,2021-09-16T03:38:06Z,"@mssun Sounds good to me +1, thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc423nsy/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/554,https://api.github.com/repos/apache/incubator-teaclave/issues/554,incubator-teaclave,1000710060,554,Generating key and signing a file ,egalijatov1,88715320,Esma Galijatovic,,OPEN,2021-09-20T08:38:45Z,2021-09-30T14:09:25Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

Is it possible to generate a private-public key pair from python (if it does not already exist), and use it to sign data (all from python using teaclave library)? 
Similar to this example from Intel: https://software.intel.com/content/www/us/en/develop/articles/code-sample-gateway-key-provisioning-and-secure-signing-using-intel-software-guard.html

If it is possible, can other processes also access this key and use it for signing or is it tied to the application that generated it? ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/554/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/554,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43CGAp,incubator-teaclave,923295785,554,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-20T20:55:11Z,2021-09-20T20:55:11Z,"Sorry, I'm not sure if I understand this question correctly. Do you mean signing the _input data_?

Can you give me more context of why ""generating a key pair from python and use it to sign data""? Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43CGAp/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/554,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43CL3W,incubator-teaclave,923319766,554,NA,egalijatov1,88715320,Esma Galijatovic,,NA,2021-09-20T21:18:22Z,2021-09-20T21:18:22Z,"I have a python application that generates a pdf report. This report should be signed so that it can't be changed (file can be read and then data can be signed) with a private key stored in SGX. Besides, on the first run, the key pair should be generated. It would also be very useful to restrict other applications and processes from using this key. 
Is this possible using teaclave?
Thank you!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43CL3W/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/554,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43ggmn,incubator-teaclave,931269031,554,NA,egalijatov1,88715320,Esma Galijatovic,,NA,2021-09-30T12:18:06Z,2021-09-30T12:18:06Z,@mssun any info? Thank you in advance!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43ggmn/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/554,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43g2XS,incubator-teaclave,931358162,554,NA,ya0guang,12580159,Hongbo,,NA,2021-09-30T14:09:25Z,2021-09-30T14:09:25Z,"It seems the whole process is stateful, where ""first run"" generates a key pair and the key will be used in ""following runs"". In general, Teaclave cannot handle statefule tasks since FaaS is stateless in nature.

However, specifically in your case, an alternative solution is like this:

1. Prepare a function which outputs a key for signing, and this ""key file"" will be an encrypted output.
2. Make your Python application accepting an additional input arg, the ""key file"" generated in step 1. This ""key file"" can be provided by another party (rather than the user, e.g. service provider), and the Python application sign PDF file with the corresponding key.

If you really want to make it a single function, you can always ask the function to take another input to choose if it's going to generate a key or sign a PDF.

Hope I understand your requirements correctly and hope this can help.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43g2XS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/555,https://api.github.com/repos/apache/incubator-teaclave/issues/555,incubator-teaclave,1000729397,555,Some Questions about data\function\task operation,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2021-09-20T09:02:23Z,2021-09-20T20:56:45Z,"Does teaclave supports delete the uploaded data\function\task？
Where are the data\wasm function files store in? Is the storage service enclave?
Do the data\function files exist when the teaclave service restart?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/555/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/555,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43CGiV,incubator-teaclave,923297941,555,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-20T20:56:45Z,2021-09-20T20:56:45Z,"> Does teaclave supports delete the uploaded data\function\task？

No.

> Where are the data\wasm function files store in? Is the storage service enclave?

They are stored in the *storage service*, i.e., a database protected by encalve.

> Do the data\function files exist when the teaclave service restart?

No, the current implementation is a in-memory database.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43CGiV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/556,https://api.github.com/repos/apache/incubator-teaclave/issues/556,incubator-teaclave,1006922227,556,Duplicated docker compose files,AI-Memory,10856796,Gordon King,,CLOSED,2021-09-25T01:30:49Z,2021-10-12T23:44:51Z,"Under the `docker` folder, it contains 2 identical files as follows. Is it necessary to keep both of them ? thanks.
![image](https://user-images.githubusercontent.com/10856796/134753346-84bccc28-cb26-430c-aa3f-03225ed04af6.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/556/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/556,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43QT71,incubator-teaclave,927022837,556,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-09-25T07:02:59Z,2021-09-25T07:02:59Z,"The main purpose of `doker-compose-ubuntu-1804.yml` is backward compatibility. Originally, we only provide docker for isgx driver. I think we can delete it now since we have kept them both for a while.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43QT71/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/556,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44IfBA,incubator-teaclave,941748288,556,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-10-12T23:44:51Z,2021-10-12T23:44:51Z,I believe this issue was resolved in the #559 PR. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44IfBA/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/557,https://api.github.com/repos/apache/incubator-teaclave/issues/557,incubator-teaclave,1006928646,557,The container name of teaclave-file-service missing in DCAP docker compose file,AI-Memory,10856796,Gordon King,,CLOSED,2021-09-25T02:02:04Z,2021-09-25T07:03:31Z,The container name of `teaclave-file-service` has been specified in legacy SGX docker compose file but not in DCAP one. it should be assigned a explicit name as legacy one does to a make it consistent and reusable.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/557/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/560,https://api.github.com/repos/apache/incubator-teaclave/issues/560,incubator-teaclave,1015529401,560,Development environment for containerized Teaclave services,AI-Memory,10856796,Gordon King,,OPEN,2021-10-04T19:06:07Z,2021-10-13T03:29:14Z,"I found there seems no straightforward way to prepare a development environment for containerized Teaclave services. I think it could improve the collaboration efficiency and dev. productivity if we can streamline it using standard approaches with comprehensive documentation.
Firstly, I often use Emacs to develop, so those bother me don’t necessarily apply to developers who use other IDE at all, e.g. VS. 
I lists my consideration here for your reference, perhaps, we may identify some more associated opportunities later.
1) Adding both trusted and untrusted parts of code tags to LSP system.
2) Containerizing the Teaclave source code in a local docker volume instead of host FS.
3) Containerizing development tools e.g. Emacs, VS in a development container mounted with Teaclave source code volume.
4) The Build Container can rebuild the topic branch triggered by the changes from development container.
5) The RT containers could reuse the same containers images for different service.
6) The RT service containers can be instructed or automatically detect the service binaries updates to roll up in dev. mode.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/560/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/560,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44IfMe,incubator-teaclave,941749022,560,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-10-12T23:46:53Z,2021-10-12T23:46:53Z,"Thanks for raising this issue.

Yes, this is very important for all collaborators. Currently, we only have a simple document about some tips for Teaclave development: https://teaclave.apache.org/docs/development-tips/.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44IfMe/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/560,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44JAE0,incubator-teaclave,941883700,560,NA,AI-Memory,10856796,Gordon King,,NA,2021-10-13T03:29:14Z,2021-10-13T03:29:14Z,The [crate cmake](https://crates.io/crates/cmake) is capable to manage the build of native code well. it looks possible to address the problem of separated rust codes in LSP. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc44JAE0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/562,https://api.github.com/repos/apache/incubator-teaclave/issues/562,incubator-teaclave,1017542318,562,[Simulation Mode] Bugs in Teaclave Docker Services,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,CLOSED,2021-10-06T05:59:05Z,2021-10-11T16:56:55Z,"<!--
Thank you for filing a bug report! 🐛 Please provide a short summary of the bug,
along with any information you feel relevant to replicating the bug.
-->

I built teaclave in **simulation** mode, following the instruction from https://github.com/apache/incubator-teaclave/blob/master/docs/my-first-function.md

When I tried to launch Teaclave services, I encountered the following error.

```
$ (cd docker && ./run-teaclave-services.sh)
/dev/isgx device detected.
Error: No such volume: aesmd-socket
Cannot find a valid aesm service.
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/562/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/562,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43wyQD,incubator-teaclave,935535619,562,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-10-06T06:03:55Z,2021-10-06T06:03:55Z,"Should be `./run-teaclave-services.sh -m sim` for simulation mode.

https://github.com/apache/incubator-teaclave/blob/master/docker/run-teaclave-services.sh#L124","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43wyQD/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/562,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43xFsD,incubator-teaclave,935615235,562,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2021-10-06T07:04:04Z,2021-10-06T07:04:04Z,Thank you! I will update the document later.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc43xFsD/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/564,https://api.github.com/repos/apache/incubator-teaclave/issues/564,incubator-teaclave,1025650007,564,Encrypted Payload for remote LibOS executors,AI-Memory,10856796,Gordon King,,OPEN,2021-10-13T20:07:13Z,2021-10-13T20:07:13Z,"### Motivation & problem stat
This feature is related to #525 ,  There is mechanism to protect the runtime binary of SGX enclave through CPL, so It might be reasonable to support the encrypted payload, particularly used in remote LibOS executing scenarios. the secrets should be able to get provisioned through Teaclave trusted RPC mechanism.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/564/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/565,https://api.github.com/repos/apache/incubator-teaclave/issues/565,incubator-teaclave,1026561870,565,Remote payload loading for LibOS executor,AI-Memory,10856796,Gordon King,,OPEN,2021-10-14T15:52:22Z,2021-10-14T15:52:22Z,"To my understand, the current local executors load their workload in the form of in-memory byte stream. should LibOS based remote executor load its workload in the similar way and the workload byte stream is transmitted through trusted RPC ? Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/565/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/567,https://api.github.com/repos/apache/incubator-teaclave/issues/567,incubator-teaclave,1032081305,567,[Suggestion] Rename KEYS or keys,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,CLOSED,2021-10-21T05:40:06Z,2023-06-12T08:43:53Z,"Most Unix-style OSs are case-sensitive in file names, meaning that a folder called `KEYs` is different from a file named `keys`.

However, Mac OS is not case-sensitive. So whenever developers clone a new repo, the system will delete the folder `keys`, and a freshly cloned repo may look messy.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/567/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/567,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5OSxuN,incubator-teaclave,1313545101,567,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2022-11-14T11:37:15Z,2022-11-14T11:37:15Z,"The `keys` folder seems reasonable.  How about renaming the file to, for example, `PGP_KEYS`, `DEVELOPER_KEYS`?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5OSxuN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/568,https://api.github.com/repos/apache/incubator-teaclave/issues/568,incubator-teaclave,1033810614,568,Gramine driver proxy and its remote executor agent,AI-Memory,10856796,Gordon King,,OPEN,2021-10-22T17:36:22Z,2021-10-22T17:36:22Z,"### Motivation & problem statement
This feature is associated with #525, it should be booted at the LibOS side before the workload get started. this feature is required to handle the lifecycle of agent, the remote streams access and remote attestation.

### Proposed solution
this feature needs to have the following major functions.

1) Teaclave Gramine driver proxy
2) LibOS side executor agent trait
3) To serialize FunctionArguments
4) To serialize FunctionRuntime
5) To establish a trusted channel between proxy and agent remotely with assurance
6) A protocol/service to interact with remote agent
7) control plane commands. e.g. attest, init, start, stop, destroy, custom cmds.
8) data plane: runtime streams, argument, payload
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/568/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/571,https://api.github.com/repos/apache/incubator-teaclave/issues/571,incubator-teaclave,1041823345,571,"The founder ""keys"" and the file ""KEYS"" are conflict",ouliuquan,38776890,ouliuquan,,CLOSED,2021-11-02T02:34:22Z,2021-11-02T17:15:27Z,"When using the git clone, it will be conflict in Windows. Should we rename one of them to another name?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/571/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/571,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc45GU-m,incubator-teaclave,957960102,571,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-11-02T17:15:26Z,2021-11-02T17:15:26Z,"Thanks for reporting this issue. This is duplicated with #567.

I'm thinking of a proper name for the current `keys` directory.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc45GU-m/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/576,https://api.github.com/repos/apache/incubator-teaclave/issues/576,incubator-teaclave,1063059336,576,Failed to directly build `teaclave_sgx_tool` only from scratch,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2021-11-25T01:13:25Z,2021-12-22T03:15:41Z,"I tried to build, execute, deploy, and use Teaclave like this:

```
docker run --rm -v $(pwd):/teaclave -w /teaclave \
>   -it teaclave/teaclave-build-ubuntu-1804-sgx-2.14:latest \
>    bash -c "". /root/.cargo/env && \
>      . /opt/sgxsdk/environment && \
>      mkdir -p build && cd build && \
>      cmake -DTEST_MODE=ON .. && \
>      make teaclave_sgx_tool""
Unable to find image 'teaclave/teaclave-build-ubuntu-1804-sgx-2.14:latest' locally
latest: Pulling from teaclave/teaclave-build-ubuntu-1804-sgx-2.14
Digest: sha256:7573f25acecddca48c57b20acb6f0fe9fe505503c33a9dc9905470f95ebd7829
Status: Downloaded newer image for teaclave/teaclave-build-ubuntu-1804-sgx-2.14:latest
-- The C compiler identification is GNU 7.5.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Found Git: /usr/bin/git (found version ""2.32.0"")
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found version ""1.1.1"")
-- Submodule update
Submodule 'third_party/crates-io' (https://github.com/mesalock-linux/crates-io.git) registered for path 'third_party/crates-io'
Submodule 'third_party/crates-sgx' (https://github.com/mesalock-linux/crates-sgx.git) registered for path 'third_party/crates-sgx'
Submodule 'third_party/mesapy' (https://github.com/mesalock-linux/mesapy.git) registered for path 'third_party/mesapy'
Submodule 'third_party/rust-sgx-sdk' (https://github.com/apache/incubator-teaclave-sgx-sdk) registered for path 'third_party/rust-sgx-sdk'
Submodule 'third_party/wasm-micro-runtime' (https://github.com/bytecodealliance/wasm-micro-runtime) registered for path 'third_party/wasm-micro-runtime'
Cloning into '/teaclave/third_party/crates-io'...
Cloning into '/teaclave/third_party/crates-sgx'...
Cloning into '/teaclave/third_party/mesapy'...
Cloning into '/teaclave/third_party/rust-sgx-sdk'...
Cloning into '/teaclave/third_party/wasm-micro-runtime'...
Submodule path 'third_party/crates-io': checked out '5d8a4374276778da1ef3f35c3d1f294143275fbe'
Submodule path 'third_party/crates-sgx': checked out '7b5fdc60d567134009143de5d362db82d46165eb'
Submodule path 'third_party/mesapy': checked out '947fb3f598eede83ba0e33b5b5655b9a9597c2d8'
Submodule 'sgx/libffi' (https://github.com/libffi/libffi.git) registered for path 'third_party/mesapy/sgx/libffi'
Cloning into '/teaclave/third_party/mesapy/sgx/libffi'...
Submodule path 'third_party/mesapy/sgx/libffi': checked out '20562ac0427c3578250d04c6e34fb0127d4551cf'
Submodule path 'third_party/rust-sgx-sdk': checked out 'ed9e7cce4fd40efd7a256d5c4be1c5f00778a5bb'
Submodule path 'third_party/wasm-micro-runtime': checked out '7706e4b1514e5fd95a1c5efe258ecd08467d030a'
patching file core/shared/platform/teaclave-sgx/platform_internal.h
patching file core/shared/platform/teaclave-sgx/sgx_platform.c
patching file core/shared/platform/teaclave-sgx/sgx_rsrv_mem_mngr.h
patching file core/shared/platform/teaclave-sgx/sgx_thread.c
patching file core/shared/platform/teaclave-sgx/shared_platform.cmake
patching file product-mini/platforms/teaclave-sgx/CMakeLists.txt
SGX_SDK=/opt/sgxsdk
SGX_MODE=HW
RUSTUP_TOOLCHAIN=nightly-2020-10-25
DCAP=OFF
BUILD_TYPE=debug
TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.Qtx3oVw7rjaU
EXECUTOR_BUILTIN=ON
EXECUTOR_MESAPY=ON
EXECUTOR_WAMR=ON
-- ====== /teaclave/build/environment GENERATED ======
-- Configuring done
-- Generating done
-- Build files have been written to: /teaclave/build
Scanning dependencies of target prep
INFO: Start to build EDL.
[  0%] Built target prep
Scanning dependencies of target sgxapp-teaclave_sgx_tool
[  6%] Building sgxapp-teaclave_sgx_tool
   Compiling proc-macro2 v1.0.27
   Compiling unicode-xid v0.2.2
   Compiling libc v0.2.97
   Compiling syn v1.0.73
   Compiling cfg-if v1.0.0
   Compiling serde_derive v1.0.126
   Compiling serde v1.0.126
   Compiling cc v1.0.68
   Compiling getrandom v0.1.16
   Compiling version_check v0.9.3
   Compiling tinyvec_macros v0.1.0
   Compiling matches v0.1.8
   Compiling ryu v1.0.5
   Compiling cfg-if v0.1.10
   Compiling memchr v2.4.0
   Compiling anyhow v1.0.41
   Compiling log v0.4.14
   Compiling percent-encoding v2.1.0
   Compiling ppv-lite86 v0.2.10
   Compiling semver-parser v0.7.0
   Compiling rand_core v0.4.2
   Compiling bitflags v1.2.1
   Compiling serde_json v1.0.64
   Compiling spin v0.5.2
   Compiling itoa v0.4.7
   Compiling untrusted v0.7.1
   Compiling once_cell v1.8.0
   Compiling sgx_types v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling unicode-segmentation v1.8.0
   Compiling regex-syntax v0.6.25
   Compiling hex v0.4.3
   Compiling teaclave_config v0.2.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/config)
   Compiling quick-error v1.2.3
   Compiling unicode-width v0.1.8
   Compiling termcolor v1.1.2
   Compiling teaclave_binder v0.2.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/binder)
   Compiling ansi_term v0.11.0
   Compiling vec_map v0.8.2
   Compiling strsim v0.8.0
   Compiling teaclave_sgx_tool v0.2.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/tool/app)
   Compiling lazy_static v1.4.0
   Compiling tinyvec v1.2.0
   Compiling unicode-bidi v0.3.5
   Compiling protected_fs_rs v0.2.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/common/protected_fs_rs)
   Compiling form_urlencoded v1.0.1
   Compiling proc-macro-error-attr v1.0.4
   Compiling proc-macro-error v1.0.4
   Compiling rdrand v0.6.0
   Compiling semver v0.9.0
   Compiling humantime v1.3.0
   Compiling textwrap v0.11.0
   Compiling heck v0.3.3
   Compiling rustc_version v0.2.3
   Compiling ring v0.16.20
   Compiling quote v1.0.9
   Compiling aho-corasick v0.7.18
   Compiling unicode-normalization v0.1.19
   Compiling atty v0.2.14
   Compiling getrandom v0.2.3
   Compiling sgx_urts v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling raw-cpuid v8.1.2
   Compiling clap v2.33.3
   Compiling rand_core v0.5.1
   Compiling rand_chacha v0.2.2
   Compiling regex v1.5.4
   Compiling rand v0.7.3
   Compiling idna v0.2.3
   Compiling env_logger v0.7.1
   Compiling thiserror-impl v1.0.26
   Compiling structopt-derive v0.4.15
   Compiling thiserror v1.0.26
   Compiling structopt v0.3.22
   Compiling toml v0.5.8
   Compiling url v2.2.2
   Compiling uuid v0.8.2
   Compiling teaclave_crypto v0.2.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/crypto)
   Compiling teaclave_types v0.2.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/types)
    Finished dev [unoptimized + debuginfo] target(s) in 20.73s
[  6%] Built target sgxapp-teaclave_sgx_tool
Scanning dependencies of target wamr_teaclave
[ 13%] Creating directories for 'wamr_teaclave'
[ 20%] No download step for 'wamr_teaclave'
[ 26%] No patch step for 'wamr_teaclave'
[ 33%] No update step for 'wamr_teaclave'
[ 40%] Performing configure step for 'wamr_teaclave'
-- The C compiler identification is GNU 7.5.0
-- The CXX compiler identification is GNU 7.5.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Build Configurations:
     Build as target X86_64
     CMAKE_BUILD_TYPE Release
     WAMR Interpreter enabled
     WAMR AOT disabled
     WAMR JIT disabled
     Libc builtin disabled
     Libc WASI disabled
     Fast interpreter disabled
     Multiple modules disabled
-- The ASM compiler identification is GNU
-- Found assembler: /usr/bin/cc
-- Configuring done
-- Generating done
-- Build files have been written to: /teaclave/third_party/wasm-micro-runtime/product-mini/platforms/teaclave-sgx/build
[ 46%] Performing build step for 'wamr_teaclave'
-- wamr_teaclave build command succeeded.  See also /teaclave/build/wamr_teaclave-prefix/src/wamr_teaclave-stamp/wamr_teaclave-build-*.log
[ 53%] No install step for 'wamr_teaclave'
[ 60%] Completed 'wamr_teaclave'
[ 60%] Built target wamr_teaclave
Scanning dependencies of target wamr
[ 66%] Generating intermediate/libvmlib.a
[ 66%] Built target wamr
Scanning dependencies of target mesapy
[ 73%] Generating intermediate/libpypy-c.a, intermediate/libffi.a, intermediate/libsgx_tlibc_ext.a, intermediate/libsgx_ulibc.a, intermediate/ffi.o
[ 73%] Built target mesapy
[ 80%] Generating mesapy ffi stubs
generating /teaclave/build/intermediate/acs_py_enclave.c
Scanning dependencies of target pycomponent
[ 86%] Building C object CMakeFiles/pycomponent.dir/intermediate/acs_py_enclave.c.o
[ 93%] Linking C static library intermediate/libpycomponent.a
[ 93%] Built target pycomponent
Scanning dependencies of target sgxlib-teaclave_sgx_tool
[100%] Building sgxlib-teaclave_sgx_tool, enclave info to /dev/null
   Compiling sgx_build_helper v0.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_types v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling cc v1.0.71
   Compiling sgx_tstd v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_demangle v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling hashbrown_tstd v0.9.0 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_alloc v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling proc-macro2 v1.0.32
   Compiling unicode-xid v0.2.2
   Compiling syn v1.0.81
   Compiling spin v0.5.2
   Compiling serde_derive v1.0.118 (https://github.com/mesalock-linux/serde-sgx#db0226f1)
   Compiling cfg-if v0.1.10
   Compiling serde v1.0.118 (https://github.com/mesalock-linux/serde-sgx#db0226f1)
   Compiling getrandom v0.1.14 (https://github.com/mesalock-linux/getrandom-sgx#0aa9cc20)
   Compiling autocfg v0.1.7
   Compiling untrusted v0.7.1
   Compiling log v0.4.14 (https://github.com/mesalock-linux/log-sgx#2ca9039a)
   Compiling cfg-if v1.0.0
   Compiling matches v0.1.8 (https://github.com/mesalock-linux/rust-std-candidates-sgx#5747bcf3)
   Compiling libc v0.2.105
   Compiling ryu v1.0.5
   Compiling ppv-lite86 v0.2.6 (https://github.com/mesalock-linux/cryptocorrosion-sgx#32d7de50)
   Compiling rand_core v0.4.2
   Compiling serde_json v1.0.60 (https://github.com/mesalock-linux/serde-json-sgx#38089381)
   Compiling autocfg v1.0.1
   Compiling percent-encoding v2.1.0 (https://github.com/mesalock-linux/rust-url-sgx#23832f31)
   Compiling proc-macro2 v0.4.30
   Compiling teaclave_config v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/config)
   Compiling httparse v1.5.1
   Compiling unicode-xid v0.1.0
   Compiling syn v0.15.44
   Compiling bit-vec v0.6.3
   Compiling hashbrown v0.3.1
   Compiling quick-error v1.2.2 (https://github.com/mesalock-linux/quick-error-sgx#468bf2cc)
   Compiling teaclave_binder v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/binder)
   Compiling lazy_static v1.4.0
   Compiling protected_fs_rs v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/common/protected_fs_rs)
   Compiling sgx_libc v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_tse v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_tcrypto v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_unwind v0.1.1 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling rdrand v0.6.0
   Compiling num-traits v0.2.10 (https://github.com/mesalock-linux/num-traits-sgx#af046e0b)
   Compiling num-integer v0.1.41 (https://github.com/mesalock-linux/num-integer-sgx#404c50e5)
   Compiling num-bigint v0.2.5 (https://github.com/mesalock-linux/num-bigint-sgx#76a5bed9)
   Compiling fnv v1.0.6 (https://github.com/mesalock-linux/rust-fnv-sgx#c3bd6153)
   Compiling sgx_trts v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_tprotected_fs v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling sgx_backtrace_sys v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling ring v0.16.19 (https://github.com/mesalock-linux/ring-sgx?tag=v0.16.5#844efe27)
   Compiling quote v1.0.10
   Compiling quote v0.6.13
   Compiling teaclave_binder_attribute v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/binder/attribute)
   Compiling thiserror-impl v1.0.9
   Compiling teaclave_rpc_proc_macro v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/rpc/proc_macro)
   Compiling teaclave_service_enclave_utils_proc_macro v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/services/utils/service_enclave_utils/proc_macro)
   Compiling smallvec v1.6.1 (https://github.com/mesalock-linux/rust-smallvec-sgx#b5925f10)
   Compiling itoa v0.4.5 (https://github.com/mesalock-linux/itoa-sgx#295ee451)
   Compiling unicode-bidi v0.3.4 (https://github.com/mesalock-linux/unicode-bidi-sgx#eb10728a)
   Compiling anyhow v1.0.28
   Compiling hex v0.4.0
   Compiling memchr v2.2.1 (https://github.com/mesalock-linux/rust-memchr-sgx#fb51ee32)
   Compiling thiserror v1.0.9
   Compiling base64 v0.13.0 (https://github.com/mesalock-linux/rust-base64-sgx#dc7389e1)
   Compiling thread_local v1.0.0 (https://github.com/mesalock-linux/thread_local-rs-sgx#a8e6e6ce)
   Compiling regex-syntax v0.6.12 (https://github.com/mesalock-linux/regex-sgx#76aef86f)
   Compiling termcolor v1.0.5 (https://github.com/mesalock-linux/termcolor-sgx#fee5ac79)
   Compiling humantime v1.3.0 (https://github.com/mesalock-linux/humantime-sgx#c5243dfa)
   Compiling sgx_rand v1.1.3 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.3#a6a172e6)
   Compiling bytes v0.5.4 (https://github.com/mesalock-linux/bytes-sgx#63d1951a)
   Compiling threadpool v1.8.0 (https://github.com/mesalock-linux/rust-threadpool-sgx#098d98a8)
   Compiling rand_core v0.5.1 (https://github.com/mesalock-linux/rand-sgx?tag=v0.7.3_sgx1.1.3#83583f07)
   Compiling unicode-normalization v0.1.12 (https://github.com/mesalock-linux/unicode-normalization-sgx#c1b03061)
   Compiling aho-corasick v0.7.10 (https://github.com/mesalock-linux/aho-corasick-sgx#7558a97c)
   Compiling webpki v0.21.4 (https://github.com/mesalock-linux/webpki?branch=mesalock_sgx#8dbe6fbe)
   Compiling sct v0.6.0 (https://github.com/mesalock-linux/sct.rs?branch=mesalock_sgx#c4d859cc)
   Compiling rand_chacha v0.2.2 (https://github.com/mesalock-linux/rand-sgx?tag=v0.7.3_sgx1.1.3#83583f07)
   Compiling http v0.2.1
   Compiling chrono v0.4.11 (https://github.com/mesalock-linux/chrono-sgx#f964ae7f)
   Compiling rustls v0.16.0 (https://github.com/mesalock-linux/rustls?branch=mesalock_sgx-client-cert-verifier-patch#81834540)
   Compiling webpki-roots v0.21.0 (https://github.com/mesalock-linux/webpki-roots?branch=mesalock_sgx#6ff3be54)
   Compiling idna v0.2.0
   Compiling rand v0.7.3 (https://github.com/mesalock-linux/rand-sgx?tag=v0.7.3_sgx1.1.3#83583f07)
   Compiling yasna v0.3.1 (https://github.com/mesalock-linux/yasna.rs-sgx#a1f50714)
   Compiling regex v1.3.1 (https://github.com/mesalock-linux/regex-sgx#76aef86f)
   Compiling url v2.1.1
   Compiling toml v0.5.3 (https://github.com/mesalock-linux/toml-rs-sgx#5ec3bcf9)
   Compiling uuid v0.8.1 (https://github.com/mesalock-linux/uuid-sgx#9b425a8f)
   Compiling env_logger v0.7.1
   Compiling teaclave_crypto v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/crypto)
   Compiling teaclave_types v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/types)
   Compiling teaclave_attestation v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/attestation)
   Compiling teaclave_rpc v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/rpc)
   Compiling teaclave_service_enclave_utils v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/services/utils/service_enclave_utils)
   Compiling teaclave_sgx_tool_enclave v0.2.0 (/teaclave/build/cmake_tomls/sgx_trusted_lib/tool/enclave)
    Finished dev [unoptimized + debuginfo] target(s) in 35.28s
[100%] Built target sgxlib-teaclave_sgx_tool
Scanning dependencies of target teaclave_sgx_tool
Updating enclave signatures...
/teaclave/release/services/enclave_info.toml: No such file or directory
CMakeFiles/teaclave_sgx_tool.dir/build.make:61: recipe for target 'teaclave_sgx_tool' failed
make[3]: *** [teaclave_sgx_tool] Error 1
CMakeFiles/Makefile2:1598: recipe for target 'CMakeFiles/teaclave_sgx_tool.dir/all' failed
make[2]: *** [CMakeFiles/teaclave_sgx_tool.dir/all] Error 2
CMakeFiles/Makefile2:1605: recipe for target 'CMakeFiles/teaclave_sgx_tool.dir/rule' failed
make[1]: *** [CMakeFiles/teaclave_sgx_tool.dir/rule] Error 2
Makefile:677: recipe for target 'teaclave_sgx_tool' failed
make: *** [teaclave_sgx_tool] Error 2
```

I expected to see this happen: successfully build teaclave_sgx_tool

Instead, this happened: failed.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/576/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/581,https://api.github.com/repos/apache/incubator-teaclave/issues/581,incubator-teaclave,1069061942,581,About file size,ChuanDou2021,95392611,douchuan,,CLOSED,2021-12-02T02:30:35Z,2021-12-17T23:26:53Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

I found so and bin in **release** dir are huge, can we do something to decrease file size? Optimized size of enclave can be loaded quickly, and smaller memories of enclave space.

determine file type, it's **with debug_info, not stripped**

```bash
# find . -type f -not -path ""./tests/*"" -not -path ""./examples/*"" ! -name ""*.pem"" ! -name ""*.toml"" | xargs file
./lib/libteaclave_client_sdk.so:                                   ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=cee545842224ac31aff1a48aeb1352e6043780cd, with debug_info, not stripped
./lib/libteaclave_client_sdk.a:                                    current ar archive
./cli/teaclave_cli:                                                ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=de8680e09a2607597ba7494172adb1c6a55fb50f, with debug_info, not stripped
./services/teaclave_frontend_service_enclave.signed.so:            ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=f246828479bdcedd8d79debdbaf198c1dbd2b9bb, with debug_info, not stripped
./services/teaclave_management_service_enclave.signed.so:          ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=74fbcf74817a66dce93fec3cd54a6048516cab65, with debug_info, not stripped
./services/teaclave_storage_service:                               ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=8d85f04a3c859cd172a685aadb5a7d5459424393, with debug_info, not stripped
./services/teaclave_execution_service:                             ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=be642ed0f0ace497d61cd0323ce2616e1230000e, with debug_info, not stripped
./services/teaclave_scheduler_service_enclave.signed.so:           ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=559cc35f762112327c367eea96202d7d26349600, with debug_info, not stripped
./services/teaclave_storage_service_enclave.signed.so:             ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=e5fc4133fb81debadaeb28ec92ec3f05b7aede4b, with debug_info, not stripped
./services/teaclave_authentication_service:                        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=d5076b4630858a25f4bd23b976f5fb5249d7015e, with debug_info, not stripped
./services/teaclave_management_service:                            ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=e028f88b37cc611c9cd6258483289d7b21e470d0, with debug_info, not stripped
./services/teaclave_access_control_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=25d0747864983e35abdb604e9b80ccf9ae73f2dc, with debug_info, not stripped
./services/teaclave_scheduler_service:                             ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=29c87c3ec1f47e27ce4e2dd563267674704f5233, with debug_info, not stripped
./services/teaclave_execution_service_enclave.signed.so:           ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=02fc9f84f6e575688579f121e7eb6b21fa434e0b, with debug_info, not stripped
./services/teaclave_access_control_service:                        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=88031c25575ca45af3d81e2d841cd25ea9a3b484, with debug_info, not stripped
./services/teaclave_frontend_service:                              ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=6a42e1d5cf4f30bda2e73b8f0b26eda0157c6a67, with debug_info, not stripped
./services/auditors/optimus_prime/optimus_prime.sign.sha256:       data
./services/auditors/godzilla/godzilla.sign.sha256:                 data
./services/auditors/albus_dumbledore/albus_dumbledore.sign.sha256: data
./services/teaclave_authentication_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=72613855b9dc0d7d4c0358a605cced1bd6414944, with debug_info, not stripped
./tool/teaclave_sgx_tool:                                          ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=69f7f73486d61e1d962e67fbcd7a97a742bce0ee, with debug_info, not stripped
./tool/teaclave_sgx_tool_enclave.signed.so:                        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=9532c22afb7599d609000844ff10592a19e27b81, with debug_info, not stripped
```

determine file size (before **strip**):

```bash
# find . -name ""*.so"" | xargs ls -lh
-rwxr-xr-x 1 root root  50M Nov 30 00:36 ./lib/libteaclave_client_sdk.so
-rw-r--r-- 1 root root  63M Nov 30 00:41 ./services/teaclave_access_control_service_enclave.signed.so
-rw-r--r-- 1 root root  56M Nov 30 00:39 ./services/teaclave_authentication_service_enclave.signed.so
-rw-r--r-- 1 root root  84M Nov 30 00:38 ./services/teaclave_execution_service_enclave.signed.so
-rw-r--r-- 1 root root  53M Nov 30 00:38 ./services/teaclave_frontend_service_enclave.signed.so
-rw-r--r-- 1 root root  54M Nov 30 00:41 ./services/teaclave_management_service_enclave.signed.so
-rw-r--r-- 1 root root  51M Nov 30 00:38 ./services/teaclave_scheduler_service_enclave.signed.so
-rw-r--r-- 1 root root  54M Nov 30 00:41 ./services/teaclave_storage_service_enclave.signed.so
-rw-r--r-- 1 root root  56M Nov 30 00:41 ./tests/teaclave_functional_tests_enclave.signed.so
-rw-r--r-- 1 root root  83M Nov 30 00:40 ./tests/teaclave_integration_tests_enclave.signed.so
-rw-r--r-- 1 root root 103M Nov 30 00:37 ./tests/teaclave_unit_tests_enclave.signed.so
-rw-r--r-- 1 root root  40M Nov 30 00:38 ./tool/teaclave_sgx_tool_enclave.signed.so
```

dtermine file size again (after **strip**):

```bash
# find . -name ""*.so"" | xargs strip
# find . -name ""*.so"" | xargs ls -lh
-rwxr-xr-x 1 1003 1004 9.9M Dec  1 10:07 ./lib/libteaclave_client_sdk.so
-rw-r--r-- 1 1003 1004  23M Dec  1 10:07 ./services/teaclave_access_control_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  12M Dec  1 10:07 ./services/teaclave_authentication_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  29M Dec  1 10:07 ./services/teaclave_execution_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  12M Dec  1 10:07 ./services/teaclave_frontend_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  13M Dec  1 10:07 ./services/teaclave_management_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  12M Dec  1 10:07 ./services/teaclave_scheduler_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  12M Dec  1 10:07 ./services/teaclave_storage_service_enclave.signed.so
-rw-r--r-- 1 1003 1004  13M Dec  1 10:07 ./tests/teaclave_functional_tests_enclave.signed.so
-rw-r--r-- 1 1003 1004  27M Dec  1 10:07 ./tests/teaclave_integration_tests_enclave.signed.so
-rw-r--r-- 1 1003 1004  31M Dec  1 10:07 ./tests/teaclave_unit_tests_enclave.signed.so
-rw-r--r-- 1 1003 1004 7.6M Dec  1 10:07 ./tool/teaclave_sgx_tool_enclave.signed.so
```
I'm learning dev of teaclave, i don't know how verify the questions at present, so just list questions here:

Q1: Can the enclave work after **strip** ? Is signature info lost?

Q2:  Is **wasm** file size optimized?

Q3:   dup link so

set TEACLAVE_EXECUTOR_WAMR  **ON**, every enclave will link **vmlib**

cmake/scripts/sgx_link_sign.sh

```bash
TEACLAVE_LINK_FLAGS=""-L${TEACLAVE_OUT_DIR} -lpycomponent ffi.o -lpypy-c -lsgx_tlibc_ext -lffi""
if [ ""$TEACLAVE_EXECUTOR_WAMR"" == ""ON"" ]; then
    TEACLAVE_LINK_FLAGS+="" -lvmlib""
fi

# Enable the security flags
ENCLAVE_SECURITY_LINK_FLAGS=""-Wl,-z,relro,-z,now,-z,noexecstack""

ENCLAVE_LINK_FLAGS=""${ENCLAVE_SECURITY_LINK_FLAGS} \
                   -Wl,--no-undefined -nostdlib -nodefaultlibs -nostartfiles -L${SGX_LIBRARY_PATH} \
                   -Wl,--whole-archive -l${Trts_Library_Name} -Wl,--no-whole-archive \
                   -Wl,--start-group \
                   -l${Service_Library_Name} -lsgx_tprotected_fs -lsgx_tkey_exchange \
                   -lsgx_tstdc -lsgx_tcxx -lsgx_tservice -lsgx_tcrypto \
                   ${TEACLAVE_LINK_FLAGS} \
                   -L${TRUSTED_TARGET_DIR}/${TARGET} -l${CUR_PKG_NAME} \
                   -Wl,--end-group \
                   -Wl,-Bstatic -Wl,-Bsymbolic -Wl,--no-undefined \
                   -Wl,-pie,-eenclave_entry -Wl,--export-dynamic  \
                   -Wl,--defsym,__ImageBase=0 \
                   -Wl,--gc-sections \
                   -Wl,--version-script=${TEACLAVE_PROJECT_ROOT}/cmake/scripts/Enclave.lds""
```

Q4: In teaclave runtime, effect of dynamic link equal to static link, is it true? 

Useful links:

[min-sized-rust](https://github.com/johnthagen/min-sized-rust)

[Why is a Rust executable large?](https://lifthrasiir.github.io/rustlog/why-is-a-rust-executable-large.html)

[Why are Rust executables so huge?](https://stackoverflow.com/questions/29008127/why-are-rust-executables-so-huge)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/581/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/581,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc46q2Ma,incubator-teaclave,984310554,581,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-12-02T05:39:51Z,2021-12-02T05:39:51Z,"Thanks for asking this question.

First of all, did you evaluate the binary size with the release build? If not, you can add this flag for cmake `-DCMAKE_BUILD_TYPE=Release`.

This is what I got for the release build (without stripping):
```
$ find . -name ""*.so"" | xargs ls -lh
-rwxr-xr-x 1 user group 9.0M Dec  1 21:13 ./lib/libteaclave_client_sdk.so
-rw-r--r-- 1 user group  22M Dec  1 21:08 ./services/teaclave_access_control_service_enclave.signed.so
-rw-r--r-- 1 user group 7.4M Dec  1 21:07 ./services/teaclave_authentication_service_enclave.signed.so
-rw-r--r-- 1 user group  26M Dec  1 21:06 ./services/teaclave_execution_service_enclave.signed.so
-rw-r--r-- 1 user group 8.1M Dec  1 21:08 ./services/teaclave_frontend_service_enclave.signed.so
-rw-r--r-- 1 user group 8.3M Dec  1 21:10 ./services/teaclave_management_service_enclave.signed.so
-rw-r--r-- 1 user group 8.0M Dec  1 21:10 ./services/teaclave_scheduler_service_enclave.signed.so
-rw-r--r-- 1 user group 7.1M Dec  1 21:07 ./services/teaclave_storage_service_enclave.signed.so
-rw-r--r-- 1 user group 8.1M Dec  1 21:04 ./tests/teaclave_functional_tests_enclave.signed.so
-rw-r--r-- 1 user group  25M Dec  1 21:09 ./tests/teaclave_integration_tests_enclave.signed.so
-rw-r--r-- 1 user group  28M Dec  1 21:05 ./tests/teaclave_unit_tests_enclave.signed.so
-rw-r--r-- 1 user group 5.7M Dec  1 21:07 ./tool/teaclave_sgx_tool_enclave.signed.so
```

Q1: Can the enclave work after strip ? Is signature info lost?

Stripping will affect information for panic with backtrace. Therefore, it's safe to strip the binary. 

Q2: Is wasm file size optimized?

I don't understand this question. Did you mean WAMR?

Q3: dup link so

I believe linker only links objects which are used. For example, WAMR is not used in the management service, `vmlib` is not linked into the library.

Q4: In teaclave runtime, effect of dynamic link equal to static link, is it true?

For SGX enclave, all code are statically linked.


Compared with C, Rust's program is larger mainly due to these two reasons:
  - Rust's standard library
  - Lots of generics in Rust's program

For our services, the two main libraries are vmlib (WAMR) used in the execution service and pypy-c (MesaPy) used in access_control service and execution service.

Please let me if you have more questions. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc46q2Ma/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/581,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc46rQOr,incubator-teaclave,984417195,581,NA,ChuanDou2021,95392611,douchuan,,NA,2021-12-02T08:50:40Z,2021-12-02T08:50:40Z,"Thank you for reply.
I recompile the project with **-DCMAKE_BUILD_TYPE=Release**, and got the same result as you .
But, the file.so marked ** with debug_info, not stripped**, and file.so size can be optimized  by  **strip** even further.

### result with **with debug_info, not stripped**

```bash
#find . -name ""*.so"" | xargs file
./lib/libteaclave_client_sdk.so:                              ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=6176b475f3ca9cbc6d36ae616b548c7fca0f324d, with debug_info, not stripped
./tests/teaclave_functional_tests_enclave.signed.so:          ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d753545de45a6d946b2f60976b675e47e729089d, with debug_info, not stripped
./tests/teaclave_integration_tests_enclave.signed.so:         ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d2a622eda368fa37d1951399510a358eb0f40671, with debug_info, not stripped
./tests/teaclave_unit_tests_enclave.signed.so:                ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=73a7b900de006c80b7cadd9730c093450f58dcb2, with debug_info, not stripped
./services/teaclave_frontend_service_enclave.signed.so:       ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1a0f2fd65d81ac245a354bc131de9c0b95df56f0, with debug_info, not stripped
./services/teaclave_management_service_enclave.signed.so:     ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=75dcb514f8951f8955cee7b09b8f6f8202ed3f63, with debug_info, not stripped
./services/teaclave_scheduler_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=6c386ccf6fd690f63b857c84b1c7da77381d340f, with debug_info, not stripped
./services/teaclave_storage_service_enclave.signed.so:        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=969024af5546ea06ca8280698cafd9f448a91221, with debug_info, not stripped
./services/teaclave_access_control_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=072c8959e17dcd71d950fea703e1e02836d21564, with debug_info, not stripped
./services/teaclave_execution_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=e87eac399eb95a4d13fb2cfb0ef348adc5ed62bc, with debug_info, not stripped
./services/teaclave_authentication_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1e577d5c6a55fb4891bdc8695de09b343ad57dc4, with debug_info, not stripped
./tool/teaclave_sgx_tool_enclave.signed.so:                   ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=0c1bb9015993c9ce1deebf15152cf8fbc19d8805, with debug_info, not stripped
```

### no strip results:
 
```bash
#find . -name ""*.so"" | xargs ls -lh
-rwxr-xr-x 1 root root 8.6M 12月  2 16:18 ./lib/libteaclave_client_sdk.so
-rw-r--r-- 1 root root  23M 12月  2 16:23 ./services/teaclave_access_control_service_enclave.signed.so
-rw-r--r-- 1 root root 7.8M 12月  2 16:21 ./services/teaclave_authentication_service_enclave.signed.so
-rw-r--r-- 1 root root  26M 12月  2 16:20 ./services/teaclave_execution_service_enclave.signed.so
-rw-r--r-- 1 root root 7.8M 12月  2 16:20 ./services/teaclave_frontend_service_enclave.signed.so
-rw-r--r-- 1 root root 7.9M 12月  2 16:21 ./services/teaclave_management_service_enclave.signed.so
-rw-r--r-- 1 root root 7.6M 12月  2 16:20 ./services/teaclave_scheduler_service_enclave.signed.so
-rw-r--r-- 1 root root 7.6M 12月  2 16:24 ./services/teaclave_storage_service_enclave.signed.so
-rw-r--r-- 1 root root 7.8M 12月  2 16:22 ./tests/teaclave_functional_tests_enclave.signed.so
-rw-r--r-- 1 root root  25M 12月  2 16:23 ./tests/teaclave_integration_tests_enclave.signed.so
-rw-r--r-- 1 root root  28M 12月  2 16:19 ./tests/teaclave_unit_tests_enclave.signed.so
-rw-r--r-- 1 root root 6.0M 12月  2 16:21 ./tool/teaclave_sgx_tool_enclave.signed.so
```

### strip by hand

```bash
#find . -name ""*.so"" | xargs strip
#find . -name ""*.so"" | xargs file
./lib/libteaclave_client_sdk.so:                              ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=6176b475f3ca9cbc6d36ae616b548c7fca0f324d, stripped
./tests/teaclave_functional_tests_enclave.signed.so:          ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d753545de45a6d946b2f60976b675e47e729089d, stripped
./tests/teaclave_integration_tests_enclave.signed.so:         ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d2a622eda368fa37d1951399510a358eb0f40671, stripped
./tests/teaclave_unit_tests_enclave.signed.so:                ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=73a7b900de006c80b7cadd9730c093450f58dcb2, stripped
./services/teaclave_frontend_service_enclave.signed.so:       ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1a0f2fd65d81ac245a354bc131de9c0b95df56f0, stripped
./services/teaclave_management_service_enclave.signed.so:     ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=75dcb514f8951f8955cee7b09b8f6f8202ed3f63, stripped
./services/teaclave_scheduler_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=6c386ccf6fd690f63b857c84b1c7da77381d340f, stripped
./services/teaclave_storage_service_enclave.signed.so:        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=969024af5546ea06ca8280698cafd9f448a91221, stripped
./services/teaclave_access_control_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=072c8959e17dcd71d950fea703e1e02836d21564, stripped
./services/teaclave_execution_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=e87eac399eb95a4d13fb2cfb0ef348adc5ed62bc, stripped
./services/teaclave_authentication_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1e577d5c6a55fb4891bdc8695de09b343ad57dc4, stripped
./tool/teaclave_sgx_tool_enclave.signed.so:                   ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=0c1bb9015993c9ce1deebf15152cf8fbc19d8805, stripped

#find . -name ""*.so"" | xargs ls -lh
-rwxr-xr-x 1 root root 4.0M Dec  2 08:45 ./lib/libteaclave_client_sdk.so
-rw-r--r-- 1 root root  17M Dec  2 08:45 ./services/teaclave_access_control_service_enclave.signed.so
-rw-r--r-- 1 root root 5.0M Dec  2 08:45 ./services/teaclave_authentication_service_enclave.signed.so
-rw-r--r-- 1 root root  20M Dec  2 08:45 ./services/teaclave_execution_service_enclave.signed.so
-rw-r--r-- 1 root root 4.9M Dec  2 08:45 ./services/teaclave_frontend_service_enclave.signed.so
-rw-r--r-- 1 root root 5.0M Dec  2 08:45 ./services/teaclave_management_service_enclave.signed.so
-rw-r--r-- 1 root root 4.8M Dec  2 08:45 ./services/teaclave_scheduler_service_enclave.signed.so
-rw-r--r-- 1 root root 4.8M Dec  2 08:45 ./services/teaclave_storage_service_enclave.signed.so
-rw-r--r-- 1 root root 4.9M Dec  2 08:45 ./tests/teaclave_functional_tests_enclave.signed.so
-rw-r--r-- 1 root root  19M Dec  2 08:45 ./tests/teaclave_integration_tests_enclave.signed.so
-rw-r--r-- 1 root root  22M Dec  2 08:45 ./tests/teaclave_unit_tests_enclave.signed.so
-rw-r--r-- 1 root root 3.5M Dec  2 08:45 ./tool/teaclave_sgx_tool_enclave.signed.so
```
marked with **stripped**, and the file size is smaller.
Can I come to a conclusion: -DCMAKE_BUILD_TYPE=Release + strip, the most effective. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc46rQOr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/581,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc46rYHH,incubator-teaclave,984449479,581,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2021-12-02T09:31:05Z,2021-12-02T09:31:05Z,"Q1.
You are right that the size of enclave files can be further optimized with the `strip` command.  The signature `mrenclave` of an enclave should not change. However, a stripped enclave binary does not have a better runtime performance, including the loading time. `strip` removes some sections from the binary, but these removed sections are not loaded into the enclave memory.  Stripping binaries cannot decrease the memory usage. 

> Thank you for reply. I recompile the project with **-DCMAKE_BUILD_TYPE=Release**, and got the same result as you . But, the file.so marked ** with debug_info, not stripped**, and file.so size can be optimized by **strip** even further.
> 
> ### result with **with debug_info, not stripped**
> ```shell
> #find . -name ""*.so"" | xargs file
> ./lib/libteaclave_client_sdk.so:                              ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=6176b475f3ca9cbc6d36ae616b548c7fca0f324d, with debug_info, not stripped
> ./tests/teaclave_functional_tests_enclave.signed.so:          ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d753545de45a6d946b2f60976b675e47e729089d, with debug_info, not stripped
> ./tests/teaclave_integration_tests_enclave.signed.so:         ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d2a622eda368fa37d1951399510a358eb0f40671, with debug_info, not stripped
> ./tests/teaclave_unit_tests_enclave.signed.so:                ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=73a7b900de006c80b7cadd9730c093450f58dcb2, with debug_info, not stripped
> ./services/teaclave_frontend_service_enclave.signed.so:       ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1a0f2fd65d81ac245a354bc131de9c0b95df56f0, with debug_info, not stripped
> ./services/teaclave_management_service_enclave.signed.so:     ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=75dcb514f8951f8955cee7b09b8f6f8202ed3f63, with debug_info, not stripped
> ./services/teaclave_scheduler_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=6c386ccf6fd690f63b857c84b1c7da77381d340f, with debug_info, not stripped
> ./services/teaclave_storage_service_enclave.signed.so:        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=969024af5546ea06ca8280698cafd9f448a91221, with debug_info, not stripped
> ./services/teaclave_access_control_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=072c8959e17dcd71d950fea703e1e02836d21564, with debug_info, not stripped
> ./services/teaclave_execution_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=e87eac399eb95a4d13fb2cfb0ef348adc5ed62bc, with debug_info, not stripped
> ./services/teaclave_authentication_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1e577d5c6a55fb4891bdc8695de09b343ad57dc4, with debug_info, not stripped
> ./tool/teaclave_sgx_tool_enclave.signed.so:                   ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=0c1bb9015993c9ce1deebf15152cf8fbc19d8805, with debug_info, not stripped
> ```
> 
> ### no strip results:
> ```shell
> #find . -name ""*.so"" | xargs ls -lh
> -rwxr-xr-x 1 root root 8.6M 12月  2 16:18 ./lib/libteaclave_client_sdk.so
> -rw-r--r-- 1 root root  23M 12月  2 16:23 ./services/teaclave_access_control_service_enclave.signed.so
> -rw-r--r-- 1 root root 7.8M 12月  2 16:21 ./services/teaclave_authentication_service_enclave.signed.so
> -rw-r--r-- 1 root root  26M 12月  2 16:20 ./services/teaclave_execution_service_enclave.signed.so
> -rw-r--r-- 1 root root 7.8M 12月  2 16:20 ./services/teaclave_frontend_service_enclave.signed.so
> -rw-r--r-- 1 root root 7.9M 12月  2 16:21 ./services/teaclave_management_service_enclave.signed.so
> -rw-r--r-- 1 root root 7.6M 12月  2 16:20 ./services/teaclave_scheduler_service_enclave.signed.so
> -rw-r--r-- 1 root root 7.6M 12月  2 16:24 ./services/teaclave_storage_service_enclave.signed.so
> -rw-r--r-- 1 root root 7.8M 12月  2 16:22 ./tests/teaclave_functional_tests_enclave.signed.so
> -rw-r--r-- 1 root root  25M 12月  2 16:23 ./tests/teaclave_integration_tests_enclave.signed.so
> -rw-r--r-- 1 root root  28M 12月  2 16:19 ./tests/teaclave_unit_tests_enclave.signed.so
> -rw-r--r-- 1 root root 6.0M 12月  2 16:21 ./tool/teaclave_sgx_tool_enclave.signed.so
> ```
> 
> ### strip by hand
> ```shell
> #find . -name ""*.so"" | xargs strip
> #find . -name ""*.so"" | xargs file
> ./lib/libteaclave_client_sdk.so:                              ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=6176b475f3ca9cbc6d36ae616b548c7fca0f324d, stripped
> ./tests/teaclave_functional_tests_enclave.signed.so:          ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d753545de45a6d946b2f60976b675e47e729089d, stripped
> ./tests/teaclave_integration_tests_enclave.signed.so:         ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=d2a622eda368fa37d1951399510a358eb0f40671, stripped
> ./tests/teaclave_unit_tests_enclave.signed.so:                ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=73a7b900de006c80b7cadd9730c093450f58dcb2, stripped
> ./services/teaclave_frontend_service_enclave.signed.so:       ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1a0f2fd65d81ac245a354bc131de9c0b95df56f0, stripped
> ./services/teaclave_management_service_enclave.signed.so:     ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=75dcb514f8951f8955cee7b09b8f6f8202ed3f63, stripped
> ./services/teaclave_scheduler_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=6c386ccf6fd690f63b857c84b1c7da77381d340f, stripped
> ./services/teaclave_storage_service_enclave.signed.so:        ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=969024af5546ea06ca8280698cafd9f448a91221, stripped
> ./services/teaclave_access_control_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=072c8959e17dcd71d950fea703e1e02836d21564, stripped
> ./services/teaclave_execution_service_enclave.signed.so:      ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=e87eac399eb95a4d13fb2cfb0ef348adc5ed62bc, stripped
> ./services/teaclave_authentication_service_enclave.signed.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=1e577d5c6a55fb4891bdc8695de09b343ad57dc4, stripped
> ./tool/teaclave_sgx_tool_enclave.signed.so:                   ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=0c1bb9015993c9ce1deebf15152cf8fbc19d8805, stripped
> 
> #find . -name ""*.so"" | xargs ls -lh
> -rwxr-xr-x 1 root root 4.0M Dec  2 08:45 ./lib/libteaclave_client_sdk.so
> -rw-r--r-- 1 root root  17M Dec  2 08:45 ./services/teaclave_access_control_service_enclave.signed.so
> -rw-r--r-- 1 root root 5.0M Dec  2 08:45 ./services/teaclave_authentication_service_enclave.signed.so
> -rw-r--r-- 1 root root  20M Dec  2 08:45 ./services/teaclave_execution_service_enclave.signed.so
> -rw-r--r-- 1 root root 4.9M Dec  2 08:45 ./services/teaclave_frontend_service_enclave.signed.so
> -rw-r--r-- 1 root root 5.0M Dec  2 08:45 ./services/teaclave_management_service_enclave.signed.so
> -rw-r--r-- 1 root root 4.8M Dec  2 08:45 ./services/teaclave_scheduler_service_enclave.signed.so
> -rw-r--r-- 1 root root 4.8M Dec  2 08:45 ./services/teaclave_storage_service_enclave.signed.so
> -rw-r--r-- 1 root root 4.9M Dec  2 08:45 ./tests/teaclave_functional_tests_enclave.signed.so
> -rw-r--r-- 1 root root  19M Dec  2 08:45 ./tests/teaclave_integration_tests_enclave.signed.so
> -rw-r--r-- 1 root root  22M Dec  2 08:45 ./tests/teaclave_unit_tests_enclave.signed.so
> -rw-r--r-- 1 root root 3.5M Dec  2 08:45 ./tool/teaclave_sgx_tool_enclave.signed.so
> ```
> 
> marked with **stripped**, and the file size is smaller.

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc46rYHH/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/581,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47bl27,incubator-teaclave,997088699,581,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-12-17T23:26:53Z,2021-12-17T23:26:53Z,I'm closing this issue. I believe this question has been solved.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47bl27/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/594,https://api.github.com/repos/apache/incubator-teaclave/issues/594,incubator-teaclave,1082154599,594,builtin_echo.py exception,ChuanDou2021,95392611,douchuan,,CLOSED,2021-12-16T12:44:12Z,2022-03-29T01:47:27Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

I follow the guide of *my-first-function.md* to run *builtin_echo.py*, got exception, and found **signing_cert** is empty.

The details are as follows：

First, start up services

```bash
·> (cd docker && ./run-teaclave-services.sh)
/dev/isgx device detected.
aesmd-socket volume detected.
COMMAND: docker-compose -f docker-compose-ubuntu-1804.yml -f docker-compose-isgx-dev.override.yml -f docker-compose-aesm-vol.override.yml up
Starting teaclave-storage-service        ... done
Starting teaclave-access-control-service ... done
Starting teaclave-authentication-service ... done
Starting teaclave-file-service           ... done
Starting teaclave-scheduler-service      ... done
Starting teaclave-management-service     ... done
Starting teaclave-execution-service      ... done
Starting teaclave-frontend-service       ... done
Attaching to teaclave-storage-service, teaclave-file-service, teaclave-access-control-service, teaclave-scheduler-service, teaclave-authentication-service, teaclave-management-service, teaclave-execution-service, teaclave-frontend-service
```

Second, run the ""builtin_echo.py""

```bash
·> cd examples/python
·> PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'

Traceback (most recent call last):
  File ""builtin_echo.py"", line 74, in <module>
    main()
  File ""builtin_echo.py"", line 66, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 31, in echo
    with connect_authentication_service() as client:
  File ""/home/douchuan/work/incubator-teaclave/examples/python/utils.py"", line 56, in connect_authentication_service
    return AuthenticationService(AUTHENTICATION_SERVICE_ADDRESS,
  File ""/home/douchuan/work/incubator-teaclave/sdk/python/teaclave.py"", line 98, in connect
    _verify_report(self._as_root_ca_cert_path, self._enclave_info_path,
  File ""/home/douchuan/work/incubator-teaclave/sdk/python/teaclave.py"", line 638, in _verify_report
    signing_cert = load_certificate(FILETYPE_ASN1, signing_cert)
  File ""/home/douchuan/.local/lib/python3.8/site-packages/OpenSSL/crypto.py"", line 1973, in load_certificate
    _raise_current_error()
  File ""/home/douchuan/.local/lib/python3.8/site-packages/OpenSSL/_util.py"", line 57, in exception_from_error_queue
    raise exception_type(errors)
OpenSSL.crypto.Error: [('asn1 encoding routines', 'ASN1_get_object', 'header too long')]
```
I add print in teaclave.py _verify_report, found **signing_cert** is empty

```bash
·> PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'
ext= {'report': [], 'signature': [], 'signing_cert': []}
Traceback (most recent call last):
  File ""builtin_echo.py"", line 74, in <module>
    main()
  File ""builtin_echo.py"", line 66, in main
    rt = example.echo(message)
  File ""builtin_echo.py"", line 31, in echo
    with connect_authentication_service() as client:
  File ""/home/douchuan/work/incubator-teaclave/examples/python/utils.py"", line 56, in connect_authentication_service
    return AuthenticationService(AUTHENTICATION_SERVICE_ADDRESS,
  File ""/home/douchuan/work/incubator-teaclave/sdk/python/teaclave.py"", line 98, in connect
    _verify_report(self._as_root_ca_cert_path, self._enclave_info_path,
  File ""/home/douchuan/work/incubator-teaclave/sdk/python/teaclave.py"", line 638, in _verify_report
    signing_cert = load_certificate(FILETYPE_ASN1, signing_cert)
  File ""/home/douchuan/.local/lib/python3.8/site-packages/OpenSSL/crypto.py"", line 1973, in load_certificate
    _raise_current_error()
  File ""/home/douchuan/.local/lib/python3.8/site-packages/OpenSSL/_util.py"", line 57, in exception_from_error_queue
    raise exception_type(errors)
OpenSSL.crypto.Error: [('asn1 encoding routines', 'ASN1_get_object', 'header too long')]
```



My compile env is:

```bash
-- Submodule update
SGX_SDK=/opt/sgxsdk
SGX_MODE=HW
RUSTUP_TOOLCHAIN=nightly-2020-10-25
DCAP=OFF
BUILD_TYPE=debug
TEACLAVE_SYMLINKS=/tmp/teaclave_symlinks.7cstwtqIGo8Q
EXECUTOR_BUILTIN=ON
EXECUTOR_MESAPY=ON
EXECUTOR_WAMR=ON
-- ====== /teaclave/build/environment GENERATED ======
-- Configuring done
-- Generating done
-- Build files have been written to: /teaclave/build
```

sgx driver:

```bash
·> modinfo isgx
filename:       /lib/modules/5.4.0-42-generic/kernel/drivers/intel/sgx/isgx.ko
license:        Dual BSD/GPL
version:        2.11.0
author:         Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com>
description:    Intel SGX Driver
srcversion:     87784B58E0AACD186EEF5B6
alias:          acpi*:INT0E0C:*
depends:
retpoline:      Y
name:           isgx
vermagic:       5.4.0-42-generic SMP mod_unload
```

Thanks, looking forward to answer.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/594/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/594,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47blyN,incubator-teaclave,997088397,594,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-12-17T23:25:55Z,2021-12-17T23:25:55Z,Can you try to use the `teaclave_sgx_tool attestation` and see if you can get the attestation report?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47blyN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/594,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47dW3D,incubator-teaclave,997551555,594,NA,ChuanDou2021,95392611,douchuan,,NA,2021-12-20T03:04:00Z,2021-12-20T03:04:00Z,"builtin_echo.py can work now.

I took over an old machine, check and found:

- *aesm* not work
-  export AS_SPID=""00000000000000000000000000000000"" should not use

Yes, *teaclave_sgx_tool attestation* can also work.

Thank you for your reply. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47dW3D/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/594,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47gPKD,incubator-teaclave,998306435,594,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2021-12-20T22:08:40Z,2021-12-20T22:08:40Z,Thanks! Issue closed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc47gPKD/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/594,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Aa4HI,incubator-teaclave,1080787400,594,NA,hiteshvpatel256,20822239,Hitesh Patel,hiteshvpatel256@gmail.com,NA,2022-03-28T15:19:29Z,2022-03-28T15:19:29Z,"> builtin_echo.py can work now.
> 
> I took over an old machine, check and found:
> 
> * _aesm_ not work
> * export AS_SPID=""00000000000000000000000000000000"" should not use
> 
> Yes, _teaclave_sgx_tool attestation_ can also work.
> 
> Thank you for your reply.

Hi [ChuanDou2021](https://github.com/ChuanDou2021)
 I am facing similar problem, you mentioned above. Trying my hands with teaclve on azure sgx platform. 
 Please explain the solution mentioned above to resolve the ""builtin_echo.py"" error.
 
 Thanks in advance..","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Aa4HI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/594,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Ac4_O,incubator-teaclave,1081315278,594,NA,ChuanDou2021,95392611,douchuan,,NA,2022-03-29T01:47:06Z,2022-03-29T01:47:06Z,"> > builtin_echo.py can work now.
> > I took over an old machine, check and found:
> > 
> > * _aesm_ not work
> > * export AS_SPID=""00000000000000000000000000000000"" should not use
> > 
> > Yes, _teaclave_sgx_tool attestation_ can also work.
> > Thank you for your reply.
> 
> Hi [ChuanDou2021](https://github.com/ChuanDou2021) I am facing similar problem, you mentioned above. Trying my hands with teaclve on azure sgx platform. Please explain the solution mentioned above to resolve the ""builtin_echo.py"" error.
> 
> Thanks in advance..

1.  Confirm `aesm` service work well

```sh
$ sudo systemctl status aesmd.service
```

2. You should obtain valid `SPID`

The [sgx-ra-sample](https://github.com/intel/sgx-ra-sample) may be helpful.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Ac4_O/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/597,https://api.github.com/repos/apache/incubator-teaclave/issues/597,incubator-teaclave,1094036713,597,How to port row rust crates to SGX?,xglreal,6261949,xuguoliang,x1572030301@gmail.com,OPEN,2022-01-05T06:50:58Z,2022-04-24T02:26:24Z,"I want to add build-in function, it depend rust crates, such gluesql、csv, but the https://github.com/mesalock-linux doesn't include these crates. How to port these row rust crates to SGX?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/597/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/597,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5CBf2o,incubator-teaclave,1107688872,597,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2022-04-24T02:26:24Z,2022-04-24T02:26:24Z,"Here is a tutorial.

https://github.com/dingelish/SGXfail/blob/master/04.md","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5CBf2o/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/599,https://api.github.com/repos/apache/incubator-teaclave/issues/599,incubator-teaclave,1098414572,599,[Website] Incorrect archive link,AI-Memory,10856796,Gordon King,,CLOSED,2022-01-10T21:37:17Z,2022-01-10T22:51:48Z,"There is a minor bug that appears on the `community` webpage.  The following `Archive`  linked to `commit mail-list` not the `dev`
<li><code>dev@teaclave.apache.org</code>: A list for discussion on Teaclave development including design proposal, release
announcements, meetup schedules, and commnity voting, etc.
[<a href=""mailto:dev-subscribe@teaclave.apache.org?subject=Subscribe"" rel=""noreferrer"" data-ss1641849516=""1"">Subscribe</a> | <a href=""mailto:dev-unsubscribe@teaclave.apache.org?subject=Unsubscribe"" rel=""noreferrer"" data-ss1641849516=""1"">Unsubscribe</a> | <a href=""https://lists.apache.org/list.html?commits@teaclave.apache.org"" target=""_blank"" rel=""noopener noreferrer"" data-ss1641849516=""1"">Archive</a>]</li> 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/599/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/599,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc48Kc0u,incubator-teaclave,1009372462,599,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-01-10T21:43:04Z,2022-01-10T21:43:04Z,"Fixed in this commit: https://github.com/apache/incubator-teaclave-website/commit/1921d33ab1cbe52e4a0045cb2200544b010808f2

The updated page will be rendered soon.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc48Kc0u/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/599,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc48KphI,incubator-teaclave,1009424456,599,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-01-10T22:51:48Z,2022-01-10T22:51:48Z,Fixed and rendered. Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc48KphI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/612,https://api.github.com/repos/apache/incubator-teaclave/issues/612,incubator-teaclave,1123896930,612,Add shell script style,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,OPEN,2022-02-04T07:29:36Z,2022-02-08T19:10:10Z,"We should have a style guide for bash scripts.

As discussed in https://github.com/apache/incubator-teaclave/pull/609, environment variables and internal shell variables are capitalized. All other variable names should be lower case. Some shell scripts in the project don't follow this convection. 

Here is an example:
https://google.github.io/styleguide/shellguide.html

In addition, we can add a shell scripts format checker to the build pipeline.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/612/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/612,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc49aHCc,incubator-teaclave,1030254748,612,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-02-04T18:44:38Z,2022-02-04T18:44:38Z,The shellcheck will be helpful for the issue: https://github.com/koalaman/shellcheck,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc49aHCc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/612,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc49kcww,incubator-teaclave,1032965168,612,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-02-08T19:10:10Z,2022-02-08T19:10:10Z,Another useful tool `shfmt`: https://github.com/mvdan/sh,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc49kcww/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/613,https://api.github.com/repos/apache/incubator-teaclave/issues/613,incubator-teaclave,1124834451,613,Testing code coverage report issue,mssun,1270392,Mingshen Sun,bob@mssun.me,OPEN,2022-02-05T04:52:17Z,2022-03-31T01:24:16Z,"Recently, I generated a test coverage report. The line coverage is down to about 60%. The report is uploaded to coveralls here: https://coveralls.io/builds/46247974.

I notice something wrong with the report. Some lines should be covered but not shown in the report. Still no idea what cause this issue.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/613/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/613,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Am4ey,incubator-teaclave,1083934642,613,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2022-03-31T01:24:15Z,2022-03-31T01:24:15Z,I think the issue is fixed.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Am4ey/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/621,https://api.github.com/repos/apache/incubator-teaclave/issues/621,incubator-teaclave,1129217461,621,Functional testing has only one type of client.,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,OPEN,2022-02-09T23:56:34Z,2023-07-04T06:59:15Z,"Teaclave platform supports four different roles: DataOwner, DataOwnerManger, FuntionOwer, and PlatformAdmin. Different roles have different permissions The current functional testing only one role: PlatformAdmin. We need to add other types of clients in the future.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/621/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/621,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5fBgKv,incubator-teaclave,1594229423,621,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-06-16T07:20:15Z,2023-06-16T07:20:15Z,"Besides, the `PlatformAdmin` is too privileged. It can access almost everything without owning the resource.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5fBgKv/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/621,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5giZHR,incubator-teaclave,1619628497,621,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-07-04T06:59:15Z,2023-07-04T06:59:15Z,"And, a user with the same name is registered multiple times and the failure is ignored.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5giZHR/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/624,https://api.github.com/repos/apache/incubator-teaclave/issues/624,incubator-teaclave,1131966493,624,`list_functions` and `get_function` have different access controls,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,CLOSED,2022-02-11T07:30:41Z,2022-03-18T16:55:09Z,"`list_functions` and `get_function` have different access controls. For example,

`list_functions` allows `PlatformAdmin` to get every available functions stored in the database.

https://github.com/baiduxlab/incubator-teaclave/blob/de285671c38c73bf57818573b51f555b49050ea8/services/management/enclave/src/service.rs#L475

If a function is not public, `get_function` only allows `FunctionOwner` to get the description of such a function. 

https://github.com/baiduxlab/incubator-teaclave/blob/de285671c38c73bf57818573b51f555b49050ea8/services/management/enclave/src/service.rs#L348

If a user (any roles) can get a function id through `list_functions`, the user should be able to get the description of this function through this function id as well.


","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/624/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/630,https://api.github.com/repos/apache/incubator-teaclave/issues/630,incubator-teaclave,1159306533,630,Build error with DCAP = ON,Lio101,98157783,,,CLOSED,2022-03-04T06:48:08Z,2022-03-04T07:07:32Z,"Hi, 
I am getting error when trying to build Teaclave with DCAP=ON
Platform:  Azure CC VM
OS: Ubuntu 18.04

Error  :
`[ 76%] Built target sgxlib-teaclave_access_control_service
[ 79%] Generating enclave signatures...
[ 79%] Built target update_sig
[ 82%] Building sgxapp-teaclave_frontend_service
    Finished dev [unoptimized + debuginfo] target(s) in 0.14s
[ 82%] Built target sgxapp-teaclave_frontend_service
[ 84%] Building sgxapp-teaclave_integration_tests
    Finished dev [unoptimized + debuginfo] target(s) in 0.18s
[ 84%] Built target sgxapp-teaclave_integration_tests
[ 87%] Building unixapp-teaclave_dcap_ref_as
warning: patch for the non root package will be ignored, specify patch at the workspace root:
package:   /teaclave/build/cmake_tomls/unix_app/sdk/rust/Cargo.toml
workspace: /teaclave/build/cmake_tomls/unix_app/Cargo.toml
   Compiling teaclave_dcap_ref_as v0.2.0 (/teaclave/build/cmake_tomls/unix_app/dcap)
error: linking with `cc` failed: exit code: 1
  |
  = note: ""cc"" ""-Wl,--as-needed"" ""-Wl,-z,noexecstack"" ""-m64"" ""-Wl,--eh-frame-hdr"" ""-L"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.0.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.1.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.10.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.11.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.12.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.13.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.14.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.15.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.2.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.3.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.4.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.5.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.6.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.7.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.8.rcgu.o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.teaclave_dcap_ref_as.42i1rftn-cgu.9.rcgu.o"" ""-o"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4"" ""/teaclave/build/target/unix/debug/deps/teaclave_dcap_ref_as-34c1ab047bb4f5e4.2aieksvcbjs5rj13.rcgu.o"" ""-Wl,--gc-sections"" ""-pie"" ""-Wl,-zrelro"" ""-Wl,-znow"" ""-nodefaultlibs"" ""-L"" ""/teaclave/build/target/unix/debug/deps"" ""-L"" ""/teaclave/build/target/unix/debug/build/ring-fa6a72941b82e68e/out"" ""-L"" ""/opt/sgxsdk/lib64"" ""-L"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib"" ""-lsgx_dcap_quoteverify"" ""-lsgx_dcap_ql"" ""-lsgx_urts"" ""-Wl,-Bstatic"" ""/teaclave/build/target/unix/debug/deps/libbase64-2eaf2a28e351c3cf.rlib"" ""/teaclave/build/target/unix/debug/deps/libpem-cba94910fcf2fbb0.rlib"" ""/teaclave/build/target/unix/debug/deps/libregex-1d5d7244af3d66e9.rlib"" ""/teaclave/build/target/unix/debug/deps/libaho_corasick-a0f2b910ddf545ab.rlib"" ""/teaclave/build/target/unix/debug/deps/libregex_syntax-d8c25f7d5a9c013c.rlib"" ""/teaclave/build/target/unix/debug/deps/libuuid-a20a61c07a5e6a07.rlib"" ""/teaclave/build/target/unix/debug/deps/libgetrandom-a0637e0cd9468dd2.rlib"" ""/teaclave/build/target/unix/debug/deps/libsgx_ucrypto-743039e247033503.rlib"" ""/teaclave/build/target/unix/debug/deps/librdrand-fe28353969b2b493.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_core-fe497a007ba4350c.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_core-7777f623c08783e5.rlib"" ""/teaclave/build/target/unix/debug/deps/libsgx_types-61793689345b8705.rlib"" ""/teaclave/build/target/unix/debug/deps/libserde_json-2f471fdd307f4f01.rlib"" ""/teaclave/build/target/unix/debug/deps/libryu-bc3a68e8fbaa57e5.rlib"" ""/teaclave/build/target/unix/debug/deps/libitoa-821f48aa9d185ae6.rlib"" ""/teaclave/build/target/unix/debug/deps/librand-7e628f538e0ee904.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_chacha-e1bbc9ce737e1c95.rlib"" ""/teaclave/build/target/unix/debug/deps/libppv_lite86-954a0753d9a936e0.rlib"" ""/teaclave/build/target/unix/debug/deps/librand_core-7c000a229b20c654.rlib"" ""/teaclave/build/target/unix/debug/deps/libgetrandom-59ee5384c117d441.rlib"" ""/teaclave/build/target/unix/debug/deps/libchrono-c103d1cae856a499.rlib"" ""/teaclave/build/target/unix/debug/deps/libnum_integer-a98c2a89b245908f.rlib"" ""/teaclave/build/target/unix/debug/deps/libnum_traits-b777a49b81d0f4b1.rlib"" ""/teaclave/build/target/unix/debug/deps/liblazy_static-cd2401a06b1676f6.rlib"" ""/teaclave/build/target/unix/debug/deps/librocket-5b8939650bda0b3d.rlib"" ""/teaclave/build/target/unix/debug/deps/libbinascii-f1c0c15fd8c67cbd.rlib"" ""/teaclave/build/target/unix/debug/deps/libatty-f44170f0b91b4685.rlib"" ""/teaclave/build/target/unix/debug/deps/librocket_http-91bccffcaa7d9ffb.rlib"" ""/teaclave/build/target/unix/debug/deps/libindexmap-4d3fc467064dbc6c.rlib"" ""/teaclave/build/target/unix/debug/deps/libhashbrown-42875229e1355219.rlib"" ""/teaclave/build/target/unix/debug/deps/libcookie-671b27d1515c41cd.rlib"" ""/teaclave/build/target/unix/debug/deps/libbase64-5fe96db873a65d48.rlib"" ""/teaclave/build/target/unix/debug/deps/libpercent_encoding-bae4c6d884296e4c.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicode_xid-ac2b5975c21fcd81.rlib"" ""/teaclave/build/target/unix/debug/deps/libhyper_sync_rustls-5e6fe97572d0ef0a.rlib"" ""/teaclave/build/target/unix/debug/deps/libwebpki_roots-89b0d65756bad69c.rlib"" ""/teaclave/build/target/unix/debug/deps/librustls-d17280703a1a3ba1.rlib"" ""/teaclave/build/target/unix/debug/deps/libbase64-58a43d8f971c44f9.rlib"" ""/teaclave/build/target/unix/debug/deps/libsct-3d6cead90cd57c24.rlib"" ""/teaclave/build/target/unix/debug/deps/libwebpki-8b91e6fb81994209.rlib"" ""/teaclave/build/target/unix/debug/deps/libring-777502481c0443d5.rlib"" ""/teaclave/build/target/unix/debug/deps/libspin-361d9da1b7a7ce24.rlib"" ""/teaclave/build/target/unix/debug/deps/libuntrusted-19e0028c5e01f748.rlib"" ""/teaclave/build/target/unix/debug/deps/libonce_cell-f3b3091a78393424.rlib"" ""/teaclave/build/target/unix/debug/deps/libsmallvec-0f55f5d6a54014e3.rlib"" ""/teaclave/build/target/unix/debug/deps/libhyper-c29cc7778ebbd4fb.rlib"" ""/teaclave/build/target/unix/debug/deps/libmime-68a13591a7a732ab.rlib"" ""/teaclave/build/target/unix/debug/deps/liblog-34c5ee58e33ce90e.rlib"" ""/teaclave/build/target/unix/debug/deps/liblanguage_tags-276927bf4664bf5a.rlib"" ""/teaclave/build/target/unix/debug/deps/libtypeable-6e97b32755d7437e.rlib"" ""/teaclave/build/target/unix/debug/deps/libtraitobject-0b05b1821ec7acd4.rlib"" ""/teaclave/build/target/unix/debug/deps/libnum_cpus-3d7d3ee6d089a758.rlib"" ""/teaclave/build/target/unix/debug/deps/libhttparse-d33c87be2ef50123.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicase-87e76b15564a1b59.rlib"" ""/teaclave/build/target/unix/debug/deps/liburl-798f7ac419e14c27.rlib"" ""/teaclave/build/target/unix/debug/deps/libpercent_encoding-37403a81b788f0c6.rlib"" ""/teaclave/build/target/unix/debug/deps/libidna-498c795fac0b88d5.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicode_normalization-1e59d0a601788391.rlib"" ""/teaclave/build/target/unix/debug/deps/libtinyvec-2a8082d1c3b39837.rlib"" ""/teaclave/build/target/unix/debug/deps/libtinyvec_macros-a8a3510ab9d2d66d.rlib"" ""/teaclave/build/target/unix/debug/deps/libunicode_bidi-0fe025d2b861b5b3.rlib"" ""/teaclave/build/target/unix/debug/deps/libmatches-b31feef5c3ce1062.rlib"" ""/teaclave/build/target/unix/debug/deps/libtime-75cf3eea65f5d55e.rlib"" ""/teaclave/build/target/unix/debug/deps/liblibc-5ef8b4f067a22a51.rlib"" ""/teaclave/build/target/unix/debug/deps/libbase64-40588ebe33f94fcd.rlib"" ""/teaclave/build/target/unix/debug/deps/libsafemem-452e8a0079ba6078.rlib"" ""/teaclave/build/target/unix/debug/deps/libbyteorder-4126bddb3356bb8d.rlib"" ""/teaclave/build/target/unix/debug/deps/libtoml-8c3d5b051ea0ef81.rlib"" ""/teaclave/build/target/unix/debug/deps/libserde-7c3fd5c68857100f.rlib"" ""/teaclave/build/target/unix/debug/deps/libtime-2a2f8afe5cff1960.rlib"" ""/teaclave/build/target/unix/debug/deps/libtime_macros-9b69b5d2fd5d6f47.rlib"" ""/teaclave/build/target/unix/debug/deps/libstandback-473157be4d2135f4.rlib"" ""/teaclave/build/target/unix/debug/deps/libmemchr-abe191a7fe2cb81e.rlib"" ""/teaclave/build/target/unix/debug/deps/libstate-04869b7efe3b9f0e.rlib"" ""/teaclave/build/target/unix/debug/deps/libyansi-35940f0a6c4fd250.rlib"" ""/teaclave/build/target/unix/debug/deps/libpear-04c8db12745328ee.rlib"" ""/teaclave/build/target/unix/debug/deps/liblog-fc223e5a61ef1ec2.rlib"" ""/teaclave/build/target/unix/debug/deps/libcfg_if-2909e55669d95bfc.rlib"" ""-Wl,--start-group"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-3010daceac92f8fa.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libpanic_unwind-eed7c8ea6eea20e8.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libminiz_oxide-637cb1b53c807e95.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libadler-099cf0af4375543b.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libobject-b5f18e83369ef257.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libaddr2line-3bb19daa4485d5fe.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libgimli-5298ab0591e7fb29.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_demangle-1bda453aef84d106.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libhashbrown-1532436f783b0405.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_alloc-3d12d76f5782439f.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunwind-87f8d20d4e058c86.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcfg_if-d41f1ff31e4e0f27.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-0d5ea4f2d39b8e27.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-31288459e6a43502.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_core-c52e5d6301e1bd59.rlib"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-2675a9a46b5cec89.rlib"" ""-Wl,--end-group"" ""/root/.rustup/toolchains/nightly-2020-10-25-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-f51baad7bbcb81c4.rlib"" ""-Wl,-Bdynamic"" ""-lgcc_s"" ""-lutil"" ""-lrt"" ""-lpthread"" ""-lm"" ""-ldl"" ""-lc""
  = note: /usr/bin/ld: cannot find -lsgx_dcap_quoteverify
          /usr/bin/ld: cannot find -lsgx_dcap_ql
          collect2: error: ld returned 1 exit status


error: aborting due to previous error

error: could not compile `teaclave_dcap_ref_as`

To learn more, run the command again with --verbose.
CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/build.make:57: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as' failed
make[2]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as] Error 101
CMakeFiles/Makefile2:1699: recipe for target 'CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all' failed
make[1]: *** [CMakeFiles/unixapp-teaclave_dcap_ref_as.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2`
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/630/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/630,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4_HU6L,incubator-teaclave,1058885259,630,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-03-04T06:50:57Z,2022-03-04T06:50:57Z,"Which docker image are you using?

For DCAP, please use `teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.11:0.1.5` instead.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4_HU6L/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/630,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4_HXIG,incubator-teaclave,1058894342,630,NA,Lio101,98157783,,,NA,2022-03-04T07:07:32Z,2022-03-04T07:07:32Z,"I am able to build it with `teaclave-build-ubuntu-1804-sgx-dcap-1.11:0.1.5`, was using `teaclave-build-ubuntu-1804-sgx-2.14:latest ` earlier.
Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4_HXIG/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/631,https://api.github.com/repos/apache/incubator-teaclave/issues/631,incubator-teaclave,1159393338,631,Error: Failed to new the enclave.,Lio101,98157783,,,OPEN,2022-03-04T08:45:38Z,2022-03-07T18:39:41Z,"Hi, I am getting error when running `./run-teaclave-services.sh`.

Platform:  Azure CC VM
OS: Ubuntu 18.04
Docker Image used: `teaclave-build-ubuntu-1804-sgx-dcap-1.11:0.1.5`

Error:
**~/incubator-teaclave/docker$ ./run-teaclave-services.sh
/dev/isgx device detected.
/var/run/aesmd/aesm.socket socket detected.
Error: No such volume: aesmd-socket
COMMAND: docker-compose -f docker-compose-ubuntu-1804.yml -f docker-compose-isgx-dev.override.yml -f docker-compose-aesm-socket.override.yml up
Recreating teaclave-authentication-service ... done
Recreating teaclave-access-control-service ... done
Recreating teaclave-storage-service        ... done
Starting teaclave-file-service             ... done
Recreating teaclave-scheduler-service      ... done
Recreating teaclave-management-service     ... done
Recreating teaclave-execution-service      ... done
Recreating teaclave-frontend-service       ... done
Attaching to teaclave-file-service, teaclave-access-control-service, teaclave-storage-service, teaclave-authentication-service, teaclave-scheduler-service, teaclave-management-service, teaclave-execution-service, teaclave-frontend-service
teaclave-authentication-service    | Error: Failed to new the enclave.
teaclave-authentication-service    |
teaclave-authentication-service    | Caused by:
teaclave-authentication-service    |     found SGX error: SGX_ERROR_UNEXPECTED
teaclave-access-control-service    | Error: Failed to new the enclave.
teaclave-access-control-service    |
teaclave-access-control-service    | Caused by:
teaclave-access-control-service    |     found SGX error: SGX_ERROR_UNEXPECTED
teaclave-authentication-service exited with code 1
teaclave-access-control-service exited with code 1
teaclave-management-service        | Error: Failed to new the enclave.
teaclave-management-service        |
teaclave-management-service        | Caused by:
teaclave-management-service        |     found SGX error: SGX_ERROR_UNEXPECTED
teaclave-storage-service           | Error: Failed to new the enclave.
teaclave-storage-service           |
teaclave-storage-service           | Caused by:
teaclave-storage-service           |     found SGX error: SGX_ERROR_UNEXPECTED
teaclave-storage-service exited with code 1
teaclave-management-service exited with code 1
teaclave-scheduler-service         | Error: Failed to new the enclave.
teaclave-scheduler-service         |
teaclave-scheduler-service         | Caused by:
teaclave-scheduler-service         |     found SGX error: SGX_ERROR_UNEXPECTED
teaclave-scheduler-service exited with code 1
teaclave-execution-service         | Error: Failed to new the enclave.
teaclave-execution-service         |
teaclave-execution-service         | Caused by:
teaclave-execution-service         |     found SGX error: SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-frontend-service          | Error: Failed to new the enclave.
teaclave-frontend-service          |
teaclave-frontend-service          | Caused by:
teaclave-frontend-service          |     found SGX error: SGX_ERROR_SERVICE_UNAVAILABLE
teaclave-execution-service exited with code 1
teaclave-frontend-service exited with code 1
^Z
[1]+  Stopped                 ./run-teaclave-services.sh**

I am following the instructions from: https://teaclave.apache.org/docs/azure-confidential-computing/
, just changed the docker image to use DCAP.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/631/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/634,https://api.github.com/repos/apache/incubator-teaclave/issues/634,incubator-teaclave,1171299143,634,How to use Teaclave if I have to use my cloud service provider's PCCS service?,054545641,39337595,,,OPEN,2022-03-16T17:02:19Z,2022-03-17T04:43:51Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

Do I have to set up a PCCS to get this dcap_root_ca_cert.pem or dcap_server_cert.pem in order to use Teaclave in DCAP mode? 
In other word, is it possible to get all this two certs if I use a PCCS from my cloud service provider? Sorry for my question, but I'm really confused about this.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/634/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/634,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4_y83A,incubator-teaclave,1070321088,634,NA,054545641,39337595,,,NA,2022-03-17T04:43:50Z,2022-03-17T04:43:50Z,"The ""two certs"" I mentioned are dcap_root_ca_cert.pem and dcap_server_cert.pem in folder incubator-teaclave/keys. I read some documents from Intel, and it seems that I can only get PCK certificate if I don't deploy a PCCS server by my self. 

So is dcap_root_ca_cert.pem actually cannot be retrived unless I deploy a cache service by myself? Or I misunderstand this?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc4_y83A/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/640,https://api.github.com/repos/apache/incubator-teaclave/issues/640,incubator-teaclave,1179363328,640,[SGx Mode] Bugs in Teaclave deployment on azure,hiteshvpatel256,20822239,Hitesh Patel,hiteshvpatel256@gmail.com,OPEN,2022-03-24T11:11:57Z,2022-06-09T02:26:41Z,"
I built teaclave on azure Standard DC2s v2 VM instance, following the instruction from https://github.com/apache/incubator-teaclave/blob/master/docs/azure-confidential-computing.md


When I tried to launch Teaclave services, I encountered the following error.

```
$ (cd docker && ./run-teaclave-services.sh -d)
/var/run/aesmd/aesm.socket socket detected.
Error: No such volume: aesmd-socket
Cannot find a valid sgx device.
```

I checked properly that SGx  driver availability with below results on Azure VM instance.


```
$ ls /dev/sgx
enclave  provision
```


","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/640/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/640,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ATrdc,incubator-teaclave,1078900572,640,NA,hiteshvpatel256,20822239,Hitesh Patel,hiteshvpatel256@gmail.com,NA,2022-03-25T10:53:41Z,2022-03-25T10:53:41Z,"Resolved the issue by installing ISGX driver to azure VM.   
`wget https://download.01.org/intel-sgx/sgx-linux/2.11/distro/ubuntu18.04-server/sgx_linux_x64_driver_2.6.0_b0a445b.bin`


Azure VM by default setting up only SGX drivers. So ISGX will be needed to use intel auth services.
Also docker volume ""aesmd-socket"" needs to be created manually if not added as default at the time of installing SGX driver.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ATrdc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/640,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AVRvV,incubator-teaclave,1079319509,640,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-03-25T18:52:16Z,2022-03-25T18:52:16Z,"@hiteshvpatel256, this could be an issue of detecting sgx devices on Azure in the `run-teaclave-services.sh` script. Let me setup a new one on Azure and go through the instruction to see the root cause again.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AVRvV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/640,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5EjlD1,incubator-teaclave,1150177525,640,NA,Torvel,3819281,Jose Torres Velasco,jose.torresvelasco@telefonica.com,NA,2022-06-08T17:09:05Z,2022-06-08T17:09:05Z,@mssun   That is the same problem that I had and we commented previously on discord (https://discord.com/channels/891067964743376906/891068072503410738/944151562765361192)  ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5EjlD1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/640,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ElMcw,incubator-teaclave,1150601008,640,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2022-06-09T02:26:40Z,2022-06-09T02:26:40Z,"> @mssun That is the same problem that I had and we commented previously on discord (https://discord.com/channels/891067964743376906/891068072503410738/944151562765361192)

Hi Torvel, thank you for bringing up the issue. We have an internal version of Teaclave, and it works perfectly on Azure Confidential Cloud. The open-source deployment scripts have some problems to be fixed. All the core developers of Teaclave are experiencing some qualifying life events. I will work on the issue once I have access to Azure Confidential VMs.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ElMcw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/641,incubator-teaclave,1180292694,641,Failed to start teaclave service,andyzyb,18136319,Andy Zhao,yebin.andy.zhao@intel.com,CLOSED,2022-03-25T03:17:13Z,2022-04-02T02:09:07Z,"I failed to start the teaclave services as below.

Looks only ""teaclave-execution-service exited with code 1"" means failure?  

I haven't configured IAS, is that the reason?

-----------------------------------------
/dev/isgx device detected.
/var/run/aesmd/aesm.socket socket detected.
Error: No such volume: aesmd-socket
COMMAND: docker-compose -f docker-compose-ubuntu-1804.yml -f docker-compose-isgx-dev.override.yml -f docker-compose-aesm-socket.override.yml up
Starting teaclave-storage-service        ... done
Starting teaclave-access-control-service ... done
Starting teaclave-file-service           ... done
Starting teaclave-authentication-service ... done
Starting teaclave-scheduler-service      ... done
Starting teaclave-execution-service      ... done
Starting teaclave-management-service     ... done
Starting teaclave-frontend-service       ... done
Attaching to teaclave-storage-service, teaclave-scheduler-service, teaclave-access-control-service, teaclave-execution-service, teaclave-management-service, teaclave-authentication-service, teaclave-file-service, teaclave-frontend-service
teaclave-storage-service exited with code 0
teaclave-access-control-service exited with code 0
teaclave-scheduler-service exited with code 0
**teaclave-execution-service exited with code 1**
teaclave-authentication-service exited with code 0
teaclave-management-service exited with code 0
teaclave-frontend-service exited with code 0
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/641/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AVJeX,incubator-teaclave,1079285655,641,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2022-03-25T18:20:10Z,2022-03-25T18:20:10Z,"Hi Andy, thank you for using Apache Teaclave. 

Yes, you cannot start the service without setting up attestation services unless you build Teaclave in the simulation mode (`cmake -DSGX_SIM_MODE=ON -DTEST_MODE=ON ..`).

You can run `export TEACLAVE_LOG=info` before starting the services. It will enable the logs and provide more info.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AVJeX/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AVQDf,incubator-teaclave,1079312607,641,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-03-25T18:48:19Z,2022-03-25T18:48:19Z,"> Looks only ""teaclave-execution-service exited with code 1"" means failure?

In this case, the exit code may not help.

Seems that you are building for SGX hardware mode. For this mode, the service need to communicate with an attestation service (IAS or DCAP service depends on your setup).

If you can provide more information like building process and server setups, that will be very helpful.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AVQDf/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AY2xW,incubator-teaclave,1080257622,641,NA,andyzyb,18136319,Andy Zhao,yebin.andy.zhao@intel.com,NA,2022-03-28T06:37:54Z,2022-03-28T06:37:54Z,Thanks for the reply. I will try to set up the Attestation service.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AY2xW/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AiB2E,incubator-teaclave,1082662276,641,NA,andyzyb,18136319,Andy Zhao,yebin.andy.zhao@intel.com,NA,2022-03-30T06:12:23Z,2022-03-30T06:12:23Z,"@qinkunbao no lucky with IAS setup (is there any proxy setting to be considered),  where can I find the log?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AiB2E/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AmkvV,incubator-teaclave,1083853781,641,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2022-03-31T00:30:00Z,2022-03-31T00:30:00Z,"> @qinkunbao no lucky with IAS setup (is there any proxy setting to be considered), where can I find the log?

https://asciinema.org/a/9pStDa5jVGJegkAhXF1jZF74l","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AmkvV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/641,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Awn5p,incubator-teaclave,1086488169,641,NA,andyzyb,18136319,Andy Zhao,yebin.andy.zhao@intel.com,NA,2022-04-02T02:08:36Z,2022-04-02T02:08:36Z,@qinkunbao  thanks. Looks still a platform issue for attestation.  ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Awn5p/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/642,https://api.github.com/repos/apache/incubator-teaclave/issues/642,incubator-teaclave,1183221535,642,我想问一个很初级的问题。。。。,harryzhou2521,47593215,,,CLOSED,2022-03-28T10:23:39Z,2022-03-28T18:53:40Z,"To understand the design and internal implementation of these services, we need to discuss in these sections: RPC and protocol, app-enclave structure, and the attestation mechanism.
这里的app-enclave怎么翻译成汉语呀。。。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/642/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/642,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AbwuS,incubator-teaclave,1081019282,642,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-03-28T18:53:40Z,2022-03-28T18:53:40Z,你好，应用程序（app）和安全区（enclave）的结构。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5AbwuS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/647,https://api.github.com/repos/apache/incubator-teaclave/issues/647,incubator-teaclave,1228791766,647,Renaming the dafault branch,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,OPEN,2022-05-08T04:44:55Z,2022-05-09T00:31:51Z,"To follow the inclusive language best practice, we should rename the default branch to main.

URL:
https://github.com/github/renaming","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/647/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/647,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Cycbd,incubator-teaclave,1120519901,647,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-05-09T00:31:51Z,2022-05-09T00:31:51Z,"Yes, to do this, we need the help of the INFRA team. Specifically, we can submit an issue to the INFRA team [1].

- https://issues.apache.org/jira/projects/INFRA/issues","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5Cycbd/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/648,https://api.github.com/repos/apache/incubator-teaclave/issues/648,incubator-teaclave,1229036238,648,请更新下SDK中远程认证(ue-ra)的代码,xin201501,73423178,,,CLOSED,2022-05-09T00:44:18Z,2022-05-09T00:47:47Z,"我收到intel邮件提示
>2022年8月16日`DEV Intel® Software Guard Extensions Attestation Service (IAS) API version 3`会结束支持，请尽快升级到version4。

我看到API v4中有些数据结构的定义似乎发生了变化。可以更新下Teaclave SGX SDK中`samplecode`中`ue-ra`的代码并给一些从V3迁移到V4的建议吗，谢谢。","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/648/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/648,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5CydfN,incubator-teaclave,1120524237,648,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2022-05-09T00:47:47Z,2022-05-09T00:47:47Z,你好，关于 Teaclave SGX SDK 的相关问题在相应的 repo 的 issue 中提出，便于 community 进行管理，多谢。,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5CydfN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/655,https://api.github.com/repos/apache/incubator-teaclave/issues/655,incubator-teaclave,1317596363,655,Teaclave build error where the rust-sgx-sdk version upgrate to 1.1.4,itux2,8110720,,,CLOSED,2022-07-26T02:01:53Z,2023-04-25T03:15:44Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

hi， 
   I built teaclave in ubuntu os 20.04,  I want to upgrade the teaclave rust sgx sdk to version v1.1.4, then   I modify the toml files 
for examples, the Cargo.sgx_trusted_lib.toml file  modified as follows
```[patch.crates-io]

sgx_alloc         = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_build_helper  = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_cov           = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_libc          = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_rand          = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_tcrypto       = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_tprotected_fs = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_trts          = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_tse           = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_tstd          = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_types         = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_unwind        = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
sgx_urts          = { git = ""https://github.com/apache/teaclave-sgx-sdk"", rev = ""v1.1.4"" }
```

  then I built the system in sim mode , but get errors  as follows:

```
   [ 36%] Building sgxlib-teaclave_functional_tests, enclave info to /home/admin/dev/incubator-teaclave/build/intermediate/teaclave_functional_tests_enclave_info.toml
    Updating git repository `https://github.com/apache/teaclave-sgx-sdk`
   Compiling cc v1.0.71
   Compiling sgx_build_helper v0.1.3 (https://github.com/apache/teaclave-sgx-sdk.git?rev=v1.1.3#a6a172e6)
   Compiling sgx_types v1.1.3 (https://github.com/apache/teaclave-sgx-sdk.git?rev=v1.1.3#a6a172e6)
   Compiling sgx_tstd v1.1.3 (https://github.com/apache/teaclave-sgx-sdk.git?rev=v1.1.3#a6a172e6)
   Compiling sgx_demangle v1.1.3 (https://github.com/apache/teaclave-sgx-sdk.git?rev=v1.1.3#a6a172e6)
   Compiling sgx_alloc v1.1.3 (https://github.com/apache/teaclave-sgx-sdk.git?rev=v1.1.3#a6a172e6)
   Compiling hashbrown_tstd v0.9.0 (https://github.com/apache/teaclave-sgx-sdk.git?rev=v1.1.3#a6a172e6)
   Compiling proc-macro2 v1.0.32
   Compiling unicode-xid v0.2.2
   Compiling syn v1.0.81
   Compiling sgx_build_helper v1.1.4 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.4#a1dd9769)
   Compiling sgx_types v1.1.4 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.4#a1dd9769)
   Compiling spin v0.5.2
   Compiling cfg-if v0.1.10
   Compiling serde_derive v1.0.118 (https://github.com/mesalock-linux/serde-sgx#db0226f1)
   Compiling serde v1.0.118 (https://github.com/mesalock-linux/serde-sgx#db0226f1)
   Compiling getrandom v0.1.14 (https://github.com/mesalock-linux/getrandom-sgx#0aa9cc20)
   Compiling sgx_tstd v1.1.4 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.4#a1dd9769)
   Compiling autocfg v0.1.7
   Compiling sgx_demangle v1.1.4 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.4#a1dd9769)
   Compiling untrusted v0.7.1
   Compiling hashbrown_tstd v0.11.2 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.4#a1dd9769)
   Compiling sgx_alloc v1.1.4 (https://github.com/apache/teaclave-sgx-sdk?rev=v1.1.4#a1dd9769)
   Compiling log v0.4.14 (https://github.com/mesalock-linux/log-sgx#2ca9039a)
   Compiling ryu v1.0.5
   Compiling matches v0.1.8 (https://github.com/mesalock-linux/rust-std-candidates-sgx#5747bcf3)
   Compiling libc v0.2.105
   Compiling ppv-lite86 v0.2.6 (https://github.com/mesalock-linux/cryptocorrosion-sgx#32d7de50)
   Compiling cfg-if v1.0.0
   Compiling rand_core v0.4.2
   Compiling serde_json v1.0.60 (https://github.com/mesalock-linux/serde-json-sgx#38089381)
   Compiling percent-encoding v2.1.0 (https://github.com/mesalock-linux/rust-url-sgx#23832f31)
   Compiling autocfg v1.0.1
   Compiling teaclave_config v0.4.0 (/home/admin/dev/incubator-teaclave/build/cmake_tomls/sgx_trusted_lib/config)
   Compiling proc-macro2 v0.4.30
   Compiling httparse v1.5.1
   Compiling unicode-xid v0.1.0
   Compiling hashbrown v0.3.1
   Compiling bit-vec v0.6.3
   Compiling syn v0.15.44
   Compiling either v1.6.1
   Compiling quick-error v1.2.2 (https://github.com/mesalock-linux/quick-error-sgx#468bf2cc)
   Compiling inventory v0.1.10
   Compiling anyhow v1.0.28 (https://github.com/mesalock-linux/anyhow-sgx#9b7763f5)
   Compiling teaclave_binder v0.4.0 (/home/admin/dev/incubator-teaclave/build/cmake_tomls/sgx_trusted_lib/binder)
   Compiling teaclave_proto v0.4.0 (/home/admin/dev/incubator-teaclave/build/cmake_tomls/sgx_trusted_lib/services/proto)
error[E0432]: unresolved import `core::alloc::Allocator`
  --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_alloc/src/system.rs:25:31
   |
25 | use core::alloc::{AllocError, Allocator, GlobalAlloc, Layout};
   |                               ^^^^^^^^^
   |                               |
   |                               no `Allocator` in `alloc`
   |                               help: a similar name exists in the module: `AllocError`

error: aborting due to previous error

For more information about this error, try `rustc --explain E0432`.
error: could not compile `sgx_alloc`

To learn more, run the command again with --verbose.
warning: build failed, waiting for other jobs to finish...
error[E0432]: unresolved import `crate::alloc::alloc::Allocator`
 --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_tstd/hashbrown/src/raw/alloc.rs:6:35
  |
6 |     pub use crate::alloc::alloc::{Allocator, Global};
  |                                   ^^^^^^^^^
  |                                   |
  |                                   no `Allocator` in `alloc`
  |                                   help: a similar name exists in the module: `AllocError`

error[E0432]: unresolved import `self::alloc::Allocator`
  --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_tstd/hashbrown/src/raw/mod.rs:39:40
   |
39 | pub(crate) use self::alloc::{do_alloc, Allocator, Global};
   |                                        ^^^^^^^^^ no `Allocator` in `raw::alloc`

error[E0658]: const generics are unstable
   --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_tstd/hashbrown/src/raw/mod.rs:964:31
    |
964 |     pub fn get_each_mut<const N: usize>(
    |                               ^
    |
    = note: see issue #74878 <https://github.com/rust-lang/rust/issues/74878> for more information
    = help: add `#![feature(min_const_generics)]` to the crate attributes to enable

error[E0658]: const generics are unstable
    --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_tstd/hashbrown/src/map.rs:1138:42
     |
1138 |     pub fn get_each_mut<Q: ?Sized, const N: usize>(
     |                                          ^
     |
     = note: see issue #74878 <https://github.com/rust-lang/rust/issues/74878> for more information
     = help: add `#![feature(min_const_generics)]` to the crate attributes to enable

error[E0658]: const generics are unstable
    --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_tstd/hashbrown/src/map.rs:1197:52
     |
1197 |     pub fn get_each_key_value_mut<Q: ?Sized, const N: usize>(
     |                                                    ^
     |
     = note: see issue #74878 <https://github.com/rust-lang/rust/issues/74878> for more information
     = help: add `#![feature(min_const_generics)]` to the crate attributes to enable

error[E0658]: const generics are unstable
    --> /tmp/teaclave_symlinks.wms5bWc8mmz8/cargo_home/git/checkouts/teaclave-sgx-sdk-be25c2ad2f03718d/a1dd976/sgx_tstd/hashbrown/src/map.rs:1219:44
     |
1219 |     fn get_each_inner_mut<Q: ?Sized, const N: usize>(
     |                                            ^
     |
     = note: see issue #74878 <https://github.com/rust-lang/rust/issues/74878> for more information
     = help: add `#![feature(min_const_generics)]` to the crate attributes to enable

error: aborting due to 6 previous errors

Some errors have detailed explanations: E0432, E0658.
For more information about an error, try `rustc --explain E0432`.
error: build failed
make[2]: *** [CMakeFiles/sgxlib-teaclave_functional_tests.dir/build.make:58: CMakeFiles/sgxlib-teaclave_functional_tests] Error 101
make[1]: *** [CMakeFiles/Makefile2:1450: CMakeFiles/sgxlib-teaclave_functional_tests.dir/all] Error 2
make: *** [Makefile:84: all] Error 2
```
    Is there any incompatibility with SDK 1.1.4， and how to fix this error?
    the teaclave version i built is v0.4.0.





","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/655/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/655,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5SVt42,incubator-teaclave,1381424694,655,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-01-13T07:35:21Z,2023-01-13T07:35:21Z,Rust SGX SDK 1.1.4 is not a version that teaclave supports. Could you please tell us the reason why you want that version? Then we can evaluate whether to support the 1.1.4 version.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5SVt42/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/655,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5aqifE,incubator-teaclave,1521100740,655,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-04-25T03:15:44Z,2023-04-25T03:15:44Z,Teaclave is now using Rust SGX SDK v2.0.0. I will close this issue as there are no response for months.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5aqifE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/656,https://api.github.com/repos/apache/incubator-teaclave/issues/656,incubator-teaclave,1320296467,656,Is there a plan to upgrade teaclave-rust-sdk version to 1.1.4,itux2,8110720,,,CLOSED,2022-07-28T02:03:44Z,2023-01-13T07:25:44Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->
Is there a plan to upgrade teaclave-rust-sdk version to 1.1.4
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/656/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/656,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5KTfW3,incubator-teaclave,1246623159,656,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2022-09-14T11:23:46Z,2022-09-14T11:23:46Z,teaclave-rust-sdk comes to version 1.1.5 and also has a [preview version 2.0.0](https://github.com/apache/incubator-teaclave-sgx-sdk/tree/v2.0.0-preview). Do you have any preference for the sdk version?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5KTfW3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/656,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5MSGog,incubator-teaclave,1279814176,656,NA,qinkunbao,10709826,Qinkun Bao,qinkun@apache.org,NA,2022-10-15T19:18:56Z,2022-10-15T19:18:56Z,"As far as I know, there is no such plan at the moment.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5MSGog/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/656,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5MaokA,incubator-teaclave,1282050304,656,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2022-10-18T09:00:37Z,2022-10-18T09:00:37Z,@qinkunbao Which version do you prefer? Maybe I could spare some time to do the upgrade.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5MaokA/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/656,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5SVsEr,incubator-teaclave,1381417259,656,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-01-13T07:25:44Z,2023-01-13T07:25:44Z,We have upgraded Teaclave Rust SDK version to 2.0.0. Please have a try. Let us know if you need any help. @itux2 ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5SVsEr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/662,https://api.github.com/repos/apache/incubator-teaclave/issues/662,incubator-teaclave,1427157473,662,Client Rust SDK failed to compile in macOS-12,henrysun007,3353452,He Sun,sunhe2007@gmail.com,OPEN,2022-10-28T12:00:26Z,2023-04-25T03:14:12Z,"[macOS-latest workflows will use macOS-12.](https://github.com/actions/runner-images/issues/6384)

I filed a PR.

I expected to see this happen: *All checks are passed*.

Instead, this happened: *[teaclave-client-sdk-macos](https://github.com/apache/incubator-teaclave/actions/runs/3344928939/jobs/5539854013#logs) failed.*

I pinned the runner image in #661 to macos-11 and the CI passes.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/662/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/662,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5aqiTc,incubator-teaclave,1521099996,662,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-04-25T03:14:12Z,2023-04-25T03:14:12Z,"Rust SGX SDK 2.0.0 cannot be compiled on macOS successfully due to intel instructions. Therefore, the client Rust SDK cannot be compiled, either. Tell us if you have needs for macOS.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5aqiTc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/663,https://api.github.com/repos/apache/incubator-teaclave/issues/663,incubator-teaclave,1428109247,663,How to generate DCAP server cert and key?,DCMMC,8016514,Wentao Xiao,xwt97294597@gmail.com,CLOSED,2022-10-29T06:06:50Z,2022-11-01T15:49:29Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

I'm going to deploy DCAP and there are some keys pre-generated by teaclave:

* [dcap_server_key.pem](https://github.com/apache/incubator-teaclave/blob/master/keys/dcap_server_key.pem)
* [dcap_server_cert.pem](https://github.com/apache/incubator-teaclave/blob/master/keys/dcap_server_cert.pem)

I could obtain PCK (Provisioning Certification Key) certifcate from Intel PCS (Provisioning Certification Service). But how can I generate the DCAP server certificate and key files which signed by PCK? From [documents](https://cdrdv2-public.intel.com/671314/intel-sgx-support-for-third-party-attestation.pdf) provided by Intel, it seems that I can obtain the Attestation Key from PCE (Provisioning Certification Enclave) through `CertifyKey` API.

Could you please give us a simple demo how can we generate the certificate and the key? Thanks a lot.

BTW, I found that [dcap_root_ca_cert.pem](https://github.com/apache/incubator-teaclave/blob/master/keys/dcap_root_ca_cert.pem) is a self-signed Root CA by Teaclave. So are both `dcap_server_key.pem` and `dcap_server_cert.pem` signed by this `dcap_root_ca_cert.pem` instead of Intel's trusted Root CA? I guess this can only be  used for test purpose. And it is an invalid certificate chain anchored by Intel's Root CA as shown in the step 4 in the below figure.

<img width=""250"" alt=""image"" src=""https://user-images.githubusercontent.com/8016514/198848016-7e52e61a-679f-4a46-925b-b9c6842d9c7c.png"">
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/663/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/663,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5NRihY,incubator-teaclave,1296443480,663,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2022-10-31T02:04:31Z,2022-10-31T02:04:31Z,"As described in [README.md](https://github.com/apache/incubator-teaclave/blob/master/dcap/README.md), the DCAP service is a reference implementation of data center attestation service. It is an infrastructure for the datacenter and cloud (private or public), who I think should maintain the DCAP certificate chain. The credentials under `keys/` are for demonstration and should not be used in production.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5NRihY/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/664,https://api.github.com/repos/apache/incubator-teaclave/issues/664,incubator-teaclave,1434182723,664,Rust toolchain update,henrysun007,3353452,He Sun,sunhe2007@gmail.com,CLOSED,2022-11-03T06:39:54Z,2023-01-13T06:55:04Z,"### Motivation & problem statement

Current rust version is `nightly-2020-10-25`. It is two years behind `nightly-2022-10-22` that is supported by [Teaclave SGX SDK](https://github.com/apache/incubator-teaclave-sgx-sdk).

The upgrade plan was also asked. #656
The old toolchain is not supported by macos-12. #662

### Proposed solution

Use [v2.0.0-preview](https://github.com/apache/incubator-teaclave-sgx-sdk/blob/v2.0.0-preview) of Teaclave SGX SDK, which supports [cargo-std-aware](https://github.com/rust-lang/wg-cargo-std-aware). 

The 2.0 version reimplements SGX Trts, protected file system and other modules with rust. Some underling SGX structures are refactored becoming more ""rust"". The version is still under preview.

#### Strength

Refer to [README](https://github.com/apache/incubator-teaclave-sgx-sdk/blob/v2.0.0-preview/README.md) of Teaclave SGX SDK.

#### Weakness

I encounted some encalve crashes due to its incompatibility with Intel's implementation when I updated another project using the 2.0 version.

### Describe alternatives you've considered

Use [v1.1.5](https://github.com/apache/incubator-teaclave-sgx-sdk/tree/master) of Teaclave SGX SDK. Hundreds of third-party rust crates need to be modified.

Please give some advice, thanks!

@volcano0dr @mssun 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/664/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/664,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5N4N06,incubator-teaclave,1306582330,664,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2022-11-08T03:36:04Z,2022-11-08T03:36:04Z,Just talked with @volcano0dr. Teaclave SGX SDK 2.0.0 will not have breaking changes in the future and is becoming stable. It seems a good choice to upgrade to the 2.0.0 version. Let me know if you guys have any suggestions.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5N4N06/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/667,https://api.github.com/repos/apache/incubator-teaclave/issues/667,incubator-teaclave,1502550535,667,DCAP failed,chenzhijun45,39179856,,,OPEN,2022-12-19T08:55:38Z,2022-12-19T08:55:38Z,"I have deployed the dcap service, aesmd status:
```java
root@tec-191:~/incubator-teaclave# service aesmd status
● aesmd.service - Intel(R) Architectural Enclave Service Manager
     Loaded: loaded (/lib/systemd/system/aesmd.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2022-10-19 08:19:08 UTC; 2 months 0 days ago
   Main PID: 35809 (aesm_service)
      Tasks: 4 (limit: 613772)
     Memory: 7.0M
     CGroup: /system.slice/aesmd.service
             └─35809 /opt/intel/sgx-aesm-service/aesm/aesm_service

Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Try memory cache...
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Retrieved PCK certchain from memory cache successfully.
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Try memory cache...
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Retrieved PCK certchain from memory cache successfully.
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Try memory cache...
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Retrieved PCK certchain from memory cache successfully.
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Try memory cache...
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Retrieved PCK certchain from memory cache successfully.
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Try memory cache...
Dec 19 08:34:07 tec-191 aesm_service[35809]: [QCNL] Retrieved PCK certchain from memory cache successfully.
```
pccs status and config:
```java
root@tec-191:~/incubator-teaclave# service pccs status
● pccs.service - Provisioning Certificate Caching Service (PCCS)
     Loaded: loaded (/lib/systemd/system/pccs.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-11-07 10:45:41 UTC; 1 months 11 days ago
       Docs: https://github.com/intel/SGXDataCenterAttestationPrimitives/blob/master/QuoteGeneration/pccs/README.md
   Main PID: 284276 (node)
      Tasks: 11 (limit: 613772)
     Memory: 73.7M
     CGroup: /system.slice/pccs.service
             └─284276 /usr/bin/node -r esm /opt/intel/sgx-dcap-pccs/pccs_server.js

Dec 18 01:00:03 tec-191 node[284276]: 2022-12-18 01:00:03.719 [info]: Request-ID is : 85ff17da17fe433f8d718dedb136d679
Dec 18 01:00:04 tec-191 node[284276]: 2022-12-18 01:00:04.490 [info]: Request-ID is : dfef1d7294994b9caffe5deda5ea6a9e
Dec 18 01:00:05 tec-191 node[284276]: 2022-12-18 01:00:05.230 [info]: Scheduled cache refresh is completed successfully.
Dec 19 01:00:02 tec-191 node[284276]: 2022-12-19 01:00:02.088 [info]: Request-ID is : 55fb3551d0574a41895a47c22ee5c38f
Dec 19 01:00:03 tec-191 node[284276]: 2022-12-19 01:00:03.165 [info]: Request-ID is : 2bab10c8dda549c09d0b2a391accdad6
Dec 19 01:00:03 tec-191 node[284276]: 2022-12-19 01:00:03.953 [info]: Request-ID is : 9e2f6c486a534de1bd1b9329521c8f69
Dec 19 01:00:04 tec-191 node[284276]: 2022-12-19 01:00:04.805 [info]: Request-ID is : a87492cfe13f43ea8cbabe358ee4fc76
Dec 19 01:00:05 tec-191 node[284276]: 2022-12-19 01:00:05.736 [info]: Scheduled cache refresh is completed successfully.
Dec 19 02:48:26 tec-191 node[284276]: 2022-12-19 02:48:26.702 [info]: Client Request-ID : 9cddea128ad946bda06b7b94e925208b
Dec 19 02:48:26 tec-191 node[284276]: 2022-12-19 02:48:26.708 [info]: 127.0.0.1 - - [19/Dec/2022:02:48:26 +0000] ""GET /sgx/certification/v3/pckcert?qeid=480A5C930339045DBBC81B7C3C3ACCEC&encrypted_ppid=76AD9CB026682225C96680D57D545E83F2EC79248A3C73445212BAD2F2149B1BE012>
lines 1-20/20 (END)


{
    ""pccs_url"": ""https://localhost:8082/sgx/certification/v3/"",
    ""use_secure_cert"": false,
    ""retry_times"": 6,
    ""retry_delay"": 10,
    ""pck_cache_expire_hours"": 168
}
```

Build the Teaclave platform using docker（https://teaclave.apache.org/docs/my-first-function/）:
```shell
docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-dcap-1.11:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DDCAP=ON -DTEST_MODE=ON .. && \
     make""
```
or
```shell
docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-1804-sgx-2.14:latest \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     cmake -DTEST_MODE=ON .. && \
     make""
```
I have tried the above commands, and the construction is successful. But when I continue to run the following command: `cd docker && ./run-teaclave-services.sh`,  it failed. The log is as follows:
```java
root@tec-191:~/incubator-teaclave# export TEACLAVE_LOG=info
root@tec-191:~/incubator-teaclave# cd docker && ./run-teaclave-services.sh
/dev/sgx/enclave device detected.
/dev/sgx/provision device detected.
/var/run/aesmd/aesm.socket socket detected.
COMMAND: docker-compose -f docker-compose-ubuntu-1804.yml -f docker-compose-dcap-dev.override.yml -f docker-compose-aesm-socket.override.yml up
Starting teaclave-access-control-service ... done
Starting teaclave-storage-service        ... done
Starting teaclave-file-service           ... done
Starting teaclave-authentication-service ... done
Starting teaclave-management-service     ... done
Starting teaclave-scheduler-service      ... done
Starting teaclave-execution-service      ... done
Starting teaclave-frontend-service       ... done
Attaching to teaclave-access-control-service, teaclave-storage-service, teaclave-authentication-service, teaclave-scheduler-service, teaclave-file-service, teaclave-execution-service, teaclave-management-service, teaclave-frontend-service
teaclave-authentication-service    | [2022-12-19T08:34:04Z INFO  teaclave_authentication_service_enclave] Starting Authentication...
teaclave-access-control-service    | [2022-12-19T08:34:05Z ERROR teaclave_access_control_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-access-control-service    |             request without modifications.
teaclave-access-control-service    | [2022-12-19T08:34:05Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-access-control-service    | [2022-12-19T08:34:05Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-storage-service           | [2022-12-19T08:34:05Z INFO  teaclave_storage_service_enclave] Starting Storage...
teaclave-access-control-service exited with code 0
teaclave-authentication-service    | [2022-12-19T08:34:06Z ERROR teaclave_authentication_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-authentication-service    |             request without modifications.
teaclave-authentication-service    | [2022-12-19T08:34:06Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-authentication-service    | [2022-12-19T08:34:06Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-scheduler-service         | [2022-12-19T08:34:06Z INFO  teaclave_scheduler_service_enclave] Starting Scheduler...
teaclave-frontend-service          | [2022-12-19T08:34:06Z INFO  teaclave_frontend_service_enclave] Starting FrontEnd ...
teaclave-authentication-service exited with code 0
teaclave-execution-service         | [2022-12-19T08:34:07Z INFO  teaclave_execution_service_enclave] Starting Execution...
teaclave-storage-service           | [2022-12-19T08:34:07Z ERROR teaclave_storage_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-storage-service           |             request without modifications.
teaclave-management-service        | [2022-12-19T08:34:07Z INFO  teaclave_management_service_enclave] Starting Management...
teaclave-storage-service           | [2022-12-19T08:34:07Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-storage-service           | [2022-12-19T08:34:07Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-scheduler-service         | [2022-12-19T08:34:07Z ERROR teaclave_scheduler_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-scheduler-service         |             request without modifications.
teaclave-frontend-service          | [2022-12-19T08:34:07Z ERROR teaclave_frontend_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-frontend-service          |             request without modifications.
teaclave-storage-service exited with code 0
teaclave-scheduler-service         | [2022-12-19T08:34:07Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-scheduler-service         | [2022-12-19T08:34:07Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-frontend-service          | [2022-12-19T08:34:08Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-frontend-service          | [2022-12-19T08:34:08Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-scheduler-service exited with code 0
teaclave-execution-service         | [2022-12-19T08:34:08Z ERROR teaclave_execution_service_enclave] Service shutdown, reason: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-execution-service         |             request without modifications.
teaclave-execution-service         | [2022-12-19T08:34:08Z INFO  teaclave_service_app_utils] Exit
teaclave-frontend-service exited with code 0
teaclave-management-service        | [2022-12-19T08:34:08Z ERROR teaclave_management_service_enclave] Failed to start the service: Invalid Attestation Evidence Payload. The client should not repeat the
teaclave-management-service        |             request without modifications.
teaclave-management-service        | [2022-12-19T08:34:09Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:SGX_ERROR_INVALID_ENCLAVE_ID
teaclave-management-service        | [2022-12-19T08:34:09Z ERROR teaclave_binder::binder] IpcError(SgxError(SGX_ERROR_INVALID_ENCLAVE_ID))
teaclave-execution-service exited with code 1
teaclave-management-service exited with code 0
```
Where did I operate or configure incorrectly, please? Thank you in advance for your reply.

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/667/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/668,https://api.github.com/repos/apache/incubator-teaclave/issues/668,incubator-teaclave,1519991245,668, Support grpc,GeminiCarrie,53326210,GeminiCarrie,,CLOSED,2023-01-05T03:22:03Z,2023-06-06T08:17:59Z,"<!--
  Thank you for suggesting an idea to make Teaclave better.
  Please fill in as much of the template below as you're able.
-->

### Motivation & problem statement
The rpc used by Teaclave is not universal and does not support async.

<!--
  Provide a clear and concise description of what the problem is.
-->


### Proposed solution

<!--
  Provide a clear and concise description of what you want to happen.
-->
Replace current rpc with grpc (e.g. Tonic).

I noticed that there is an example based on tonic and tokio in rust-sgx-sdk.

https://github.com/apache/incubator-teaclave-sgx-sdk/tree/v2.0.0-preview/samplecode/rpc

Tonic supports  async/await and has a high performance.

To do mutual attestation, we can establish trusted gRPC channel through attested TLS.

Grpc based on tonic, rustls and tokio is easier to maintain, and has better compatibility and performance.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/668/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/669,https://api.github.com/repos/apache/incubator-teaclave/issues/669,incubator-teaclave,1521755455,669,Aggregate task and platform logs,henrysun007,3353452,He Sun,sunhe2007@gmail.com,CLOSED,2023-01-06T02:07:32Z,2023-06-08T06:53:01Z,"<!--
  Thank you for suggesting an idea to make Teaclave better.
  Please fill in as much of the template below as you're able.
-->

### Motivation & problem statement

<!--
  Provide a clear and concise description of what the problem is.
-->

Current implementation uses env_logger that outputs to std::io. It is convenient for development as the developer can see the logs immediately in the terminal.
However, it is not friendly to the users. The users have no access to logs, which is not good for workflow depending on intermedia outputs, e.g., model tuning.
Besides, the logging service is often required for audit in some standards of privacy-preserving platforms.
It is also efficient for platform Ops to see the logs of all the distributed services through a single interface.

### Proposed solution

<!--
  Provide a clear and concise description of what you want to happen.
-->

The implementation has two parts: one is for task log and the other is for platform log.
#### Task log
A new logger implementation named `teaclave_logger` is added. It supports both env_logger and `task_logger`.
After the execution service pulls a task successfully, `task_logger` is used. The logs will be buffered in memory and sent to storage service after the task is over or the buffer is full. The key of the log in storage is the task id with a sequence number in case the logs are sent multiple times. The task users can get the task log after they are authored through FE. This design is only for the execution service that handles tasks one by one. Concurrency would be handled when the execution service could handle tasks parallely in later design. It is out of the scope in this solution.
When the execution service is not handling tasks, env_logger is used.
#### Platform log
A new `logging` service that aggregates logs is added. A potential backend is [tantivy](https://github.com/quickwit-oss/tantivy). Tantivy is a full-text search engine library. It has powerful features and can support quick search towards the logs.
The env_logger in every service is replaced by `platform_logger` in `teaclave_logger`. All the platform logs except debug level ones will be sent to `logging` service. Only platform admin can see the logs through FE. The logs can be searched in `tantivy` way.
The new service topology will be as below:
```
clients => authentication <-+       +----> storage <----+                            |     
                            |       |                   |                            |
clients => frontend ----------> management            scheduler <-- execution        |   ---> logging
                                    |                                                |
                                    +--> access_control                              |


                                                  =>      api endpoint connections
                                                  -> internal endpoint connections
```


The `debug` level logs will be output to std::io anyway.

### Describe alternatives you've considered

<!--
  Let us know about other solutions you've tried or researched.
-->

[quickwit](https://github.com/quickwit-oss/quickwit): it uses AGPL license that is not friendly to teaclave.
No other mature loggers written Rust are found. Feel free to recommend here.

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/669/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/673,https://api.github.com/repos/apache/incubator-teaclave/issues/673,incubator-teaclave,1531695062,673, CI pipeline issue: Code scanning / Analyze cpp (pull_request) ,mssun,1270392,Mingshen Sun,bob@mssun.me,CLOSED,2023-01-13T04:33:07Z,2023-01-13T05:45:29Z,"There is CI pipeline issue: 
Code scanning / Analyze cpp (pull_request)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/673/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/673,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5SVWQi,incubator-teaclave,1381327906,673,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-01-13T05:18:07Z,2023-01-13T05:18:07Z,The root cause for the failure is that the Intel SGX code cannot be compiled in Ubuntu 22.04. I worked around the failure in https://github.com/apache/incubator-teaclave/pull/666 by not compiling third-party code.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5SVWQi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/674,https://api.github.com/repos/apache/incubator-teaclave/issues/674,incubator-teaclave,1567152975,674,Access control service,henrysun007,3353452,He Sun,sunhe2007@gmail.com,CLOSED,2023-02-02T01:21:25Z,2023-02-06T01:42:55Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

Although documented in [README](https://github.com/apache/incubator-teaclave/blob/master/services/README.md), the acs is actually not used by management service in the implementation. Why? Do you have any potential improvement towards the acs? Please provide some background information. Thanks. 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/674/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/674,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5UV72o,incubator-teaclave,1415036328,674,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2023-02-03T05:42:50Z,2023-02-03T05:42:50Z,"Yes, ACS is designed to be the service to evaluate the access control policy. Using a dedicated service makes the policy evaluation more flexible. However, we didn't have time to integrate with the current ACS. In the current implementation, access control policy is hard coded in the  management service.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5UV72o/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/674,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5UiqMP,incubator-teaclave,1418371855,674,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-02-06T01:42:54Z,2023-02-06T01:42:54Z,Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5UiqMP/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/680,https://api.github.com/repos/apache/incubator-teaclave/issues/680,incubator-teaclave,1643128174,680,[RFC] Release Plan in 2023 Q2,henrysun007,3353452,He Sun,sunhe2007@gmail.com,OPEN,2023-03-28T03:13:21Z,2023-06-14T10:02:49Z,"We are releasing v0.5.0 recently. It is the first release since last year. Next we are going to publish releases as planned. At least one release will be published in 2023 Q2. The planned features are listed below:

- [x] Support the execution service running in Occlum
- [x] Replace the original RPC with tonic gRPC (#668)
- [x] Implement all the services asynchronously

~- [ ] Generate CI code coverage report automatically in CI~

- [x] Secure platform logger aggregator (#669)
- [x] Pick valuable features from `cleanroom` branch to `master` branch

 If everything went smoothly, we could work on another release. The possible features are listed below:
~- [ ] Multiple task concurrency in the management and execution service~
- [ ] Enable access control service
- [ ] Support multiple TEE implementations (#460)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/680/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/680,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5brtfC,incubator-teaclave,1538185154,680,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-05-08T11:08:17Z,2023-05-08T11:08:17Z,"Generating code coverage report needs to compile code in debug mode. The debug output is too large to fit in one action runner that has only 15GB disk. Therefore, we are not integrating the code coverage report generation in the CI at present.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5brtfC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/680,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5e0wkg,incubator-teaclave,1590888736,680,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-06-14T10:02:49Z,2023-06-14T10:02:49Z,"Hanlding multiple tasks in one execution service faces isolation issues, so we keep the current single task handling.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5e0wkg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/682,https://api.github.com/repos/apache/incubator-teaclave/issues/682,incubator-teaclave,1651536912,682,Make doc failure,henrysun007,3353452,He Sun,sunhe2007@gmail.com,CLOSED,2023-04-03T07:56:50Z,2023-06-12T08:42:59Z,"<!--
Thank you for filing a bug report! 🐛 Please provide a short summary of the bug,
along with any information you feel relevant to reproduce the bug.
-->

I tried to build, execute, deploy, and use Teaclave like this:

```
make doc
```

I expected to see this happen: *build successfully*

Instead, this happened: *lots of errors*

A snapshot of the logs is:
```
   --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/bytes-1.3.0/src/bytes.rs:255:9                                                                                                         [129/1967]
    |
255 |         assert!(
    |         ^^^^^^

error: cannot find macro `is_x86_feature_detected` in this scope
   --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/memchr-2.5.0/src/memchr/x86/mod.rs:45:48
    |
45  |                   if cfg!(memchr_runtime_avx) && is_x86_feature_detected!(""avx2"") {
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^
...
129 | /     unsafe_ifunc!(
130 | |         fn(u8, u8, &[u8]) -> Option<usize>,
131 | |         memrchr2,
132 | |         haystack,
133 | |         n1,
134 | |         n2
135 | |     )
    | |_____- in this macro invocation
    |
    = note: this error originates in the macro `unsafe_ifunc` (in Nightly builds, run with -Z macro-backtrace for more info)

error: cannot find macro `assert_eq` in this scope
    --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/byteorder-1.4.3/src/lib.rs:1947:9
     |
1947 |         assert_eq!(size * $src.len(), $dst.len());
     |         ^^^^^^^^^
...
2110 |             unsafe_write_slice_native!(src, dst, u64);
     |             ----------------------------------------- in this macro invocation
     |
     = note: this error originates in the macro `unsafe_write_slice_native` (in Nightly builds, run with -Z macro-backtrace for more info)

error: cannot find attribute `derive` in this scope
  --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/bytes-1.3.0/src/buf/writer.rs:10:3
   |
10 | #[derive(Debug)]
   |   ^^^^^^

error: cannot find macro `cfg` in this scope
   --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/memchr-2.5.0/src/memchr/x86/mod.rs:47:27
    |
47  |                   } else if cfg!(memchr_runtime_sse2) {
    |                             ^^^

```
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/682/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/683,https://api.github.com/repos/apache/incubator-teaclave/issues/683,incubator-teaclave,1653048867,683,Copyright year needs update,henrysun007,3353452,He Sun,sunhe2007@gmail.com,CLOSED,2023-04-04T02:14:31Z,2023-05-09T02:19:33Z,It has been in 2023. The code binding year should be changed to `2023`.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/683/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/688,https://api.github.com/repos/apache/incubator-teaclave/issues/688,incubator-teaclave,1682334434,688,TVM example failed,henrysun007,3353452,He Sun,sunhe2007@gmail.com,OPEN,2023-04-25T02:37:44Z,2023-04-25T02:38:02Z,"<!--
Thank you for filing a bug report! 🐛 Please provide a short summary of the bug,
along with any information you feel relevant to reproduce the bug.
-->

I tried to build, execute, deploy, and use Teaclave like this:

```
python3 wasm_tvm_mnist.py
```

I expected to see this happen: example succeed

Instead, this happened (got from https://github.com/apache/incubator-teaclave/actions/runs/4781599186/jobs/8500213290): 
```
[INFO  teaclave_execution_service_enclave::service] Executor 9743b589-53cf-4198-8ae9-0701f09d6072 accepted a new task, executing...
[+] login
[+] user_mnist registering function
[+] user_mnist creating task
[+] user_mnist registering input file
[+] user_mnist assigning data to task
[+] user_mnist approving task
[+] user_mnist invoking task
[+] user_mnist getting task result
[+] User result: Exception: unreachable
/__w/incubator-teaclave/incubator-teaclave/build
[2023-04-24T02:15:50Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:EnclaveLost
[2023-04-24T02:15:50Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId
[2023-04-24T02:15:50Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))
```
### Meta
<!--
Include logs in the code block by setting `TEACLAV_LOG=debug` in your environment.
E.g. `TEACLAVE_LOG=debug docker-compose -f docker-compose-ubuntu-1804-isgx.yml up --build`.
-->
<p>

I also execute the compiled mnist.wasm in the unit test `test_wamr_tvm_mnist`. The result is `failed`. The log is (got from https://github.com/henrysun007/incubator-teaclave/actions/runs/4784274928/jobs/8505556632):

```
start running tests
   0:     0x7f6738f6efec - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbd9cc9b56b58936d
   1:     0x7f6738fba29e - core::fmt::write::hb16e423f59ee98d6
   2:     0x7f6738f79635 - std::io::Write::write_fmt::hac851a30a4f70a76
   3:     0x7f6738f6ee3d - std::sys_common::backtrace::print::he991c9a6fb47481b
   4:     0x7f6738f7e184 - std::panicking::default_hook::{{closure}}::h496b5b005061bc78
   5:     0x7f6738f7de7d - std::panicking::default_hook::h44b4fd858a2a1810
   6:     0x7f6738f7e7a1 - std::panicking::rust_panic_with_hook::h3cdeac32c7f00123
   7:     0x7f6738f6f1f7 - std::panicking::begin_panic_handler::{{closure}}::hc91f39e6c82d93a6
   8:     0x7f6738f6f12c - std::sys_common::backtrace::__rust_end_short_backtrace::h25e297996564608f
   9:     0x7f6738f7e312 - rust_begin_unwind
  10:     0x7f67387ab423 - core::panicking::panic_fmt::h6a139aaa307f7e56
  11:     0x7f67387ab6f3 - core::result::unwrap_failed::h4771d01640dff1ba
  12:     0x7f6738df01d4 - teaclave_executor::wamr::tests::test_wamr_tvm_mnist::h276dd61[552](https://github.com/henrysun007/incubator-teaclave/actions/runs/4784274928/jobs/8505556632#step:5:553)d39cbe
  13:     0x7f6738df1bbb - teaclave_test_utils::test::hdd0d6cc3f50db8cc
  14:     0x7f6738defadd - teaclave_executor::wamr::tests::run_tests::h90c58ed5ee74d753
  15:     0x7f6738ded778 - teaclave_executor::tests::run_tests::h2b27d562fc87ca9a
  16:     0x7f6738dc197c - teaclave_unit_tests_enclave::handle_run_test::hae284ed7dcd93635
  17:     0x7f6738dc1b71 - <teaclave_unit_tests_enclave::ServeInstance<U,V> as teaclave_binder::ipc::IpcService<U,V>>::handle_invoke::he248472f73d0fa82
  18:     0x7f6738dc2103 - <teaclave_binder::ipc::enclave::ECallReceiver as teaclave_binder::ipc::IpcReceiver>::dispatch::h9b3f223f92f15fe4
  19:     0x7f6738dc1c55 - ecall_ipc_entry_point
  20:     0x7f67387bc4e2 - sgx_ecall_ipc_entry_point
  21:     0x7f6738f89d18 - sgx_trts::call::ecall::ecall::hb034e29c732150a2
  22:     0x7f67391750cb - enter_enclave
  23:     0x7f6739174c9b - enclave_entry
testing test_wamr_tvm_mnist ... failed!
```


</p>
</details>
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/688/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/690,incubator-teaclave,1698488318,690,关于enclave_signing_key.pem的问题,gaojunjie03,30582212,gjj,,CLOSED,2023-05-06T06:14:06Z,2023-05-08T00:35:16Z,"编译enclave程序的时候，比如frontend的enclave，我看到脚本sgx_link_sign上是使用了enclave_signing_key.pem 来对其进行签名生成一个签名共享库sign.so.
有两个问题
1、这个enclave_signing_key.pem是在哪里进行生成的没找到？还是说自己线下使用opessl就可以生成 不需要任何sgxsdk的参与？

2、app启动enclave的时候 我看到最后的binder.rs SgxEnclave::create 最后生成了enclave并没有指定enclave_signing_key.pem来生成这个enclave？没有指定也能使用吗？
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/690/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bncVT,incubator-teaclave,1537066323,690,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-05-06T06:28:40Z,2023-05-06T06:28:40Z,"1. Enclave's signing keys are generated on your own using tools like OpenSSL. This is an RSA asymmetric key pair. The `enclave_signing_key.pem` is the **private key** that is used by the `sgx_sign` tool to generate the signature of the enclave. The private key is crucial for the proof of the identity of the enclave provider.
2. We do not need a private key to **verify** the signature as we use **public key** instead. The public key is calculated from the private key directly and is embedded in the enclave's measurement which, upon the enclave is loaded, the hardware will verify. Tampered `enclave.so` will be rejected.

Hope this helps :)","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bncVT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bndiC,incubator-teaclave,1537071234,690,NA,gaojunjie03,30582212,gjj,,NA,2023-05-06T06:56:50Z,2023-05-06T06:56:50Z,"哦哦 就是在sgx_sign的时候使用enclave_signing_key.pem对其进行签名之后生成的enclave.sign.so/enclave.so这个库里面就自动包含有了enclave_signing_key.pem对应的公钥了是吗？
然后如果是这样的话，那enclave.sign.so/enclave.so这个库文件如果被其他人拿到，那其他人会不会窃取到里面的信息比如里面的程序代码？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bndiC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bne2Q,incubator-teaclave,1537076624,690,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-05-06T07:21:30Z,2023-05-06T07:21:30Z,"Yes, you are correct. The public key is contained in `enclave.signed.so` if properly signed by `sgx_sign`. `enclave.signed.so` itself, however, is not encrypted, so if this shared library is somehow leaked, other unauthorized entities are able to steal the binary's code.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bne2Q/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bnf35,incubator-teaclave,1537080825,690,NA,gaojunjie03,30582212,gjj,,NA,2023-05-06T07:45:20Z,2023-05-06T07:45:20Z,"好的，明白
那还有个问题，你上面说到的当enclave被加载时，硬件会进行验证，被篡改的enclave.so会被拒绝。这个过程是怎么进行的？加载时如果enclave.so被篡改了，那里面的公钥也会跟着发生变化，然后硬件验证的时候会使用签名时的私钥对这个公钥进行验证，是这样吗还是？","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bnf35/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bnkCT,incubator-teaclave,1537097875,690,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-05-06T09:13:46Z,2023-05-06T09:13:46Z,"You are kindly referred to these materials for in-depth details:

* [overview-signing-whitelisting-intel-sgx-enclaves.pdf](https://www.intel.com/content/dam/develop/external/us/en/documents/overview-signing-whitelisting-intel-sgx-enclaves.pdf).
* [Intel SGX explained](https://eprint.iacr.org/2016/086.pdf) where you can find the struct called`SIGSTRUCT`.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bnkCT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/690,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bpbdi,incubator-teaclave,1537587042,690,NA,gaojunjie03,30582212,gjj,,NA,2023-05-08T00:35:16Z,2023-05-08T00:35:16Z,ok thanks~,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5bpbdi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/698,https://api.github.com/repos/apache/incubator-teaclave/issues/698,incubator-teaclave,1745216857,698,DCAP deployment improvement,henrysun007,3353452,He Sun,sunhe2007@gmail.com,OPEN,2023-06-07T07:13:36Z,2023-07-13T04:00:01Z,"<!--
  Thank you for suggesting an idea to make Teaclave better.
  Please fill in as much of the template below as you're able.
-->

### Motivation & problem statement

The deployment for DCAP attestation is not well supported. `runtime.config.toml` and `build.config.toml` have to be modified manually. There are three `runtime.config.toml`s in `config`, `docker` and `tests/fixtures` respectively.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/698/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/698,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ezbTU,incubator-teaclave,1590539476,698,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-06-14T06:16:36Z,2023-06-14T06:16:36Z,"Besides, there are many issues about the attestation:
#667
#634 
#548 
#469 
#459 
#452 

More documents are needed about the attestation. The attesation also needs improvement.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ezbTU/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/698,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hXWP-,incubator-teaclave,1633510398,698,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-07-13T04:00:01Z,2023-07-13T04:00:01Z,"Hi @henrysun007, I noticed that the port for attestation is hardcoded as 443 in `attestation/src/service.rs`:

```rust
let addrs = url.socket_addrs(|| match url.scheme() {
    ""https"" => Some(443), // Fixed port.
    _ => None,
})?;
```

Is it possible for us to change the binding port? Sometimes 443 on the local machine is already in use for other services so that we cannot deploy DCAP.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hXWP-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/700,https://api.github.com/repos/apache/incubator-teaclave/issues/700,incubator-teaclave,1756570597,700,Enabling access control service,henrysun007,3353452,He Sun,sunhe2007@gmail.com,CLOSED,2023-06-14T10:31:41Z,2023-07-07T02:06:19Z,"<!--
  Thank you for suggesting an idea to make Teaclave better.
  Please fill in as much of the template below as you're able.
-->

### Motivation & problem statement

<!--
  Provide a clear and concise description of what the problem is.
-->

The access service is not used by any other services. The python engine (MesaPy) it uses is not maintained any more. Teaclave is moving towards Confidentail VM and the ported services should be determined.

### Proposed solution

<!--
  Provide a clear and concise description of what you want to happen.
-->

I reviewd all the access control code in the managment and frontend services and found that most of the access control patterns are attribute-based, like checking the user ID against the owner ID of the object, e.g., task, file and function. Three years ago, someone suggested using [casbin-rs](https://github.com/casbin/casbin-rs) as the engine in #265 . Casbin is powerful and supports ABAC. We can use it to do most of the access control. For more complicated access control, we can keep the enforcer hard-coded as it is now.

Please feel free to comment, thanks.

@mssun @uraj 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/700/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/700,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5fK1Wc,incubator-teaclave,1596675484,700,NA,hsluoyz,3787410,,,NA,2023-06-19T07:43:58Z,2023-06-19T07:43:58Z,"Hi @henrysun007 , I am from Casbin team. We are happy to see this and it's really a good move to migrate to Casbin considering that https://github.com/casbin/casbin-rs is already feature-matured for years and suitable for production use now. What are next steps then? We can also provide help in this process if needed.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5fK1Wc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/700,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5gZH-H,incubator-teaclave,1617198983,700,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-07-03T03:47:37Z,2023-07-03T03:47:37Z,@hsluoyz I did some modifications to the crate to run inside SGX enclave. The code is on https://github.com/mesatee/casbin-rs/tree/teaclave-sgx. Feel free to comment. Thanks.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5gZH-H/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/706,https://api.github.com/repos/apache/incubator-teaclave/issues/706,incubator-teaclave,1804134801,706,"Missing schema in ""teaclave_xxx_service"" advertised address",hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,CLOSED,2023-07-14T04:17:23Z,2023-07-17T04:44:14Z,"<!--
Thank you for filing a bug report! 🐛 Please provide a short summary of the bug,
along with any information you feel relevant to reproduce the bug.
-->

The configuration file `runtime.config.toml` in `docker` folder seems to be improperly written because I found the following key value pairs

```toml
[internal_endpoints]
authentication = { listen_address = ""0.0.0.0:17776"", advertised_address = ""teaclave-authentication-service:17776"" }
management     = { listen_address = ""0.0.0.0:17777"", advertised_address = ""teaclave-management-service:17777"" }
storage        = { listen_address = ""0.0.0.0:17778"", advertised_address = ""teaclave-storage-service:17778"" }
access_control = { listen_address = ""0.0.0.0:17779"", advertised_address = ""teaclave-access-control-service:17779"" }
execution      = { listen_address = ""0.0.0.0:17770"", advertised_address = ""teaclave-execution-service:17770"" }
scheduler      = { listen_address = ""0.0.0.0:17780"", advertised_address = ""teaclave-scheduler-service:17780"" }
```

would trigger errors when I tried to run the Teaclave service with docker-compose. Sample error:

```sh
teaclave-execution-service         | [ERROR teaclave_execution_service_enclave::ecall] Failed to run service: Missing schema in ""teaclave_scheduler_service"" advertised address
```

It could be fixed by adding the prefix `https://`, i.e., it should be `advertised_address = ""https://teaclave-authentication-service:17776""`. For your information, I built Teaclave in simulation mode.

Thank you for your attention, and I can create a PR if you need it :)

BTW, the docker runtime config file does not match that under `config` directory.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/706/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/706,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hlrt5,incubator-teaclave,1637268345,706,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-07-17T01:32:49Z,2023-07-17T01:32:49Z,@GeminiCarrie Could you please help fix this issue?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hlrt5/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/706,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hlv6o,incubator-teaclave,1637285544,706,NA,GeminiCarrie,53326210,GeminiCarrie,,NA,2023-07-17T02:10:19Z,2023-07-17T02:10:19Z,"Yes, it is indeed necessary to add the URI scheme to the advertised address before starting the service. It's great if you can submit a PR to fix it. Thank you so much!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hlv6o/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/706,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hlxPt,incubator-teaclave,1637290989,706,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-07-17T02:19:21Z,2023-07-17T02:19:21Z,@GeminiCarrie Thank you for the quick reply. I've created a PR to fix this :),"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hlxPt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/708,https://api.github.com/repos/apache/incubator-teaclave/issues/708,incubator-teaclave,1809620399,708,An error occurred while compiling teaclave with docker,digitalinformation,94784449,,,CLOSED,2023-07-18T10:10:58Z,2023-07-19T02:31:05Z,"
![错误](https://github.com/apache/incubator-teaclave/assets/94784449/3ed1c92b-adf8-49f6-b663-8e3fce3d1a50)

-- Submodule update
fatal: detected dubious ownership in repository at '/teaclave'
To add an exception for this directory, call:

git config --global --add safe.directory /teaclave
CMake Error at cmake/TeaclaveUtils.cmake:55 (message):
  git submodule update --init failed with 128, please checkout submodules
Call Stack (most recent call first):
  CMakeLists.txt:52 (init_submodules)


-- Configuring incomplete, errors occurred!
See also ""/teaclave/build/CMakeFiles/CMakeOutput.log"".
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/708/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/708,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hwFHh,incubator-teaclave,1639993825,708,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-07-18T10:52:15Z,2023-07-18T10:52:15Z,Can you post the latest error log after calling `git config --global --add safe.directory /teaclave`?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hwFHh/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/708,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hwdQq,incubator-teaclave,1640092714,708,NA,digitalinformation,94784449,,,NA,2023-07-18T12:08:58Z,2023-07-18T12:08:58Z,"Hello, there is no change after entering the command, as follows:
![QQ图片20230718200532](https://github.com/apache/incubator-teaclave/assets/94784449/df65f562-f3b3-4a72-a584-86596ae6b776)
Here are the error logs:
[CMakeOutput.log](https://github.com/apache/incubator-teaclave/files/12080223/CMakeOutput.log)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hwdQq/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/708,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hwwMN,incubator-teaclave,1640170253,708,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-07-18T12:58:18Z,2023-07-18T12:58:18Z,"@digitalinformation I think you need to execute this command inside docker, not on the host machine. You may change the docker command to

```sh
docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-2004-sgx-2.17.1:0.2.0 \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \                        
     mkdir -p build && cd build && \            
     git config --global --add safe.directory '*' && \ # <--- Add this line
     cmake -DTEST_MODE=ON .. && \            
     make -j""
```

or you can enter docker with an interactive shell like bash or something.

BTW, I think the build documentation on the website should be updated.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5hwwMN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/708,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h1Bc2,incubator-teaclave,1641289526,708,NA,digitalinformation,94784449,,,NA,2023-07-19T02:29:23Z,2023-07-19T02:29:23Z,"I have solved my problem, thank you very much.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h1Bc2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/709,incubator-teaclave,1811086546,709,An error was encountered while Launch Teaclave Services,digitalinformation,94784449,,,OPEN,2023-07-19T03:42:07Z,2023-07-20T08:00:35Z,"Sorry very much，the following error occurs when executing the following command, how can I solve it?Thank you.
`$ (cd docker && ./run-teaclave-services.sh)`
![QQ图片20230719113626](https://github.com/apache/incubator-teaclave/assets/94784449/4c475dbe-bd30-46f8-b591-f315bcfca8be)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/709/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h1Vk2,incubator-teaclave,1641371958,709,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-07-19T03:49:04Z,2023-07-19T03:49:04Z,"You should modify line 206 in `./run-teaclave-services.sh`:

```sh
DOCKER_COMPOSE_FILE=""docker-compose-ubuntu-1804.yml""
```

to `DOCKER_COMPOSE_FILE=""docker-compose-ubuntu-2004.yml""` to match your OS version.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h1Vk2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h3RzC,incubator-teaclave,1641880770,709,NA,digitalinformation,94784449,,,NA,2023-07-19T11:05:54Z,2023-07-19T11:05:54Z,"Hello, thanks for your help, but after I changed the configuration in  `./run-teaclave-services.sh` , the same error is still displayed, do I have any other errors not corrected? Thanks for your help. @hiroki-chen [hiroki-chen](https://github.com/hiroki-chen)

`$ (cd docker && ./run-teaclave-services.sh)`
![QQ图片20230719185833](https://github.com/apache/incubator-teaclave/assets/94784449/c1039eab-77af-4c37-a295-42dc80c52112)
![QQ图片20230719185825](https://github.com/apache/incubator-teaclave/assets/94784449/27ac5750-b6e9-49b0-8712-3b8bb8bd4544)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h3RzC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h4Ez6,incubator-teaclave,1642089722,709,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-07-19T13:30:28Z,2023-07-19T13:30:28Z,"Try to add `-b` when invoking the command to rebuild the docker, i.e.,

```sh
./run-teaclave-services.sh -b
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h4Ez6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h7-jp,incubator-teaclave,1643112681,709,NA,digitalinformation,94784449,,,NA,2023-07-20T04:15:18Z,2023-07-20T04:15:18Z,"Hello, I am sorry to disturb you again.when I follow the following command execution, the program keeps showing that it is running, there is no sign of stopping, what else can I do? Looking forward to your reply, thank you.  @hiroki-chen 

`./run-teaclave-services.sh -b`
![QQ图片20230720121125](https://github.com/apache/incubator-teaclave/assets/94784449/38b3c132-ba15-4251-9b5a-f15ea5d5e3f9)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h7-jp/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h8Hwr,incubator-teaclave,1643150379,709,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-07-20T04:36:59Z,2023-07-20T04:36:59Z,"It seems that you need to set the environment variable `TEACLAVE_LOG` to `debug` (you can do it via `export TEACLAVE_LOG=""debug""`) and re-run the docker to see the log output. Only then we can know what was going on inside Teaclave's services.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h8Hwr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/709,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h9SNn,incubator-teaclave,1643455335,709,NA,digitalinformation,94784449,,,NA,2023-07-20T07:57:13Z,2023-07-20T07:57:13Z,"Hello, thank you again for your help, I have listed some error messages as follows, please take a look, thank you.  @hiroki-chen 

1. `teaclave-access-control-service  | [ERROR teaclave_access_control_service_enclave] Failed to run service: Kind(UnexpectedEof) is not allowed`
2. `teaclave-access-control-service  | [2023-07-20T07:35:04Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId`
3. `teaclave-access-control-service | [2023-07-20T07:35:04Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))`
5. `teaclave-authentication-service  | [ERROR teaclave_authentication_service_enclave] Failed to run service: Kind(UnexpectedEof) is not allowed`
6. `teaclave-authentication-service  | [2023-07-20T07:35:05Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId`
7. `teaclave-authentication-service  | [2023-07-20T07:35:05Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))`
9. `teaclave-scheduler-service       | [ERROR teaclave_scheduler_service_enclave] Failed to run service: Kind(UnexpectedEof) is not allowed`
10. `teaclave-scheduler-service       | [2023-07-20T07:35:09Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId`
11. `teaclave-scheduler-service       | [2023-07-20T07:35:09Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))`
13. `teaclave-management-service      | [ERROR teaclave_management_service_enclave] Failed to run service: Kind(UnexpectedEof) is not allowed`
14. `teaclave-storage-service         | [ERROR teaclave_storage_service_enclave] Failed to run service: Kind(UnexpectedEof) is not allowed`
15. `teaclave-storage-service         | [2023-07-20T07:35:13Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId`
16. `teaclave-storage-service         | [2023-07-20T07:35:13Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))`
18. `teaclave-frontend-service        | [ERROR teaclave_frontend_service_enclave] Failed to run service: Kind(UnexpectedEof) is not allowed`
19. `teaclave-frontend-service        | [2023-07-20T07:35:15Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId`
20. `teaclave-frontend-service        | [2023-07-20T07:35:15Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))`
21. `teaclave-execution-service       | [ERROR teaclave_execution_service_enclave::ecall] Failed to run service: Kind(UnexpectedEof) is not allowed`

[错误日志.odt](https://github.com/apache/incubator-teaclave/files/12103524/default.odt)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5h9SNn/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/710,https://api.github.com/repos/apache/incubator-teaclave/issues/710,incubator-teaclave,1818596869,710,DCAP Attestation Errors,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2023-07-24T14:55:52Z,2024-02-05T17:22:27Z,"So I'm trying to deploy the teaclave services. Environment variables are configured as:

```
export AS_SPID=""00000000000000000000000000000000""
export AS_KEY=""00000000000000000000000000000000""
export AS_ALGO=""sgx_ecdsa""
export AS_URL=""https://host.docker.internal:8081""
export TEACLAVE_LOG=trace
```

AS_URL is pointing to the pccs service which is running:

![image](https://github.com/apache/incubator-teaclave/assets/14860148/aa8e880b-48e4-46f5-8dd8-a112b4bbfaa8)

Once I run ./run-teaclave-services.sh TLS connection error shows up:

![image](https://github.com/apache/incubator-teaclave/assets/14860148/4eb70852-c58a-4aca-ac77-7bccc5bc0eb1)



Also, I tried attestation with the provided tool ( /release/tools/teaclave_sgx_tool) with the following command:

`./teaclave_sgx_tool attestation --url https://localhost:8081 --algorithm sgx_ecdsa`

The output showed the following error after displaying the server certificate:

![image](https://github.com/apache/incubator-teaclave/assets/14860148/07e755ae-e88f-4762-b39f-b389b26c47d4)


","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/710/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/711,https://api.github.com/repos/apache/incubator-teaclave/issues/711,incubator-teaclave,1856181257,711,What languages does teaclave support for developing smart contracts? ,digitalinformation,94784449,,,OPEN,2023-08-18T07:07:12Z,2023-08-21T02:51:56Z,"Hello, I want to do research on blockchain privacy protection based on trusted execution environment, and selected blockchain as fabric, can teaclave support writing trusted applications in java language? What languages does teaclave support for developing smart contracts? If it supports Java development smart contracts, are there any relevant cases or directions to refer to? Thank you
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/711/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/711,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5kd1R4,incubator-teaclave,1685542008,711,NA,superajun-wsj,54900261,Jeffery,,NA,2023-08-21T02:51:56Z,2023-08-21T02:51:56Z,"Hi, maybe https://github.com/apache/incubator-teaclave-java-tee-sdk could help you. It's a java
confidential computing programming architecture. If you had only questions, please create an issue in https://github.com/apache/incubator-teaclave-java-tee-sdk project.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5kd1R4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/721,incubator-teaclave,1951384320,721,Can Teaclave resist Multi-query Attack?,bobozi-cmd,69450538,Wenbo Zhou,1210611257@qq.com,CLOSED,2023-10-19T06:24:29Z,2023-12-04T02:15:02Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

Hi!
I am interested in the way to resist Multi-query Attack. 
The multi-query attack method includes two attack ways: 
(1) One way to obtain the other party’s information is to tamper with the input content for each query, while keeping the query itself unchanged. For example, the attacker can obtain all the information of the other party’s join key through multiple join queries and tampering with the content of his join key each time. 
(2) Another way is to infer the other party’s private data by rewriting the query each time and comparing the results of multiple queries. For example, the attacker can use the where condition to limit the input of the aggregation function. The first time the query obtains the aggregation result of N pieces of data, the second time by changing the where condition, the aggregation result of N-1 pieces of data can be obtained, and then the attacker can obtain the original information of 1 piece of data by comparing results.
Cam Teaclave help user resist this attack automatically?
Thanks!
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/721/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5p5tiX,incubator-teaclave,1776736407,721,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-10-24T08:15:43Z,2023-10-24T08:15:43Z,"The short answer is no but it could be implemented.
I would answer the question more accurately and in detail if you could give more description about the motivation and threat model. It seems not necessary to resist the attack. ","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5p5tiX/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5qAA6e,incubator-teaclave,1778388638,721,NA,bobozi-cmd,69450538,Wenbo Zhou,1210611257@qq.com,NA,2023-10-25T02:22:31Z,2023-10-25T02:22:31Z,"A simple case is:
SELECT SUM(money) FROM table;
SELECT SUM(money) FROM table WHERE id<>1;
than I can compute the money of user 1","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5qAA6e/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5qB0bE,incubator-teaclave,1778861764,721,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-10-25T09:23:47Z,2023-10-25T09:23:47Z,"Since you can `SELECT` the table, why not use `SELECT money FROM table WHERE id=1` to get the money of user 1 directly?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5qB0bE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5qB96H,incubator-teaclave,1778900615,721,NA,bobozi-cmd,69450538,Wenbo Zhou,1210611257@qq.com,NA,2023-10-25T09:47:32Z,2023-10-25T09:47:32Z,"One condition is that attacker cannot select plaintext from table， but can select result of some operations like SUM, AVG etc. For protection someone‘s data, DB will filter result after SQL to avoid data source only one row. Attacker may not know any data in DB, but can use == to guess existed id and use SUM(n) and SUM(n-1) to compute target data.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5qB96H/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5thqPc,incubator-teaclave,1837540316,721,NA,hiroki-chen,16970045,Hiroki Chen,haobchen@iu.edu,NA,2023-12-03T17:05:27Z,2023-12-03T17:05:27Z,"I wonder _why_ Teaclave needs to support such attacks because it seems to me that these threats are orthogonal to Teaclave's design goals. The attacks themselves, essentially, fall into the category of side-channel and statistical inferences that can be found in the DB research area.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5thqPc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/721,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5tiYx6,incubator-teaclave,1837730938,721,NA,bobozi-cmd,69450538,Wenbo Zhou,1210611257@qq.com,NA,2023-12-04T02:14:46Z,2023-12-04T02:14:46Z,"> these threats are orthogonal to Teaclave's design goals

yes, I realize this now, and thanks for your suggestion :)

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5tiYx6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/722,incubator-teaclave,1979066750,722,SGX error: NoDevice on SIM Mode,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2023-11-06T12:46:40Z,2023-12-12T09:36:45Z,"I am trying to deploy teaclave on simulation mode, these are the steps I did:

```
$ git clone https://github.com/apache/incubator-teaclave.git

$ docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-2004-sgx-2.17.1:0.2.0 \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     git config --global --add safe.directory /teaclave && \
     cmake -DTEST_MODE=ON -DSGX_SIM_MODE=ON .. && \
     make -j""

$ (cd docker && ./run-teaclave-services.sh -m sim)
```

Output of last command is:

```
teaclave-authentication-service    | [get_driver_type edmm_utility.cpp:116] Failed to open Intel SGX device.         
teaclave-access-control-service    | [get_driver_type edmm_utility.cpp:116] Failed to open Intel SGX device.         
teaclave-authentication-service    | [get_driver_type /home/sgx/jenkins/ubuntuServer-release-build-with-dcap-driver-219/build_target/PROD/label/Builder-UbuntuSrv18/label_exp/ubuntu64/linux-trunk-opensource/psw/urts/linux/edmm_utility.cpp:116] Failed to open Intel SGX device.                                                                            
teaclave-authentication-service    | Error: Failed to new the enclave.                                               
teaclave-authentication-service    |                                                                                 
teaclave-authentication-service    | Caused by:                                                                      
teaclave-authentication-service    |     found SGX error: NoDevice
```

For each service.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/722/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rW_dq,incubator-teaclave,1801189226,722,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-11-08T06:45:19Z,2023-11-08T06:45:19Z,We did not encounter your erros by following your steps in a newly cloned project. It seems your service running in the error log was not built in the `simulation` mode. I guess you used `hardware` mode services you built sometime. Please have a try again in a clean project using `DOCKER_COMPOSE_FILE=docker-compose-ubuntu-2004.yml` in `run-teaclave-services.sh` since you built your project in the `ubuntu 20.04` image.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rW_dq/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rYF8g,incubator-teaclave,1801477920,722,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-11-08T09:58:45Z,2023-11-08T09:58:45Z,"Changed docker compose image on `run-teaclave-services.sh`. Also removed the docker image used to build teaclave so it could be downloaded again. Nothing changed:

```

COMMAND: docker-compose -f docker-compose-ubuntu-2004.yml up
Recreating teaclave-storage-service        ... done
Recreating teaclave-authentication-service ... done
Recreating teaclave-file-service           ... done
Recreating teaclave-access-control-service ... done
Recreating teaclave-scheduler-service      ... done
Recreating teaclave-management-service     ... done
Recreating teaclave-execution-service      ... done
Recreating teaclave-frontend-service       ... done
Attaching to teaclave-storage-service, teaclave-file-service, teaclave-access-control-service, teaclave-authentication-service,
teaclave-scheduler-service, teaclave-management-service, teaclave-execution-service, teaclave-frontend-service
teaclave-access-control-service    | [get_driver_type edmm_utility.cpp:116] Failed to open Intel SGX device.
teaclave-access-control-service    | [get_driver_type /home/sgx/jenkins/ubuntuServer-release-build-with-dcap-driver-219/build_target/PROD/label/Builder-UbuntuSrv18/label_exp/ubuntu64/linux-trunk-opensource/psw/urts/linux/edmm_utility.cpp:116]  Failed to open Intel SGX device.
teaclave-access-control-service    | Error: Failed to new the enclave.
teaclave-access-control-service    |
teaclave-access-control-service    | Caused by:
teaclave-access-control-service    |     found SGX error: NoDevice

```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rYF8g/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rn9SC,incubator-teaclave,1805636738,722,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-11-10T12:17:16Z,2023-11-10T12:17:16Z,"I assume there should be no problem since I am running teaclave on SIM mode, but just in case, I am running Intel SGX SDK 2.22","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rn9SC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5spJFx,incubator-teaclave,1822724465,722,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-11-22T12:57:10Z,2023-11-22T12:57:10Z,"After removing every docker image related to teaclave, it seems that the program actually is on SIM mode. 
Now receiving this error:

```
teaclave-scheduler-service         | [TRACE rustls::server::tls12::client_hello] sending server hello Message { version: TLSv1_2, payload: Handshake { parsed: HandshakeMessagePayload { typ: ServerHello, payload: ServerHello(ServerHelloPayload { legacy_version: TLSv1_2, random: a09be0c325eeedb6c1251a1725ccf363563be71b17941f58444f574e47524401, session_id: 3f66b3d2bebb6d47f6630a81d4386e2c7f9d87160e09850ee2b62545fd3c980e, cipher_suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, compression_method: Null, extensions: [Protocols([ProtocolName(6832)]), ServerNameAck, RenegotiationInfo(), ExtendedMasterSecretAck] }) }, encoded: 0200005e0303a09be0c325eeedb6c1251a1725ccf363563be71b17941f58444f574e47524401203f66b3d2bebb6d47f6630a81d4386e2c7f9d87160e09850ee2b62545fd3c980ec02c00001600100005000302683200000000ff0100010000170000 } }
teaclave-scheduler-service         | [DEBUG rustls::server::tls12] Session saved
teaclave-frontend-service exited with code 0
teaclave-authentication-service    | [INFO  teaclave_authentication_service_enclave]  Starting Authentication: Platform first launch, admin user created ...
teaclave-authentication-service    | [INFO  teaclave_authentication_service_enclave]  Starting Authentication: setup API endpoint finished ...
teaclave-authentication-service    | [INFO  teaclave_authentication_service_enclave]  Starting Authentication: setup Internal endpoint finished ...
teaclave-authentication-service    | [TRACE mio::poll] registering event source with poller: token=Token(0), interests=READABLE | WRITABLE
teaclave-authentication-service    | [TRACE mio::poll] registering event source with poller: token=Token(1), interests=READABLE | WRITABLE
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
teaclave-execution-service         | [DEBUG teaclave_execution_service_enclave::service] heartbeat_with_result response: HeartbeatResponse { command: NoAction }
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
teaclave-execution-service         | [DEBUG teaclave_execution_service_enclave::service] heartbeat_with_result response: HeartbeatResponse { command: NoAction }
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
teaclave-execution-service         | [DEBUG teaclave_execution_service_enclave::service] heartbeat_with_result response: HeartbeatResponse { command: NoAction }
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
teaclave-execution-service         | [DEBUG teaclave_execution_service_enclave::service] heartbeat_with_result response: HeartbeatResponse { command: NoAction }
teaclave-scheduler-service         | [DEBUG teaclave_scheduler_service_enclave::service] Pulling task/cancel queue
```

Last two lines just loop.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5spJFx/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5szQda,incubator-teaclave,1825376090,722,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-11-24T09:26:53Z,2023-11-24T09:26:53Z,"More from last output, loop comes from this error, which is not understandable since it is running on SIM mode:

```
teaclave-frontend-service          | [2023-11-24T09:25:09Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId                                                                                            
teaclave-frontend-service          | [2023-11-24T09:25:09Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))                                                                                                               
teaclave-execution-service         | [2023-11-24T09:25:09Z DEBUG teaclave_binder::binder] EnclaveID: 4294967298                 
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5szQda/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/722,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5s5eDW,incubator-teaclave,1827004630,722,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-11-27T01:45:48Z,2023-11-27T01:45:48Z,I don't think teaclave services can run in `Intel SGX SDK 2.22` without any error.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5s5eDW/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/723,https://api.github.com/repos/apache/incubator-teaclave/issues/723,incubator-teaclave,1980836347,723,Intel SGX latest support,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2023-11-07T08:44:34Z,2023-11-10T12:15:42Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

Hi, I was wondering if there is any support for the latest versión of Intel SGX 2.22, since I can't find any docker image from any version after 2.17. 

Also, is there any way to build teaclave without the docker image? Should it be working for latest Intel SGX? Or there is just no support from versions newer than 2.17? 

Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/723/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/723,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rWIcV,incubator-teaclave,1800963861,723,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-11-08T03:43:42Z,2023-11-08T03:43:42Z,The [Rust SGX SDK](https://github.com/apache/incubator-teaclave-sgx-sdk/tree/v2.0.0-preview) we are using is bounded to the SGX version which is 2.17 in our case. No other version is supported now. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rWIcV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/723,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5reUZY,incubator-teaclave,1803109976,723,NA,volcano0dr,27840466,volcano,rduan@apache.org,NA,2023-11-09T03:33:31Z,2023-11-09T03:33:31Z,"The teaclave is using rust-SGX-SDK v2, which is now bound to intel-sgx-sdk 2.17. We are developing EDMM features for rust-sgx-sdk v2 and when the code is merged we will support intel-sgx-sdk 2.21 or higher.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5reUZY/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/723,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rn81E,incubator-teaclave,1805634884,723,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-11-10T12:15:42Z,2023-11-10T12:15:42Z,"Ok thanks, I will wait for a realease with 2.22 support since it is the version my server is running.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5rn81E/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/724,https://api.github.com/repos/apache/incubator-teaclave/issues/724,incubator-teaclave,2031949638,724,My builtin-functions cannot be invoked by the Python/Rust client SDK,yujingyue9166,73093539,,,CLOSED,2023-12-08T05:24:03Z,2023-12-18T02:41:30Z,"I tried to add a ""builtin-hello-world"" function (with the same functionality as the echo example) by following the official documentation at https://teaclave.apache.org/docs/builtin-functions/.

After building with make teaclave_unit_tests and running tests with make run-unit-tests, everything seemed to work normally.

However, when I try to invoke this function using either the Python or Rust client SDKs, I get an error saying the function cannot be found.

I would like to understand:

1. Where can I verify that my builtin-function is correctly registered by the executor?
2. What might be going wrong that is preventing client SDKs from locating and invoking the function?

Any pointers on where to check or how to further troubleshoot this issue would be greatly appreciated! Please let me know if any other details would be helpful in diagnosing the problem.

Thank you for your time and assistance!","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/724/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/724,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5uVopj,incubator-teaclave,1851165283,724,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-12-12T01:36:53Z,2023-12-12T01:36:53Z,It might be helpful if we could see your modification.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5uVopj/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/724,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5uktNE,incubator-teaclave,1855116100,724,NA,yujingyue9166,73093539,,,NA,2023-12-14T04:36:57Z,2023-12-14T04:36:57Z,"Thank you for replying. These are the main changes I made:
![image](https://github.com/apache/incubator-teaclave/assets/73093539/fc07a02e-3df0-4a02-b294-e877642970fa)
![image](https://github.com/apache/incubator-teaclave/assets/73093539/9b21ad1f-e8f4-4de5-aa2f-74cde3ab7816)
![image](https://github.com/apache/incubator-teaclave/assets/73093539/aa9f8b43-7e93-4d8d-a9f0-8f9d81a91407)

And this is the debug output of running `make teaclave_unit_tests`, `make run-examples` : 

![image](https://github.com/apache/incubator-teaclave/assets/73093539/196ab4c4-116f-4e8f-a332-a09c81abd6a3)

It seems like I am missing some steps after registering the new function.

Could you please advise if any operations needed after function registration and before client invocation? Or help me check if I missed anything in my implementation and debugging steps?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5uktNE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/724,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5u1Qck,incubator-teaclave,1859454756,724,NA,yujingyue9166,73093539,,,NA,2023-12-18T02:41:30Z,2023-12-18T02:41:30Z, I have found the cause of the problem. I forgot to update the cargo.toml file for the executor.,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5u1Qck/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/725,incubator-teaclave,2038386312,725,Certificate Errors on deployment,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2023-12-12T19:01:55Z,2024-03-21T10:34:12Z,"# Environment

I am using Ubuntu 20.04 with SGX 2.17. Installed Teaclave with the following:

```
sudo docker run --rm -v $(pwd):/teaclave -w /teaclave \
  -it teaclave/teaclave-build-ubuntu-2004-sgx-dcap-1.14:0.2.0 \
   bash -c "". /root/.cargo/env && \
     . /opt/sgxsdk/environment && \
     mkdir -p build && cd build && \
     git config --global --add safe.directory '*' && \
     cmake -DTEST_MODE=ON -DDCAP=ON .. && \
     make -j""
```

Set environment variables:

```
export AS_SPID=""00000000000000000000000000000000""
export AS_KEY=""00000000000000000000000000000000""
export AS_ALGO=""sgx_ecdsa""
export AS_URL=""https://10.5.4.242:8081""
export TEACLAVE_LOG=trace
``` 

Modified build.config.toml so it used DCAP cert.

```
# Intel Attestation Service root CA certificate to verify attestation report
# as_root_ca_cert = { path = ""config/keys/ias_root_ca_cert.pem"" }
# For DCAP, use the following cert
as_root_ca_cert = { path = ""config/keys/dcap_root_ca_cert.pem"" }
```

AESM service:

```
● aesmd.service - Intel(R) Architectural Enclave Service Manager
     Loaded: loaded (/lib/systemd/system/aesmd.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2023-12-12 17:51:37 UTC; 57min ago
    Process: 20825 ExecStartPre=/opt/intel/sgxpsw/aesm/linksgx.sh (code=exited, status=0/SUCCESS)
    Process: 20834 ExecStartPre=/bin/mkdir -p /var/run/aesmd/ (code=exited, status=0/SUCCESS)
    Process: 20836 ExecStartPre=/bin/chown -R aesmd:aesmd /var/run/aesmd/ (code=exited, status=0/SUCCESS)
    Process: 20837 ExecStartPre=/bin/chmod 0755 /var/run/aesmd/ (code=exited, status=0/SUCCESS)
    Process: 20838 ExecStartPre=/bin/chown -R aesmd:aesmd /var/opt/aesmd/ (code=exited, status=0/SUCCESS)
    Process: 20839 ExecStartPre=/bin/chmod 0750 /var/opt/aesmd/ (code=exited, status=0/SUCCESS)
    Process: 20840 ExecStart=/opt/intel/sgxpsw/aesm/aesm_service (code=exited, status=0/SUCCESS)
   Main PID: 20841 (aesm_service)
      Tasks: 4 (limit: 38387)
     Memory: 3.3M
     CGroup: /system.slice/aesmd.service
             └─20841 /opt/intel/sgxpsw/aesm/aesm_service

dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Try memory cache...
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Try remote service...
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Request URL https://10.5.4.242:8081/sgx/certification/v3/pck>...
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] HTTP status code: 200
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Try memory cache...
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Retrieved PCK certchain from memory cache successfully.
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Try memory cache...
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Retrieved PCK certchain from memory cache successfully.
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Try memory cache...
dic 12 17:51:47 teaclave-vm aesm_service[20841]: [QCNL] Retrieved PCK certchain from memory cache successfully.
```
PCCS Service

```
● pccs.service - Provisioning Certificate Caching Service (PCCS)
     Loaded: loaded (/lib/systemd/system/pccs.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2023-12-12 13:59:48 CET; 5h 56min ago
       Docs: https://github.com/intel/SGXDataCenterAttestationPrimitives/blob/master/QuoteGeneration/pccs/README.md
   Main PID: 4156670 (node)
      Tasks: 15 (limit: 538088)
     Memory: 37.3M
        CPU: 2.672s
     CGroup: /system.slice/pccs.service
             └─4156670 /usr/bin/node /opt/intel/sgx-dcap-pccs/pccs_server.js

Dec 12 13:59:48 syp-s1 systemd[1]: Started Provisioning Certificate Caching Service (PCCS).
Dec 12 13:59:50 syp-s1 node[4156670]: 2023-12-12 13:59:50.003 [info]: HTTPS Server is running on: https://localhost:>
Dec 12 18:51:47 syp-s1 node[4156670]: 2023-12-12 18:51:47.805 [info]: Client Request-ID : 999f8a12d6474051b90a2ec262>
Dec 12 18:51:47 syp-s1 node[4156670]: 2023-12-12 18:51:47.832 [info]: 192.168.122.158 - - [12/Dec/2023:17:51:47

```
# Error

Now on `./run-teaclave-services.sh`

```
teaclave-frontend-service          | [ERROR teaclave_frontend_service_enclave] Failed to run service: invalid peer certificate: Other(UnsupportedCertVersion)
teaclave-frontend-service          | [2023-12-12T18:58:34Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
teaclave-frontend-service          | [2023-12-12T18:58:34Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-frontend-service          | [TRACE teaclave_frontend_service_enclave] tee receive cmd: 1002, input_buf = [110, 117, 108, 108]
teaclave-frontend-service          | [DEBUG teaclave_frontend_service_enclave] handle_invoke
teaclave-frontend-service          | [DEBUG teaclave_service_enclave_utils] Enclave finalizing
teaclave-frontend-service          | [DEBUG teaclave_service_enclave_utils] g_peak_heap_used: 614400
teaclave-frontend-service          | [DEBUG teaclave_service_enclave_utils] g_peak_rsrv_mem_committed: 0
teaclave-frontend-service          | [2023-12-12T18:58:34Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
teaclave-frontend-service          | [2023-12-12T18:58:34Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
teaclave-frontend-service          | [2023-12-12T18:58:34Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
teaclave-frontend-service          | [2023-12-12T18:58:34Z ERROR teaclave_binder::ipc::app] ecall_ipc_entry_point, app sgx_error:InvalidEcnalveId
teaclave-frontend-service          | [2023-12-12T18:58:34Z ERROR teaclave_binder::binder] IpcError(SgxError(InvalidEcnalveId))
teaclave-frontend-service exited with code 0
```

Maybe a problem of self-signed certificates from PCCS? PCCS is on V3.

Thanks in advance.

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/725/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ugb64,incubator-teaclave,1853996728,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-12-13T14:14:59Z,2023-12-13T14:14:59Z,"Update: I could solve UnsupportedCertVersion error, I had to create a new cert for pccs but with version 3, since it was on version 1, that solved the error. Now I get **UnknownIssuer** error, which I guess it's because the certificate is a self signed one. I don't know if teaclave has some option to allow that kind of certs. 

```
[ERROR teaclave_sgx_tool_enclave] Failed to attest: invalid peer certificate: UnknownIssuer
[2023-12-13T12:37:33Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]
[2023-12-13T12:37:33Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().
[2023-12-13T12:37:33Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes
[TRACE teaclave_sgx_tool_enclave] tee receive cmd: 1002, input_buf = [110, 117, 108, 108]
[DEBUG teaclave_sgx_tool_enclave] handle_invoke
[DEBUG teaclave_service_enclave_utils] Enclave finalizing
[DEBUG teaclave_service_enclave_utils] g_peak_heap_used: 188416
[DEBUG teaclave_service_enclave_utils] g_peak_rsrv_mem_committed: 0
[2023-12-13T12:37:33Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]
Error: ServiceError
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5ugb64/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5u-5V2,incubator-teaclave,1861981558,725,NA,henrysun007,3353452,He Sun,sunhe2007@gmail.com,NA,2023-12-19T02:00:43Z,2023-12-19T02:00:43Z,"It might help for diagnosis if you put the logs of the `DCAP`, `PCCS` and other related services.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5u-5V2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5vET_F,incubator-teaclave,1863401413,725,NA,yangfh2004,20646825,Fanghao Yang,yangfanghao@gmail.com,NA,2023-12-19T20:03:58Z,2023-12-19T20:03:58Z,"Hi, if you are using a self-signed certificate for your PCCS service, there are a few things to pay attention:
1. Open the configuration file for your DCAP attestation under the path `/etc/sgx_default_qcnl.conf`, and make sure that `""use_secure_cert"": false`
2. Make sure that you are pointing at the correct address under the file `pccs_url`
3. Use example codes in https://github.com/intel/SGXDataCenterAttestationPrimitives to verify your PCCS works correctly
4. Watch the logs of your PCCS service","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5vET_F/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5veUtr,incubator-teaclave,1870220139,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-12-27T11:32:06Z,2023-12-27T11:32:06Z,"Update: Installed 1.14 version of PCCS on my VM, error is the same, configuration file `/etc/sgx_default_qcnl.conf` is working well since changes on certs reflect on error logs on teaclave. Sample codes also work as they should. Also ,neither aesmd or pccs services show any errors.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5veUtr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5viI1W,incubator-teaclave,1871220054,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2023-12-28T14:20:44Z,2023-12-28T14:20:44Z,"Some more maybe useful information:

/etc/sgx_default_qcnl.conf content:

```
{                                                                                                                     
// *** ATTENTION : This file is in JSON format so the keys are case sensitive. Don't change them.                                                                                                                                     
//PCCS server address
""pccs_url"": ""https://localhost:8082/sgx/certification/v3/"",
// To accept insecure HTTPS certificate, set this option to false
""use_secure_cert"": false,                                                                                                                                                                                                                 // You can use the Intel PCS or another PCCS to get quote verification collateral.  Retrieval of PCK
// Certificates will always use the PCCS described in PCCS_URL.  When COLLATERAL_SERVICE is not defined, both
// PCK Certs and verification collateral will be retrieved using PCCS_URL
""collateral_service"": ""https://api.trustedservices.intel.com/sgx/certification/v3/"",
```
pccs:
```
pccs.service - Provisioning Certificate Caching Service (PCCS)
     Loaded: loaded (/lib/systemd/system/pccs.service; enabled; vendor preset: enabled)
     Active: active (running) since Thu 2023-12-28 13:02:49 UTC; 1h 11min ago
       Docs: https://github.com/intel/SGXDataCenterAttestationPrimitives/blob/master/QuoteGeneration/pccs/README.md
   Main PID: 38890 (node)
      Tasks: 11 (limit: 38387)
     Memory: 69.3M
     CGroup: /system.slice/pccs.service
             └─38890 /usr/bin/node -r esm /opt/intel/sgx-dcap-pccs/pccs_server.js

dic 28 13:02:49 teaclave-vm systemd[1]: Started Provisioning Certificate Caching Service (PCCS).
dic 28 13:02:49 teaclave-vm node[38890]: Thu, 28 Dec 2023 13:02:49 GMT morgan deprecated default format: use combined format at node_modules/esm/esm.js:1:278827
dic 28 13:02:52 teaclave-vm node[38890]: 2023-12-28 13:02:52.187 [info]: HTTPS Server is running on: https://localhost:8082
```

aesm:
```
aesmd.service - Intel(R) Architectural Enclave Service Manager
Loaded: loaded (/lib/systemd/system/aesmd.service; enabled; vendor preset: enabled)
Active: active (running) since Thu 2023-12-21 16:33:10 UTC; 6 days ago
Main PID: 940 (aesm_service)
Tasks: 4 (limit: 38387)
Memory: 16.3M                                                                                                                                                                                                                                CGroup: /system.slice/aesmd.service
└─940 /opt/intel/sgx-aesm-service/aesm/aesm_service

dic 28 14:07:43 teaclave-vm aesm_service[940]: [QCNL] Try memory cache...
dic 28 14:07:43 teaclave-vm aesm_service[940]: [QCNL] Retrieved PCK certchain from memory cache successfully.
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Try memory cache...
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Retrieved PCK certchain from memory cache successfully.
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Try memory cache...
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Retrieved PCK certchain from memory cache successfully.
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Try memory cache...
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Retrieved PCK certchain from memory cache successfully.
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Try memory cache...
dic 28 14:07:47 teaclave-vm aesm_service[940]: [QCNL] Retrieved PCK certchain from memory cache successfully.
```





","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5viI1W/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5vtYjN,incubator-teaclave,1874168013,725,NA,yangfh2004,20646825,Fanghao Yang,yangfanghao@gmail.com,NA,2024-01-02T15:24:41Z,2024-01-02T15:24:41Z,"It seems that your PCCS service does not log any input or output. Whenever I make SGX DCAP quote, the PCCS service shall log every single API call, its input and output. It seems that either your PCCS log level is too high or you are pointing at the wrong PCCS service.

I suggest that you revise the configuration file `/opt/intel/sgx-dcap-pccs/config/default.json` and change the `LogLevel` to `info` or `debug`, as long as you make the DCAP quote, you will see much more information from the PCCS service log, don't forget to restart the service after you update the configuration file.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5vtYjN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5vxN5f,incubator-teaclave,1875172959,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-01-03T10:48:59Z,2024-01-03T10:48:59Z,"So I changed `LogLevel` to `debug` in `/opt/intel/sgx-dcap-pccs/config/default.json`:

```
{
""HTTPS_PORT"" : 8082,
""hosts"" : ""0.0.0.0"",
""uri"": ""https://api.trustedservices.intel.com/sgx/certification/v3/"",
...
""LogLevel"" : ""debug"",
```

Now once I restart pccs service, I run `sudo -E ./teaclave_sgx_tool attestation --url https://localhost:8082 --algorithm sgx_ecdsa` to test atttestation. Output is the following:

```
[ERROR teaclave_sgx_tool_enclave] Failed to attest: invalid peer certificate: Other(UnsupportedCertVersion)          
[2024-01-03T10:35:40Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 
114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]                                  
[2024-01-03T10:35:40Z DEBUG teaclave_binder::binder] Dropping TeeBinder, start finalize().                           
[2024-01-03T10:35:40Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1002, 4 bytes                           
[TRACE teaclave_sgx_tool_enclave] tee receive cmd: 1002, input_buf = [110, 117, 108, 108]                            
[DEBUG teaclave_sgx_tool_enclave] handle_invoke                                                                      
[DEBUG teaclave_service_enclave_utils] Enclave finalizing                                                            
[DEBUG teaclave_service_enclave_utils] g_peak_heap_used: 180224                                                      
[DEBUG teaclave_service_enclave_utils] g_peak_rsrv_mem_committed: 0                                                 
[2024-01-03T10:35:40Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 79, 107, 34, 58, 110, 117, 108, 108, 125]                                                                                    
Error: ServiceError
```

PCCS show the following:

```
● pccs.service - Provisioning Certificate Caching Service (PCCS)
     Loaded: loaded (/lib/systemd/system/pccs.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2024-01-03 10:40:22 UTC; 2min 0s ago
       Docs: https://github.com/intel/SGXDataCenterAttestationPrimitives/blob/master/QuoteGeneration/pccs/README.md
   Main PID: 96704 (node)
      Tasks: 11 (limit: 38387)
     Memory: 68.4M
     CGroup: /system.slice/pccs.service
             └─96704 /usr/bin/node -r esm /opt/intel/sgx-dcap-pccs/pccs_server.js

ene 03 10:40:22 teaclave-vm systemd[1]: Started Provisioning Certificate Caching Service (PCCS).
ene 03 10:40:22 teaclave-vm node[96704]: Wed, 03 Jan 2024 10:40:22 GMT morgan deprecated default format: use combined format at node_modules/esm/esm.js:1:278827
ene 03 10:40:25 teaclave-vm node[96704]: 2024-01-03 10:40:25.129 [info]: HTTPS Server is running on: https://localhost:8082
```

Although log doesn't show more info I must be pointing at the right service, because if I change pccs cert to a v3 cert, error changes as I said to `[ERROR teaclave_sgx_tool_enclave] Failed to attest: invalid peer certificate: UnknownIssuer` 

In fact, command `curl -v -k -G ""https://localhost:8082/sgx/certification/v3/rootcacrl""` returns what it should,



","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5vxN5f/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v5j8B,incubator-teaclave,1877360385,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-01-04T16:09:24Z,2024-01-04T16:09:24Z,"So doing some testing I used the keys located at `/incubator-teaclave/config/keys` to try to bypass the error. I used `dcap_server_cert.pem` and `dcap_server_key.pem` as my pccs certificate and private key (since the other way around didn't work as it outputs the same error). I was able to solve the issue that way by now, after that, I encountered the following after `sudo -E ./teaclave_sgx_tool attestation --url https://localhost:8082 --algorithm sgx_ecdsa`:


```
[TRACE teaclave_attestation::service] HTTP/1.1 404 Not Found                                                             
X-Powered-By: Express                                                                                                
Request-ID: 0e4fa148a288438da52437c0b7db823c                                                                         
Content-Security-Policy: default-src 'none'                                                                          
X-Content-Type-Options: nosniff                                                                                      
Content-Type: text/html; charset=utf-8                                                                               
Content-Length: 169                                                                                                  
Date: Thu, 04 Jan 2024 16:06:15 GMT                                                                                  
Connection: close                                                                                                                                                                                                                         <!DOCTYPE html>                                                                                                      
<html lang=""en"">                                                                                                    
 <head>                                                                                                               
<meta charset=""utf-8"">                                                                                               
<title>Error</title>                                                                                                 
</head>                                                                                                              
<body>                                                                                                               
<pre>Cannot POST /sgx/dev/attestation/v4/report</pre>                                                                
</body>                                                                                                              
</html>         
                                                                                                                                                                                                                      [DEBUG teaclave_attestation::service] http_response.parse                                                           
[DEBUG teaclave_attestation::service] Attestation service responds an unknown error                                  
[ERROR teaclave_sgx_tool_enclave] Failed to attest: Attestation service responds an unknown error.
```

Also pccs service now shows some log info:

```
ene 04 16:06:15 teaclave-vm node[98964]: 2024-01-04 16:06:15.686 [info]: Client Request-ID : 0e4fa148a288438da52437c0b7db823c
ene 04 16:06:15 teaclave-vm node[98964]: 2024-01-04 16:06:15.694 [info]: 127.0.0.1 - - [04/Jan/2024:16:06:15 +0000] ""POST /sgx/dev/attestation/v4/report HTTP/1.1"" 404 169 ""-"" ""-""
```

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v5j8B/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v59ka,incubator-teaclave,1877465370,725,NA,yangfh2004,20646825,Fanghao Yang,yangfanghao@gmail.com,NA,2024-01-04T17:07:32Z,2024-01-04T17:07:32Z,"Something messed up, it calls EPID attestation API to the DCAP PCCS service. Just let you know that you cannot generate a ""report"" like EPID attestation with DCAP attestation. You will generate a quote from PCCS service if you did everything correctly since you claim that you ran the `QuoteGeneration` from Intel successfully, I assume that you know this, and you shall be able to generate a quote and verify the quote. So the client machine will verify the quote generated by the remote server. You don't need any report from Intel. All attestation collaterals shall be cached locally in the PCCS service.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v59ka/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v6IZ0,incubator-teaclave,1877509748,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-01-04T17:41:16Z,2024-01-04T17:41:16Z,"Yes I am aware of all of that, so I am assuming it is a configuration issue from my teaclave? Since it is the one who is making those requests. Maybe there is some config I should change bu I couldn't find propper DCAP deployment documentation.

Also:

```
admin-ubuntu@teaclave-vm:/opt/intel/SGXDataCenterAttestationPrimitives/SampleCode/QuoteGenerationSample$ ./app                                                                                                                            
Step1: Call sgx_qe_get_target_info:succeed!                                                                          
Step2: Call create_app_report:succeed!                                                                               
Step3: Call sgx_qe_get_quote_size:succeed!                                                                           
Step4: Call sgx_qe_get_quote:succeed!cert_key_type = 0x5
```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v6IZ0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v6tCI,incubator-teaclave,1877659784,725,NA,yangfh2004,20646825,Fanghao Yang,yangfanghao@gmail.com,NA,2024-01-04T19:38:55Z,2024-01-04T19:38:55Z,"> Yes I am aware of all of that, so I am assuming it is a configuration issue from my teaclave? Since it is the one who is making those requests. Maybe there is some config I should change bu I couldn't find propper DCAP deployment documentation.
> 
> Also:
> 
> ```
> admin-ubuntu@teaclave-vm:/opt/intel/SGXDataCenterAttestationPrimitives/SampleCode/QuoteGenerationSample$ ./app                                                                                                                            
> Step1: Call sgx_qe_get_target_info:succeed!                                                                          
> Step2: Call create_app_report:succeed!                                                                               
> Step3: Call sgx_qe_get_quote_size:succeed!                                                                           
> Step4: Call sgx_qe_get_quote:succeed!cert_key_type = 0x5
> ```

https://www.intel.com/content/www/us/en/developer/articles/guide/intel-software-guard-extensions-data-center-attestation-primitives-quick-install-guide.html
This is the best official doc I can find from Intel. For the teaclave, I am afraid that you might need to trace down the source code and find out why. If there is a bug, you may submit a PR to fix it.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5v6tCI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5wCW4-,incubator-teaclave,1879666238,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-01-06T12:27:17Z,2024-01-06T12:27:17Z,"I might need to trace down source code, nevertheless, I am only able to bypass the certificate error using the attestation tool to test it, if I try to load teaclave services, I get `NotValidForName` error, using teaclave DCAP certificates on PCCS service. So I guess there should be another solution to make it work. It would be great to know if PCCS needs some particular type of certificates or some kind of config needs to be changed to make it work.

```
[33mteaclave-authentication-service    |[0m [DEBUG teaclave_attestation::platform::sgx] ocall_sgx_get_quote
[33mteaclave-authentication-service    |[0m [DEBUG teaclave_attestation::platform::sgx] sgx verify report
[36mteaclave-access-control-service    |[0m [TRACE rustls::client::client_conn] EarlyData rejected
[33mteaclave-authentication-service    |[0m [DEBUG teaclave_attestation::platform::sgx] sgx sha256 slice
[33mteaclave-authentication-service    |[0m [DEBUG teaclave_attestation::service] get_report
[36mteaclave-access-control-service    |[0m [TRACE rustls::conn] Dropping CCS
[36mteaclave-access-control-service    |[0m [DEBUG rustls::client::tls13] TLS1.3 encrypted extensions: []
[33mteaclave-authentication-service    |[0m [TRACE teaclave_attestation::service] POST /sgx/dev/attestation/v4/report HTTP/1.1
[33mteaclave-authentication-service    |[0m     HOST: 172.17.0.1
[33mteaclave-authentication-service    |[0m     Ocp-Apim-Subscription-Key: 00000000000000000000000000000000
[33mteaclave-authentication-service    |[0m     Connection: Close
[33mteaclave-authentication-service    |[0m     Content-Length: 6334
[33mteaclave-authentication-service    |[0m     Content-Type: application/json
[33mteaclave-authentication-service    |[0m     
[33mteaclave-authentication-service    |[0m     {""isvEnclaveQuote"":""AwACAAAAAAAIAA0Ak5pyM/ecTKmUCg2zlX8GB0dalgfhMXFAFe27s3vcx64AAAAACw0QD///AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAADnAAAAAAAAAHwfecnmm1QBCa4W7UcC2/XNhE9gLeDIg5t09O7T13f9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACD1xnnferKFHD2uvYqTXdDA8iZ22kCD5xw7h38CMfOngAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABKjBywACcWAXi38PHqOTE03JrkfERRgiEMS49ky4xxxjzHcPj9QXQ0/sQNq6mBG6NzRa4ZOsQcwVeAKl29lv6LyRAAAKt9/e6gfVLPQLK1UCJDnQEqEw4zMICsnqFefGXZk14Nd3tpDBrFJxmnVBqdO89mOegDVXOfvKVkGNGY8ftN9V0hmhosm+Wf7U6JcVif56CdZIp1BqS7XDJtfjOzabrIJECp/Ep8kP3M+XfHO8T6PJ+8w1/uYU7PuQS1C64u6CLzCw0QD///AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFQAAAAAAAADnAAAAAAAAAIzlhoW+NuRhh8Izx+me1v5127M/dWetohewd+zYz4L5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMT1d115ZQPpYTf3fGioKaAFasje1wFAsIGwlEkMV7/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACqS6/fjR4y6gHK9tNpIcS/gEmcVshtWFHRyExBUyQBCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAh9lFIKCJWBuRZv6JtBt1P0EhuXLrp43IN1j6KxP/OK5DRl9NnDsZhwT79BVan3xkxjav1zmC0MNeedYwwgEZACAAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8FAGEOAAAtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRThqQ0NCSmlnQXdJQkFnSVVBTWNIOFJMeUhURXBTdml2M09Qa08xTm9tSUl3Q2dZSUtvWkl6ajBFQXdJdwpjREVpTUNBR0ExVUVBd3daU1c1MFpXd2dVMGRZSUZCRFN5QlFiR0YwWm05eWJTQkRRVEVhTUJnR0ExVUVDZ3dSClNXNTBaV3dnUTI5eWNHOXlZWFJwYjI0eEZEQVNCZ05WQkFjTUMxTmhiblJoSUVOc1lYSmhNUXN3Q1FZRFZRUUkKREFKRFFURUxNQWtHQTFVRUJoTUNWVk13SGhjTk1qTXhNakkzTVRBek1UUTRXaGNOTXpBeE1qSTNNVEF6TVRRNApXakJ3TVNJd0lBWURWUVFEREJsSmJuUmxiQ0JUUjFnZ1VFTkxJRU5sY25ScFptbGpZWFJsTVJvd0dBWURWUVFLCkRCRkpiblJsYkNCRGIzSndiM0poZEdsdmJqRVVNQklHQTFVRUJ3d0xVMkZ1ZEdFZ1EyeGhjbUV4Q3pBSkJnTlYKQkFnTUFrTkJNUXN3Q1FZRFZRUUdFd0pWVXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkthUApxWlNTOERUNVVyMHhEWmlEQnhPRDNZT0o5YzBJN3BCanNSOUo5OW95enVJbm9qZlE4eE9oUExwb3lrcU9kWkxJCjkxZXA1VkUzZW5JRGhRYWtrZCtqZ2dNT01JSURDakFmQmdOVkhTTUVHREFXZ0JTVmIxM052UnZoNlVCSnlkVDAKTTg0QlZ3dmVWREJyQmdOVkhSOEVaREJpTUdDZ1hxQmNobHBvZEhSd2N6b3ZMMkZ3YVM1MGNuVnpkR1ZrYzJWeQpkbWxqWlhNdWFXNTBaV3d1WTI5dEwzTm5lQzlqWlhKMGFXWnBZMkYwYVc5dUwzWXpMM0JqYTJOeWJEOWpZVDF3CmJHRjBabTl5YlNabGJtTnZaR2x1Wnoxa1pYSXdIUVlEVlIwT0JCWUVGS3N4OUNLRXJyWVlUblk2TEVXbi9IYTIKMkQ5dE1BNEdBMVVkRHdFQi93UUVBd0lHd0RBTUJnTlZIUk1CQWY4RUFqQUFNSUlDT3dZSktvWklodmhOQVEwQgpCSUlDTERDQ0FpZ3dIZ1lLS29aSWh2aE5BUTBCQVFRUVQya2pFcU01MTBZNFFkR1Z3Qk9kTkRDQ0FXVUdDaXFHClNJYjRUUUVOQVFJd2dnRlZNQkFHQ3lxR1NJYjRUUUVOQVFJQkFnRUxNQkFHQ3lxR1NJYjRUUUVOQVFJQ0FnRUwKTUJBR0N5cUdTSWI0VFFFTkFRSURBZ0VETUJBR0N5cUdTSWI0VFFFTkFRSUVBZ0VETUJFR0N5cUdTSWI0VFFFTgpBUUlGQWdJQS96QVJCZ3NxaGtpRytFMEJEUUVDQmdJQ0FQOHdFQVlMS29aSWh2aE5BUTBCQWdjQ0FRRXdFQVlMCktvWklodmhOQVEwQkFnZ0NBUUF3RUFZTEtvWklodmhOQVEwQkFna0NBUUF3RUFZTEtvWklodmhOQVEwQkFnb0MKQVFBd0VBWUxLb1pJaHZoTkFRMEJBZ3NDQVFBd0VBWUxLb1pJaHZoTkFRMEJBZ3dDQVFBd0VBWUxLb1pJaHZoTgpBUTBCQWcwQ0FRQXdFQVlMS29aSWh2aE5BUTBCQWc0Q0FRQXdFQVlMS29aSWh2aE5BUTBCQWc4Q0FRQXdFQVlMCktvWklodmhOQVEwQkFoQUNBUUF3RUFZTEtvWklodmhOQVEwQkFoRUNBUTB3SHdZTEtvWklodmhOQVEwQkFoSUUKRUFzTEF3UC8vd0VBQUFBQUFBQUFBQUF3RUFZS0tvWklodmhOQVEwQkF3UUNBQUF3RkFZS0tvWklodmhOQVEwQgpCQVFHTUdCcUFBQUFNQThHQ2lxR1NJYjRUUUVOQVFVS0FRRXdIZ1lLS29aSWh2aE5BUTBCQmdRUU1BVmNGY25DCnVBWERtdWtwMW0xYnhUQkVCZ29xaGtpRytFMEJEUUVITURZd0VBWUxLb1pJaHZoTkFRMEJCd0VCQWY4d0VBWUwKS29aSWh2aE5BUTBCQndJQkFRQXdFQVlMS29aSWh2aE5BUTBCQndNQkFRQXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUlnQzF6b2lkbEcvaWxWdlBEUFhzZkw2RmpGa0JxbDg5OFdqdno5MG55NDhsSUNJUUNxMmFzbmcyaFdNMmY1Ci9XS0h5NmI3OVljWDdIdmRoc1B2amc0M005S2UwZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNsakNDQWoyZ0F3SUJBZ0lWQUpWdlhjMjlHK0hwUUVuSjFQUXp6Z0ZYQzk1VU1Bb0dDQ3FHU000OUJBTUMKTUdneEdqQVlCZ05WQkFNTUVVbHVkR1ZzSUZOSFdDQlNiMjkwSUVOQk1Sb3dHQVlEVlFRS0RCRkpiblJsYkNCRApiM0p3YjNKaGRHbHZiakVVTUJJR0ExVUVCd3dMVTJGdWRHRWdRMnhoY21FeEN6QUpCZ05WQkFnTUFrTkJNUXN3CkNRWURWUVFHRXdKVlV6QWVGdzB4T0RBMU1qRXhNRFV3TVRCYUZ3MHpNekExTWpFeE1EVXdNVEJhTUhBeElqQWcKQmdOVkJBTU1HVWx1ZEdWc0lGTkhXQ0JRUTBzZ1VHeGhkR1p2Y20wZ1EwRXhHakFZQmdOVkJBb01FVWx1ZEdWcwpJRU52Y25CdmNtRjBhVzl1TVJRd0VnWURWUVFIREF0VFlXNTBZU0JEYkdGeVlURUxNQWtHQTFVRUNBd0NRMEV4CkN6QUpCZ05WQkFZVEFsVlRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVOU0IvN3QyMWxYU08KMkN1enB4dzc0ZUpCNzJFeURHZ1c1clhDdHgydFZUTHE2aEtrNnorVWlSWkNucVI3cHNPdmdxRmVTeGxtVGxKbAplVG1pMldZejNxT0J1ekNCdURBZkJnTlZIU01FR0RBV2dCUWlaUXpXV3AwMGlmT0R0SlZTdjFBYk9TY0dyREJTCkJnTlZIUjhFU3pCSk1FZWdSYUJEaGtGb2RIUndjem92TDJObGNuUnBabWxqWVhSbGN5NTBjblZ6ZEdWa2MyVnkKZG1salpYTXVhVzUwWld3dVkyOXRMMGx1ZEdWc1UwZFlVbTl2ZEVOQkxtUmxjakFkQmdOVkhRNEVGZ1FVbFc5ZAp6YjBiNGVsQVNjblU5RFBPQVZjTDNsUXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCCkFmOENBUUF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnWHNWa2kwdytpNlZZR1czVUYvMjJ1YVhlMFlKRGoxVWUKbkErVGpEMWFpNWNDSUNZYjFTQW1ENXhrZlRWcHZvNFVveWlTWXhyRFdMbVVSNENJOU5LeWZQTisKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ2p6Q0NBalNnQXdJQkFnSVVJbVVNMWxxZE5JbnpnN1NWVXI5UUd6a25CcXd3Q2dZSUtvWkl6ajBFQXdJdwphREVhTUJnR0ExVUVBd3dSU1c1MFpXd2dVMGRZSUZKdmIzUWdRMEV4R2pBWUJnTlZCQW9NRVVsdWRHVnNJRU52CmNuQnZjbUYwYVc5dU1SUXdFZ1lEVlFRSERBdFRZVzUwWVNCRGJHRnlZVEVMTUFrR0ExVUVDQXdDUTBFeEN6QUoKQmdOVkJBWVRBbFZUTUI0WERURTRNRFV5TVRFd05EVXhNRm9YRFRRNU1USXpNVEl6TlRrMU9Wb3dhREVhTUJnRwpBMVVFQXd3UlNXNTBaV3dnVTBkWUlGSnZiM1FnUTBFeEdqQVlCZ05WQkFvTUVVbHVkR1ZzSUVOdmNuQnZjbUYwCmFXOXVNUlF3RWdZRFZRUUhEQXRUWVc1MFlTQkRiR0Z5WVRFTE1Ba0dBMVVFQ0F3Q1EwRXhDekFKQmdOVkJBWVQKQWxWVE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUM2bkV3TURJWVpPai9pUFdzQ3phRUtpNwoxT2lPU0xSRmhXR2pibkJWSmZWbmtZNHUzSWprRFlZTDBNeE80bXFzeVlqbEJhbFRWWXhGUDJzSkJLNXpsS09CCnV6Q0J1REFmQmdOVkhTTUVHREFXZ0JRaVpReldXcDAwaWZPRHRKVlN2MUFiT1NjR3JEQlNCZ05WSFI4RVN6QkoKTUVlZ1JhQkRoa0ZvZEhSd2N6b3ZMMk5sY25ScFptbGpZWFJsY3k1MGNuVnpkR1ZrYzJWeWRtbGpaWE11YVc1MApaV3d1WTI5dEwwbHVkR1ZzVTBkWVVtOXZkRU5CTG1SbGNqQWRCZ05WSFE0RUZnUVVJbVVNMWxxZE5JbnpnN1NWClVyOVFHemtuQnF3d0RnWURWUjBQQVFIL0JBUURBZ0VHTUJJR0ExVWRFd0VCL3dRSU1BWUJBZjhDQVFFd0NnWUkKS29aSXpqMEVBd0lEU1FBd1JnSWhBT1cvNVFrUitTOUNpU0RjTm9vd0x1UFJMc1dHZi9ZaTdHU1g5NEJnd1R3ZwpBaUVBNEowbHJIb01zK1hvNW8vc1g2TzlRV3hIUkF2WlVHT2RSUTdjdnFSWGFxST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=""}
[36mteaclave-access-control-service    |[0m [DEBUG rustls::client::hs] ALPN protocol is None
[33mteaclave-authentication-service    |[0m [DEBUG rustls::anchors] add_parsable_certificates processed 1 valid and 0 invalid certs
[36mteaclave-access-control-service    |[0m [TRACE rustls::client::tls13] Server cert is [Certificate(b""0\x82\x0520\x82\x03\x1a\xa0\x03\x02\x01\x02\x02\x14M\x9d\xab\x81\xdap\xaf\x92s\xa7_\x0e\xd2\x84Py\x99\xb3\xa8\xf20\r\x06\t*\x86H\x86\xf7\r\x01\x01\x0b\x05\00K1\x0b0\t\x06\x03U\x04\x06\x13\x02US1\x0b0\t\x06\x03U\x04\x08\x0c\x02CA1\x140\x12\x06\x03U\x04\n\x0c\x0bTeaclave CA1\x190\x17\x06\x03U\x04\x03\x0c\x10Teaclave Root CA0\x1e\x17\r200205190921Z\x17\r300202190921Z0A1\x0b0\t\x06\x03U\x04\x06\x13\x02US1\x0b0\t\x06\x03U\x04\x08\x0c\x02CA1\x110\x0f\x06\x03U\x04\n\x0c\x08Teaclave1\x120\x10\x06\x03U\x04\x03\x0c\tlocalhost0\x82\x02\""0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x01\x05\0\x03\x82\x02\x0f\00\x82\x02\n\x02\x82\x02\x01\0\xf0\x19b\x8ftM\xfeP\xa1lbyGT\xb0\xa6t\x96\xad\xd7{K,Y\xf7d\xaf\xf9\x92J\xbb\xe9:\xa1tz-\xb6\xfa\xffJ\n\xad.=\xca\x878\""YXd\xe4\xb4b\x0b\xear\x99\xf9\xa4\xf3\xfd\xb8E\\*$l\xa1C\xbdzP\x99K\xde\xd2L\xd8\xecP\x98\xbbi\x95\x97\x88v\xf4\x18\xc7\xd8\xe56H\x81\xc4\xc8\t\x1b\x03{\xdes5`p!\x90\x13\xd7\xb4\x97\xef\xcdp/\xc2\xd7|@K\x0e\xb8\xd5n}\rH\x01\x81|R\x0euw\x17+Y\xfd\n\xa3\xb3\xcb\x1f\x0boQ\xa6\xa0\x9f\x05\xd0\xd0\xff6X\x07\xb6\xcaBx\xc3\x99\xf8\x92(pl\xf0\xa4\xa2\xe48K\xc3\x85\x94\x02\xb6\\HAZ\xe0P=m\xd0\x87\xc5j\xa3=Q\xd2[C\xa2v`\xb0>\x93\xadE\x90\x7fj\x04\xb2]LX,\xd8\x84\x8e`8\x80b\x86\x98P\xb4\x16\xc6!\x02\x97\xc5qn\x8d\xb0\xfa\xb0\x87\x06\xa5?\x17\x88\xa2\xe4\x9d\xeeU\xc8\xb1\xa3\x94\x10\xe4\xfcT\x8e\x8a\n#\x94y_\xb8\xd7\x0e\x14\xe5\xb7{\x1d=\xf8E\xed\xb8\x9f \x13s\x1emd\x03u\xc1\""\xa0-}\x990\x8fB\t\xe0^\xb9\x0e\xb3Tg\xd6\xe2\x85\xe1\x8f\x10\xc4\xa2\xd1\xd5\x8e\x93uXR\x8a^\x1f[\xd1\xcd'\xa5\xc0\xc1\xd6\xd4{\x8f\xad\xa0\xecZ\x1b2\x9fI\x01\xd6\x87\x86xw,'\xc7\xda\xcf\x1f\x06\xc2\xcd\xa1f\xb9\x1f]\x86b8\xf3Y \x95\xab\xc4A?;o\xa2\xd8\nTx\xb4\xd3\xed[\xac\xa3f\x9b\\Y/\x9ao\xd6\xedp\xcf\xbb\xfb\x13I\x04Do\xa6\xb7/\x1bDRfZ\xd8\xd0`\x84]\x93\xd0\xb5\x88\r\x0eb%/\x1c\x89\x14/\x05\xd5B5\xa8\x89*\xe2\x84\xb2Q\x84\x82\xf2\x8f\x1c\xae\xf1\xa1\xe30*L<\xf9Fwz\xa8\xb8[\x0f\xd19\x873\x131gO\x84\x96\xe8\x029\xfd;\x184\xca\x0b\xb8)+\x9a\x17\xe6\xd8\xb3\xbd\xbd\x89\xd7\xf8\xc2\xffd-\te\xf1\xf9\x1e\x19\xeeX\x9b\x94\xc4\xc7\xce#/\x02\x03\x01\0\x01\xa3\x180\x160\x14\x06\x03U\x1d\x11\x04\r0\x0b\x82\tlocalhost0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x0b\x05\0\x03\x82\x02\x01\0K\xcb\xa5?4\x08\x88\xcb\x038\xcd\xdb\xa5\xa9\x90\xf9\xfb9\x9e\xc8M\x11\xbb\xbf2\xb8uJ\x8f'\x8b\xda/ \xe6\xe9\t\x19\xbb\xcb7\xc0\xd5\x07\x9b\x81\x14\x7f\xc0\x86\x8a\r8\x1f6=\r\x11\x1c%\xbeN\x8a\x88Ba;X\xcb\x83+\xb5\x17\n\xd8\xb9\xcb4\xe8\tK\xcb\n)\xb4[\x85\x19XL#\xf8\xd7a\xc2\xa1\xb6\x9d\xbc\xef1~\xf4!?[\xa88bJpC\xbd\xc7\xc3\xfam2\x82\xd4ITH\xfd\xd5u\x12C<\xb3\xdc\t\xe9\x9fZ\x8b\xae\xc8\xe1h\xdb3\xea\x13\x98\xfb\xfdGW\x95C\xde\xed)\xe0\xd0\xfd \x1a?\xdd\xd4\xcd\xa9W\x8cC\xd0\xc9\xf7\xcf\xe7m\xc4MK\xdf\xdaZ[\xd9[8\x035\xd5\x96\xc7&\xa4\xe4\x04C\xd4\xb9\x82\x19Z\xacR\xdd\nb\xd8Z@(\xb2\xe2E\rzU\xe5\xe0\xb6\xb1\xe6\x82Pe\xa5C\x94\xad\x80\\AF\xd5\x8azV;z4\x1c\x97}\x0e\xe2sr\xbfq\x8b\x030\xffG&\x05=_\xdfc7\xbb(\xff\xc4d\x9f\x05\xf6 \xeboY\xef\x9d\x88\xbb\x1a\x98e\xa7\x0872\xf0\x16'<\xa2U\xf1\""\x9d\x8c\xfe\x804\x9c\xe8;@L-%V8~\xdd\xb3\xff\x92\x8c\xd3\x19\xde\xcaD\xfe\x9a\xc4\x0f[\xbc\x0f>\xb0O\xc8:\xec\xac\xd6\x83sg\xc5r2\x06\xd9\x902?\x83\t[P\xa4\x83\xb3<]\x9f/\xc5\xec\xfc-\xe5#q\xb8}w\xfbjd\x80\x87\xd5\rH\x84\x9d\xa3p\x01wlu\0uj!\xe4\xaeG\xc2\x84\x15W!\xd2B\x95C\xf2\xf1V\xe7<G\xb3\x10j\x8f\xdf\xe8\xc0\xd5\x12y\xefN\xac \x05\x9e\x9e\x03\x80\xd3kA6\xff\xd4\x18\x051k\x94\x86\x15\xb9\x1b*\xf9mC\xdf6,l\xce\xa8\xde4\x8f\xe64\xaf}\xde\x10]*+\xb4\x9b\xea\x1b%\x1c2\xe8^\xed\xc3\xbcA\xbe:m?\xe5\x1aeA\x89\xf7'\xdb\xe0\x01D\xdd\xeb\x0f\xba\xa1\x96F-\xfa\x9fEz\xaa\xf3\xa9\x17\xcd\xb8Mc\xbd\xdf\xdcAa\xcb\x88\xea\xc9m"")]
[32mteaclave-execution-service         |[0m [2024-01-05T11:07:21Z TRACE teaclave_config::runtime] Loaded config from runtime.config.toml: RuntimeConfig { api_endpoints: ApiEndpointsConfig { frontend: ApiEndpoint { listen_address: 0.0.0.0:7777 }, authentication: ApiEndpoint { listen_address: 0.0.0.0:7776 } }, internal_endpoints: InternalEndpointsConfig { access_control: InternalEndpoint { listen_address: 0.0.0.0:17779, advertised_address: ""https://teaclave-access-control-service:17779"" }, authentication: InternalEndpoint { listen_address: 0.0.0.0:17776, advertised_address: ""https://teaclave-authentication-service:17776"" }, management: InternalEndpoint { listen_address: 0.0.0.0:17777, advertised_address: ""https://teaclave-management-service:17777"" }, storage: InternalEndpoint { listen_address: 0.0.0.0:17778, advertised_address: ""https://teaclave-storage-service:17778"" }, execution: InternalEndpoint { listen_address: 0.0.0.0:17770, advertised_address: ""https://teaclave-execution-service:17770"" }, scheduler: InternalEndpoint { listen_address: 0.0.0.0:17780, advertised_address: ""https://teaclave-scheduler-service:17780"" } }, audit: AuditConfig { enclave_info_source: Path(""enclave_info.toml""), auditor_signatures_source: [Path(""auditors/godzilla/godzilla.sign.sha256""), Path(""auditors/optimus_prime/optimus_prime.sign.sha256""), Path(""auditors/albus_dumbledore/albus_dumbledore.sign.sha256"")], enclave_info_bytes: [91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 97, 99, 99, 101, 115, 115, 95, 99, 111, 110, 116, 114, 111, 108, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 52, 49, 100, 102, 57, 56, 50, 52, 101, 55, 48, 101, 50, 99, 97, 98, 49, 56, 101, 98, 51, 56, 50, 102, 54, 57, 101, 100, 52, 97, 53, 56, 100, 55, 54, 98, 97, 49, 97, 48, 50, 57, 100, 99, 99, 55, 49, 52, 101, 48, 99, 50, 99, 56, 98, 98, 52, 49, 55, 97, 49, 101, 55, 53, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 97, 117, 116, 104, 101, 110, 116, 105, 99, 97, 116, 105, 111, 110, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 55, 99, 49, 102, 55, 57, 99, 57, 101, 54, 57, 98, 53, 52, 48, 49, 48, 57, 97, 101, 49, 54, 101, 100, 52, 55, 48, 50, 100, 98, 102, 53, 99, 100, 56, 52, 52, 102, 54, 48, 50, 100, 101, 48, 99, 56, 56, 51, 57, 98, 55, 52, 102, 52, 101, 101, 100, 51, 100, 55, 55, 55, 102, 100, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 101, 120, 101, 99, 117, 116, 105, 111, 110, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 100, 54, 101, 53, 102, 48, 100, 49, 57, 53, 98, 49, 54, 53, 102, 50, 49, 57, 49, 50, 51, 52, 98, 97, 100, 102, 55, 49, 99, 54, 56, 48, 54, 52, 52, 99, 99, 53, 102, 49, 102, 55, 55, 57, 55, 53, 102, 100, 54, 48, 53, 99, 49, 48, 101, 51, 99, 97, 51, 51, 100, 53, 49, 97, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 102, 114, 111, 110, 116, 101, 110, 100, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 98, 99, 48, 97, 56, 100, 99, 98, 102, 55, 55, 57, 50, 48, 48, 50, 48, 101, 97, 56, 57, 48, 53, 51, 49, 55, 53, 53, 52, 100, 55, 51, 99, 100, 51, 101, 55, 100, 56, 53, 50, 102, 53, 54, 100, 52, 98, 54, 100, 98, 97, 56, 51, 99, 53, 53, 101, 50, 97, 101, 99, 102, 99, 100, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 102, 117, 110, 99, 116, 105, 111, 110, 97, 108, 95, 116, 101, 115, 116, 115, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 99, 53, 48, 99, 55, 99, 57, 57, 101, 49, 98, 48, 54, 56, 101, 100, 49, 56, 55, 98, 55, 53, 57, 97, 48, 55, 102, 57, 98, 97, 97, 55, 50, 50, 52, 98, 57, 54, 101, 100, 56, 48, 56, 98, 57, 55, 101, 99, 99, 53, 50, 51, 57, 97, 56, 99, 50, 101, 101, 50, 53, 99, 55, 102, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 105, 110, 116, 101, 103, 114, 97, 116, 105, 111, 110, 95, 116, 101, 115, 116, 115, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 57, 53, 99, 101, 52, 99, 53, 54, 57, 54, 51, 55, 51, 55, 57, 101, 53, 56, 100, 49, 48, 48, 57, 54, 100, 100, 55, 97, 98, 102, 98, 49, 49, 56, 100, 55, 54, 100, 101, 57, 102, 55, 55, 53, 97, 99, 51, 99, 97, 52, 55, 99, 48, 53, 57, 57, 54, 57, 54, 98, 55, 48, 57, 98, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 109, 97, 110, 97, 103, 101, 109, 101, 110, 116, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 53, 49, 99, 100, 54, 101, 48, 55, 98, 56, 49, 52, 97, 97, 49, 48, 98, 100, 97, 54, 99, 52, 54, 57, 56, 97, 98, 50, 56, 54, 56, 50, 56, 56, 53, 52, 57, 100, 99, 57, 99, 101, 102, 101, 102, 102, 97, 97, 56, 98, 100, 101, 56, 51, 49, 55, 55, 54, 97, 102, 102, 98, 56, 50, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 115, 99, 104, 101, 100, 117, 108, 101, 114, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 56, 49, 97, 97, 99, 99, 99, 100, 50, 54, 97, 56, 55, 99, 51, 99, 100, 49, 102, 98, 54, 49, 49, 48, 97, 102, 52, 100, 101, 102, 53, 101, 97, 102, 99, 53, 52, 49, 49, 101, 53, 98, 102, 50, 54, 52, 49, 98, 102, 102, 99, 49, 55, 99, 101, 101, 54, 50, 55, 52, 57, 102, 97, 52, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 115, 116, 111, 114, 97, 103, 101, 95, 115, 101, 114, 118, 105, 99, 101, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 51, 101, 100, 54, 98, 51, 53, 50, 102, 52, 56, 97, 100, 52, 53, 99, 55, 48, 101, 48, 51, 97, 52, 98, 97, 48, 101, 51, 97, 54, 99, 100, 53, 53, 52, 98, 98, 100, 52, 49, 51, 55, 50, 57, 100, 99, 97, 48, 52, 100, 57, 102, 55, 49, 56, 53, 49, 98, 50, 55, 100, 99, 51, 53, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10, 91, 116, 101, 97, 99, 108, 97, 118, 101, 95, 117, 110, 105, 116, 95, 116, 101, 115, 116, 115, 93, 10, 109, 114, 95, 101, 110, 99, 108, 97, 118, 101, 32, 61, 32, 34, 100, 54, 57, 52, 100, 52, 55, 101, 55, 57, 56, 48, 55, 102, 101, 98, 97, 99, 49, 57, 49, 53, 54, 56, 51, 52, 99, 50, 97, 97, 49, 52, 57, 57, 99, 56, 102, 101, 52, 52, 50, 57, 51, 49, 53, 54, 57, 53, 48, 49, 97, 102, 98, 57, 51, 54, 97, 101, 51, 100, 50, 101, 102, 100, 34, 10, 109, 114, 95, 115, 105, 103, 110, 101, 114, 32, 32, 61, 32, 34, 56, 51, 100, 55, 49, 57, 101, 55, 55, 100, 101, 97, 99, 97, 49, 52, 55, 48, 102, 54, 98, 97, 102, 54, 50, 97, 52, 100, 55, 55, 52, 51, 48, 51, 99, 56, 57, 57, 100, 98, 54, 57, 48, 50, 48, 102, 57, 99, 55, 48, 101, 101, 49, 100, 102, 99, 48, 56, 99, 55, 99, 101, 57, 101, 34, 10], auditor_signatures_bytes: [[72, 203, 95, 240, 178, 58, 112, 100, 180, 50, 23, 33, 159, 214, 209, 252, 128, 160, 150, 130, 64, 221, 93, 1, 92, 187, 148, 141, 70, 144, 61, 40, 241, 5, 173, 24, 215, 131, 95, 44, 175, 209, 146, 189, 54, 110, 118, 198, 194, 132, 171, 214, 60, 33, 244, 19, 77, 232, 41, 59, 209, 66, 182, 238, 189, 232, 68, 235, 171, 99, 116, 14, 100, 201, 15, 166, 212, 124, 69, 224, 0, 165, 183, 210, 139, 125, 199, 38, 1, 200, 168, 94, 242, 15, 156, 5, 131, 218, 81, 124, 167, 207, 32, 208, 72, 174, 40, 170, 226, 158, 211, 220, 125, 151, 249, 163, 97, 201, 29, 161, 15, 142, 137, 46, 161, 123, 161, 127, 195, 98, 59, 14, 158, 222, 194, 167, 184, 245, 226, 73, 80, 187, 25, 250, 48, 160, 22, 8, 88, 184, 126, 90, 181, 184, 190, 155, 71, 171, 128, 19, 40, 68, 79, 37, 30, 12, 31, 223, 8, 103, 145, 149, 136, 206, 72, 27, 143, 237, 29, 86, 94, 68, 233, 62, 118, 250, 225, 77, 167, 167, 221, 111, 171, 35, 224, 55, 135, 178, 174, 131, 241, 188, 165, 89, 182, 101, 54, 232, 61, 107, 100, 4, 96, 231, 131, 147, 25, 133, 94, 118, 203, 246, 168, 211, 53, 82, 166, 142, 222, 51, 38, 43, 173, 144, 176, 230, 0, 81, 137, 40, 165, 219, 195, 166, 228, 118, 75, 154, 108, 61, 6, 117, 75, 111, 181, 254, 97, 23, 117, 21, 225, 173, 228, 98, 92, 59, 139, 18, 24, 27, 174, 81, 74, 124, 47, 113, 172, 115, 43, 189, 202, 82, 125, 42, 235, 183, 36, 143, 57, 90, 91, 242, 215, 98, 233, 239, 37, 129, 157, 155, 58, 190, 96, 84, 2, 157, 203, 226, 36, 153, 156, 98, 66, 110, 204, 99, 32, 160, 45, 167, 144, 153, 85, 22, 225, 79, 165, 21, 218, 218, 145, 230, 65, 184, 186, 211, 67, 26, 187, 214, 76, 142, 229, 163, 188, 13, 135, 252, 148, 114, 76, 187, 93, 33, 130, 117, 64, 19, 62, 234, 66, 117, 16, 254, 114, 96, 203, 13, 29, 42, 80, 191, 137, 159, 249, 126, 187, 73, 75, 218, 129, 53, 110, 95, 53, 79, 222, 182, 144, 91, 221, 193, 212, 117, 57, 190, 53, 126, 155, 93, 128, 73, 175, 131, 129, 61, 32, 12, 63, 57, 252, 76, 66, 238, 109, 228, 210, 214, 163, 165, 127, 4, 205, 195, 105, 0, 176, 122, 109, 94, 212, 61, 195, 15, 130, 84, 233, 250, 26, 248, 198, 194, 231, 210, 87, 120, 160, 25, 103, 6, 89, 97, 223, 204, 139, 201, 16, 36, 172, 131, 180, 15, 145, 19, 138, 95, 196, 161, 106, 38, 192, 166, 0, 117, 159, 13, 191, 38, 11, 227, 151, 80, 210, 31, 99, 168, 176, 81, 219, 215, 94, 173, 1, 129, 63, 120, 16, 109, 254, 84, 131, 155, 234, 190, 88, 140, 224, 77, 122, 66, 153, 169], [132, 113, 111, 112, 69, 213, 152, 220, 170, 102, 105, 60, 59, 38, 82, 200, 58, 254, 156, 241, 76, 153, 245, 119, 232, 174, 70, 96, 198, 108, 233, 243, 96, 24, 229, 221, 66, 25, 165, 39, 250, 147, 64, 249, 144, 15, 192, 240, 244, 30, 100, 89, 168, 120, 12, 34, 119, 14, 60, 104, 91, 215, 53, 46, 110, 49, 99, 220, 128, 223, 224, 115, 143, 44, 28, 186, 15, 40, 40, 169, 172, 217, 112, 128, 171, 192, 186, 2, 209, 28, 229, 214, 222, 54, 243, 152, 248, 71, 209, 179, 192, 227, 57, 1, 153, 36, 200, 32, 48, 163, 153, 220, 32, 49, 28, 30, 166, 141, 98, 230, 239, 60, 42, 45, 239, 253, 248, 196, 76, 230, 28, 235, 151, 81, 63, 184, 235, 247, 128, 45, 241, 118, 76, 114, 171, 147, 91, 166, 176, 205, 252, 89, 146, 64, 136, 67, 157, 210, 148, 199, 101, 71, 134, 189, 109, 245, 126, 7, 147, 70, 237, 240, 167, 225, 5, 217, 33, 64, 75, 190, 96, 212, 253, 231, 218, 17, 187, 201, 27, 8, 47, 241, 70, 11, 79, 160, 51, 123, 240, 173, 150, 216, 164, 146, 119, 155, 190, 30, 194, 167, 64, 180, 65, 161, 28, 195, 209, 38, 168, 3, 123, 109, 37, 107, 50, 89, 31, 3, 192, 20, 234, 65, 189, 231, 182, 135, 154, 124, 249, 147, 57, 22, 69, 235, 131, 78, 106, 59, 113, 248, 132, 252, 190, 51, 172, 10, 65, 206, 18, 228, 225, 112, 48, 19, 57, 97, 214, 193, 17, 163, 191, 61, 138, 165, 4, 54, 6, 66, 101, 239, 39, 108, 103, 236, 137, 74, 152, 236, 187, 223, 216, 127, 8, 248, 35, 177, 17, 245, 60, 171, 60, 168, 197, 224, 87, 200, 58, 4, 234, 146, 64, 24, 164, 25, 102, 16, 175, 147, 89, 190, 135, 216, 234, 224, 204, 177, 4, 142, 162, 180, 150, 132, 190, 113, 176, 144, 244, 90, 138, 147, 249, 15, 54, 46, 113, 190, 6, 176, 104, 243, 60, 113, 144, 24, 162, 35, 194, 250, 9, 176, 211, 145, 114, 179, 87, 100, 96, 131, 190, 65, 73, 206, 102, 253, 126, 59, 12, 31, 148, 252, 224, 244, 85, 10, 172, 100, 255, 88, 203, 245, 29, 180, 106, 25, 249, 123, 183, 67, 62, 141, 99, 3, 243, 200, 136, 176, 97, 202, 226, 251, 112, 145, 114, 107, 171, 187, 39, 26, 1, 157, 76, 1, 45, 103, 184, 17, 199, 93, 83, 41, 89, 38, 157, 48, 28, 37, 36, 125, 198, 101, 45, 159, 192, 193, 209, 112, 224, 232, 209, 99, 211, 30, 74, 27, 212, 6, 31, 39, 235, 196, 68, 102, 188, 89, 249, 255, 16, 100, 222, 22, 156, 120, 255, 218, 219, 228, 165, 187, 58, 199, 161, 224, 110, 161, 6, 136, 107, 253, 252, 150, 29, 185, 30, 97, 113, 168, 171, 221, 169, 18, 94, 73, 15, 95, 153, 6, 27, 191, 192, 200, 135, 38], [108, 155, 199, 119, 143, 32, 97, 66, 17, 162, 146, 100, 31, 108, 61, 206, 160, 199, 218, 60, 94, 223, 203, 242, 139, 146, 22, 112, 212, 164, 128, 213, 240, 31, 96, 252, 243, 23, 170, 113, 112, 217, 61, 202, 16, 172, 69, 84, 247, 175, 15, 13, 62, 43, 60, 37, 171, 169, 9, 52, 6, 225, 211, 70, 171, 192, 152, 249, 21, 180, 242, 173, 110, 213, 253, 118, 1, 213, 28, 59, 79, 117, 204, 213, 253, 255, 4, 136, 30, 39, 247, 2, 132, 144, 172, 134, 49, 82, 127, 187, 99, 244, 61, 107, 118, 76, 198, 26, 21, 247, 31, 120, 112, 124, 194, 182, 175, 102, 156, 88, 96, 98, 53, 111, 24, 24, 249, 111, 90, 60, 99, 121, 169, 114, 125, 183, 250, 5, 250, 168, 188, 89, 240, 64, 66, 229, 16, 185, 13, 104, 48, 77, 165, 110, 224, 215, 35, 35, 188, 95, 190, 221, 21, 241, 200, 47, 216, 110, 158, 167, 219, 183, 139, 175, 232, 240, 3, 26, 94, 100, 180, 37, 130, 181, 126, 37, 122, 64, 194, 66, 146, 179, 26, 172, 142, 244, 162, 110, 67, 29, 23, 193, 216, 117, 81, 23, 217, 249, 228, 132, 194, 232, 96, 76, 73, 101, 209, 103, 196, 101, 103, 24, 231, 197, 24, 35, 9, 171, 202, 188, 14, 24, 104, 114, 92, 244, 159, 38, 118, 56, 231, 235, 27, 232, 178, 223, 81, 247, 80, 215, 196, 164, 3, 70, 107, 139, 154, 218, 195, 206, 143, 207, 122, 157, 28, 122, 14, 22, 53, 154, 189, 84, 102, 21, 34, 70, 31, 148, 101, 180, 18, 133, 168, 143, 99, 118, 128, 112, 234, 11, 233, 165, 132, 96, 13, 171, 72, 218, 63, 114, 140, 213, 126, 155, 241, 103, 7, 77, 95, 36, 156, 30, 164, 240, 89, 55, 225, 64, 24, 2, 31, 71, 36, 171, 47, 141, 226, 16, 240, 209, 135, 96, 130, 33, 134, 150, 56, 11, 174, 86, 255, 236, 226, 42, 2, 198, 245, 150, 24, 179, 181, 46, 121, 78, 193, 161, 169, 56, 88, 99, 84, 130, 5, 166, 138, 95, 175, 244, 35, 60, 154, 246, 183, 56, 228, 59, 15, 18, 90, 39, 168, 220, 158, 212, 182, 110, 177, 141, 67, 17, 8, 128, 150, 145, 1, 50, 167, 149, 188, 134, 59, 79, 239, 203, 221, 123, 142, 196, 224, 254, 95, 198, 228, 35, 145, 167, 136, 23, 86, 19, 162, 54, 86, 110, 111, 180, 173, 43, 65, 83, 11, 2, 173, 231, 218, 11, 55, 13, 81, 141, 79, 161, 218, 196, 177, 84, 205, 215, 5, 6, 39, 57, 11, 97, 172, 41, 201, 151, 18, 36, 179, 215, 176, 156, 58, 4, 158, 40, 183, 232, 236, 31, 246, 39, 174, 138, 91, 45, 8, 156, 224, 64, 129, 213, 180, 191, 237, 183, 212, 15, 191, 138, 248, 202, 12, 198, 187, 90, 217, 28, 83, 143, 165, 159, 117, 148, 55, 21, 13, 110, 224, 77]] }, attestation: AttestationServiceConfig { algorithm: ""sgx_ecdsa"", url: ""https://172.17.0.1:8082"", key: ""00000000000000000000000000000000"", spid: ""00000000000000000000000000000000"" }, mount: MountConfig { fusion_base_dir: ""/tmp/fusion_data"" } }
[32mteaclave-execution-service         |[0m [2024-01-05T11:07:29Z DEBUG teaclave_binder::binder] EnclaveID: 2
[32mteaclave-execution-service         |[0m [2024-01-05T11:07:29Z DEBUG teaclave_binder::ipc::app] ecall_ipc_app_to_tee: 1001, 4 bytes
[36mteaclave-access-control-service    |[0m [ERROR teaclave_access_control_service_enclave] Failed to run service: invalid peer certificate: NotValidForName
[36mteaclave-access-control-service    |[0m [2024-01-05T11:06:48Z DEBUG teaclave_binder::ipc::app] ecall_ipc_entry_point OK. App Received Buf: [123, 34, 69, 114, 114, 34, 58, 34, 83, 101, 114, 118, 105, 99, 101, 69, 114, 114, 111, 114, 34, 125]

```","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5wCW4-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5yXz72,incubator-teaclave,1918844662,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-01-31T10:41:32Z,2024-01-31T10:41:32Z,"Could someone explain me the correlation between these keys and my pccs service keys? Do I need to change cert and key and add my pccs files? Is it necessary to have a particular type of certificate on the pccs? Should It work with no changes for development and testing?

![image](https://github.com/apache/incubator-teaclave/assets/14860148/d4571030-dc9c-476f-aa95-3bda163f2489)
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5yXz72/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5yjsYH,incubator-teaclave,1921959431,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-02-01T18:29:01Z,2024-02-01T18:29:01Z,"So I was able to temporary bypass the certification problems, but the issue with de 404 error is still there:

```
[TRACE teaclave_attestation::service] HTTP/1.1 404 Not Found                                                             
X-Powered-By: Express                                                                                                
Request-ID: 0e4fa148a288438da52437c0b7db823c                                                                         
Content-Security-Policy: default-src 'none'                                                                          
X-Content-Type-Options: nosniff                                                                                      
Content-Type: text/html; charset=utf-8                                                                               
Content-Length: 169                                                                                                  
Date: Thu, 04 Jan 2024 16:06:15 GMT                                                                                  
Connection: close                                                                                                                                                                                                                         <!DOCTYPE html>                                                                                                      
<html lang=""en"">                                                                                                    
 <head>                                                                                                               
<meta charset=""utf-8"">                                                                                               
<title>Error</title>                                                                                                 
</head>                                                                                                              
<body>                                                                                                               
<pre>Cannot POST /sgx/dev/attestation/v4/report</pre>                                                                
</body>                                                                                                              
</html>         
                                                                                                                                                                                                                      [DEBUG teaclave_attestation::service] http_response.parse                                                           
[DEBUG teaclave_attestation::service] Attestation service responds an unknown error                                  
[ERROR teaclave_sgx_tool_enclave] Failed to attest: Attestation service responds an unknown error.
```

```
● pccs.service - Provisioning Certificate Caching Service (PCCS)
Loaded: loaded (/lib/systemd/system/pccs.service; enabled; preset: enabled)
Active: active (running) since Thu 2024-02-01 19:03:32 CET; 24min ago
Docs: https://github.com/intel/SGXDataCenterAttestationPrimitives/blob/master/QuoteGeneration/pccs/README.md
Main PID: 726334 (node)
Tasks: 15 (limit: 538163)
Memory: 38.0M
CPU: 2.239s
CGroup: /system.slice/pccs.service
 └─726334 /usr/bin/node /opt/intel/sgx-dcap-pccs/pccs_server.js
Feb 01 19:03:32 syp-s1 systemd[1]: Started pccs.service - Provisioning Certificate Caching Service (PCCS).
Feb 01 19:03:33 syp-s1 node[726334]: 2024-02-01 19:03:33.470 [info]: HTTPS Server is running on: https://localhost:8081
Feb 01 19:27:49 syp-s1 node[726334]: 2024-02-01 19:27:49.545 [info]: Client Request-ID : e78567d41444428f94bde3b583db8092
Feb 01 19:27:49 syp-s1 node[726334]: 2024-02-01 19:27:49.576 [info]: 192.168.122.158 - - [01/Feb/2024:18:27:49 +0000] ""POST /sgx/dev/attestation/v4/report HTTP/1.1"" 404 169 ""-"" ""-""
```

Maybe some kind of config? It seems to be using EPID but as I already showed everything should be well configured...
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5yjsYH/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/725,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5yqCED,incubator-teaclave,1923621123,725,NA,marioolf,14860148,Mario López,mlopez@gradiant.org,NA,2024-02-02T11:31:38Z,2024-02-02T11:31:38Z,"I saw dcap testing tool (/release/dcap/teaclave_dcap_ref_as) actually accepts the POST connection.

```
POST /sgx/dev/attestation/v4/report application/json: 
   >> Matched: (verify_quote) POST /sgx/dev/attestation/v4/report application/json
   >> Outcome: Success 
   >> Response succeeded.
```

Is it my PCCS fault then?","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc5yqCED/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/726,https://api.github.com/repos/apache/incubator-teaclave/issues/726,incubator-teaclave,2134769623,726,Is DCAP actually supported?,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2024-02-14T16:51:52Z,2024-03-21T10:34:03Z,"So I have been trying to deploy Apache Teaclave using DCAP instead of EPID for attestation for some time, and I have not been able to actually make it work. So I was wondering if it is in fact properly supported. Has it been tested under any configuration and environment and it deployed successfully? If the answer is yes, what was the environment and configuration under which it worked?

Thanks in advance.","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/726/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/727,https://api.github.com/repos/apache/incubator-teaclave/issues/727,incubator-teaclave,2256025817,727,Issues with keys,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2024-04-22T09:19:15Z,2024-06-04T09:29:08Z,"So I am trying to change keys for demostration on config/keys. I created my own CA and exported some end-entity certificate and private key. I changed `dcap_root_ca_cert.pem`, `dcap_server_cert.pem` and `dcap_server_key.pem` with mine. Also added server cert and pem to the basic dcap implementation on release/dcap that I am using.

Teaclave throws UnkownIssuer and DCAP implementation UnkownCA.

Is there any hardcoded checks or verification for certificates that I might be missing? 
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/727/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/728,https://api.github.com/repos/apache/incubator-teaclave/issues/728,incubator-teaclave,2305671435,728,Broken link to https://teaclave.incubator.apache.org/sgx-sdk-docs/,sebbASF,16689231,Sebb,,CLOSED,2024-05-20T10:32:22Z,2024-12-16T07:55:19Z,"The link generated by:

https://github.com/apache/incubator-teaclave-website/blob/fd8047a66a69e2710926ea6c4fd19e8d33ef56a6/site/.vuepress/config.js#L46

does not exist

","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/728/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/728,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc6XnwKY,incubator-teaclave,2543780504,728,NA,sebbASF,16689231,Sebb,,NA,2024-12-15T10:30:50Z,2024-12-15T10:30:50Z,Is anyone there?,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc6XnwKY/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-teaclave/issues/728,https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc6Xrz58,incubator-teaclave,2544844412,728,NA,mssun,1270392,Mingshen Sun,bob@mssun.me,NA,2024-12-16T07:55:19Z,2024-12-16T07:55:19Z,Thanks for reporting. Fixed. ,"{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/comments/IC_kwDOC6ybHc6Xrz58/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-teaclave/issues/729,https://api.github.com/repos/apache/incubator-teaclave/issues/729,incubator-teaclave,2340941561,729,Dependency errors,marioolf,14860148,Mario López,mlopez@gradiant.org,CLOSED,2024-06-07T18:12:16Z,2024-06-12T10:15:13Z,"<!--
  We're glad to anwser any questions related to Teaclave.
  To help people quickly understand the issue, please also
  include some background and context of the question.

  We have documented many useful information on the homepage,
  please check them out first: https://teaclave.apache.org/docs/.
-->

So I am trying to contribute to the project. I am trying to use sgx_tstd library on attestation/src/service.rs, but if I use `sgx_tstd = { version = ""2.0.0"" }` on the Cargo.toml from attestation, this error shows up:

```
error: failed to select a version for the requirement `sgx_tstd = ""^2.0.0""`
candidate versions found which didn't match: 1.1.1, 1.1.0, 1.0.9, ...
location searched: crates.io index
required by package `teaclave_attestation v0.6.0 (/teaclave/build/cmake_tomls/sgx_untrusted_app/attestation)`
make[2]: *** [CMakeFiles/sgxapp-teaclave_functional_tests.dir/build.make:58: CMakeFiles/sgxapp-teaclave_functional_tests] Error 101
make[1]: *** [CMakeFiles/Makefile2:1420: CMakeFiles/sgxapp-teaclave_functional_tests.dir/all] Error 2
```

Also if I use version 1.1.1 there are multiple errors, how am I supposed to import that version to use it on attestation folder?

Thanks.
","{""url"": ""https://api.github.com/repos/apache/incubator-teaclave/issues/729/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
