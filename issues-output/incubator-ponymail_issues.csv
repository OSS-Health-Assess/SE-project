type,issue_url,comment_url,repo_name,id,issue_num,title,user_login,user_id,user_name,user_email,issue_state,created_at,updated_at,body,reactions
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/1,incubator-ponymail,108603790,1,Composer window should auto-hide more dynamically,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,OPEN,2015-09-28T07:42:24Z,2016-01-10T20:11:52Z,"Composer window should auto-hide after sending email. If it already auto-hides, then timeout should be shorter. Alternatively it should immediately auto-hide on sent, and a notification box displayed with result of sending.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM1MzYwMA==,incubator-ponymail,145353600,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T14:16:53Z,2015-10-04T14:16:53Z,"It auto-hides after 4 seconds, which is just long enough for people to read the ""message sent, bla bla bla"" notification. Do you have any specific suggestion as to what should change? or rather, what it should change to?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM1MzYwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDAxMw==,incubator-ponymail,145370013,1,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-04T18:02:05Z,2015-10-04T18:02:05Z,"Perhaps having the composer window/panel hide more quickly and provide a message above the screen with the ""blah blah"" bits? I'd find that far less intrusive than a dark grey panel taking 1/3 of my screen.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDAxMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MTExMA==,incubator-ponymail,145371110,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T18:24:52Z,2015-10-04T18:24:52Z,"This has been addressed in ee60575, can you verify that this does what you asked for?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MTExMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTQ5OTE5MQ==,incubator-ponymail,145499191,1,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-05T11:19:36Z,2015-10-05T11:19:36Z,"Yes, great.

Floating the message would be better though, e.g. imagine you've scrolled down the page a bunch. The composer window auto-hides and you go ""huh?""

Additionally, is it worth showing that message over and over and over?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTQ5OTE5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIxOTgyMA==,incubator-ponymail,170219820,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T09:53:36Z,2016-01-09T09:53:36Z,"What about an ""I understand, don't show me this again"" check-box sort of solution?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIxOTgyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDA1NA==,incubator-ponymail,170220054,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T09:58:39Z,2016-01-09T09:58:39Z,"though, should that just hide the notif forever, or make it shorter ?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDA1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDE5Ng==,incubator-ponymail,170220196,1,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-01-09T10:01:41Z,2016-01-09T10:01:41Z,"I'd personally hide forever.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDE5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDM0Mw==,incubator-ponymail,170220343,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T10:04:04Z,2016-01-09T10:04:04Z,"but how would someone know that 'clicking a button' worked then?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDM0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDQwNQ==,incubator-ponymail,170220405,1,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-01-09T10:05:18Z,2016-01-09T10:05:18Z,"Notice at the top that auto-hides after 2s or so. If not at the top, wherever it's less intrusive. Also really small.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDQwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDQ4MQ==,incubator-ponymail,170220481,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T10:06:23Z,2016-01-09T10:06:23Z,"kk, I'll look into that then
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDQ4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDYzOQ==,incubator-ponymail,170220639,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T10:08:43Z,2016-01-09T10:08:43Z,"or, maybe just wipe the composer tab and have a msg there for a second?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDYzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDI2ODk3MQ==,incubator-ponymail,170268971,1,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-01-09T18:46:24Z,2016-01-09T18:46:24Z,"something along these lines https://getbootstrap.com/components/#alerts ?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDI2ODk3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDMzOTMxNw==,incubator-ponymail,170339317,1,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-10T12:02:26Z,2016-01-10T12:02:26Z,"I've added a checkbox for not showing the mesage again (applies to all new email-sent alerts)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDMzOTMxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/1,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDM4NzkyMw==,incubator-ponymail,170387923,1,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-01-10T20:11:52Z,2016-01-10T20:11:52Z,"SGTM
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDM4NzkyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/2,https://api.github.com/repos/apache/incubator-ponymail/issues/2,incubator-ponymail,108603949,2,Add collapse all threads option,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:43:41Z,2015-10-04T18:06:44Z,"When multiple threads are unfolded, it's difficult to find unfolded threads.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/2,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTIzMzM3MQ==,incubator-ponymail,145233371,2,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-03T10:03:33Z,2015-10-03T10:03:33Z,"Two x escape key now closes all threads (one escape key closes the current, second one closes the rest). This should probably be written in some help popup somewhere, but for now, I'll consider this done.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTIzMzM3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/2,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTI3NTY0OA==,incubator-ponymail,145275648,2,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-03T18:26:51Z,2015-10-03T18:26:51Z,"Great to have the functionality, but I'd be wary of undocumented keybindings. Can we have a clickity buttony thing? Or does that not make sense?

I suspect that the answer is: it depends. It depends on whether we want power users, or whether all users are power users, etc.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTI3NTY0OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/2,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMyNzUwOQ==,incubator-ponymail,145327509,2,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T08:28:24Z,2015-10-04T08:28:24Z,"Also depends on the ""TOO MANY BUTTONS"" nightmare we could face at some point. I'd really love some input from some UI folks with more insight into how one does that :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMyNzUwOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/2,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDIxNw==,incubator-ponymail,145370217,2,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-04T18:06:44Z,2015-10-04T18:06:44Z,"Yes, too many buttons is bad, to few is also bad. And the question remains: power users or not?

Let's take gmail for example (I know, I know). You can basically do everything with buttons, but also with keybindings. That sort of approach would be ideal IMO.

For now I think this can remain closed since the functionality is there. We just need to unify the UI and tie it to the app features.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDIxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/3,https://api.github.com/repos/apache/incubator-ponymail/issues/3,incubator-ponymail,108604065,3,"Add ""clear filters"" option",ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:44:36Z,2015-10-05T11:52:47Z,"I understand that going back a page would undo the last filter.

Ideally this should be more explicit, and it should clear all filters applied, not just the last.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/3,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzNjExNg==,incubator-ponymail,145336116,3,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T10:42:37Z,2015-10-04T10:42:37Z,"There is only ever one filter applied to a search, which is the current filter.
Going back applies the old filter, going forward applies the newer one, but not on the data filtered by the old filter. So I don't quite see the issue here.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzNjExNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/3,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDEyOA==,incubator-ponymail,145370128,3,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-04T18:04:42Z,2015-10-04T18:04:42Z,"Going back to undo the filter is not documented (granted, nothing is atm). I'd personally find it easier to use if there was a way to undo filtering right on the screen.

As mentioned in the ponymail thread: the behaviour is a mixture of webpage apps with webapps (the distinction being that some operations are done via clickity buttons and others via browser operations, e.g. navigating back). Some unification here would be good.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDEyOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/3,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MTk3NQ==,incubator-ponymail,145371975,3,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T18:37:41Z,2015-10-04T18:37:41Z,"Does 928d593 address your concerns?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MTk3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/3,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTQ5OTAyMQ==,incubator-ponymail,145499021,3,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-05T11:18:37Z,2015-10-05T11:18:37Z,"does fix!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTQ5OTAyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/3,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTUwNDY4MA==,incubator-ponymail,145504680,3,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-05T11:52:47Z,2015-10-05T11:52:47Z,"closing as fixed then!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTUwNDY4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/4,https://api.github.com/repos/apache/incubator-ponymail/issues/4,incubator-ponymail,108604264,4,Statistics should be turned off by default,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:46:29Z,2015-12-21T07:26:02Z,"By popular demand!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/4,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MjEwMA==,incubator-ponymail,145372100,4,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T18:39:53Z,2015-10-04T18:39:53Z,"pfffft! Ponies need their daily stats....or was it oats?
I am of a different opinion, but I'm open to a discussion if more people are willing to chime in.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MjEwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/4,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NjIyMTc4Nw==,incubator-ponymail,166221787,4,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-12-21T07:26:02Z,2015-12-21T07:26:02Z,"Seems I am a minority here. Stats have been hidden by default in 0.6 now.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NjIyMTc4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/5,https://api.github.com/repos/apache/incubator-ponymail/issues/5,incubator-ponymail,108604393,5,The composer window should keep state,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:47:41Z,2015-10-04T09:20:53Z,"The compose window should be hideable and keep its state.

When composing a reply, it may be necessary to read the thread as one writes it. Hiding the composer window right now makes it lose all its contents.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/5/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/5,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMyOTcyMQ==,incubator-ponymail,145329721,5,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T09:20:53Z,2015-10-04T09:20:53Z,"Fixed in f001aef. You can now compose a reply, close the window, do other stuff, reopen the reply window and the previous draft will be there. This may need some further documentation at some point.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMyOTcyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/6,https://api.github.com/repos/apache/incubator-ponymail/issues/6,incubator-ponymail,108604599,6,Provide access to raw messages,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:49:36Z,2015-10-04T09:58:13Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/6,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzMTQ5Nw==,incubator-ponymail,145331497,6,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T09:58:12Z,2015-10-04T09:58:12Z,"Added in 44fed01 and 1533788, there is now a 'view source' option.
Do note that this won't apply for the _old_ stuff imported to the test web site before we added sources for the import plugin.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzMTQ5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/7,https://api.github.com/repos/apache/incubator-ponymail/issues/7,incubator-ponymail,108604636,7,Permalink should open in new window,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:50:00Z,2015-10-10T23:31:00Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/7,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTIzMTQzMg==,incubator-ponymail,145231432,7,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-03T09:52:40Z,2015-10-03T09:52:40Z,"I don't consider this a bug, but rather an opinion on how the UI should work. I think we should solicit input from more people on this matter, as I know a lot of people have the exact opposite view; That links should NOT open in a new tab by default.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTIzMTQzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/7,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NzA4MjIwMg==,incubator-ponymail,147082202,7,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-10T12:05:40Z,2015-10-10T12:05:40Z,"Permalinks are now actual links. Users can choose to open them in a new window/tab (middle-click?)  or open them in the same window. Does this work for you?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NzA4MjIwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/7,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NzExMzI0OA==,incubator-ponymail,147113248,7,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-10T18:06:00Z,2015-10-10T18:06:00Z,"Works just fine for me.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NzExMzI0OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/7,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NzEzNjM3MQ==,incubator-ponymail,147136371,7,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-10T23:31:00Z,2015-10-10T23:31:00Z,"Closing as resolved then.
also, ponies!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NzEzNjM3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/8,https://api.github.com/repos/apache/incubator-ponymail/issues/8,incubator-ponymail,108604873,8,Message wrap broken in Firefox,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:52:20Z,2015-10-04T18:09:20Z,"From the ML:
""Message lines that are too long are truncated in Firefox. There is a slider, but that only appears when the message is selected, so it looks like text is missing. If wrapping doesn't work on Firefox, it might be better to always display the slider if it is going to be needed; that would act as an indication that the message has more data.""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/8,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzNzk1Ng==,incubator-ponymail,145337956,8,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T11:39:12Z,2015-10-04T11:39:12Z,"I don't see where this issue is present. Could you give me a link?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzNzk1Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/8,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDA1MA==,incubator-ponymail,145370050,8,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-10-04T18:02:55Z,2015-10-04T18:02:55Z,"Not I personally. I simply moved this issue from a ponymail thread. Feel free to close if can't reproduce.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDA1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/8,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDMzMA==,incubator-ponymail,145370330,8,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T18:09:20Z,2015-10-04T18:09:20Z,"I think it was actually fixed a while back on the dev/bug list. Closing as fixed for now at least
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM3MDMzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/9,https://api.github.com/repos/apache/incubator-ponymail/issues/9,incubator-ponymail,108605090,9,Button thread is at the bottom of the page,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:54:15Z,2015-10-04T14:09:31Z,"From the ML: ""The new thread button is at the bottom of the screen and can be hard to find if there are lots of threads open. Might be good to have another button in the menu line.""

Additionally, the ""Next..."" button is also at the bottom of the page. It should also be at the top.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/9/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/9,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMyOTc0Nw==,incubator-ponymail,145329747,9,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T09:21:40Z,2015-10-04T09:21:40Z,"Yeah, we need to add a ""tools"" menu item to the top with the stuff we'd otherwise have 28748 buttons for. I'll look into that ASAP.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMyOTc0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/9,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM1Mjk2Mg==,incubator-ponymail,145352962,9,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T14:09:31Z,2015-10-04T14:09:31Z,"All done and fixed for now :)
We have buttons both top + bottom now, and the 'start discussion' option in the menu with logged in.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM1Mjk2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/10,https://api.github.com/repos/apache/incubator-ponymail/issues/10,incubator-ponymail,108605178,10,Composer window should default to the subject field,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-09-28T07:55:08Z,2015-10-04T10:43:47Z,"The compose window should default to the subject field. [Maybe even refuse to enter the body without any subject?]
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/10/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/10,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzNjE1NA==,incubator-ponymail,145336154,10,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T10:43:47Z,2015-10-04T10:43:47Z,"This is true for composing new emails, whereas it will focus on the message body if replying to an existing email (and it'll add Re: to the subject). I assume that is okay? Closing as OK, reopen if I'm WROOOONG :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTMzNjE1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/11,https://api.github.com/repos/apache/incubator-ponymail/issues/11,incubator-ponymail,109394670,11,date and # of participants should be aligned,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-10-01T22:06:52Z,2015-10-04T13:43:25Z,"Perhaps flushed to the right, or something along those lines. Right now they clutter everything and make it hard to read thread subjects.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/11/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/11,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM1MTEyNw==,incubator-ponymail,145351127,11,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-04T13:43:25Z,2015-10-04T13:43:25Z,"Fixed in 8c76dfe (dunno why GH didn't close this issue)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTM1MTEyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/12,https://api.github.com/repos/apache/incubator-ponymail/issues/12,incubator-ponymail,109774230,12,hiding stats collapses thread,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-10-05T11:05:21Z,2015-10-05T11:22:10Z,"Repro:
1) open thread
2) hide stats
3) watch thread collapse
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/12/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/12,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTQ5OTYxOQ==,incubator-ponymail,145499619,12,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-05T11:22:10Z,2015-10-05T11:22:10Z,"Fixed in 089dd59 and aa03d0b by splitting off the stats building to a separate function.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NTQ5OTYxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/13,https://api.github.com/repos/apache/incubator-ponymail/issues/13,incubator-ponymail,110341158,13,is of pony?,dpk,378375,Daphne Preston-Kendal,,CLOSED,2015-10-07T23:34:25Z,2015-10-07T23:43:19Z,"pony can into mail???
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/13/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/13,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NjM2ODI1Nw==,incubator-ponymail,146368257,13,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-10-07T23:43:19Z,2015-10-07T23:43:19Z,"Maybe, ispossible
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE0NjM2ODI1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/14,incubator-ponymail,115536719,14,"Figure out how to properly present single-domain, multi-list view inside list view and in phonebook",Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2015-11-06T16:16:49Z,2016-06-01T14:33:20Z,"It would be beneficial to discuss and work on how to better present cases where you have a single (sub)domain but > 10 (or maybe >100) lists tied to that. In list view, that would get compacted and only the 5 busiest lists are shown by default, with the rest inside a dropdown. There may also be better way of building a phonebook (the front page) for this sort of setups.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/14/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE1NDYzMTY2MA==,incubator-ponymail,154631660,14,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-11-07T05:59:31Z,2015-11-07T05:59:31Z,"I've started work on a simple list mode called 'table', but it would need some consideration over how to present the list, maybe add some sort options and such.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE1NDYzMTY2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIxOTkyNA==,incubator-ponymail,170219924,14,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T09:55:08Z,2016-01-09T09:55:08Z,"sorted by no. of emails in the past quarter at the moment, seems to work fine.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIxOTkyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDAwMQ==,incubator-ponymail,170220001,14,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T09:57:12Z,2016-01-09T09:57:12Z,"oh and it's also default now :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDAwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDIyMg==,incubator-ponymail,170220222,14,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-01-09T10:02:06Z,2016-01-09T10:02:06Z,"screenshot?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDIyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDg2Mw==,incubator-ponymail,170220863,14,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-09T10:13:24Z,2016-01-09T10:13:24Z,"it's what http://ponymail.info uses
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE3MDIyMDg2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/14,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzAxMTUzNw==,incubator-ponymail,223011537,14,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T14:33:20Z,2016-06-01T14:33:20Z,"just testing GH integration, ignore :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzAxMTUzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/15,https://api.github.com/repos/apache/incubator-ponymail/issues/15,incubator-ponymail,115537224,15,List statistics page,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2015-11-06T16:19:22Z,2015-11-27T11:22:09Z,"We should try to figure out whether it makes sense to make a statistics page for each list, and if so, what it would look like. Starting with a basic idea and a html mockup would be ideal, and then work towards implementing it as a JS-rendered page using JSON data from the backend.

Things we could show there could be stuff like:
- emails per day
- current trends (this month vs last month etc)
- no. of senders, topics, emails per topic and so on.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/15/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/15,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE1NTAzNzA1OA==,incubator-ponymail,155037058,15,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-11-09T11:35:51Z,2015-11-09T11:35:51Z,"This has been further improved now, supporting custom date ranges, daily stats and mail/topic/people stats, as well as a comparison between $timespan and the $timespan before that.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE1NTAzNzA1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/15,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2MDExODQ0MA==,incubator-ponymail,160118440,15,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-11-27T11:22:09Z,2015-11-27T11:22:09Z,"I believe this, accompanied with the n-gram page is now considered to be completed.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2MDExODQ0MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/18,https://api.github.com/repos/apache/incubator-ponymail/issues/18,incubator-ponymail,116561310,18,"Fix up docs, stop switching between sudo and non-sudo",Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2015-11-12T14:42:21Z,2016-01-06T12:57:19Z,"The installation docs occasionally mix between using sudo and not using it. This should obviously be harmonised at some point.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/18/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/18,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE1NjE1OTA0OQ==,incubator-ponymail,156159049,18,NA,rbowen,255808,Rich Bowen,rbowen@rcbowen.com,NA,2015-11-12T16:36:51Z,2015-11-12T16:36:51Z,"8af01bbf17e85fb53f6838d5c657cab8ee1d4c86 does this for CentOS
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE1NjE1OTA0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/19,https://api.github.com/repos/apache/incubator-ponymail/issues/19,incubator-ponymail,116980243,19,Have Quokka align X-tags perfectly,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2015-11-15T08:17:59Z,2015-11-15T10:09:25Z,"Currently, the X values at the bottom (the dates) don't align perfectly with the plots or the overall canvas....it should :|
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/19/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/21,incubator-ponymail,122736758,21,Create a treeview-style list view for emails,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2015-12-17T13:42:17Z,2016-01-06T08:34:36Z,"A treeview where threads are listed as trees but not expanded into bodies would be awful nice. This would supplement the threaded/flat views.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/21/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTQ3NDcxNA==,incubator-ponymail,165474714,21,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-12-17T14:53:59Z,2015-12-17T14:53:59Z,"each node in the tree is the subject of the email and the email itself is expanded on click?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTQ3NDcxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTU2ODI0Ng==,incubator-ponymail,165568246,21,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-12-17T20:06:29Z,2015-12-17T20:06:29Z,"Exactly! like the old pipermail/mod_mbox way of just displaying the subject lines as a treeview and clicking expands each email individually. I have a fix in the pipeline right now.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTU2ODI0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTYwNTQxMQ==,incubator-ponymail,165605411,21,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-12-17T22:42:30Z,2015-12-17T22:42:30Z,"Should we add ""bars/lines"" to this to show how the tree is structured?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTYwNTQxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTYwNjEyMg==,incubator-ponymail,165606122,21,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2015-12-17T22:46:15Z,2015-12-17T22:46:15Z,"you mean the edges between the nodes in the trees? I'd think so.

On Thu, 17 Dec 2015 at 22:43 Daniel Gruno notifications@github.com wrote:

> Should we add ""bars/lines"" to this to show how the tree is structured?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/quenda/ponymail/issues/21#issuecomment-165605411.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2NTYwNjEyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTAxOTgzOQ==,incubator-ponymail,169019839,21,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-05T14:44:26Z,2016-01-05T14:44:26Z,"Pondering on whether this can be closed as fixed now..? WDYT?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTAxOTgzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTEzMDkyMA==,incubator-ponymail,169130920,21,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-01-05T20:54:55Z,2016-01-05T20:54:55Z,":+1: 
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTEzMDkyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/21,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTI2NjY0OQ==,incubator-ponymail,169266649,21,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-06T08:34:36Z,2016-01-06T08:34:36Z,"Alright, closing as fixed then. Any additional tweaks to the view shouldn't be hindered by that.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTI2NjY0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/22,https://api.github.com/repos/apache/incubator-ponymail/issues/22,incubator-ponymail,122736926,22,Move view types for list view into a drop down menu,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2015-12-17T13:43:09Z,2015-12-17T16:42:38Z,"as subject says. As the number of view types increase, this cuts down on space used in the UI
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/22/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/23,https://api.github.com/repos/apache/incubator-ponymail/issues/23,incubator-ponymail,123230605,23,Duplicate comments,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,CLOSED,2015-12-21T08:28:39Z,2015-12-21T09:19:32Z,"https://github.com/quenda/ponymail/blob/master/site/js/ponymail.js#L26-L32
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/23/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/24,incubator-ponymail,124341855,24,Request for spefic use case documentation,ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2015-12-30T12:29:34Z,2016-01-04T13:49:05Z,"I would like to setup PonyMail for my company infrastructure.
We have several mailing lists managed by Mailman 2.1 on Ubuntu 14.0.4 LTS; some of them have private archives, other are public.

Would it be possible to provide more detailed setup instructions for a use case as the one above?
I have attempted following the [Ubuntu setup instructions](https://github.com/quenda/ponymail/blob/master/docs/INSTALL.ubuntu.md) and then the [general instructions](https://github.com/quenda/ponymail/blob/master/docs/INSTALLING.md) but could not figure out how to:
1. configure Mailman 2.1 (examples for Mailman 3 are provided)
2. index existing Mailman (public and private) archives

Thanks in advance, PonyMail rocks!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/24/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODE1NjUwNg==,incubator-ponymail,168156506,24,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-12-31T09:29:02Z,2015-12-31T09:29:02Z,"Hi,
We use Mailman 2.1 for ponymail.info (the pony mail mailing list), so it's definitely possible.
for 1) you would normally subscribe a local alias to public lists and one to private lists, see https://github.com/quenda/ponymail/blob/master/docs/INSTALLING.md#setting-up-the-archiver for that. It's important to note that you'll need one alias for public lists and one for private lists.

As for 2), please see docs/IMPORTING.md. As you have public and private archives, you'll need to run the import-mbox script separately for the public and private (adding --private for private imports).
What sort of archive are you importing from?

And don't worry, I'll be updating the docs as we go along :)

There is also step 3, which is using AAA (Authentication, Authorization and Access) to make private archives visible to those that should have access, but we'll cross that bridge soon enough. It's a bit more complex.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODE1NjUwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODE1OTk3Mw==,incubator-ponymail,168159973,24,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2015-12-31T09:59:42Z,2015-12-31T09:59:42Z,"Thanks for your helpful hints, I'll have some time to allocate to this at beginning of next week.

> What sort of archive are you importing from?

pipermail, so it should be already covered.

Thanks for support and wish you happy 2016!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODE1OTk3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODE2MTA3Ng==,incubator-ponymail,168161076,24,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2015-12-31T10:07:13Z,2015-12-31T10:07:13Z,"Yeah, luckily pipermail is very easy to import from nowadays. It has some quirks, so you'll need to latest version of master to import it correctly (there are some email address rewrites involved here)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODE2MTA3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3Mjg5MA==,incubator-ponymail,168672890,24,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-01-04T13:05:51Z,2016-01-04T13:05:51Z,"Quick update: importing via pipermail seems to work fine; got long output ending with

```
All done! 3765 records inserted/updated after 0 seconds. 0 records were bad and ignored
```

However, right after importing (but still without configuring the archiver yet), while accessing the ponymail site I receive a couple of errors:
1. `404'ed: /api/pminfo.lua`
2. `404'ed: /api/preferences.lua?detailed=true`

FYI, since we are using Mailman via Postfix in Zimbra (I know, quite involved setup...), I am not sure I'll have option to pipe processing to `archiver.py`, so I was considering to just let `import-mbox.py` run every X minutes. WDYT?

Any hint?
Thanks!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3Mjg5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NDIyMw==,incubator-ponymail,168674223,24,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-04T13:14:46Z,2016-01-04T13:14:46Z,"import-mbox and archiver both use the same ID generator, which generates a unique ID per email - that is to say, running it twice on the same email or mbox file will generate the same ID, so if you run import-mbox every 5 minutes or whatever, it'll just update what's already there, and not create duplicates (IOW, it's totally fine to do that, just remember to use --private where needed).

As for the 404, Pony Mail expects to be at the root of a (sub)domain - this is due to some non-javascript fallbacks that exist for older web clients (or lynx). Thus, http://foo.tld/api/[...].lua will work, but http://foo.tld/ponymail/[...].lua won't work currently because of this design choice.

I'll look into writing a workaround shortly, which will imply that you can't use the site unless you have JavaScript enabled. This will be an optional feature in config.js
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NDIyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NTQyMg==,incubator-ponymail,168675422,24,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-04T13:22:59Z,2016-01-04T13:22:59Z,"580f1e82a018c3cc32e50f6d26e3866a39078b29 should address this - go to your config.js, and inside the `pm_config` hash, add: `URLBase: '/yoursubdir'` to it and it should work.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NTQyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NTc5Ng==,incubator-ponymail,168675796,24,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-04T13:25:18Z,2016-01-04T13:25:18Z,"FWIW, I have a few lists that are imported ""live"" from pipermail, such as the bitcoin ML. I just have import-mbox running on a cron timer, and it works well. Another option is to subscribe a new mail address to the lists, and have that mail address feed to the archiver, which is what you'd normally do in many cases.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NTc5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NjE1OQ==,incubator-ponymail,168676159,24,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-04T13:27:32Z,2016-01-04T13:27:32Z,"I'll also suggest maybe joining #ponymail on Freenode for some of the more menial debugging, as it's probably a better way of communicating about that.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3NjE1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/24,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3OTg5NQ==,incubator-ponymail,168679895,24,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-01-04T13:49:05Z,2016-01-04T13:49:05Z,"Yep, thanks, I'm closing this issue and switching to IRC.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2ODY3OTg5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/26,incubator-ponymail,125567784,26,"Mailman, pipermail and HTML attachments",ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2016-01-08T08:43:47Z,2016-01-08T12:32:26Z,"We unfortunately have someone in our MLs sending e-mails in HTML only: as a result, pipermail will display a blank e-mail saying ""An HTML attachment was scrubbed..."", with link to such HTML attachment.

This also works in PonyMail, but I was wondering if:
1. PonyMail scans such attachment when importing from pipermail
2. Is it possible to make PonyMail display such attachment inline (only when no text version is available)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/26/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzODA4Nw==,incubator-ponymail,169938087,26,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-08T08:53:09Z,2016-01-08T08:53:09Z,"I wonder if this should be an option turned off by default, but available in the preferences?
That is, by default, it should say ""this message appears to be html only, would you like to show it bla bla bla?"" with an option in preferences to just open up inline by default if nothing else is in the mail.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzODA4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzODI5MQ==,incubator-ponymail,169938291,26,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-01-08T08:54:30Z,2016-01-08T08:54:30Z,"+1

But what about indexing? Does PonyMail import tool scans such HTML attachments?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzODI5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzODg1OQ==,incubator-ponymail,169938859,26,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-08T08:58:11Z,2016-01-08T08:58:11Z,"fair point - no it does not scan them for content at present, it assumes they are attachments and not the main message. I'm not sure how much....rendering of the page would have to take place for this to be a meaningful thing to do.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzODg1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzOTk4OQ==,incubator-ponymail,169939989,26,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-01-08T09:04:30Z,2016-01-08T09:04:30Z,"> rendering of the page would have to take place for this to be a meaningful thing to do

well, not completely: I'd say most of the text can be read anyway by mean of something like as [html2text](http://www.aaronsw.com/2002/html2text/)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTkzOTk4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTk1ODkwMA==,incubator-ponymail,169958900,26,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-01-08T10:38:41Z,2016-01-08T10:38:41Z,"I've added a --html2text arg for the archiver/importer, and after a long struggle, it seems to be working now. Please take it for a spin, but do beware that the emails affected will duplicate themselves, as their ID in Pony Mail will update because of this.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTk1ODkwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/26,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTk4NjAyOQ==,incubator-ponymail,169986029,26,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-01-08T12:32:26Z,2016-01-08T12:32:26Z,"It works now, with the `--html2text` option for `import-mbox.py`and bypassing pipermail.

Thanks!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDE2OTk4NjAyOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/29,https://api.github.com/repos/apache/incubator-ponymail/issues/29,incubator-ponymail,126142866,29,"Add ""Mark all as read"" feature",ilgrosso,1064664,Francesco Chicchiriccò,,OPEN,2016-01-12T10:11:11Z,2016-12-17T17:42:26Z,"The first time one opens up a new mailing list, all e-mails are unread, it could be handy to add a feature for marking all messages as read / unread.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/29/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/29,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYyMjg4MQ==,incubator-ponymail,267622881,29,NA,sebbASF,16689231,Sebb,,NA,2016-12-16T15:45:44Z,2016-12-16T15:45:44Z,"AFAICT  read/unread marking is a feature of the browser rather than Pony Mail. i.e. if the browser has seen the URL the link is shown in a different colour.

Keeping track of whether the mail has been read in Pony Mail so that it could be synchronised across browsers would require potentially huge amounts of data to be stored.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYyMjg4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/29,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYyNDAxNw==,incubator-ponymail,267624017,29,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-16T15:50:24Z,2016-12-16T15:50:24Z,"When an e-mail thread is unread, the HTML code is like as

```
<a style=""overflow:hide;font-weight: bold;"" href=""..."">
  Re: [IAM PoC] Starting with implementation</a>
```

while, when read, it is

```
<a style=""overflow:hide;"" href=""..."">
  Re: [DISCUSS] Syncope for ASF identity management</a>
```","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYyNDAxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/29,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzcyMDAxNA==,incubator-ponymail,267720014,29,NA,sebbASF,16689231,Sebb,,NA,2016-12-16T23:21:16Z,2016-12-16T23:21:16Z,"I see now; it does use some local storage to flag mails as read.

Clearing all the 'read' markers for a list would be relatively easy, as one can iterate over the storage items, and the keys include the list-id. So one could delete the keys that matched. Likewise it would be easy to clear the markers for the current mail set as the keys are already known.

However marking all the mails in a list as read would require reading all the emails (or at least the ids) which for some lists could be an enormous number. I think the best one could safely do would be to mark the current mail set as read.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzcyMDAxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/29,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc3NTk5NQ==,incubator-ponymail,267775995,29,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-17T17:42:26Z,2016-12-17T17:42:26Z,">  I think the best one could safely do would be to mark the current mail set as read.

This sounds reasonable, ok.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc3NTk5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/32,https://api.github.com/repos/apache/incubator-ponymail/issues/32,incubator-ponymail,151093311,32,Unicode in main body can cause duplicates when overlapping archiver with imports,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2016-04-26T10:03:44Z,2016-12-16T15:52:59Z,"When you have emails that have been archiver through the archiver.py process and then later re-import with import-mbox.py, emails that have unicode in the main body may cause the MID (message ID) to be different due to different SHA digests. This should be fixed by detecting such issues and converting to ASCII in a uniform and consistent way.

Currently, it _does_ attempt that, but the result is not the same...
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/32/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/32,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYyNDcwOA==,incubator-ponymail,267624708,32,NA,sebbASF,16689231,Sebb,,NA,2016-12-16T15:52:59Z,2016-12-16T15:52:59Z,"The archiver and importer now both use byte import. This should fix issues with unicode.

However the unstable MID problem still exists, because the digest is done after the parsing.

There's no guarantee that the parsed output will be exactly the same for different versions of the mail software, as headers may have different line wraps. In theory the parsed body should be the same, except for HTML bodies which will rely on the html2text formatting. And even non-HTML bodies may vary as improvements are made to the parsing.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYyNDcwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/38,https://api.github.com/repos/apache/incubator-ponymail/issues/38,incubator-ponymail,156148309,38,Bug: Manage e-mail addresses page hangs if not logged in,sebbASF,16689231,Sebb,,CLOSED,2016-05-22T11:47:18Z,2016-05-31T10:57:32Z,"The merge.html page hangs if not logged in.

This can easily occur if one visits the page and then logs out from the page.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/38/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/39,https://api.github.com/repos/apache/incubator-ponymail/issues/39,incubator-ponymail,156148392,39,UX: Distorted logo on login page,sebbASF,16689231,Sebb,,CLOSED,2016-05-22T11:49:29Z,2016-05-31T08:53:55Z,"The logo on auth.html is forced into a square shape.
Since the original logo is not square, this looks wrong.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/39/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/40,https://api.github.com/repos/apache/incubator-ponymail/issues/40,incubator-ponymail,156149011,40,UI: Manage Email Addresses process is not clear,sebbASF,16689231,Sebb,,CLOSED,2016-05-22T12:06:02Z,2016-06-01T04:32:07Z,"Clicking Associate on the Manage Email Addresses page responds with:

""Your association request has been handled. Please check your inbox! Depending on grey-listing etc, it may take up to 15 minutes before your confirmation email arrives.""

This implies that there is nothing further to do. However that is not the case as the email states:

""You (or someone else) has requested to merge this email address with the account ... in Pony Mail
If you wish to complete this merge, please visit https://...""

It's also not clear what 'merge this email address' means.
It's confusing for the mail to use 'merge' when the page uses 'associate'
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/40/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/40,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDkzMDMyMA==,incubator-ponymail,220930320,40,NA,sebbASF,16689231,Sebb,,NA,2016-05-23T09:24:43Z,2016-05-23T09:24:43Z,"Here is a patch to use associate rather than merge in the e-mail:
[merge.patch.txt](https://github.com/quenda/ponymail/files/277185/merge.patch.txt)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDkzMDMyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/40,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1NDM1MQ==,incubator-ponymail,222654351,40,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T10:47:10Z,2016-05-31T10:47:10Z,"could you submit this in the form of a pull request instead?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1NDM1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/41,https://api.github.com/repos/apache/incubator-ponymail/issues/41,incubator-ponymail,156175523,41,Broken Permalink - points to wrong mailing list,sebbASF,16689231,Sebb,,CLOSED,2016-05-22T21:54:51Z,2016-06-01T21:57:44Z,"The list https://lists.apache.org/list.html?derby-dev@db.apache.org contains a message entitled ""Document"" dated May 12. View Source starts as follows:

Return-Path: <derby-dev-return-116554-archive-asf-public=cust-asf.ponee.io@db.apache.org>

However, click on ""Permalink"" and then use View Source, and one gets:

Return-Path: <infrastructure-issues-return-70997-archive-asf-public=cust-asf.ponee.io@apache.org>

The bodies of the mail are similar, but not identical.

I don't know if it's significant, but the email appears to contain a suspicious/malicious document.
Other derby-dev Permalinks I checked seemed to work OK.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/41/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/41,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDg1OTg4MQ==,incubator-ponymail,220859881,41,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-22T22:15:29Z,2016-05-22T22:15:29Z,"This is a compression issue in short links, where message IDs are shortened to make the permalink URL shorter. The correct email is found, but since the email (with the same message ID and body) has been sent to multiple lists, the backend returns with the first email that matches the message ID instead of matching both message ID and mailing list. 

This is configurable in config.js with the shortLinks boolean value. When turned off, the full message ID (including the target list ID) is used.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDg1OTg4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/41,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDg2MTEyMg==,incubator-ponymail,220861122,41,NA,sebbASF,16689231,Sebb,,NA,2016-05-22T22:42:38Z,2016-05-22T22:42:38Z,"It's not the same e-mail.

The attachment is the same, and the messages are very similar, but they are not the same.

The messages have different Date: values and different boundary strings.

i.e. entirely the wrong email is found by the permalink, not just the wrong copy.

# 

It seems to me that if the shortLink depends only on the body content (and none of the headers) then replies can easily be sent to the wrong list. If someone sends the same message separately to multiple lists, it sounds like the short links will be the same. So if the shortlink is used to select the message in order to Reply to it, the reply will go to the wrong list.

That's the case here; the original message was sent to derby-dev; the permalink message was sent to infrastructure-issues. So if I reply to the permalink it will go to the wrong list.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDg2MTEyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/42,https://api.github.com/repos/apache/incubator-ponymail/issues/42,incubator-ponymail,156176664,42,Allow search by ezmlm message number,sebbASF,16689231,Sebb,,OPEN,2016-05-22T22:20:53Z,2016-05-27T12:58:32Z,"It would be useful to be able to search for mails by ezmlm message number, i.e. the number ezmlm quotes in bounce messages
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/42/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/42,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDg2MDg1OA==,incubator-ponymail,220860858,42,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-22T22:36:23Z,2016-05-22T22:36:23Z,"That would require custom header searches (ezmlm message numbers are only exposed in the return-path header, which is not currently stored in the email itself, only in the source document), which...could be possible. It would require a complete re-index of existing databases, however, to be able to search these paths.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMDg2MDg1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/42,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjEzOTU5Mw==,incubator-ponymail,222139593,42,NA,sebbASF,16689231,Sebb,,NA,2016-05-27T12:58:32Z,2016-05-27T12:58:32Z,"If the message number could be shown in the summary somewhere, that would make it a lot easier.
For example, as the hover text for the message date.

Alternatively, since the ids are consecutive by date order, perhaps the message id range could be shown in the blob summary.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjEzOTU5Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/43,https://api.github.com/repos/apache/incubator-ponymail/issues/43,incubator-ponymail,156285796,43,Bug: Manage e-mail confirmation link does not work except in original browser session,sebbASF,16689231,Sebb,,CLOSED,2016-05-23T13:52:15Z,2017-03-01T10:55:03Z,"The manage e-mail process sends out an e-mail with a link.
However the link does not work unless the same browser session is used.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/43/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/43,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMTMwNDk1NQ==,incubator-ponymail,221304955,43,NA,sebbASF,16689231,Sebb,,NA,2016-05-24T15:17:59Z,2016-05-24T15:17:59Z,"If the link is used in a session which is not logged in, the server responds with a large JSON dump of email statistics rather than an error message
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMTMwNDk1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/43,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMTgyNjg3Mg==,incubator-ponymail,221826872,43,NA,sebbASF,16689231,Sebb,,NA,2016-05-26T09:47:46Z,2016-05-26T09:47:46Z,"If it's not possible to fix the code so the URL works in any browser session, a simple solution would be to only provide the hash in the e-mail confirmation. The hash could then be entered on a ponymail page.
The current process is very awkward and unintuitive.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMTgyNjg3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/43,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc4ODk3Mg==,incubator-ponymail,267788972,43,NA,sebbASF,16689231,Sebb,,NA,2016-12-17T21:46:16Z,2016-12-17T21:46:16Z,"The dump of email stats was fixed as part of #305 

The email now makes it clear that you need to be logged in","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc4ODk3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/43,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MzI0OTEzNw==,incubator-ponymail,283249137,43,NA,muru,4310271,Murukesh Mohanan,,NA,2017-03-01T05:32:31Z,2017-03-01T05:32:31Z,"This is still happening. I tried to add  an email just now, and got a dump of JSON, which seems to be counts of posts in each domain's lists.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MzI0OTEzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/43,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MzMwOTI0Mg==,incubator-ponymail,283309242,43,NA,sebbASF,16689231,Sebb,,NA,2017-03-01T10:55:03Z,2017-03-01T10:55:03Z,"The code has been fixed, but the updated code has yet to be deployed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MzMwOTI0Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/44,https://api.github.com/repos/apache/incubator-ponymail/issues/44,incubator-ponymail,156286072,44,UI: Manage e-mail confirmation page is a dead-end,sebbASF,16689231,Sebb,,OPEN,2016-05-23T13:53:27Z,2016-06-05T09:52:45Z,"The manage e-mail confirmation page just says:

""Email address verified! Thanks for shopping at Pony Mail!""

There is no link to return to Pony Mail.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/44/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/44,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjMxMg==,incubator-ponymail,223746312,44,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T09:30:11Z,2016-06-04T09:30:11Z,"return to? This is usually a brand new page/tab, as you get a link you need to open.
So...just close the tab and be done with it? I'm not sure we need to redirect back to anything (what would you redirect back to?)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjMxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/44,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc1MjIxMA==,incubator-ponymail,223752210,44,NA,sebbASF,16689231,Sebb,,NA,2016-06-04T12:08:46Z,2016-06-04T12:08:46Z,"The URL only works if you are logged in.
So it is likely that the user is already on a Pony Mail page - for example the manage e-mail page.

I would expect at least a link back to the home page, or perhaps the manage e-mail page so the user can see the new address has been added successfully.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc1MjIxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/44,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzgwMzExNw==,incubator-ponymail,223803117,44,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-05T09:52:44Z,2016-06-05T09:52:44Z,"Feel free to propose a patch (please make it a pull request if so).
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzgwMzExNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/45,https://api.github.com/repos/apache/incubator-ponymail/issues/45,incubator-ponymail,156290046,45,Bug: manage e-mail confirmation link does not appear to expire,sebbASF,16689231,Sebb,,OPEN,2016-05-23T14:10:13Z,2016-05-24T15:16:00Z,"As the subject says; the link in the confirmation mail seems to be re-usable.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/45/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/46,incubator-ponymail,156290309,46,Bug: broken Permalink - points to wrong mailing list,sebbASF,16689231,Sebb,,CLOSED,2016-05-23T14:11:16Z,2016-06-01T22:22:24Z,"https://github.com/quenda/ponymail/issues/41 was closed, but the issue was not fixed
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/46/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkwODAxMQ==,incubator-ponymail,222908011,46,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T06:50:44Z,2016-06-01T06:50:44Z,"it's _not_ a bug, it's a configuration issue. If you have a specific issue with that service, I suggest you reach out to the people in charge of it.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkwODAxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjk1Mzc3Mg==,incubator-ponymail,222953772,46,NA,sebbASF,16689231,Sebb,,NA,2016-06-01T10:27:37Z,2016-06-01T10:27:37Z,"A similar message was sent to two different mailing lists separately.
How is it not a bug that the same short hash is generated for these two _different_ messages?

Seems to me that the hash does not include sufficient context.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjk1Mzc3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjk4NTIxNA==,incubator-ponymail,222985214,46,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T13:02:29Z,2016-06-01T13:02:29Z,"See aa98961019c7c660c8c610449f5640afa1228cfb - this should be considered a done deal now.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjk4NTIxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzEzODYwNQ==,incubator-ponymail,223138605,46,NA,sebbASF,16689231,Sebb,,NA,2016-06-01T22:02:25Z,2016-06-01T22:02:25Z,"The message on the derby dev list has the permalink:

https://lists.apache.org/thread.html/Z7qd2pd84pll5sl

This still points to the wrong message.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzEzODYwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzEzODk1NA==,incubator-ponymail,223138954,46,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T22:03:59Z,2016-06-01T22:03:59Z,"That's hardly our fault :) If you want a specific instance to be re-indexed, contact the appropriate people in charge of that.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzEzODk1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzE0MjUzMg==,incubator-ponymail,223142532,46,NA,sebbASF,16689231,Sebb,,NA,2016-06-01T22:20:33Z,2016-06-01T22:20:33Z,"Huh? Surely the incorrect (duplicate) hash was caused by a bug?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzE0MjUzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/46,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzE0Mjg5Mg==,incubator-ponymail,223142892,46,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T22:22:24Z,2016-06-01T22:22:24Z,"But we don't run lists.apache.org :) We're a software community, not a service provider.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzE0Mjg5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/47,https://api.github.com/repos/apache/incubator-ponymail/issues/47,incubator-ponymail,156298054,47,Bug: manage e-mail confirmation link does not work at all,sebbASF,16689231,Sebb,,CLOSED,2016-05-23T14:46:26Z,2016-06-01T04:32:07Z,"Cannot associate mail addresses any more.

I removed the previous mail association.
Note that I had to do this multiple times, as the deletion did not appear to take.
Perhaps there were multiple entries for the same address?

Now I cannot add the association for the same e-mail address.
I get the mail, but the link is rejected with the message:

""Either you supplied an invalid hash or something else went wrong.""

Same happened with an email address that I have not yet used with Pony Mail
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/47/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/47,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMTA1MTMxOA==,incubator-ponymail,221051318,47,NA,sebbASF,16689231,Sebb,,NA,2016-05-23T18:15:43Z,2016-05-23T18:15:43Z,"This appears to be due to the following line:
if v and (not v == JSON.null) and v.hash == get.hash then

It looks like 'not' binds tighter than '==' [1]

It should probably be

if v and not (v == JSON.null) and v.hash == get.hash then

[1] https://www.lua.org/pil/3.5.html
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMTA1MTMxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/48,https://api.github.com/repos/apache/incubator-ponymail/issues/48,incubator-ponymail,156299285,48,Fix: several files use the old Github address,sebbASF,16689231,Sebb,,CLOSED,2016-05-23T14:55:23Z,2016-05-31T05:52:57Z,"Several files still reference the old Github address:

dockerfiles/debian/Dockerfile:21:RUN git clone https://github.com/Humbedooh/ponymail.git /var/www/ponymail
dockerfiles/debian/Dockerfile:24:ADD https://raw.githubusercontent.com/Humbedooh/ponymail/master/dockerfiles/ponymail_httpd_docker.conf /etc/apache2/sites-enabled/000-default.conf
docs/INSTALL.centos.md:100:git clone https://github.com/Humbedooh/ponymail.git
docs/INSTALL.debian.md:34:sudo git clone https://github.com/Humbedooh/ponymail.git
docs/INSTALL.fedora.md:64:sudo git clone https://github.com/Humbedooh/ponymail.git
docs/INSTALL.ubuntu.md:44:git clone https://github.com/Humbedooh/ponymail.git
docs/INSTALLING.md:25:- Download the git repo: `git clone https://github.com/Humbedooh/ponymail.git`
README.md:2:<img src=""https://github.com/Humbedooh/ponymail/blob/master/site/images/logo_large.png"" align=""left""/><br/><br/>
README.md:11:![Ponies](https://github.com/Humbedooh/ponymail/blob/master/site/images/demo.png)
README.md:13:![Trends](https://github.com/Humbedooh/ponymail/blob/master/site/images/demo_trends.png)
tools/install.py:53:    subprocess.check_call(('git', 'clone', 'https://github.com/Humbedooh/ponymail.git', '/var/www/ponymail'))

AFAICT there is a redirect in place, but it would be better to fix the URLs
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/48/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/49,https://api.github.com/repos/apache/incubator-ponymail/issues/49,incubator-ponymail,156321083,49,Bug: associate mail page does not validate the e-mail address,sebbASF,16689231,Sebb,,CLOSED,2016-05-23T17:23:00Z,2016-06-04T09:28:40Z,"As the subject says: no matter what is entered in the e-mail address box, pressing the Associate button appears to be successful. No error is generated even for blank input.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/49/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/50,https://api.github.com/repos/apache/incubator-ponymail/issues/50,incubator-ponymail,156404908,50,Enhance: easier navigation among mailing lists,sebbASF,16689231,Sebb,,OPEN,2016-05-24T02:06:56Z,2016-09-08T06:20:20Z,"It's not all that easy to navigate the lists for a large site like the ASF.

There does not appear to be a way to search by list id, and the drop-down lists don't react to typing the first few letters of the name.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/50/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/50,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDU1OA==,incubator-ponymail,245504558,50,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-08T06:20:20Z,2016-09-08T06:20:20Z,"This is being worked on in the coffee-and-cake branch now.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDU1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/51,https://api.github.com/repos/apache/incubator-ponymail/issues/51,incubator-ponymail,156405690,51,Enhance: archive calendar display to show the number of mails for each month,sebbASF,16689231,Sebb,,OPEN,2016-05-24T02:14:58Z,2016-06-04T09:33:38Z,"The archive calendar display on the lhs should show the number of mails for the month.

The oldest month buttons could be dropped if there is no data (e.g. list had not started).
Or at least the buttons should show a different colour if there are no mails.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/51/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/52,https://api.github.com/repos/apache/incubator-ponymail/issues/52,incubator-ponymail,157205412,52,Bug: download mbox function omits mails on the last day of the month,sebbASF,16689231,Sebb,,CLOSED,2016-05-27T13:22:03Z,2016-05-31T10:49:59Z,"The download mbox function can omit some mails.

For example, the following e-mail:

https://lists.apache.org/thread.html/Zqh58xrfbbskrmd
was delivered to whimsical-dev dated: 2015-06-30 16:13
[The mail has the ezmlm id of 12]

However it is not in the download for June
https://lists.apache.org/api/mbox.lua?list=dev@whimsical.apache.org&date=2015-6

This appears to be because the date range in the elastic search is:

gte = (""%04d/%02d/%02d 00:00:00""):format(y,m,1),
lte = (""%04d/%02d/%02d 00:00:00""):format(y,m,d)

which obviously excludes all emails dated after the start of the final day of the month.

It might be better to select on the basis of matching YYYYMM.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/52/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/53,https://api.github.com/repos/apache/incubator-ponymail/issues/53,incubator-ponymail,157214570,53,Bug: message added to wrong mbox file,sebbASF,16689231,Sebb,,CLOSED,2016-05-27T14:06:57Z,2016-06-04T09:32:05Z,"The email with message Id
CAOGo0VYmoPyFiV1irTkKnVe37Pmoja-Zs80D33vQ3YuaRsBNgA@mail.gmail.com

appears in the downloaded mailbox for March, i.e.

https://lists.apache.org/api/mbox.lua?list=dev@whimsical.apache.org&date=2016-3

Since the mail was sent in February, that is the wrong mbox.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/53/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/53,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjk4OTUxMg==,incubator-ponymail,222989512,53,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T13:19:46Z,2016-06-01T13:19:46Z,"I suppose that would technically be an ElasticSearch issue.
the mbox script downloads everything from 2016-03-01 to 2016-03-31 there, so if that email makes it to the blob, then it's probably a locale issue within ElasticSearch.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjk4OTUxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/53,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzE0MTE4OA==,incubator-ponymail,223141188,53,NA,sebbASF,16689231,Sebb,,NA,2016-06-01T22:14:00Z,2016-06-01T22:14:00Z,"I'm not sure I follow: there should not be an issue with the Locale, because the mail message includes the timezone:

Date: Mon, 29 Feb 2016 23:11:02 +0000

Maybe the problem is that the query does not include the timezone.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzE0MTE4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/53,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjM3OQ==,incubator-ponymail,223746379,53,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T09:32:05Z,2016-06-04T09:32:05Z,"Cannot reproduce. I think this is/was an old bug that has been fixed since (maybe in Sam's rewrite?). The email is probably off by one hour because of some daylight savings time during the import, and thus counts as being in March.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjM3OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/54,incubator-ponymail,157271297,54,Reply only takes current mailing list into account,sebbASF,16689231,Sebb,,OPEN,2016-05-27T19:03:19Z,2016-06-01T06:37:46Z,"The various mail views only seem to show the current mailing list.

This causes a problem when using the Reply function; Reply All is usually what is needed.

There should at least be some indication that the e-mail was sent to more than 1 list.
[I know that the mail source is available, but that is hardly user-friendly]
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/54/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjYzNjM2Mg==,incubator-ponymail,222636362,54,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-05-31T09:22:35Z,2016-05-31T09:22:35Z,"+1
And what if the e-mail features other (e.g. non mailing list) addresses?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjYzNjM2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MTEwNg==,incubator-ponymail,222651106,54,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T10:29:50Z,2016-05-31T10:29:50Z,"how would you detect a ""non-mailing list"" address though? Surely you'd want the system to just be interactions with lists, and not a generic email client for people. That's what they have their own email clients for.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MTEwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MTQzOA==,incubator-ponymail,222651438,54,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-05-31T10:31:39Z,2016-05-31T10:31:39Z,"Ok, but what if one wants to reply to a specific e-mail which was sent to the mailing list AND someone (not subscribed to the mailing list, naturally)? Currently, the latter recipient won't get any reply - if replying via PonyMail.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MTQzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MTg5MA==,incubator-ponymail,222651890,54,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T10:34:00Z,2016-05-31T10:34:00Z,"replying to both the list AND the original sender would be possible within the current design. It's just replying to all 'To: ' addresses that would not be possible.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MTg5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MjA1Nw==,incubator-ponymail,222652057,54,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-05-31T10:34:57Z,2016-05-31T10:34:57Z,"Sorry, I wasn't clear: I exactly mean this, e.g. replying to all `To` and `CC`.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MjA1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MjI0MA==,incubator-ponymail,222652240,54,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T10:35:56Z,2016-05-31T10:35:56Z,"that would require rewriting the archiver to also digest those headers
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MjI0MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MzE3Mw==,incubator-ponymail,222653173,54,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T10:40:44Z,2016-05-31T10:40:44Z,"I'm curious whether you think it's Pony Mail's job to act as a complete mail client, or just interact with the specific list you are on. Currently, it does the latter entirely by design. 
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MzE3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MzYyMQ==,incubator-ponymail,222653621,54,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-05-31T10:43:14Z,2016-05-31T10:43:14Z,"I agree that building a complete mail client is not on purpose, but if A sends an e-mail to mailing list M and additional recipient R, I would like to have Pony Mail sending out my reply to A's e-mail to both M and R.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1MzYyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1NDA0NQ==,incubator-ponymail,222654045,54,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T10:45:33Z,2016-05-31T10:45:33Z,"I'm not _against it_, but if this was added, it should be something that you enable on purpose (i.e. a setting that is off by default, but can be enabled). I feel the default should be 'reply to list' here. Anything beyond that would be an added 'nice to have'.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1NDA0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1NDIzMA==,incubator-ponymail,222654230,54,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-05-31T10:46:23Z,2016-05-31T10:46:23Z,"LGTM :+1: 
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY1NDIzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/54,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkwNTk1Mg==,incubator-ponymail,222905952,54,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T06:37:46Z,2016-06-01T06:37:46Z,"welp, I must admit I was wrong. Pony Mail already saves the to/cc headers in the digest, so this is indeed possible with the current design.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkwNTk1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/55,https://api.github.com/repos/apache/incubator-ponymail/issues/55,incubator-ponymail,157294893,55,"Privacy issue: thread.html view - first email address in the list, the sender email is not obfuscated",shazron,36107,Shazron Abdullah,,CLOSED,2016-05-27T21:36:23Z,2016-05-28T02:17:54Z,"Email addresses are generally obfuscated, except for the first email in the thread.
## Expected:

The first ""from:"" email address in a thread should be obfuscated, like the rest of the emails in a thread.
## Actual:

The first ""from:"" email address in a thread is not obfuscated, unlike the rest of the emails in a thread.
## Steps to repro:
1. In  the main view, expand a thread.
2. Click on the ""Permalink"" button on any email in the thread
3. Note that in the new Thread view, the first email's ""From:"" field is not obfuscated
## Example deployment to see the bug in action:

http://ponymail.info/thread.html/Z3uzyw5jakfvdqq
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/55/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/55,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjI4NTA0OQ==,incubator-ponymail,222285049,55,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-28T02:17:54Z,2016-05-28T02:17:54Z,"This should be fixed now. The anonymizing feature that the stats generator (the script that pulls down monthly views) had was not being applied in the thread display script, but it is there now and looks to be working :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjI4NTA0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/57,incubator-ponymail,157646189,57,"""Reply via your own mail client"" all percent-encoded with Thunderbird on Linux",ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2016-05-31T11:09:10Z,2019-02-25T12:29:57Z,"When using the ""Reply via your own mail client"" feature from my local PonyMail installation, the content is all percent-encoded if the original e-mail was sent in HTML only, even though it looks fine in the browser.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/57/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjA3Mg==,incubator-ponymail,223746072,57,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T09:23:57Z,2016-06-04T09:23:57Z,"which browser do you use for this?
it is supposed to escape the stuff, so it can render it as an URL - I'm not sure where the bug lies.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjA3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjgxOQ==,incubator-ponymail,223746819,57,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-06-04T09:42:57Z,2016-06-04T09:42:57Z,"I have tested with both latest Chromium and Firefox - and Thunderbird - on Linux.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjgxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjkxMw==,incubator-ponymail,223746913,57,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T09:45:25Z,2016-06-04T09:45:25Z,"So here's where it gets complicated :) We're gonna need a publicly available version of the email to test against :) Can you provide that?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjkxMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NzA4MQ==,incubator-ponymail,223747081,57,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-06-04T09:49:49Z,2016-06-04T09:49:49Z,"I'll try my best, but unfortunately not before Monday :-/
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NzA4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzg4OTI2Nw==,incubator-ponymail,223889267,57,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-06-06T07:44:12Z,2016-06-06T07:44:12Z,"The original e-mail was sent as HTML, then imported with `--html2text`.

This is how it looks in PonyMail:

![textonly_percent](https://cloud.githubusercontent.com/assets/1064664/15815117/0ef56288-2bcb-11e6-8302-f7b5e1d7f621.png)

This is the generated link

```
location.href=""mailto:syncope@tirasa.net?subject=Re%3A%20TEST%20-%20ignorare%2C%20please&amp;In-Reply-To=%3C57552897.7020407@tirasa.net%3E&body=%0A%0AOn%202016-06-06%2009%3A39%20%28+0200%29%2C%20Francesco%20Chicchiricc%F2%3Cfrancesco.chicchiricco@tirasa.net%3E%20wrote%3A%20%0A%3E%20Test%20da%20ignorare.%0A%3E%20%0A%3E%20%201.%20one%0A%3E%20%202.%20two%0A%3E%20%203.%20three%0A%3E%20%0A%3E%20Some%20*bold%20text*%2C%20some%20/italic%20text/.%0A%3E%20%0A%3E%20--%20%0A%3E%20Francesco%20Chicchiricc%F2%0A%3E%20Tel%20+393290573276%0A%3E%20%0A%3E%20Amministratore%20unico%20@%20Tirasa%20S.r.l.%0A%3E%20Viale%20D%27Annunzio%20267%20-%2065127%20Pescara%0A%3E%20Tel%20+39%200859116307%20/%20FAX%20+39%200859111173%0A%3E%20http%3A//www.tirasa.net%0A%3E%20%0A%3E%20Involved%20at%20The%20Apache%20Software%20Foundation%3A%0A%3E%20member%2C%20Syncope%20PMC%20chair%2C%20Cocoon%20PMC%2C%20Olingo%20PMC%2C%0A%3E%20CXF%20Committer%2C%20OpenJPA%20Committer%2C%20PonyMail%20PPMC%0A%3E%20http%3A//home.apache.org/%7Eilgrosso/%0A%3E%20%0A%3E%20%22To%20Iterate%20is%20Human%2C%20to%20Recurse%2C%20Divine%22%0A%3E%20%28James%20O.%20Coplien%2C%20Bell%20Labs%29%0A%3E%20%0A%3E%20"";
```

This is how it looks in Thunderbird:

```
%0A%0AOn%202016-06-06%2009%3A39%20%28+0200%29%2C%20Francesco%20Chicchiricc%F2%3Cfrancesco.chicchiricco@tirasa.net%3E%20wrote%3A%20%0A%3E%20Test%20da%20ignorare.%0A%3E%20%0A%3E%20%201.%20one%0A%3E%20%202.%20two%0A%3E%20%203.%20three%0A%3E%20%0A%3E%20Some%20*bold%20text*%2C%20some%20/italic%20text/.%0A%3E%20%0A%3E%20--%20%0A%3E%20Francesco%20Chicchiricc%F2%0A%3E%20Tel%20+393290573276%0A%3E%20%0A%3E%20Amministratore%20unico%20@%20Tirasa%20S.r.l.%0A%3E%20Viale%20D%27Annunzio%20267%20-%2065127%20Pescara%0A%3E%20Tel%20+39%200859116307%20/%20FAX%20+39%200859111173%0A%3E%20http%3A//www.tirasa.net%0A%3E%20%0A%3E%20Involved%20at%20The%20Apache%20Software%20Foundation%3A%0A%3E%20member%2C%20Syncope%20PMC%20chair%2C%20Cocoon%20PMC%2C%20Olingo%20PMC%2C%0A%3E%20CXF%20Committer%2C%20OpenJPA%20Committer%2C%20PonyMail%20PPMC%0A%3E%20http%3A//home.apache.org/%7Eilgrosso/%0A%3E%20%0A%3E%20%22To%20Iterate%20is%20Human%2C%20to%20Recurse%2C%20Divine%22%0A%3E%20%28James%20O.%20Coplien%2C%20Bell%20Labs%29%0A%3E%20%0A%3E%20
```
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzg4OTI2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/57,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ2Njk5Mzc4Mg==,incubator-ponymail,466993782,57,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2019-02-25T12:29:57Z,2019-02-25T12:29:57Z,"Works fine lately, closing.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ2Njk5Mzc4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/58,https://api.github.com/repos/apache/incubator-ponymail/issues/58,incubator-ponymail,157646651,58,XLSX attachment corrupted,ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2016-05-31T11:12:16Z,2019-02-25T12:29:50Z,"In my local installation I periodically run the `import-mbox.py` against Mailman's MBOX files.

I have just noticed that OpenOffice says that an XLSX attachment downloaded from PonyMail is corrupted.
Downloading the same attachment form Pipermail works fine, instead.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/58/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/58,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ2Njk5Mzc2MA==,incubator-ponymail,466993760,58,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2019-02-25T12:29:50Z,2019-02-25T12:29:50Z,"Works fine lately, closing.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ2Njk5Mzc2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/59,incubator-ponymail,157646895,59,New feature: allow admins to remove e-mails from archives,ilgrosso,1064664,Francesco Chicchiriccò,,OPEN,2016-05-31T11:13:43Z,2016-06-06T12:07:24Z,"Would it be of interest the possibility to give administrators the possibility to hide / remove specific e-mails from archives?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/59/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY2MDIwOA==,incubator-ponymail,222660208,59,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T11:19:01Z,2016-05-31T11:19:01Z,"step 1: how would you define an admin? :)
It could be done, but would require some rewrite of the elastic library to support DELETE operations
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjY2MDIwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjczNjk1Mw==,incubator-ponymail,222736953,59,NA,PierreSmits,3950770,Pierre Smits,,NA,2016-05-31T16:05:58Z,2016-05-31T16:05:58Z,"How will we ensure that this is inline with ASF policies and procedures regarding mailing lists and postings?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjczNjk1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjczNzU3Mw==,incubator-ponymail,222737573,59,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-05-31T16:07:59Z,2016-05-31T16:07:59Z,"Pierre, this has no relevance to the subject. How the ASF decides to utilize an implementation of this project is their business. It has no impact on how we decide to implement new features.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjczNzU3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkwNjMzNA==,incubator-ponymail,222906334,59,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-06-01T06:40:11Z,2016-06-01T06:40:11Z,"@Humbedooh maybe this is not necessarily a feature to expose via web UI, it could very well be something accessible via CLI (as other tools including importer): in this way you can safely jump the ""step 1"" above :-)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkwNjMzNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkxMjYwOA==,incubator-ponymail,222912608,59,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-01T07:17:36Z,2016-06-01T07:17:36Z,"edit-list.py could be enhanced to do this, I suppose.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMjkxMjYwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzIzMzIxOQ==,incubator-ponymail,223233219,59,NA,sebbASF,16689231,Sebb,,NA,2016-06-02T08:52:21Z,2016-06-02T08:52:21Z,"+1 to allowing mails to be 'hidden'
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzIzMzIxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzIzMzYxNA==,incubator-ponymail,223233614,59,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-02T08:54:11Z,2016-06-02T08:54:11Z,"Emails can be hidden by deleting the digest. This is what edit-lists.py does currently. The original email is retained in the source index, but the digest is removed, thus making the email not show up on lists.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzIzMzYxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzI1NDk2MQ==,incubator-ponymail,223254961,59,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-06-02T10:32:27Z,2016-06-02T10:32:27Z,"+1 to administratively hiding e-mails: are you saying that this issue can be just closed? Is the feature already documented?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzI1NDk2MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzMxODY0Nw==,incubator-ponymail,223318647,59,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-02T14:59:35Z,2016-06-02T14:59:35Z,"no, the issue can't be closed just yet. You can't delete emails by ID, only mass-remove lists with that script.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzMxODY0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/59,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzk0MDU1Mg==,incubator-ponymail,223940552,59,NA,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,NA,2016-06-06T12:07:24Z,2016-06-06T12:07:24Z,"We need to clarify documentation, to be specific as to what happens to the data and the user access thereto after using this (new) feature.

That is: If an ""admin"" uses this feather, er, feature to delete the digest of a single message, then:
- Users can no longer see it in list views.
- Users will see - what? - if they hit a URL they've previously saved that pointed at the message?
- If the message is in the middle of a thread, how does it affect threaded display?
- Does this actually delete the >quoted content from other emails in the thread? (I'd presume not, meaning we need to clearly document that, lest someone think this is a secure feature to scrub data)
- What happens if someone else wants to mirror the ponymail dataset?  I.e. after you use this feature, and I run a script to suck the config from the server to my local machine, will I get all data, or will this message be missing from my end?
- Does this survive server restarts/reconfigs?

Apologies if some of those are naive questions, but if we're gonna add something that makes people _think_ they deleted a message, we need to be clear exactly how it works.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzk0MDU1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/60,https://api.github.com/repos/apache/incubator-ponymail/issues/60,incubator-ponymail,158081518,60,Bug: Internal Server Error when viewing e-mails,sebbASF,16689231,Sebb,,CLOSED,2016-06-02T08:04:39Z,2016-06-02T08:24:20Z,"Got the following Internal Server Error when viewing mail:

/var/www/ponymail_asf/site/api/email.lua:32: attempt to get length of field 'cc' (a userdata value)

The mailbox that causes the problem is:

https://lists.apache.org/list.html?notifications@whimsical.apache.org:2016-4
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/60/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/60,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzIyNTczMQ==,incubator-ponymail,223225731,60,NA,ulises,30649,Ulises Cervino Beresi,ulises.cervino@gmail.com,NA,2016-06-02T08:18:00Z,2016-06-02T08:18:00Z,"I seem to be able to see that just fine?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzIyNTczMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/61,https://api.github.com/repos/apache/incubator-ponymail/issues/61,incubator-ponymail,158097049,61,Bug: Date display does not show the TZ it is in,sebbASF,16689231,Sebb,,CLOSED,2016-06-02T09:30:44Z,2016-09-08T06:20:59Z,"The message date field is shown in local time.

However the TZ is not shown, which makes the date ambiguous.

Date/time fields should always show the TZ
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/61/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/61,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDY1NQ==,incubator-ponymail,245504655,61,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-08T06:20:59Z,2016-09-08T06:20:59Z,"Closing as fixed, forgot to do that a while ago :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDY1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/62,https://api.github.com/repos/apache/incubator-ponymail/issues/62,incubator-ponymail,158098063,62,Date display should default to GMT or GMT-offset,sebbASF,16689231,Sebb,,CLOSED,2016-06-02T09:35:45Z,2016-11-25T18:39:16Z,"For consistency, the message date should be shown in GMT by default or possibly in GMT-offset form.

e.g.
Date: Wed, 01 Jun 2016 16:23:56 GMT
or
Date: Wed, 1 Jun 2016 11:23:56 -0500

It should not be necessary to login to specify the TZ to be used.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/62/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/63,https://api.github.com/repos/apache/incubator-ponymail/issues/63,incubator-ponymail,158140980,63,Bug: date display shows the negative timezone offset,sebbASF,16689231,Sebb,,CLOSED,2016-06-02T13:29:47Z,2016-06-04T09:24:36Z,"The date display has been changed to append the tz offset.
However the sign is inverted.

For example:
https://lists.apache.org/thread.html/Zfp0souj6y08k06
has the source:
Date: Wed, 1 Jun 2016 11:23:56 -0500
This is correctly shown by mail-archives as
Date Wed, 01 Jun 2016 16:23:56 GMT
However Pony Mail shows it to me as
Date: 2016-06-01 17:23 (-0100)

However I'm on GMT+1.

Seems to me that the display should use GMT and avoid any issues with time conversion, especially since DST dates vary between locales.

But if conversion to local time is done, it's important to show the correct offset.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/63/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/63,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjA5Nw==,incubator-ponymail,223746097,63,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T09:24:36Z,2016-06-04T09:24:36Z,"This was fixed in 19da4b5dd
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjA5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/64,https://api.github.com/repos/apache/incubator-ponymail/issues/64,incubator-ponymail,158333304,64,Back button returns too far when returning from View Source,sebbASF,16689231,Sebb,,OPEN,2016-06-03T10:03:22Z,2016-06-03T12:42:57Z,"Navigate to a mail beyond the first page.
Open the thread
Click ""View Source""
Click back - the display changes back to the first page
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/64/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/64,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU0MTc2Mw==,incubator-ponymail,223541763,64,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T10:08:30Z,2016-06-03T10:08:30Z,"This seems to be a webkit specific behavior (works as intended in Firefox). I'm not sure we can work around that.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU0MTc2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/64,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU0ODkwMw==,incubator-ponymail,223548903,64,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T10:48:11Z,2016-06-03T10:48:11Z,"The original report was for Safari (MacOSX)
The problem also occurs on Chrome (MacOSX)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU0ODkwMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/64,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU2ODYwNw==,incubator-ponymail,223568607,64,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T12:42:57Z,2016-06-03T12:42:57Z,"yes, both of those are webkit browsers.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU2ODYwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/65,incubator-ponymail,158339802,65,Bug: Pony Mail does not handle blocked access to local storage well,sebbASF,16689231,Sebb,,CLOSED,2016-06-03T10:41:17Z,2016-06-03T14:58:23Z,"Using Version:  37.0.2178.54
Update stream:  Stable
System: Mac OS X 10.11.5 64-bit

The home page display is OK, but the mail list pages are empty apart from the header.
The next line shows the selected list and an empty ""View Mode"" drop-down.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/65/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU3Mjk5NQ==,incubator-ponymail,223572995,65,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T13:04:14Z,2016-06-03T13:04:14Z,"We'll need some javascript console output to go on, this is insufficient data.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU3Mjk5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4NjcwNg==,incubator-ponymail,223586706,65,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T14:01:44Z,2016-06-03T14:01:44Z,"Fails to access: window.localStorage

I'd forgotten that I had configured the browser this way.
I agree it's unusual, but the code ought to allow for this restriction.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4NjcwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4Nzc5Ng==,incubator-ponymail,223587796,65,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T14:05:48Z,2016-06-03T14:05:48Z,"a line number would be nice :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4Nzc5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4ODA4MA==,incubator-ponymail,223588080,65,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T14:06:50Z,2016-06-03T14:06:50Z,"2282
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4ODA4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4ODgyMw==,incubator-ponymail,223588823,65,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T14:09:44Z,2016-06-03T14:09:44Z,"ugh, that's a nasty behavior by Opera. That line tries to assert whether window.localStorage exists, and should just return false in this case. That it turns into an error seems counterproductive.

We can work around this apparent bug in Opera, but that's gonna take a lot of work, as we use storage in many places.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4ODgyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU5MTY3Ng==,incubator-ponymail,223591676,65,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T14:20:14Z,2016-06-03T14:20:14Z,"Chrome behaves the same way if you select ""Block sites from setting any data""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU5MTY3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU5NDg1MA==,incubator-ponymail,223594850,65,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T14:31:26Z,2016-06-03T14:31:26Z,"Safari behaves the same as well, and has some other complaints:
[Error] SecurityError: DOM Exception 18: An attempt was made to break through the security policy of the user agent.
    loadStateData (content1.js (line 2:180))
    global code (content1.js (line 2:4859))

[Error] SecurityError: DOM Exception 18: An attempt was made to break through the security policy of the user agent.
    loadEphemeral (ponymail.js:2282)
    buildPage (ponymail.js:3823)
    onreadystatechange (ponymail.js:2228)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU5NDg1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU5NzkxNg==,incubator-ponymail,223597916,65,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T14:42:28Z,2016-06-03T14:42:28Z,"yes, they are all webkit these days. 
I've made a workaround, though it bugs me that these browsers behave so poorly. They should just set the storage objects to null if they're not accessible.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU5NzkxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzYwMTY4Nw==,incubator-ponymail,223601687,65,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T14:55:34Z,2016-06-03T14:55:34Z,"If there is a standard for how the browsers should behave, then raise an error against webkit
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzYwMTY4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/65,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzYwMjQ3NQ==,incubator-ponymail,223602475,65,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T14:58:23Z,2016-06-03T14:58:23Z,"already exists: http://crbug.com/357625
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzYwMjQ3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/66,https://api.github.com/repos/apache/incubator-ponymail/issues/66,incubator-ponymail,158340431,66,Bug: incorrect date calculation,sebbASF,16689231,Sebb,,CLOSED,2016-06-03T10:45:16Z,2016-06-03T14:05:29Z,"The message https://lists.apache.org/thread.html/Ztfzmhd8tf3q0li shows the following date:

Date: 2016-03-18 07:26 (+0100)

However View Source shows:

Date: Fri, 18 Mar 2016 07:26:28 +0000

That should be shown as:
Date: 2016-03-18 08:26 (+0100)

I tried to find other e-mails with the same issue but so far have failed.
It's not just the +0000 in the source; it may relate to other items in the source.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/66/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/66,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU3MzMwMg==,incubator-ponymail,223573302,66,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T13:05:39Z,2016-06-03T13:05:39Z,"this is not incorrect per se, it's just a conversion from the original date to your own timezone. The TZ of an email is not saved in the digest.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU3MzMwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/66,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU3MzUyMw==,incubator-ponymail,223573523,66,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-03T13:06:43Z,2016-06-03T13:06:43Z,"that is to say, all timestamps are converted to UTC before they are saved.
If you wish to know the author's timezone, you need to view the source. This is not something that will be changed in the near future.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU3MzUyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/66,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4NzcyOQ==,incubator-ponymail,223587729,66,NA,sebbASF,16689231,Sebb,,NA,2016-06-03T14:05:29Z,2016-06-03T14:05:29Z,"The problem here is that the author's timezone is +0000 according to View Source.

Mine is +0100.

Yet they display the **same** time, i.e. 07:26

That's not possible; there is no time t such that

t + 0000 == t + 0100
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzU4NzcyOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/67,https://api.github.com/repos/apache/incubator-ponymail/issues/67,incubator-ponymail,158496690,67,Build and publish website per commit,gmcdonald,287517,Gavin McDonald,,CLOSED,2016-06-04T09:29:18Z,2021-11-24T15:31:49Z,"Rather than generating the site yourself, just edit a source file and forget about it!

Assuming the build is successful, buildbot will publish the website for us.

There has been a discussion started on the dev list about this, this issue is to track its progress.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/67/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/67,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjUxNA==,incubator-ponymail,223746514,67,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T09:35:34Z,2016-06-04T09:35:34Z,"Discussion at: https://lists.apache.org/thread.html/7d8607ae4ba832e5d1dd3f7ef0ca14e2dde9bf377d4bed1a8aee7dab@%3Cdev.ponymail.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NjUxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/67,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDE1NTkxMQ==,incubator-ponymail,224155911,67,NA,gmcdonald,287517,Gavin McDonald,,NA,2016-06-07T02:57:54Z,2016-06-07T02:57:54Z,"After a little snag with the auth system, this is now working.

Just commit to the 'source' dir and that'll trigger a rebuild and publish.

Buildbot config for this is at -

https://svn.apache.org/repos/infra/infrastructure/buildbot/aegis/buildmaster/master1/projects/ponymail.conf 
First successful buildbot build result at -

https://ci.apache.org/builders/ponymail-site/builds/9

Note that only commit to the 'source' dir should trigger a build + publish
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDE1NTkxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/68,https://api.github.com/repos/apache/incubator-ponymail/issues/68,incubator-ponymail,158497532,68,test integration a bit,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2016-06-04T09:54:21Z,2016-06-04T10:06:12Z,"bla bla bla
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/68/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/68,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NzY3Ng==,incubator-ponymail,223747676,68,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T10:06:06Z,2016-06-04T10:06:06Z,"blaaaa
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NzY3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/68,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NzY4Mg==,incubator-ponymail,223747682,68,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-04T10:06:12Z,2016-06-04T10:06:12Z,"aand closing this ticket ;)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyMzc0NzY4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/69,https://api.github.com/repos/apache/incubator-ponymail/issues/69,incubator-ponymail,158612762,69,"""Reply via your own mail client"" - missing link with Thunderbird on Linux",ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2016-06-06T07:04:12Z,2019-02-25T12:30:07Z,"The link below is generated from the e-mail in the first screenshot:

```
location.href=""mailto:syncope@tirasa.net?subject=Re%3A%20Jenkins%20build%20is%20back%20to%20stable%20%3A%20ApacheSyncopeMaster%20%23872&amp;In-Reply-To=%3C841709481.7.1464805201434.JavaMail.jenkins@abete%3E&body=%0A%0AOn%202016-06-01%2020%3A20%20%28+0200%29%2C%20jenkins@tirasa.net%20wrote%3A%20%0A%3E%20See%20%3Chttp%3A//jenkins.tirasa.net/job/ApacheSyncopeMaster/872/%3E%0A%3E%20%0A%3E%20"";
```

![textonly_missinglink](https://cloud.githubusercontent.com/assets/1064664/15814199/4c79fdfe-2bc5-11e6-923b-c9dcd985c318.png)

While the following e-mail content is generated in Thunderbird (note that no link is reported):

```
On 2016-06-01 20:20 (+0200), jenkins@tirasa.net wrote:
> See
>
> 
```
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/69/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/69,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ2Njk5MzgyMw==,incubator-ponymail,466993823,69,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2019-02-25T12:30:07Z,2019-02-25T12:30:07Z,"Works fine lately, closing.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ2Njk5MzgyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/70,https://api.github.com/repos/apache/incubator-ponymail/issues/70,incubator-ponymail,158645871,70,Bug: does not show mixed private/public lists unless logged in,sebbASF,16689231,Sebb,,CLOSED,2016-06-06T10:24:28Z,2017-01-08T23:58:09Z,"As the subject says: 
lists that have been converted to be public (and so have mixed content) do not appear in the drop-downs unless logged in.

However they are accessible if one uses the URL.

For example:

https://lists.apache.org/list.html?site-dev@apache.org

is visible without logging in, but site-dev does not appear under apache.org
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/70/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/70,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTE5NDI1Mg==,incubator-ponymail,265194252,70,NA,sebbASF,16689231,Sebb,,NA,2016-12-06T16:19:26Z,2016-12-06T16:19:26Z,"Furthermore, even when logged in a mixed list is only visible if the user has access to the private mails.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTE5NDI1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/70,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjE0Nzc2Ng==,incubator-ponymail,266147766,70,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T23:06:48Z,2016-12-09T23:06:48Z,This relates to #272,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjE0Nzc2Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/71,https://api.github.com/repos/apache/incubator-ponymail/issues/71,incubator-ponymail,158647014,71,Bug: display of mixed public/private list shows inaccurate pop-up,sebbASF,16689231,Sebb,,CLOSED,2016-06-06T10:31:04Z,2017-01-10T20:21:24Z,"https://lists.apache.org/list.html?site-dev@apache.org is a mixed list.

When the URL is visited without logging in, the public messages are shown, but there is a pop-up which says:

List not found!
Looks like this list is either not here or private.
...

Since the list is actually found, this is rather confusing.
It would be better if the pop-up message were something like:

This list has both public and private messages.
You can try Logging In to view the private messages.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/71/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/71,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTY4Njg1NA==,incubator-ponymail,271686854,71,NA,sebbASF,16689231,Sebb,,NA,2017-01-10T20:21:24Z,2017-01-10T20:21:24Z,Seems to have been fixed by other changes,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTY4Njg1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/72,https://api.github.com/repos/apache/incubator-ponymail/issues/72,incubator-ponymail,158973289,72,Bug: Pony Mail silently drops mail messages if there are too many,sebbASF,16689231,Sebb,,CLOSED,2016-06-07T16:56:34Z,2017-01-10T20:23:16Z,"The spark reviews list has over 17,000 messages in May 2016.

http://mail-archives.apache.org/mod_mbox/spark-reviews/201605.mbox/browser

However Pony Mail only shows 8 topics (24 mails):

https://lists.apache.org/list.html?reviews@spark.apache.org:2016-05

There is no indication that there are additional messages in that month, and there does not appear to be any way to list all the messages for the month.

No messages at all are shown for June.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/72/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/72,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDM0NTUwMg==,incubator-ponymail,224345502,72,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-07T16:59:30Z,2016-06-07T16:59:30Z,"Can you provide any evidence that this is an issue with Pony Mail?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDM0NTUwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/72,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDM0NzA4Mw==,incubator-ponymail,224347083,72,NA,sebbASF,16689231,Sebb,,NA,2016-06-07T17:05:18Z,2016-06-07T17:05:18Z,"Not sure what you mean by proof.

Or are you saying that Pony Mail has not been supplied with any mails for that list since May 1st?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDM0NzA4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/72,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDM0Nzg4NQ==,incubator-ponymail,224347885,72,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-07T17:08:05Z,2016-06-07T17:08:05Z,"This is an issue tracker for Pony Mail the project, not the specific deployment on lists.apache.org.
If something is wrong with that specific instance, I'd think the first thing you want to do is make sure it's an issue with Pony Mail and not that someone forgot to sub a list to the archiver on lists.apache.org
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDM0Nzg4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/73,https://api.github.com/repos/apache/incubator-ponymail/issues/73,incubator-ponymail,158973510,73,Grammar fix,sebbASF,16689231,Sebb,,CLOSED,2016-06-07T16:57:37Z,2016-10-15T17:18:54Z,"""No emails found fitting this criteria""
should be
""No emails found fitting these criteria""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/73/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/73,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDQ0OTAyMQ==,incubator-ponymail,224449021,73,NA,gmcdonald,287517,Gavin McDonald,,NA,2016-06-07T23:55:14Z,2016-06-07T23:55:14Z,"'these criteria' implies more than one set of search patterns, 'this criteria' means exactly one, who is to say which is more correct.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDQ0OTAyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/73,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDUyNzg5Nw==,incubator-ponymail,224527897,73,NA,sebbASF,16689231,Sebb,,NA,2016-06-08T08:48:56Z,2016-06-08T08:48:56Z,"The word criteria is plural. 
Its singular is criterion.

So either say

""This criterion"" or ""These criteria""

As far as the end user is concerned, each search involves several conditions (criteria).
These are: the list name and the date range and perhaps the subject

This is why it should be ""These criteria""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDUyNzg5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/73,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDU5NjI1NQ==,incubator-ponymail,224596255,73,NA,sebbASF,16689231,Sebb,,NA,2016-06-08T13:55:17Z,2016-06-08T13:55:17Z,"Or it could be

""No emails found that fit the search criteria""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDU5NjI1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/74,https://api.github.com/repos/apache/incubator-ponymail/issues/74,incubator-ponymail,158975781,74,Undisplayed mails are not noted unless the stats panel is visible,sebbASF,16689231,Sebb,,OPEN,2016-06-07T17:09:23Z,2017-01-23T21:14:21Z,"https://lists.apache.org/list.html?reviews@spark.apache.org:2016-4 shows a lot of mails

The stats panel states:

More than 15,000 emails found, truncating!

This ought to be made clear to the user without needing to open the stats panel
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/74/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/74,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3NDYxODk4Mg==,incubator-ponymail,274618982,74,NA,sebbASF,16689231,Sebb,,NA,2017-01-23T21:14:21Z,2017-01-23T21:14:21Z," Note: in this case, truncation has not actually occurred because of #334.
However, warnings should be visible even if the stats panel is closed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3NDYxODk4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/75,https://api.github.com/repos/apache/incubator-ponymail/issues/75,incubator-ponymail,159171697,75,It would be useful to be able to link directly to a search,sebbASF,16689231,Sebb,,CLOSED,2016-06-08T14:04:01Z,2017-01-22T18:54:38Z,"It's possible to link directly to an specific month in a specific list.
It would also be useful to be able to link to a search, for example:

search dev@ponymail.a.o for the subject: ""issue #""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/75/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/75,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3NDM1MDU2Ng==,incubator-ponymail,274350566,75,NA,sebbASF,16689231,Sebb,,NA,2017-01-22T18:54:38Z,2017-01-22T18:54:38Z,"I think this does now work, given fixes for #346 and #347","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3NDM1MDU2Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/76,https://api.github.com/repos/apache/incubator-ponymail/issues/76,incubator-ponymail,159249181,76,Bug: search strings not properly quoted.,sebbASF,16689231,Sebb,,CLOSED,2016-06-08T19:17:58Z,2016-11-09T23:22:21Z,"It looks like search strings are not being properly quoted.

Try searching the list

https://lists.apache.org/list.html?dev@ponymail.apache.org

for the subject: (without the double-quotes)

""issue"" - that works fine

Now try

""issue #"" - it also returns mails without # in the subject.

""# issue"" - returns _all_ mails.

Looks like # and anything after it is not being sent to the server; perhaps it is being treated as an anchor reference.

Now try

""issue #"" - and one gets:

------- cut here -------
Internal Server Error

Sorry, the request hit a bit snag and errored out. The server responded with:

Error!

/var/www/ponymail_asf/site/api/lib/elastic.lua:31: Backend Database returned code 400!
------- cut here -------

It looks like the Javascript code attempts to do some manipulation and escaping of the search parameters, but gets the escaping wrong. Maybe it would be better to let the browser do the escaping and handle the manipulation in the server if necessary.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/76/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/77,https://api.github.com/repos/apache/incubator-ponymail/issues/77,incubator-ponymail,159411405,77,Links to other lists at top of page should work,Gagravarr,1059677,,,OPEN,2016-06-09T13:44:14Z,2016-06-09T13:44:14Z,"At the top of the page, the links to other lists for the project are all ""javascript:void(0);"" . This means that anyone trying to load another list in a new tab (for example) gets an empty page not the list they wanted. 

These should be re-written to the ""real"" URL, with an on-click handler if required to avoid a page re-load
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/77/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/78,https://api.github.com/repos/apache/incubator-ponymail/issues/78,incubator-ponymail,159413012,78,"Default number of results to show on a page should be configurable, at least for signed-in users",Gagravarr,1059677,,,OPEN,2016-06-09T13:51:13Z,2016-06-09T16:17:17Z,"On other similar-ish sites, eg StackOverflow, the default number of items shown is low as with PonyMail. However, it's possible to increase that number if you'd rather a single long list (slower to load) rather than paging through lots

For signed in users at least, it should be possible in your preferences to pick a higher number of messages per page
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/78/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/78,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDkwNTI2OA==,incubator-ponymail,224905268,78,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-09T14:06:53Z,2016-06-09T14:06:53Z,"you can set it to auto-scale to your screen height in your preferences, and use the mouse scroll wheel to go to next/previous page. FWIW :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDkwNTI2OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/78,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDk0NjY4OA==,incubator-ponymail,224946688,78,NA,Gagravarr,1059677,,,NA,2016-06-09T16:17:17Z,2016-06-09T16:17:17Z,"Setting auto-scale gets me only 5 items on the page, which I consider worse! While the mouse scroll could be nice for some things, for other use-cases I'd much rather have eg 50 displayed that I can quickly cast an eye over, instead of constantly scrolling forward and backward through a very short list
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNDk0NjY4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/79,https://api.github.com/repos/apache/incubator-ponymail/issues/79,incubator-ponymail,159450094,79,"Changing ""Scale results per page to window height"" has no effect until page refresh",Gagravarr,1059677,,,OPEN,2016-06-09T16:20:10Z,2016-06-09T16:20:10Z,"If you change the value of `Scale results per page to window height` in your preferences and save, it has no effect until you refresh the page or force a navigation to a new page. I had expected it to kick-in immediately after saving the preferences, rather than some almost-random time later
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/79/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/80,https://api.github.com/repos/apache/incubator-ponymail/issues/80,incubator-ponymail,159662934,80,Advanced search fields are too small,sebbASF,16689231,Sebb,,CLOSED,2016-06-10T15:37:57Z,2016-12-16T23:32:13Z,"The Advanced search text fields are too small.

If a date range is selected, the text does not fit.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/80/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/80,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzcyMTUxNg==,incubator-ponymail,267721516,80,NA,sebbASF,16689231,Sebb,,NA,2016-12-16T23:32:13Z,2016-12-16T23:32:13Z,This has been fixed in the plain Javascript version,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzcyMTUxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/81,https://api.github.com/repos/apache/incubator-ponymail/issues/81,incubator-ponymail,159665105,81,Clear filters does not clear Advanced fields but updates Simple search dates,sebbASF,16689231,Sebb,,OPEN,2016-06-10T15:48:32Z,2016-06-10T15:48:32Z,"Create an Advanced search with a date range
Search for a subject
Press ""Clear filters""
The Advanced search fields are not cleared.
The simple search date range is updated with the Advanced date range
Furthermore, the date range is not changed back to the default when changing lists
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/81/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/82,https://api.github.com/repos/apache/incubator-ponymail/issues/82,incubator-ponymail,159735462,82,Allow user to remain logged in over browser restart,sebbASF,16689231,Sebb,,OPEN,2016-06-10T22:30:19Z,2016-09-08T06:19:43Z,"It would be useful to have an option to allow the user to remain logged in over browser restart.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/82/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/82,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDQ0Nw==,incubator-ponymail,245504447,82,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-08T06:19:37Z,2016-09-08T06:19:37Z,"Agreed - this should be an easy PR, just have a check box and if checked, set a cookie expiration date sometime in the future.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDQ0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/83,https://api.github.com/repos/apache/incubator-ponymail/issues/83,incubator-ponymail,159775338,83,Bug: Advanced date filter is reset to a single month when selected for edit,sebbASF,16689231,Sebb,,OPEN,2016-06-11T14:12:31Z,2016-11-09T23:29:59Z,"Set the date range for Advanced search to e.g.

2016-5-15 => 2016-6-15

Press OK

Decide you want to change the range, select it

The range changes to

2016-5-1 => 2016-5-31

i.e. the month that includes the start date

That's really annoying.

P.S. it does not help that the date field is too narrow to show the date range
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/83/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/84,incubator-ponymail,159776605,84,Bug: emails allocated to wrong month,sebbASF,16689231,Sebb,,OPEN,2016-06-11T14:41:50Z,2017-01-25T00:38:26Z,"Emails which are sent within a few hours of the end of a month may be incorrectly allocated to the subsequent month.

For example, the earliest emails in the following mbox should be in the May 2015 chunk.

https://lists.apache.org/list.html?notifications@commons.apache.org:2015-6

The displayed timestamp shows the date 2015-05-31 (assuming that the local TZ is no further east than GMT+1)

These mails were uploaded from a file, if that makes a difference.

It looks like the mails were allocated to a month based on a local timezone at least 2 hours before GMT.
It does not make sense to use the local timezone for this. The database should work in UTC only.
If necessary, the display can show times using the local timezone, but the underlying data should only be stored in UTC.

I found one place where localtime is used in the backend code:

https://github.com/apache/incubator-ponymail/blob/master/tools/archiver.py#L274

This would probably cause the upload issue.

See also https://issues.apache.org/jira/browse/INFRA-12079
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/84/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNTM2Nzc1Mg==,incubator-ponymail,225367752,84,NA,sebbASF,16689231,Sebb,,NA,2016-06-11T14:58:28Z,2016-06-11T14:58:28Z,"I also found a non-uploaded mail that has been allocated to the wrong month:

https://lists.apache.org/thread.html/79e2e6a0df70efc206e8e0124bd52d0302c52b50775d5aaa2cff108d@1464733997@%3Cuser.commons.apache.org%3E

The date in the email is

Date: Tue, 31 May 2016 22:33:17 +0000
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNTM2Nzc1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1OTU1NzU0MQ==,incubator-ponymail,259557541,84,NA,sebbASF,16689231,Sebb,,NA,2016-11-09T23:31:33Z,2016-11-09T23:31:33Z,"The archiver code now uses UTC
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1OTU1NzU0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk5MzMyNA==,incubator-ponymail,262993324,84,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T16:38:10Z,2016-11-25T16:38:10Z,"Example of an early imported mail.

The source [1] has the following date:

Date: Sun, 31 May 2015 22:19:41 -0000

The Permalink page  [2] has the following info:

Date: 2015-05-31 23:19 (-0000)

This is clearly wrong, but may be a GUI-only issue
[Later: yes, the problem is that the GUI was converting the time to a local time; this has been fixed]

The summary info [3] shows the following:

mid"": ""fba1fa838d345c3b30b3db543425419a85ffde5f89ed2278063cf0c6@1433110781@<notifications.commons.apache.org>"",
""date"": ""2015/06/01 00:19:41"",
epoch"": 1433110781,

 The epoch value corresponds to 2015-05-31 22:19:41 UTC

So the epoch agrees with the source mail.
The date in the mbox record is two hours adrift, and is the reason why the message appears in the wrong month.
[Later: this implies that the local TZ on the importing box was 2 hours different from UTC at the time]


[1] https://lists.apache.org/api/source.lua/fba1fa838d345c3b30b3db543425419a85ffde5f89ed2278063cf0c6@1433110781@%3Cnotifications.commons.apache.org%3E

[2] https://lists.apache.org/thread.html/fba1fa838d345c3b30b3db543425419a85ffde5f89ed2278063cf0c6@1433110781@%3Cnotifications.commons.apache.org%3E

[3] https://lists.apache.org/api/thread.lua?id=fba1fa838d345c3b30b3db543425419a85ffde5f89ed2278063cf0c6@1433110781@%3Cnotifications.commons.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk5MzMyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk5Mzg2Ng==,incubator-ponymail,262993866,84,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-11-25T16:40:37Z,2016-11-25T16:40:37Z,"AFAIK, you can tell ES a timezone offset to correct this when querying for email.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk5Mzg2Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk5NzM1OA==,incubator-ponymail,262997358,84,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T16:57:24Z,2016-11-25T16:57:24Z,"That won't help, because the TZ which was used for the date field is not included in the string (if it were, this would be a non-issue).
Also the TZ used to load the original mails is not the same as the TZ which is used now.
Unless one knows the TZ one cannot tell ES what offset to use.

I think the code should use the epoch instead.
Hopefully that always used UTC, but that needs to be checked.

However there remains the issue that the date fields in the mbox records use different TZs depending on when they were created. One solution might be to ignore them completely.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk5NzM1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc2Mzc5MQ==,incubator-ponymail,267763791,84,NA,sebbASF,16689231,Sebb,,NA,2016-12-17T13:48:25Z,2016-12-17T13:48:25Z,"It looks as though the problem is fixed in the current code, because importing the same message generates the correct UTC date, i.e.  ""2015/05/31 22:19:41"".","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc2Mzc5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/84,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzQ1MTkxMQ==,incubator-ponymail,273451911,84,NA,sebbASF,16689231,Sebb,,NA,2017-01-18T11:28:30Z,2017-01-18T11:28:30Z,"Note: it's not easy to use the 'epoch' field instead of the 'date' field, because the code makes extensive use of the relative date syntax supported by ES, e.g. +1m, -100d etc. This would be hard to match exactly in Lua. Also the problem now only exists for database entries that were created before the code was fixed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzQ1MTkxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/85,https://api.github.com/repos/apache/incubator-ponymail/issues/85,incubator-ponymail,159855462,85,Bug: MID (medium) is not stable as it depends on the local timezone,sebbASF,16689231,Sebb,,CLOSED,2016-06-13T00:03:36Z,2016-10-31T22:48:07Z,"The mid hash which is calculated in ""medium"" generator mode is based on input which includes the value of the variable: mdatestring [1]

Now this variable is derived as follows [2]

mdatestring = time.strftime(""%Y/%m/%d %H:%M:%S"", time.localtime(email.utils.mktime_tz(mdate)))

where mdate is the Date: header (as a default).

This means that the mdatestring value depends on the local timezone of the server where the archiver script is run, i.e. the generated message-id will change if the local timezone is changed.

So if the same mail is re-imported after changing the timezone, it will get a different id.
Or if the mail archive is reloaded on a different host with a different TZ setting.

That seems wrong; the id should only depend on the input mail message.

[1] https://github.com/apache/incubator-ponymail/blob/master/tools/archiver.py#L305
[2] https://github.com/apache/incubator-ponymail/blob/master/tools/archiver.py#L274
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/85/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/85,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNTU0NjQzNw==,incubator-ponymail,225546437,85,NA,sebbASF,16689231,Sebb,,NA,2016-06-13T10:37:56Z,2016-06-13T10:37:56Z,"Note: AIUI the mid is used for creating PermaLinks; these need to be stable.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNTU0NjQzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/85,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDI0OQ==,incubator-ponymail,245504249,85,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-08T06:18:25Z,2016-09-08T06:18:25Z,"Shouldn't this simply be a PR? :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDI0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/85,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTU0NTI4NA==,incubator-ponymail,245545284,85,NA,sebbASF,16689231,Sebb,,NA,2016-09-08T09:35:54Z,2016-09-08T09:35:54Z,"There are two aspects to the bug:
1) fixing the code so it is not dependent on the locale for future MID calculations.
2) ensuring that existing installations are not affected by the change to a fixed time-zone.

I think the latter means that each installation needs to have a configuration item that records the timezone that was (and is) used for all such calculations. For new installations this should default to UTC. For existing installations it obviously needs to be set to the appropriate timezone.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTU0NTI4NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/85,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzQ0MzAwNQ==,incubator-ponymail,257443005,85,NA,sebbASF,16689231,Sebb,,NA,2016-10-31T22:48:07Z,2016-10-31T22:48:07Z,"It looks as though the code has already been fixed in (f6f453e) to use:

mdatestring = time.strftime(""%Y/%m/%d %H:%M:%S"", time.gmtime(email.utils.mktime_tz(mdate)))

If there are any installations that used the ""medium"" generator with a time zone other than UTC then I expect the MIDs and Permalinks will break when the installation is updated.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzQ0MzAwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/86,https://api.github.com/repos/apache/incubator-ponymail/issues/86,incubator-ponymail,159923606,86,Bug: stored date uses locale-dependent conversion and is ambiguous,sebbASF,16689231,Sebb,,CLOSED,2016-06-13T10:56:43Z,2016-11-25T15:00:45Z,"The archiver.py script converts [1] the message date to a local time, as follows:

mdatestring = time.strftime(""%Y/%m/%d %H:%M:%S"", time.localtime(email.utils.mktime_tz(mdate)))

Note that this string does not contain the timezone, so its value is ambiguous, and will depend on the locale that was in force when the conversion was done.

Furthermore, many time zones implement DST. Once a year, there will be a period of an hour when the time is repeated.

E.g. it is not possible to know whether 01:30 on the changeover date is summer or winter time unless the TZ details are included in the timestamp string.

The database should only store times using UTC.
If there is good reason for storing times as local time then the string must include the TZ (%Z or %z).

[1] https://github.com/apache/incubator-ponymail/blob/master/tools/archiver.py#L274
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/86/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/86,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTIzMTczMg==,incubator-ponymail,251231732,86,NA,sebbASF,16689231,Sebb,,NA,2016-10-03T21:24:33Z,2016-10-03T21:24:33Z,"Changed to use gmtime in:
https://github.com/apache/incubator-ponymail/commit/f6f453efa6a2565d53519254068beb180b786511#diff-0a6a382add50f53c469e2288971c1b6a
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTIzMTczMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/86,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MzU1Mg==,incubator-ponymail,262973552,86,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T15:00:45Z,2016-11-25T15:00:45Z,I think this is now fixed,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MzU1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/87,https://api.github.com/repos/apache/incubator-ponymail/issues/87,incubator-ponymail,159997756,87,Does not handle an invalid timezone offset well,sebbASF,16689231,Sebb,,OPEN,2016-06-13T16:59:14Z,2016-06-13T16:59:14Z,"The following message [1] has the date:

Date: Tue, 13 Jul 2004 17:09:05 -429496729500

This does not appear to be even a valid obsolete TZ specification.
As such, according to RFC2822/4.3 it should be considered as -0000.

The date appears as follows in the display:

Date: NaN-NaN-NaN NaN:NaN (+0100)

Where the date cannot be converted, it would be better to leave it as is.

[1] https://lists.apache.org/thread.html/d5d736fb78e5d99fcd9840dbfb6c21fc256bafad0864f301b9190490@15462972000545@%3Cdev.lucene.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/87/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/88,https://api.github.com/repos/apache/incubator-ponymail/issues/88,incubator-ponymail,160070744,88,Bug: get by message-id does not work,sebbASF,16689231,Sebb,,CLOSED,2016-06-14T00:02:14Z,2016-11-09T22:00:16Z,"The API.md doc says:

Usage:
GET /api/email.lua?id=$mid

Parameters: (cookie may be required)
- $mid: The email ID or Message-ID: header

However, only the email ID works.

The message-ID header search does not.

This is because elastic.get does not return if the document is not found.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/88/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/88,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTMwMDg1Mg==,incubator-ponymail,249300852,88,NA,sebbASF,16689231,Sebb,,NA,2016-09-23T20:59:04Z,2016-09-23T20:59:04Z,"Something like the following should fix the error:

```
diff --git a/site/api/email.lua b/site/api/email.lua
index 1eb3679..e9b47a6 100644
--- a/site/api/email.lua
+++ b/site/api/email.lua
@@ -42,7 +42,7 @@ function handle(r)
     r.content_type = ""application/json""
     local get = r:parseargs()
     local eid = (get.id or """"):gsub(""\"""", """")
-    local doc = elastic.get(""mbox"", eid or ""hmm"")
+    local _, doc = pcall(function() return elastic.get(""mbox"", eid or ""hmm"") end)

     -- Try searching by original source mid if not found, for backward compat
     if not doc or not doc.subject then
```
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTMwMDg1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/89,https://api.github.com/repos/apache/incubator-ponymail/issues/89,incubator-ponymail,160313109,89,NOTICE file appears to include unnecessary entries; missing Quenda LICENSE,sebbASF,16689231,Sebb,,OPEN,2016-06-15T00:14:49Z,2016-10-15T13:49:01Z,"It looks to me as though the NOTICE file has several unnecessary entries. Any such entries should be removed. NOTICE is for required notices only.

Quenda: impossible to tell if the entry should be present or not, as there is no license associated with the code AFAICT.  The license needs to be included.

Bootstrap: AFAICT, the MIT license is sufficient notice of the copyright claim.

JS regex def (I assume that is the same as WebURL parsing? - these names should be aligned) is also MIT and likely also does not need an entry in NOTICE

jQuery: again MIT, does it really need an attribution entry in NOTICE

quokka.js - does the author require the attribution in the NOTICE file?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/89/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/89,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4MDYxMw==,incubator-ponymail,253980613,89,NA,sebbASF,16689231,Sebb,,NA,2016-10-15T12:11:05Z,2016-10-15T12:11:05Z,"Most of the problems have been fixed.
However NOTICE still refers to Quenda, but there is no entry for Quenda in the LICENSE file
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4MDYxMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/89,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4MTIxNg==,incubator-ponymail,253981216,89,NA,johnament,108167,John Ament,,NA,2016-10-15T12:25:28Z,2016-10-15T12:25:28Z,"There was a discussion some months back about donations and NOTICE entries.  It was considered OK for the donator of the original source code to have an entry indicating that the code came from there, without requiring a LICENSE entry (which would make sense here, since it was apache licensed pre-ASF)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4MTIxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/89,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4MTg0OQ==,incubator-ponymail,253981849,89,NA,sebbASF,16689231,Sebb,,NA,2016-10-15T12:38:35Z,2016-10-15T12:38:35Z,"Is there a link to that discussion?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4MTg0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/89,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4NTM1OQ==,incubator-ponymail,253985359,89,NA,johnament,108167,John Ament,,NA,2016-10-15T13:49:01Z,2016-10-15T13:49:01Z,"Ha, just noticed I did that off any lists.  Let me start something on legal-discuss.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk4NTM1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/90,https://api.github.com/repos/apache/incubator-ponymail/issues/90,incubator-ponymail,160314732,90,Awkward navigating when lists have many entries in a month,sebbASF,16689231,Sebb,,OPEN,2016-06-15T00:31:01Z,2016-06-15T00:31:01Z,"It's really awkward navigating through busy mailboxes. 
The Show Next/Previous buttons are OK for moving through small numbers of mails, but are really tedious when there are more than say 50-60 mails in a chunk.

There should be some way to quickly skip to the first and last pages, and perhaps to a particular date.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/90/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/91,https://api.github.com/repos/apache/incubator-ponymail/issues/91,incubator-ponymail,160315502,91,Quick search should default to the currently displayed month,sebbASF,16689231,Sebb,,OPEN,2016-06-15T00:38:44Z,2016-06-15T00:38:44Z,"When the user has selected a specific month to display, it's quite likely that they wish to search that month.

However this is currently very awkward to do.

It would be useful if Quick Search defaulted to the currently displayed chunk.
Failing that, the message list header bar could have its own search box.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/91/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/92,https://api.github.com/repos/apache/incubator-ponymail/issues/92,incubator-ponymail,160318056,92,aaa.lua assumes that list domain == LDAP committee group name,sebbASF,16689231,Sebb,,CLOSED,2016-06-15T01:05:40Z,2016-09-08T06:17:26Z,"The ASF aaa.lua module assumes that members of the LDAP committee group 'xyz' have access to the private mails for mailing lists with the domain 'xyz'.

This is true for most TLPs, but there are some exceptions, including:

httpcomponents/hc
whimsy/whimsical

Note that the file https://whimsy.apache.org/public/committee-info.json provides a mail_list entry for each committee name.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/92/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/92,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDA5OQ==,incubator-ponymail,245504099,92,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-08T06:17:26Z,2016-09-08T06:17:26Z,"Not a Pony Mail issue, that's internal to ASF
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwNDA5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/93,https://api.github.com/repos/apache/incubator-ponymail/issues/93,incubator-ponymail,160319454,93,Inefficient ldapsearch in ASF aaa.lua#getPMCs,sebbASF,16689231,Sebb,,CLOSED,2016-06-15T01:20:51Z,2016-06-20T16:42:46Z,"The getPMCs function uses the following search:

ldapsearch -x -LLL ""(|(memberUid=%s)(member=uid=%s,ou=people,dc=apache,dc=org))"" cn

However, memberUid is not used for LDAP committee groups.
Also the cn attribute is not needed.

The query could be simplified to:

ldapsearch -x -LLL ""member=uid=%s,ou=people,dc=apache,dc=org"" dn

Alternatively, the code could just use the Whimsy JSON file

https://whimsy.apache.org/public/public_ldap_committees.json
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/93/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/93,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNzE5ODM3Mg==,incubator-ponymail,227198372,93,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-20T16:42:46Z,2016-06-20T16:42:46Z,"Sebastian, the AAA module bundled with Pony Mail is an example. To my knowledge, it is not in use anywhere, nor should it be.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNzE5ODM3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/94,https://api.github.com/repos/apache/incubator-ponymail/issues/94,incubator-ponymail,161322683,94,Bug: Other lists drop-down shows a maximum of 19 entries and does not scroll,sebbASF,16689231,Sebb,,CLOSED,2016-06-21T00:04:21Z,2016-06-21T00:32:59Z,"The Other lists drop-down shows a maximum of about 19 entries (this may depend on the browser and host settings).

There is no indication if there are additional lists beyond the ones that are displayed, and there does not appear to be any way to see what other lists are available from the same domain.

I would expect the drop-down to allow scrolling, as is done for the available projects list.

At present a single domain only supports 23 lists: 4 in the header and 19 in the drop-down.
The ASF has several domains for which this is insufficient: @apache.org and @apachecon.com and @xml.apache.org
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/94/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/94,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNzMwOTQ1MQ==,incubator-ponymail,227309451,94,NA,sebbASF,16689231,Sebb,,NA,2016-06-21T00:32:59Z,2016-06-21T00:32:59Z,"Not sure what happened before, seems to be working now.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyNzMwOTQ1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/95,https://api.github.com/repos/apache/incubator-ponymail/issues/95,incubator-ponymail,162352879,95,Advanced search does not work as advertised for the Subject field,sebbASF,16689231,Sebb,,OPEN,2016-06-26T23:09:39Z,2016-06-26T23:09:39Z,"The Advanced Search page says:

<quote>
You may search for whole sentences using ""sentence goes here"" or omit certain words by prepending a - to them, such as: apples -oranges to search for apples but exclude emails with oranges.
</quote>

This is true for the quick query box, but not for the subject box, which only appears to support search by substring (case-blind)

Also, quoted search strings also work for phrases, not just sentences.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/95/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/96,https://api.github.com/repos/apache/incubator-ponymail/issues/96,incubator-ponymail,162353030,96,Enhancement: subject search should support more than just phrases,sebbASF,16689231,Sebb,,OPEN,2016-06-26T23:13:19Z,2016-06-26T23:13:19Z,"At present it appears that the Subject search only supports exact phrases (case blind).

It's not possible to search for multiple words unless they appear next to each other, and it's not possible to search for apples and not oranges.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/96/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/97,https://api.github.com/repos/apache/incubator-ponymail/issues/97,incubator-ponymail,162413090,97,enh: Javascript should not be required by main index page,sebbASF,16689231,Sebb,,OPEN,2016-06-27T09:48:04Z,2016-06-27T09:48:04Z,"The main index page uncondtionally requires Javascript.
However there is a static version of the site which could be linked instead:

/api/static.lua

this provides a list of domains for those that have 'new' mails.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/97/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/98,https://api.github.com/repos/apache/incubator-ponymail/issues/98,incubator-ponymail,162414451,98,Bug: static page links to dynamic page by default,sebbASF,16689231,Sebb,,OPEN,2016-06-27T09:54:35Z,2016-06-27T09:54:35Z,"Emails can be listed statically, for example:

https://lists.apache.org/api/static.lua/users@ponymail.apache.org

This provides a link to the full e-mail, e.g.

https://lists.apache.org/thread.html/%3C574D1CD9.2070901@apache.org%3E

However this is for the dynamic version of the page; the default link should be to the static page.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/98/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/99,https://api.github.com/repos/apache/incubator-ponymail/issues/99,incubator-ponymail,162417036,99,Bug: text link is broken,sebbASF,16689231,Sebb,,OPEN,2016-06-27T10:07:54Z,2016-10-31T23:01:38Z,"When viewing a message with Javascript disabled, the alternate link is broken.

For example,

https://lists.apache.org/thread.html/%3C574D1CD9.2070901@apache.org%3E

has the text link

https://lists.apache.org/thread.html/%3C574D1CD9.2070901@apache.org%3E?noscript

However that does not work
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/99/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/99,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzQ0NTQ1Nw==,incubator-ponymail,257445457,99,NA,sebbASF,16689231,Sebb,,NA,2016-10-31T23:01:38Z,2016-10-31T23:01:38Z,"Is it even possible to support the ?noscript query parameter in an html page without using scripting?
I suspect a redesign will be needed to properly support browsers which are not using Javascript.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzQ0NTQ1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/100,https://api.github.com/repos/apache/incubator-ponymail/issues/100,incubator-ponymail,162693394,100,Podling lists should use $project.incubator.apache.org,stain,253413,Stian Soiland-Reyes,soiland-reyes@manchester.ac.uk,CLOSED,2016-06-28T14:01:29Z,2016-06-28T14:41:20Z,"e.g. for the podling Juneau, the email address should be `dev@juneau.incubator.apache.org` - not `dev@juneau.apache.org`

https://lists.apache.org/list.html?dev@juneau.apache.org  should present itself as `dev@juneau.incubator.apache.org` - as emailing `dev@juneau.apache.org` even fails with a DNS error.  This also mean that it's Subscribe button is wrong, as it links to `mailto:dev-subscribe@juneau.apache.org`.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/100/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/100,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyOTA2MDMxNA==,incubator-ponymail,229060314,100,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-06-28T14:09:30Z,2016-06-28T14:09:30Z,"Please don't conflate Pony Mail with lists.apache.org - the project is not in charge of the installation.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyOTA2MDMxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/100,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyOTA3MDE3MQ==,incubator-ponymail,229070171,100,NA,stain,253413,Stian Soiland-Reyes,soiland-reyes@manchester.ac.uk,NA,2016-06-28T14:41:20Z,2016-06-28T14:41:20Z,"Thanks, @Humbedooh - raised as https://issues.apache.org/jira/browse/INFRA-12192 instead.

I guess #92 is not appropriate here either then?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIyOTA3MDE3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/101,https://api.github.com/repos/apache/incubator-ponymail/issues/101,incubator-ponymail,163521565,101,Suggestion: make the subscribe button more visible,eskatos,132773,Paul Merlin,paul@gradle.com,OPEN,2016-07-02T14:50:12Z,2016-07-02T23:18:18Z,"The subscribe button is down the list of messages.
Someone had to tell me it's there before I found it.
It should be more visible, maybe somewhere at the top.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/101/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/101,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIzMDEyNjcxNw==,incubator-ponymail,230126717,101,NA,gmcdonald,287517,Gavin McDonald,,NA,2016-07-02T23:18:18Z,2016-07-02T23:18:18Z,"I don't agree it is hard to find, but it is floating a bit in the middle of nowhere. 

Perhaps having two buttons, exactly opposite the 'Show Next 10' buttons would be better, meaning a Subscribe link at the top and bottom left of the list of messages.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIzMDEyNjcxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/102,https://api.github.com/repos/apache/incubator-ponymail/issues/102,incubator-ponymail,165571150,102,Suggestion: Add Preview before posting functionality,sharanf,20459978,,sharan@apache.org,OPEN,2016-07-14T14:10:05Z,2016-07-14T14:10:05Z,"I recently posted a message that I thought had hyperlinks in it but when it was posted there weren't any. I think it would be good to have some type of preview before posting functionality so that the poster can check what is actually being posted.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/102/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/103,https://api.github.com/repos/apache/incubator-ponymail/issues/103,incubator-ponymail,165572176,103,Suggestion: Transform hyperlinks into actual links during composing,sharanf,20459978,,sharan@apache.org,OPEN,2016-07-14T14:14:39Z,2016-07-14T14:14:39Z,"It is sometimes hard to see if hyperlinks have been included in a message (especially if it has been copied from an word processing document where the hyperlinks are attached to specific words)

I recently copied a text that had hyperlinks in it but when the message posted, they were not included so it would be good to see visually if hyperlinks are there or not.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/103/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/104,https://api.github.com/repos/apache/incubator-ponymail/issues/104,incubator-ponymail,170769212,104,Unable to view list,justinmclean,144504,Justin Mclean,justin@classsoftware.com,CLOSED,2016-08-11T23:20:00Z,2016-08-12T09:16:59Z,"I'm an ASF member and when logged in I can't see any anything in trademarks@hadoop.

Here's the URL:
https://lists.apache.org/list.html?trademarks@hadoop.apache.org

It displays:
""No emails found fitting this criteria""

AFAIK their should be some content there.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/104/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/104,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIzOTM5OTY4OA==,incubator-ponymail,239399688,104,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-08-12T09:16:59Z,2016-08-12T09:16:59Z,"Please direct that question to the Apache Infrastructure team, the Pony Mail project can't really help with specific installations.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDIzOTM5OTY4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/105,https://api.github.com/repos/apache/incubator-ponymail/issues/105,incubator-ponymail,171946073,105,Bug: warning/error dialog box auto disappears even though it has an ACK button,sebbASF,16689231,Sebb,,OPEN,2016-08-18T16:36:48Z,2016-08-18T16:36:48Z,"If an invalid message ID is used (or the id is valid but the message is not available to the current user) then a message dialog box is shown with a green ""Got it!"" button.

For example:

https://lists.apache.org/thread.html/abcd@defg

This is confusing - why have a button if it is not needed?
Also the message may be missed if the user does not switch to the tab immediately.

The same applies to other error/warning dialogs, e.g. mixed public/private lists.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/105/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/106,https://api.github.com/repos/apache/incubator-ponymail/issues/106,incubator-ponymail,172134144,106,Bug: links in stats pane don't set up the correct date range,sebbASF,16689231,Sebb,,CLOSED,2016-08-19T13:43:16Z,2017-01-09T14:32:00Z,"Ponymail displays a stats pane showing the number of mails for the Top 10 contributors in the blob.

If the user is logged in, then the contributors are turned into links.

I would expect each link to show the emails for the contributor that are part of the blob, however that does not work properly because the search date range is not always updated correctly.

For example, start with:

https://lists.apache.org/list.html?dev@ponymail.apache.org:2016-6

Click on Daniel Gruno (12 emails)

The output shows mail threads including Daniel Gruno (as expected)

Now click on 2016 July

Click on Daniel Gruno (16 mails)

The display reverts to June 2016, with only 12 emails
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/106/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/106,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MTAyNTY4OQ==,incubator-ponymail,241025689,106,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-08-19T13:58:42Z,2016-08-19T13:58:42Z,"Iiiinteresting! It would appear a variable has gotten stuck somewhere.
I'll take a look when time allows :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MTAyNTY4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/107,https://api.github.com/repos/apache/incubator-ponymail/issues/107,incubator-ponymail,172269853,107,Bug: contributor search does not work properly for github messages,sebbASF,16689231,Sebb,,OPEN,2016-08-20T12:56:29Z,2016-08-20T12:56:29Z,"Start at https://lists.apache.org/list.html?dev@ponymail.apache.org

Click on justinmclean

The display will show all messages from git@git.apache.org, not just ones from justinmclean.

I realise that the git@git.apache.org address has multiple names associated with it.

Since the Contributor stats can (and does) distinguish such e-mails, clicking the associated search link should do the same.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/107/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/108,https://api.github.com/repos/apache/incubator-ponymail/issues/108,incubator-ponymail,173595199,108,Bug: mbox download silently ignores private emails,sebbASF,16689231,Sebb,,CLOSED,2016-08-27T13:04:14Z,2016-12-09T15:01:20Z,"The mbox download function silently omits private mails.

This does not make sense: the mails are visible and the raw contents can readily be displayed, so it should be possible to download them as part of the mbox download.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/108/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/108,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NDY4MzIxNg==,incubator-ponymail,244683216,108,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-05T08:04:44Z,2016-09-05T08:04:44Z,"This is currently by design, and thus not a bug. If you want the behavior to change, I would suggest a discussion on the mailing list :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NDY4MzIxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/108,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NDg5NDYxNg==,incubator-ponymail,244894616,108,NA,sebbASF,16689231,Sebb,,NA,2016-09-06T09:13:57Z,2016-09-06T09:13:57Z,"Exclusion is one issue. Silently ignoring mails is another.

I would say it is a bug that the user is not warned that some/all mails which are visible on screen are excluded from the download.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NDg5NDYxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/109,https://api.github.com/repos/apache/incubator-ponymail/issues/109,incubator-ponymail,173595494,109,Bug: emails with no body content are ignored,sebbASF,16689231,Sebb,,CLOSED,2016-08-27T13:10:58Z,2016-12-12T00:48:54Z,"As the subject says: emails which have no body content are ignored.

Such e-mails are perfectly valid and are regularly used for the output from cron jobs etc.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/109/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/109,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MjkzMjcxNg==,incubator-ponymail,242932716,109,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-08-27T18:21:40Z,2016-08-27T18:21:40Z,"If you could point to a place in the code where it ignores 0-length bodies, that would be helpful. As far as I can tell, it only ignores if the body cannot be found, not simply if it's empty.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MjkzMjcxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/109,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MzE5OTE2NA==,incubator-ponymail,243199164,109,NA,sebbASF,16689231,Sebb,,NA,2016-08-29T17:49:07Z,2016-08-29T17:49:07Z,"For several examples of missing e-mails, see site-dev in early August.

Several of the mails with the subject ""WARN: Apache Kudu (kudu) missing from /data/committees.xml"" are missing from lists.apache.org.

Sample missing mail:

http://mail-archives.apache.org/mod_mbox/www-site-dev/201608.mbox/raw/%3C20160801010004.284E160326%40projects-vm.apache.org%3E

The mail has no body, but as far as I am aware it's still valid. 

In particular, the mail is stored by the ASF mail archive, and should be stored by ponymail/lists.a.o.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MzE5OTE2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/109,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MzkyNDAyNA==,incubator-ponymail,253924024,109,NA,sebbASF,16689231,Sebb,,NA,2016-10-14T21:28:30Z,2016-10-14T21:28:30Z,"AFAICT the main problem is that the archiver#compute_updates() method checks if the body is True (""if body or attachments:"") however an empty body is not True. This affects the importer.

In the case of the archiver, an empty message causes an Exception:

```
cat mtmail.mbox | /usr/local/bin/python3.4 ponymail/tools/archiver.py --verbose
Traceback (most recent call last):
  File ""ponymail/tools/archiver.py"", line 613, in <module>
    lid, mid = foo.archive_message(msg_metadata, msg)
  File ""tools/archiver.py"", line 389, in archive_message
    id=ojson['mid'],
TypeError: 'NoneType' object is not subscriptable
Archiving failed!: 'NoneType' object is not subscriptable
Could not parse email: Archiving to ES failed
```
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MzkyNDAyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/110,https://api.github.com/repos/apache/incubator-ponymail/issues/110,incubator-ponymail,173595590,110,Bug: emails with only HTML content are ignored,sebbASF,16689231,Sebb,,OPEN,2016-08-27T13:13:14Z,2017-12-15T12:03:13Z,"As the subject says.

Such e-mails are perfectly valid so should not be ignored.

As an example, the promotion mails sent by Nexus don't have a plain text alternative.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/110/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/110,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MjkzMjU1Nw==,incubator-ponymail,242932557,110,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-08-27T18:19:03Z,2016-08-27T18:19:03Z,"Not entirely true, html emails can be archived by using the html2text converter. This is mentioned in https://github.com/apache/incubator-ponymail/blob/master/docs/ARCHIVING.md - if you feel this should have a more prominent place in the docs, you are most welcome to suggest patches
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MjkzMjU1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/110,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MzIwMTk1OQ==,incubator-ponymail,243201959,110,NA,sebbASF,16689231,Sebb,,NA,2016-08-29T17:57:56Z,2016-08-29T17:57:56Z,"My position is that an email archiver should not, by default, ignore any mails when importing.
So more prominent documentation is not really the answer here.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0MzIwMTk1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/110,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1MTk4OTcyNA==,incubator-ponymail,351989724,110,NA,sebbASF,16689231,Sebb,,NA,2017-12-15T12:03:13Z,2017-12-15T12:03:13Z,"If necessary, the HTML-ony mails could be displayed as an empty mail witha an attachment. At least the mails would not be ignored. Or the mail content could be displayed as plain text, as mod_mbox does. 

Dropping the mails entirely is not acceptable.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1MTk4OTcyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/111,https://api.github.com/repos/apache/incubator-ponymail/issues/111,incubator-ponymail,173695734,111,Thread view needs some improvement,ctubbsii,1280725,Christopher Tubbs,,OPEN,2016-08-29T04:49:28Z,2016-09-05T19:13:17Z,"The threading display is a bit confusing with quoted text. The color bars on the left are too subtle to be used for real demarcation of quoted portions, and don't work at all for people with difficulty discerning color on their screen.

With a complex thread with multiple replies, the order can be quite confusing as well.

Compare [This lists.apache.org thread](https://lists.apache.org/thread.html/b478645815bf7b1fee8342a21924162decc173d91c22eaf5f708a435@%3Cdev.fluo.apache.org%3E) and [This Fedora (hyperkitty) thread](https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/thread/MU5IJ2JR6OFMSV6CPHUV7NNKPQPH4GCA/).

In the latter, the indentation makes things much easier to follow, and the quoted portions are subdued a bit better. Though the latter isn't perfect, it does do a slightly better job of threading, and removing duplicate information from each response (like the list address).

Perhaps PonyMail's threading could be improved by adopting more indentation to show the threading in a more layout-driven way rather than color-driven way.

PonyMail works best when there are no inline responses, but email list threads do include many inline responses, and broken quoted portions, interspersed throughout the conversation.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/111/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/111,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NDgwMTAwNA==,incubator-ponymail,244801004,111,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-05T19:13:17Z,2016-09-05T19:13:17Z,"Would you say http://95.85.36.224/list2.html?user@accumulo.apache.org:2016-08 makes things clearer? This is the (very early) preview of a new design branch. It's mainly designed to make development easier, but the UI got a workaround as well, should be less cluttered now.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NDgwMTAwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/112,https://api.github.com/repos/apache/incubator-ponymail/issues/112,incubator-ponymail,174396428,112,Bug: inconsistent error reporting for invalid mailing lists,sebbASF,16689231,Sebb,,CLOSED,2016-08-31T22:41:30Z,2017-01-09T10:19:05Z,"## Whilst logged out of lists.a.o

A) https://lists.apache.org/list.html?abc@def.apache.org

""No emails found fitting this criteria""

B) https://lists.apache.org/list.html?abc@incubator.apache.org
     https://lists.apache.org/list.html?abc@commons.apache.org

Shows a popup ""List not found!""

then

""No emails found fitting this criteria""
## Now login to lists.a.o

C) https://lists.apache.org/list.html?abc@def.apache.org

""No emails found fitting this criteria""

D) https://lists.apache.org/list.html?abc@incubator.apache.org

No error message; redirects to:

https://lists.apache.org/list.html?general@incubator.apache.org

E) https://lists.apache.org/list.html?abc@commons.apache.org

No error message; redirects to:

https://lists.apache.org/list.html?dev@commons.apache.org

---

The correct behaviour is B): an error is reported and the URL is not changed.

The behaviour for A)  and C) is misleading as it implies there may be mails.

The behaviour for D) and E) is really confusing. It would be better if the code did not redirect at all.
But at the very least it should display a pop-up error first.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/112/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/113,incubator-ponymail,175473722,113,Permalink URLs are too long for email usage,stain,253413,Stian Soiland-Reyes,soiland-reyes@manchester.ac.uk,OPEN,2016-09-07T10:59:28Z,2017-05-15T23:43:07Z,"Example of a very long URL:

https://lists.apache.org/thread.html/aadbecf2693e9add9ce9bdd2b98cc3d6e8c10c9db66a9934c5426ff8@%3Cdev.taverna.apache.org%3E

This kind of URL is too long to be pasted in an email (e.g. for an Apache VOTE process). As well this contain special characters like `%3E`
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/113/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTI1MzA0Mg==,incubator-ponymail,245253042,113,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-07T11:31:25Z,2016-09-07T11:31:25Z,"Pony Mail supports short URLs for this very purpose. They are disabled on that specific installation due to the theoretical risk of duplicate short. Since you refer to lists.apache.org, I would suggest you merely use s.apache.org to shorten your URL :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTI1MzA0Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTM2MzEzOA==,incubator-ponymail,245363138,113,NA,sebbASF,16689231,Sebb,,NA,2016-09-07T17:52:06Z,2016-09-07T17:52:06Z,"See also https://github.com/apache/incubator-ponymail/issues/41
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTM2MzEzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwMjI1MA==,incubator-ponymail,245502250,113,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-08T06:05:13Z,2016-09-08T06:05:13Z,"Reopening as we're working on a better URL shortener for the coffee-and-cake branch.
This will shorten the ID to something like 'PZ1ii9x4503us3eb04qvh3s'
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NTUwMjI1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDk3Mjg0Ng==,incubator-ponymail,250972846,113,NA,sebbASF,16689231,Sebb,,NA,2016-10-02T14:04:38Z,2016-10-02T14:04:38Z,"Unless the shortener uses external information (such as a shortlinks database) it cannot be reversible unless the input URL has redundant information in it. In which case, it would surely be sensible to remove the redundant information from the URL? Or am I missing something here?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDk3Mjg0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUwMzc2Mw==,incubator-ponymail,301503763,113,NA,WattsInABox,846684,William Watson,,NA,2017-05-15T15:05:24Z,2017-05-15T15:05:24Z,"At ApacheCon and working with Rich and Benjamin on some stuff at a Hackathon session on Barcamp day (sorry, Barcamp). We've been chatting about this issue and a couple things have come up:

1. s.apache.org requires authentication so it can't be used by everyone
2. the current long links aren't just long, they break some email clients
3. it should be easier to shorten URLs by getting back a short URL by default with the permalink button or by clicking something else to get the shortened permalink
4. Since Ponymail is going to be used by other people and companies (hopefully), shortening URLs should be an interface of some sort (we're thinking UrlShortenerService is a decent name) and should support a few implementations, `GenericUrlShortenerService` which could be configured for bit.ly or goo.gl or many others, and `BasicAuthenticatedUrlShortenerService` which could work for s.apache.org

Any objections to this plan? Speak quickly b/c I'm planning on implementing a first go at this like ... now. :)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUwMzc2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUxMDc3Nw==,incubator-ponymail,301510777,113,NA,sebbASF,16689231,Sebb,,NA,2017-05-15T15:28:22Z,2017-05-15T15:28:22Z,2. Which e-mail clients are broken?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUxMDc3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUxMzEyNQ==,incubator-ponymail,301513125,113,NA,sebbASF,16689231,Sebb,,NA,2017-05-15T15:36:15Z,2017-05-15T15:36:15Z,"Note that Permalinks need to be permanent.
Whilst it seems unlikely that goo.gl or bit.ly will disappear, this should be borne in mind.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUxMzEyNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUxNzQ2NA==,incubator-ponymail,301517464,113,NA,WattsInABox,846684,William Watson,,NA,2017-05-15T15:50:18Z,2017-05-15T15:50:18Z,"Duly noted about permanency. We've also thought up built-in short links like https://lists.apache.org/s/some-link where `some-link` would be a 2-way hash of the current permalink. The /s/ page/controller/whatever would then decode the hash and redirect. Would that option be better for you? Either way, I'm going to program to an interface so we can, ideally, hotswap with a touch of configuration.

Someone else brought up the broken clients, I can look into it more.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTUxNzQ2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTU0MTAxMA==,incubator-ponymail,301541010,113,NA,sebbASF,16689231,Sebb,,NA,2017-05-15T17:14:36Z,2017-05-15T17:14:36Z,"As per my comment of Oct 2016, if it's possible to create a shorter 2-way hash of the existing variable part of a Permalink, why not use that as the Permalink in the first place?

Please note that the existing Permalinks are not guaranteed unique, nor are they guaranteed to remain the same if mails are reloaded.

Using a URL shortener does not affect this (as long as the shortener is guaranteed to **always** return the original URL).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTU0MTAxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTYyODA1Mw==,incubator-ponymail,301628053,113,NA,WattsInABox,846684,William Watson,,NA,2017-05-15T22:56:08Z,2017-05-15T22:56:08Z,"So in my estimation, the two-way encoding idea (it's not really hashing, I'm figuring out) doesn't really work because it doesn't actually shorten anything. Base64 encoding the current URLs or message IDs actually makes them longer.

If we do want shorter permalinks, and it sounds like we're headed that way, I think we would have to use the database. I was trying to stay away from a database-dependent solution, but I'm not sure how to avoid it at this point.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTYyODA1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/113,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTYzNTAwOA==,incubator-ponymail,301635008,113,NA,sebbASF,16689231,Sebb,,NA,2017-05-15T23:43:07Z,2017-05-15T23:43:07Z,"If it were possible, then URL shortening services would not need to exist as it could all be done in code...

However as mentioned previously, it may still be useful to have an optional add-on that automatically creates a short URL on demand using one of the existing 3rd party services.
(It would not make sense to create short links for every message)

I don't think the s.apache.org service is really suitable (even if authentication can be sorted out) because its URLs can be editted.

A strong and stable implementation would not be trivial and I think is out of scope for PonyMail.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTYzNTAwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/114,https://api.github.com/repos/apache/incubator-ponymail/issues/114,incubator-ponymail,176357529,114,Doc Bug: shortLinks use base36 not base32,sebbASF,16689231,Sebb,,CLOSED,2016-09-12T11:56:38Z,2016-09-13T08:29:01Z,"https://github.com/apache/incubator-ponymail/blob/master/site/js/config.js.sample#L80
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/114/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/114,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NjYxMTgzOQ==,incubator-ponymail,246611839,114,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-13T08:29:01Z,2016-09-13T08:29:01Z,"Will be fixed in 0.10 (coffee-and-cake), thanks!
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NjYxMTgzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/115,https://api.github.com/repos/apache/incubator-ponymail/issues/115,incubator-ponymail,176627241,115,Doc Bug: API.md does not document all the stats.lua parameters,sebbASF,16689231,Sebb,,CLOSED,2016-09-13T12:27:54Z,2016-12-17T13:10:24Z,"The stats.lua module supports several optional query parameters that are not documented in the API.

For example:

quick
dfrom=
dto=
s=
e=
since=
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/115/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/116,https://api.github.com/repos/apache/incubator-ponymail/issues/116,incubator-ponymail,176629505,116,Bug: stats.lua - inconsistent use of anchors in match patterns,sebbASF,16689231,Sebb,,OPEN,2016-09-13T12:39:12Z,2016-12-17T11:06:28Z,"The stats.lua script uses string:match() lots of times when processing query parameters.

In most cases the regex is not anchored, which means that the parameter can contain additional characters. This may cause unexpected behaviour, especially if the parameter is matched more than once with different REs.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/116/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/116,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc1Njg4Mg==,incubator-ponymail,267756882,116,NA,sebbASF,16689231,Sebb,,NA,2016-12-17T11:06:28Z,2016-12-17T11:06:28Z,"However note that some parameters may contain sub-patterns, for example:

&d=dfr=2000-3-31|dto=2000-5-31","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzc1Njg4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/117,https://api.github.com/repos/apache/incubator-ponymail/issues/117,incubator-ponymail,176630474,117,Bug: redundant matching of same string,sebbASF,16689231,Sebb,,CLOSED,2016-09-13T12:44:09Z,2016-12-17T09:22:07Z,"The first line of the following code contains a redundant match() invocation:

```
if get.d and get.d:match(""lte=.+"") then
    local lte = get.d:match(""lte=([0-9]+[wMyd])"")
    if lte then
        daterange.lte = ""now+1d""
        daterange.gte = ""now-"" .. lte
        daterange.gt = nil
    end
end
```

This code pattern appears several times at
https://github.com/apache/incubator-ponymail/blob/master/site/api/stats.lua#L190
and below
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/117/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/118,https://api.github.com/repos/apache/incubator-ponymail/issues/118,incubator-ponymail,176659024,118,Bug: stats.lua - cache causes inconsistent output when quick is used,sebbASF,16689231,Sebb,,CLOSED,2016-09-13T14:40:52Z,2017-01-08T23:33:20Z,"When the quick qualifier is used, stats.lua will return the cached values of firstYear and lastYear if they happen to exist. 

This will occur if there was a non-quick query with the same list and domain values in the last 10 minutes or so.

This is inconsistent.

Unless it is expensive to calculate the values, it would be better if they were recalculated as necessary even if quick (statsOnly) is selected.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/118/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/119,https://api.github.com/repos/apache/incubator-ponymail/issues/119,incubator-ponymail,176884694,119,Bug: 'Pick a month' does not synchronise from Archive list,sebbASF,16689231,Sebb,,OPEN,2016-09-14T11:39:31Z,2016-09-14T11:39:31Z,"There are two ways of selecting the month:

The Archive: buttons in the left hand column, or the 'Pick a month' drop-down, which is used when the display is too narrow for the archive list.

When switching from narrow to wide, the currently selected month in the drop-down is correctly propagated to the Archive: buttons.

However when the screen is narrowed, the correspond entry in the drop-down is not selected (it looks like it selects whatever was last chosen).

This is misleading as it does not match the display, and causes a problem if the user actually wants to view the entry in the drop-down. Since the entry is already selected, opening and closing the drop-down does not work. The user has to select a different entry first.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/119/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/120,https://api.github.com/repos/apache/incubator-ponymail/issues/120,incubator-ponymail,176917611,120,Enhance: stats.lua should return firstMonth and lastMonth,sebbASF,16689231,Sebb,,CLOSED,2016-09-14T14:09:35Z,2017-01-04T14:40:44Z,"It would be quite easy to enhance stats.lua to return the first and last months in addition to the years.

This would be useful elsewhere, for example it would allow the Archive month selector to ignore missing months.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/120/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/121,https://api.github.com/repos/apache/incubator-ponymail/issues/121,incubator-ponymail,176972479,121,Bug: https://lists.apache.org/list.html?dev@eagle.apache.org fails,sebbASF,16689231,Sebb,,CLOSED,2016-09-14T17:40:12Z,2016-11-25T14:58:37Z,"The URL https://lists.apache.org/list.html?dev@eagle.apache.org fails with

/var/www/ponymail_asf/site/api/stats.lua:694: attempt to get length of field 'body' (a userdata value)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/121/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/121,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1OTU2MDA1MQ==,incubator-ponymail,259560051,121,NA,sebbASF,16689231,Sebb,,NA,2016-11-09T23:46:34Z,2016-11-09T23:46:34Z,"The current month does not have the problem, but the following fails:

https://lists.apache.org/list.html?dev@eagle.apache.org:2016-9
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1OTU2MDA1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/121,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MzAyNA==,incubator-ponymail,262973024,121,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T14:58:37Z,2016-11-25T14:58:37Z,This was fixed by f6fe023,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MzAyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/122,https://api.github.com/repos/apache/incubator-ponymail/issues/122,incubator-ponymail,177046396,122,Bug: stats.lua can return lastYear = 491972,sebbASF,16689231,Sebb,,OPEN,2016-09-14T23:11:01Z,2016-09-15T21:59:58Z,"The URL https://lists.apache.org/api/stats.lua?list=dev&domain=lucene.apache.org&d=1970-01
is currently returning the following:

{""lastYear"":491972,""no_threads"":0,""took"":7334,""thread_struct"":{},""list"":""dev@lucene.apache.org"",""unixtime"":1473894371,""hits"":0,""participants"":{},""emails"":{},""debug"":[39,32,1,24,7198,7,2,24],""max"":15000,""domain"":""lucene.apache.org"",""name"":""dev"",""searchlist"":""<dev.lucene.apache.org>"",""firstYear"":2001,""using_wc"":false,""numparts"":0}

This is clearly wrong

[Note: I used the d qualifier to reduce the output]
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/122/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/122,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzIwMjU3NQ==,incubator-ponymail,247202575,122,NA,sebbASF,16689231,Sebb,,NA,2016-09-15T00:55:52Z,2016-09-15T00:55:52Z,"https://lists.apache.org/api/stats.lua?list=announce&domain=httpd.apache.org&d=1970-01

returns lastYear = 2022

{""lastYear"":2022,""no_threads"":0,""took"":8123,""thread_struct"":{},""list"":""announce@httpd.apache.org"",""unixtime"":1473900905,""hits"":0,""participants"":{},""emails"":{},""debug"":[1930,29,1,24,6096,7,2,24],""max"":15000,""domain"":""httpd.apache.org"",""name"":""announce"",""searchlist"":""<announce.httpd.apache.org>"",""firstYear"":2002,""using_wc"":false,""numparts"":0}
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzIwMjU3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/122,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzM2NzgzOQ==,incubator-ponymail,247367839,122,NA,sebbASF,16689231,Sebb,,NA,2016-09-15T15:49:04Z,2016-09-15T15:49:04Z,"The following lists also return invalid lastYear entries:

bugs@xml.apache.org
c-dev@xerces.apache.org
cfp@apachecon.com
dev@forrest.apache.org
dev@struts.apache.org
embperl@perl.apache.org
fop-commits@xmlgraphics.apache.org
fop-dev@xmlgraphics.apache.org
java-dev@axis.apache.org
java-user@axis.apache.org
jetspeed-user@portals.apache.org
log4j-user@logging.apache.org
mod_dtcl@tcl.apache.org
modperl@perl.apache.org
security@apache.org
security@hadoop.apache.org
security@struts.apache.org
user@struts.apache.org
user@velocity.apache.org
users@tomcat.apache.org
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzM2NzgzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/122,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzQ2NTA0OQ==,incubator-ponymail,247465049,122,NA,sebbASF,16689231,Sebb,,NA,2016-09-15T21:47:36Z,2016-09-15T21:47:36Z,"I think I've found the problem in announce@httpd.a.o:

The following (spam) mail has the headers (editted):

Received: from mail.nhic.edu.cn (unknown [121.33.231.140])
    by ...
    for announce-archive@httpd.apache.org;
 Fri, 21 Aug 2015 08:57:45 +0000 (UTC)
Received: from cho2015062500377 (unknown [61.136.153.156])
    by  ...
    Fri, 21 Aug 2015 16:03:46 +0800 (CST)
Date: Sun, 21 Aug 2022 15:48:20 +0800

The mail import ought to be able to detect invalid dates such as this.

Source:
https://lists.apache.org/api/source.lua/7a29abd1cd5bc629b44e7203a3e4861ce448b694895650d5b3e6efbe@1661068100@%3Cannounce.httpd.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzQ2NTA0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/122,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzQ2NzU2NQ==,incubator-ponymail,247467565,122,NA,sebbASF,16689231,Sebb,,NA,2016-09-15T21:59:58Z,2016-09-15T21:59:58Z,"These messages can be found by doing a future-dated search.

In the case of dev@lucene this shows 4 messages:
https://lists.apache.org/list.html?dev@lucene.apache.org:491972-01

In this case, the problem is an impossible timezone offset, for example:

Date: Tue, 13 Jul 2004 17:09:03 -429496729500

This should be easy enough to detect and adjust
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzQ2NzU2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/123,https://api.github.com/repos/apache/incubator-ponymail/issues/123,incubator-ponymail,177129728,123,Bug: unhelpful error reporting for invalid Permalinks/Source links,sebbASF,16689231,Sebb,,CLOSED,2016-09-15T09:29:07Z,2016-12-20T19:31:57Z,"An invalid Permalink, for example:

https://lists.apache.org/thread.html/wxyz@%3Cdev.ponymail.apache.org%3E

results in a blank screen if the user is logged in.  It's not obvious whether the request is still being processed. The code should display a suitable error message.

The corresponding invalid Source URL:

https://lists.apache.org/api/source.lua/wxyz@%3Cdev.ponymail.apache.org%3E

results in the message:

""Error!

/var/www/ponymail_asf/site/api/lib/elastic.lua:31: Backend Database returned code 404!""

Although it is clear that something has gone wrong, it's not obvious what the problem is.
The code should report ""Message not found"" or something similar.
Note that if a Source URL refers to a private message, then the response is the helpful:
""You must be logged in to view this email""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/123/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/124,https://api.github.com/repos/apache/incubator-ponymail/issues/124,incubator-ponymail,177320864,124,Bug: broken thread; attempted recovery causes unhandled error,sebbASF,16689231,Sebb,,CLOSED,2016-09-16T00:18:02Z,2016-11-25T19:57:11Z,"The thread  starting with [1] should contain the message [2] but it does not.

When the lone message is displayed using the permalink, it has a button ""Go to first email in this thread"".
However clicking this results in the following message:
# 

Internal Server Error
Sorry, the request hit a bit snag and errored out. The server responded with:
Error!
# /var/www/ponymail_asf/site/api/lib/elastic.lua:31: Backend Database returned code 400!

A similar error occurs on the main display when clicking ""Or we can do some magic for you.""

[1] https://lists.apache.org/thread.html/af8e8ec3289d76746788a141c5156a5f67d69630e02c8b760719d107@962044754@%3Cusers.tomcat.apache.org%3E
[2] https://lists.apache.org/thread.html/fb077c1d5c7ae42753fe3dcf0f12e6672b1d86abd87681200da86a43@962061988@%3Cusers.tomcat.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/124/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/124,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1ODY1NDgxNw==,incubator-ponymail,258654817,124,NA,sebbASF,16689231,Sebb,,NA,2016-11-06T01:47:22Z,2016-11-06T01:47:22Z,"The problem here appears to be caused by the format of the In-reply-To header, which is:

```
In-Reply-To: Your message of ""Mon, 26 Jun 2000 13:39:14 EST.""
             <v04220802b57d53b791bc@[144.92.158.196]>
```

This is legal according to RFC822.

The code does not normalise the IRT reference (this is possibly due to the mail parsing library).

This means the referenced mail cannot be found, causing the error.
The code should also handle the error better and show a more useful message.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1ODY1NDgxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/124,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MzAxMDY4NA==,incubator-ponymail,263010684,124,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T18:52:35Z,2016-11-25T18:52:35Z,"Note that the reply at [2] is shown at the end of the thread at [1].
However it is not shown in the thread when viewed from the list.html (overview) page.
Instead it appears on a separate page on its own.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MzAxMDY4NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/125,https://api.github.com/repos/apache/incubator-ponymail/issues/125,incubator-ponymail,177437582,125,Enhance: optional notes field for mailing lists,sebbASF,16689231,Sebb,,OPEN,2016-09-16T14:20:39Z,2016-09-16T14:20:39Z,"It might be useful to allow installations to provide an optional notes field for mailing lists.

In particular, many of the ASF lists have changed names, so the complete history may be spread across several mailing lists. It would be useful to be able to document this somehow.

There would certainly be space for an Info icon on the screen, but for list name changes it would be useful to have the text on the screen itself; if there is more info than would fit nicely on the screen the text could be a link to the full description.

An alternative for the name changes would be to include backwards and forwards links (as relevant) in the Archive: menu. i.e. if the current list is a continuation of a previous list, then add a link to the previous incarnation at the end of the list. And vice versa.

The notes field could also be used to document the purpose of the list, as this is not always clear from the name. For example, the dev@community ASF list often gets postings which would be better directed elsewhere.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/125/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/126,https://api.github.com/repos/apache/incubator-ponymail/issues/126,incubator-ponymail,177439763,126,Enhance: flagging emails as spam to exclude them from view,sebbASF,16689231,Sebb,,OPEN,2016-09-16T14:29:50Z,2016-09-16T14:54:39Z,"Spam e-mails are a nuisance; they get in the way when browsing lists. It would be helpful if they could be ignored when displaying emails to a list.

So I suggest that there should be a way to flag e-mails as spam, and the user should be able to suppress the display of such messages.

There would need to be some controls on who was allowed to flag the messages.
Rather than a binary flag, users could select to suppress messages with a spam vote > N
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/126/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/126,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYxNTg2Mg==,incubator-ponymail,247615862,126,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-09-16T14:32:29Z,2016-09-16T14:32:29Z,"Similar to #59 ?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYxNTg2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/126,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYxOTk1Ng==,incubator-ponymail,247619956,126,NA,sebbASF,16689231,Sebb,,NA,2016-09-16T14:47:46Z,2016-09-16T14:47:46Z,"This is similar to #59 but flagging as spam would still allow the mails to be viewed if necessary.
For example, the mails could be regularly extracted to train spam detectors.

Also the classification could be done by almost anyone (*), rather than relying on a special admin person. The more people who vote a mail as spam, the better the classification is likely to be.

(*) probably best to restrict this to logged-in ASF users. Or even ASF members / PMC members.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYxOTk1Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/126,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYyMTgwMA==,incubator-ponymail,247621800,126,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-09-16T14:54:39Z,2016-09-16T14:54:39Z,"> This is similar to #59 but flagging as spam would still allow the mails to be viewed if necessary.

Understand.

> probably best to restrict this to logged-in ASF users. Or even ASF members / PMC members.

This specifically refers to the Pony Mail deployment at https://lists.apache.org/
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYyMTgwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/127,https://api.github.com/repos/apache/incubator-ponymail/issues/127,incubator-ponymail,177442247,127,Enhance: support e-mail moderation,sebbASF,16689231,Sebb,,OPEN,2016-09-16T14:40:28Z,2016-09-16T14:56:30Z,"The existing e-mail moderation method is rather inefficient, as all moderators get every mail that needs moderation.

It's not obvious whether a particular mail has already been dealt with by another moderator, unless they happen to have seen the mail come through. This means some duplication of effort.

As well as providing Accept/Allow/Reject functions, there could be buttons to add the sender to the appropriate 'deny' list and potentially mark the message as spam.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/127/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/127,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYyMjI4NQ==,incubator-ponymail,247622285,127,NA,sebbASF,16689231,Sebb,,NA,2016-09-16T14:56:30Z,2016-09-16T14:56:30Z,"The feature could also offer canned rejection responses, e.g. directing the poster to the user list instead of the dev list.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0NzYyMjI4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/128,https://api.github.com/repos/apache/incubator-ponymail/issues/128,incubator-ponymail,177681595,128,Bug: should not assume preferred list name is 'dev',sebbASF,16689231,Sebb,,OPEN,2016-09-18T22:27:48Z,2016-09-18T22:27:48Z,"The code at 

https://github.com/apache/incubator-ponymail/blob/master/site/js/ponymail.js#L4008

assumes that the preferred list name is 'dev'. This name should not be hard-coded as it depends on the installation.

Instead it should be a configuration item; better yet the config should have a default but allow overrides for individual domains within the installation.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/128/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/129,https://api.github.com/repos/apache/incubator-ponymail/issues/129,incubator-ponymail,177682705,129,Bug: unreachable code,sebbASF,16689231,Sebb,,OPEN,2016-09-18T22:52:06Z,2016-09-18T22:52:06Z,"The following code is unreachable:
# 

```
if (!list || list.length <= 1) { // ponymail.js L3998

    // List may be private...who knows?
    if ((list && list.length > 1) && (!login || !login.credentials)) { 
        popup(""List not found!"", ""Looks like this list is either not here or private.<br>You can try <a href='/oauth.html'>Logging in</a> to resolve the situation."", 60) // <= **unreachable**
    }
    else
```
# 

It's not possible for list to be both false and true; nor is it possible for list.length to be <=1 and >1 so the popup can never be reached.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/129/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/130,https://api.github.com/repos/apache/incubator-ponymail/issues/130,incubator-ponymail,177684608,130,Bug: cannot login twice in different browsers,sebbASF,16689231,Sebb,,OPEN,2016-09-18T23:24:56Z,2016-09-18T23:24:56Z,"Only one login is possible at a time.
If a second browser logs in, then the first session is invalidated.

This seems unnecessarily restrictive, but if it is a design criterion, it should be documented as such.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/130/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/131,https://api.github.com/repos/apache/incubator-ponymail/issues/131,incubator-ponymail,178059329,131,Enhance: allow search within project,sebbASF,16689231,Sebb,,OPEN,2016-09-20T13:27:46Z,2018-05-14T09:46:16Z,"The advanced search currently allows for searching within a single list or all lists.

It would be useful to allow searching all lists for a given project.

Possibly also within a list of projects/wild-carded projects.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/131/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/131,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MjQ3NTI0Mw==,incubator-ponymail,252475243,131,NA,sebbASF,16689231,Sebb,,NA,2016-10-09T09:25:32Z,2016-10-09T09:25:32Z,"Note that the ordinary search already allows seaching within a domain
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MjQ3NTI0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/131,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MjQ3NTI5MQ==,incubator-ponymail,252475291,131,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-09T09:26:41Z,2016-10-09T09:26:41Z,"I suppose you could easily make a third option - the internals should support it, so you just need the JS to add a *@$project.foo.bar option.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MjQ3NTI5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/132,https://api.github.com/repos/apache/incubator-ponymail/issues/132,incubator-ponymail,178087395,132,Bug: search result page shows misleading Archive buttons,sebbASF,16689231,Sebb,,OPEN,2016-09-20T15:06:30Z,2016-09-20T15:06:30Z,"For exmaple, navigate to:

https://lists.apache.org/list.html?dev@ponymail.apache.org

Do a search for Subject: VOTE
Lists: All

This adds spurious Archive buttons going back to 1995.

Even for search within a list, the Archive buttons are not useful, as they show the full range of years, regardless of whether there are any matches in them.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/132/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/133,https://api.github.com/repos/apache/incubator-ponymail/issues/133,incubator-ponymail,178917195,133,Bug: setup.py does not handle empty response to port number well,sebbASF,16689231,Sebb,,CLOSED,2016-09-23T16:15:45Z,2016-10-29T23:35:46Z,"setup.py prompts for various parameters if they have not been provided.
In most cases it re-prompts if return is pressed, however an empty reply for port causes the script to fail:

What port is ElasticSearch listening on? (normally 9200): 
Traceback (most recent call last):
  File ""setup.py"", line 128, in <module>
    port = int(input(""What port is ElasticSearch listening on? (normally 9200): ""))
ValueError: invalid literal for int() with base 10: ''

The code should allow for this; e.g. as follows:

while port < 1:
    try:
        port = int(input(""What port is ElasticSearch listening on? (normally 9200): ""))
    except ValueError:
        pass
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/133/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/134,https://api.github.com/repos/apache/incubator-ponymail/issues/134,incubator-ponymail,178917895,134,Bug: setup-es.sh appears to be redundant,sebbASF,16689231,Sebb,,CLOSED,2016-09-23T16:18:58Z,2016-10-29T23:37:59Z,"The setup-es.sh script appears to have been superseded by setup.py.

Although it runs, it does not work properly.

It should either be dropped, or it could be reworked to invoke setup.py with the proper parameters.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/134/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/135,https://api.github.com/repos/apache/incubator-ponymail/issues/135,incubator-ponymail,178922621,135,Bug: import-mbox.py does not handle protocol choice well,sebbASF,16689231,Sebb,,CLOSED,2016-09-23T16:41:38Z,2016-10-29T22:38:56Z,"import-mbox.py currently allows input from http(s), imap(s) or file.

However the --source parameter checks are very crude.

If the parameter begins with '/' or '.', it assumes file:
If 'h' => http(s)
If 'i' => imap(s)
Anything else is silently ignored.

It would be better to check for http[s]: or imap[s]: and assume anything else is a file.
It should also check if the parameter is a valid file or a directory to allow import of a single file.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/135/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/136,https://api.github.com/repos/apache/incubator-ponymail/issues/136,incubator-ponymail,178926352,136,Bug: mail display does not handle non-ASCII consistently,sebbASF,16689231,Sebb,,OPEN,2016-09-23T17:00:38Z,2016-12-20T22:59:32Z,"The ASF mail-archive handles mails with accents OK [1] - check the From: line and the signature.

However the same e-mail in PonyMail! [2[ corrupts the signature.

[1] http://mail-archives.apache.org/mod_mbox/incubator-ponymail-dev/201609.mbox/%3Ce6054749-a234-d2dd-2fe2-766d5f48f07c%40apache.org%3E

[2] https://lists.apache.org/thread.html/eb3ff53d998f706f1c8ed2005a9e9eb30632848cccbab11a1231b6b8@%3Cdev.ponymail.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/136/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/136,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MjQ3MA==,incubator-ponymail,262972470,136,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T14:56:27Z,2016-11-25T14:56:27Z,I think this may have been fixed by f5d78a0 as part of #265,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MjQ3MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/136,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM3Mzk0Ng==,incubator-ponymail,268373946,136,NA,sebbASF,16689231,Sebb,,NA,2016-12-20T22:10:26Z,2016-12-20T22:10:26Z,The issue has been fixed,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM3Mzk0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/136,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM3NDU2NA==,incubator-ponymail,268374564,136,NA,sebbASF,16689231,Sebb,,NA,2016-12-20T22:13:29Z,2016-12-20T22:13:29Z,"However the corresponding source mail [3] is still displayed incorrectly

[3] https://lists.apache.org/api/source.lua/eb3ff53d998f706f1c8ed2005a9e9eb30632848cccbab11a1231b6b8@%3Cdev.ponymail.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM3NDU2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/136,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM4NDI3Ng==,incubator-ponymail,268384276,136,NA,sebbASF,16689231,Sebb,,NA,2016-12-20T22:59:32Z,2016-12-20T22:59:32Z,"This appears to be because the HTTP response does not include the appropriate charset.
At present, the charset is only defined in the raw source, so is not available without (re)parsing it.

Might be worth considering saving the appropriate content-type when archiving messages.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM4NDI3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/137,https://api.github.com/repos/apache/incubator-ponymail/issues/137,incubator-ponymail,178974743,137,Bug: elastic.get does not return if a document is not found but some callers overlook this,sebbASF,16689231,Sebb,,CLOSED,2016-09-23T21:13:14Z,2016-12-19T00:41:13Z,"The current implementation of elastic.get does not return if a document is not found; it raises error 404 instead. It can never return nil.

However several callers currently assume that the method always returns.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/137/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/137,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTMwMzkzMw==,incubator-ponymail,249303933,137,NA,sebbASF,16689231,Sebb,,NA,2016-09-23T21:14:05Z,2016-09-23T21:14:05Z,"The same probably applies to other elastic methods.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTMwMzkzMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/137,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzg1ODE2MQ==,incubator-ponymail,267858161,137,NA,sebbASF,16689231,Sebb,,NA,2016-12-19T00:22:14Z,2016-12-19T00:22:14Z,"It looks as though 404s should only be expected for elastic.get. In other cases it means an error, e.g. missing index.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzg1ODE2MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/138,https://api.github.com/repos/apache/incubator-ponymail/issues/138,incubator-ponymail,179024291,138,Bug: user.getUser() overwrites login global variable; defines unused variable 'usr',sebbASF,16689231,Sebb,,CLOSED,2016-09-24T10:48:00Z,2016-10-31T16:37:31Z,"The user.getUser() method writes to the 'login' variable without declaring it local.
This can corrupt external code that happens to use the same variable.

It also declares the local variable 'usr'.
This should presumably be 'login' instead.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/138/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/139,https://api.github.com/repos/apache/incubator-ponymail/issues/139,incubator-ponymail,179025056,139,Bug: lib/elastic.lua: various bugs,sebbASF,16689231,Sebb,,CLOSED,2016-09-24T11:09:51Z,2016-10-31T16:22:51Z,"The scroll() method unconditionally writes the global variable 'doctype'.

The index() method creates the unused 'js' local variable from the global 'query' variable

Many methods define the local variable 'out' twice, or define it unnecessarily.

The checkReturn() method seems to have an unreachable 'return nil' statement.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/139/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/140,incubator-ponymail,179025486,140,Bug: lib/aaa.lua various bugs,sebbASF,16689231,Sebb,,CLOSED,2016-09-24T11:21:28Z,2016-12-13T11:51:43Z,"getRights(): creates global variable 'uid'

Also it defaults to user.email if usr.uid does not exist, however the subsequent match() command will never match a valid email, so there's no point in the default.

This is example code, but it should still be bug-free as far as it goes.

Not sure why the match RE is not anchored. It would be faster to match, and would avoid having to check against the input. However that is not a bug, though it does make the code harder to follow.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/140/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTgyMDAyMg==,incubator-ponymail,249820022,140,NA,sebbASF,16689231,Sebb,,NA,2016-09-27T09:55:30Z,2016-09-27T09:55:30Z,"The DockerFile will use this module by default, so ideally it needs to be functional
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTgyMDAyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTkwNjgxNA==,incubator-ponymail,249906814,140,NA,sebbASF,16689231,Sebb,,NA,2016-09-27T15:48:01Z,2016-09-27T15:48:01Z,"The getRights() function is passed an account structure generated by user.lua.
The usr parameter therefore has the form:

```
{
    ""credentials"" : {
      ""altemail"" : { },
      ""uid"" : ""abd"",
      ""fullname"" : ""Joe Bloggs"",
      ""email"" : ""abcd@apache.org"",
    },
    ""internal"" : {
      ""oauth_used"" : ""localhost"",
      ""cookie"" : ""xxx"",
      ""ip"" : ""172.17.0.1"",
      ""admin"" : ""true""
    },
    ""cid"" : ""abcd""
}
```

However the code directly accesses usr.uid, usr.email and usr.admin.
Also the code accesses the global oauth_domain which is presumably meant to be internal.oauth_used.

This is very confusing for any wishing to use the module as a basis for their own implementation.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTkwNjgxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTkwODQ1Mw==,incubator-ponymail,249908453,140,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-27T15:52:52Z,2016-09-27T15:52:52Z,"I agree it should be using the same standards as in the aaa_examples dir. However, it's not actively doing any harm as is. It is probably a file we should just change to be mostly empty with pointers to the examples directory, as it's not a file you'd want to update very often (as it's most likely changed on disk, so a git pull would cause harm). We can possibly change it to be a wrapper instead, that pulls in other AAA drivers (or tries to).
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTkwODQ1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDEzMjQ0Mw==,incubator-ponymail,250132443,140,NA,sebbASF,16689231,Sebb,,NA,2016-09-28T10:39:56Z,2016-09-28T10:39:56Z,"I think it is doing harm, because it is misleading to users.
It's also the default for the Docker installation.

I think the simplest would be to move it to aaa_examples as an example of an LDAP module.
In any case, the bugs need to be fixed.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDEzMjQ0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDEzMjgzNA==,incubator-ponymail,250132834,140,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-28T10:42:07Z,2016-09-28T10:42:07Z,"yes, that's my thinking - we make a wrapper that essentially tries to load the _real_ AAA module, but if none is found, it just ŕeturns a blank function, so it'll work with public email without any AAA lib present.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDEzMjgzNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDMyMDY0Ng==,incubator-ponymail,250320646,140,NA,sebbASF,16689231,Sebb,,NA,2016-09-28T22:30:30Z,2016-09-28T22:30:30Z,"Yes, the current aaa.lua could be changed to delegate to a local file (e.g. aaa_local.lua) if present, and otherwise provide a blank function.

This would also be quite flexible, as the user could either install the aaa_local.lua file or indeed replace aaa.lua if they were not concerned about accidentally replacing it with a git pull.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDMyMDY0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTYxNTUwMQ==,incubator-ponymail,265615501,140,NA,sebbASF,16689231,Sebb,,NA,2016-12-08T00:17:30Z,2016-12-08T00:17:30Z,Partially addressed in d1eaa36b0,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTYxNTUwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/140,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjcxOTM0Mw==,incubator-ponymail,266719343,140,NA,sebbASF,16689231,Sebb,,NA,2016-12-13T11:51:43Z,2016-12-13T11:51:43Z,The remaining issue - overwrite of local customisation - is now in #292 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjcxOTM0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/141,https://api.github.com/repos/apache/incubator-ponymail/issues/141,incubator-ponymail,179025784,141,Bug: use of global variables in handle() methods,sebbASF,16689231,Sebb,,CLOSED,2016-09-24T11:29:57Z,2016-10-31T16:44:54Z,"Functions that define global variables:

compose.handle(): 'to'
mbox.lua:handle(): 'd'
preferences.lua:handle(): 'pdoc'
stats.lua:handle(): 'x', 'nx', 'y', 'z', 'ec'

These should presumably all be declared using local.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/141/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/145,https://api.github.com/repos/apache/incubator-ponymail/issues/145,incubator-ponymail,179091143,145,Bug: elastic.lua does not always check http return status,sebbASF,16689231,Sebb,,CLOSED,2016-09-25T15:13:41Z,2016-11-05T21:38:48Z,"Some of the elastic.lua methods don't check if the http.request succeeded:

update
index

This may cause unexpected errors later
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/145/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/145,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1ODY0MjQzMw==,incubator-ponymail,258642433,145,NA,sebbASF,16689231,Sebb,,NA,2016-11-05T21:38:48Z,2016-11-05T21:38:48Z,"Fixed by c41d0f2
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1ODY0MjQzMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/146,https://api.github.com/repos/apache/incubator-ponymail/issues/146,incubator-ponymail,179092241,146,Bug: elastic.lua:getHeaders uses different sort field,sebbASF,16689231,Sebb,,CLOSED,2016-09-25T15:36:53Z,2016-12-17T01:45:48Z,"getHits() defaults to sorting by epoch
getHeadersReverse() always sorts by epoch

However getHeaders() always sorts by date

This is inconsistent.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/146/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/147,https://api.github.com/repos/apache/incubator-ponymail/issues/147,incubator-ponymail,179092461,147,Enhance: elastic.lua getHeadersReverse/getHeaders could share code,sebbASF,16689231,Sebb,,OPEN,2016-09-25T15:41:42Z,2016-09-25T15:41:42Z,"The code for getHeadersReverse/getHeaders is basically the same apart from the sort field (but see #146) and the call to table.insert()

The code could be shared by using a common function that accepted a direction parameter.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/147/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/148,https://api.github.com/repos/apache/incubator-ponymail/issues/148,incubator-ponymail,179095876,148,Bug: ponymail_httpd_docker.conf wrong lua version and paths?,sebbASF,16689231,Sebb,,OPEN,2016-09-25T16:53:21Z,2016-09-25T16:53:21Z,"ponymail_httpd_docker.conf contains:

```
LuaPackageCPath /usr/lib/lua/5.3/?.so
LuaPackagePath  /usr/share/lua/5.3/?.lua
```

However AFAICT apache2/httpd currently only supports Lua 5.2

Also, when I build the Docker image, there is no path /usr/lib/lua; instead there is /usr/lib/x86_64-linux-gnu/lua
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/148/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/149,https://api.github.com/repos/apache/incubator-ponymail/issues/149,incubator-ponymail,179106313,149,Bug: code assumes that subject is always present in an e-mail,sebbASF,16689231,Sebb,,CLOSED,2016-09-25T20:13:10Z,2016-12-17T01:41:22Z,"The code assumes that a subject is always present in an e-mail; however that may not be the case.

According to RFC822, the only required fields are:

```
fields      =    dates                      ; Creation time,
                 source                     ;  author id & one
               1*destination                ;  address required
                *optional-field             ;  others optional
```

i.e. the Subject may be omitted entirely
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/149/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/149,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTQ0NDE0MQ==,incubator-ponymail,249444141,149,NA,sebbASF,16689231,Sebb,,NA,2016-09-25T20:19:12Z,2016-09-25T20:19:12Z,"This may affect the following code:

https://github.com/apache/incubator-ponymail/blob/master/site/api/email.lua#L48
https://github.com/apache/incubator-ponymail/blob/master/site/api/source.lua#L32
https://github.com/apache/incubator-ponymail/blob/master/site/api/thread.lua#L124
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI0OTQ0NDE0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/149,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Njc5NDUwNw==,incubator-ponymail,256794507,149,NA,sebbASF,16689231,Sebb,,NA,2016-10-27T23:04:33Z,2016-10-27T23:04:33Z,"An example message with no subject is:

http://mail-archives.apache.org/mod_mbox/aries-user/201602.mbox/%3Ctrinity-826ab43b-725d-4ea1-8b46-3355c1f4c6b7-1456058174634%403capp-gmx-bs33%3E

This has the From line:
user-return-1748-apmail-aries-user-archive=aries.apache.org@aries.apache.org  Sun Feb 21 12:36:23 2016
which does not appear in the following archive:

http://my.ponymail/api/mbox.lua?list=user@aries.apache.org&date=2016-2

Messages 1747 and 1749 are present; 1748 is not.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Njc5NDUwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/149,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzczNDEyNg==,incubator-ponymail,267734126,149,NA,sebbASF,16689231,Sebb,,NA,2016-12-17T01:33:25Z,2016-12-17T01:33:25Z,The message noted above is HTML-only which is why it does not appear.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzczNDEyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/150,https://api.github.com/repos/apache/incubator-ponymail/issues/150,incubator-ponymail,179108818,150,Enhance: elastic.lua checkReturn should throw errors in the callers context,sebbASF,16689231,Sebb,,CLOSED,2016-09-25T21:03:52Z,2016-10-31T22:35:19Z,"At present the checkReturn function throws an error in its context.
That's not very helpful, as the error was not caused by the function.

It would be better to throw the error in the callers context, or perhaps even the callers caller.

e.g.. replace 
error(""Backend Database returned code "" .. code .. ""!"")
with
error(""Backend Database returned code "" .. code .. ""!"", 2)
or
error(""Backend Database returned code "" .. code .. ""!"", 3)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/150/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/150,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzQ0MDc2Mw==,incubator-ponymail,257440763,150,NA,sebbASF,16689231,Sebb,,NA,2016-10-31T22:35:19Z,2016-10-31T22:35:19Z,"Fixed in cafa903
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzQ0MDc2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/151,https://api.github.com/repos/apache/incubator-ponymail/issues/151,incubator-ponymail,179111938,151,Bug: Docker image has problems starting the ponymail index shards,sebbASF,16689231,Sebb,,OPEN,2016-09-25T22:02:58Z,2016-09-25T22:02:58Z,"This appears to be because the default number of replicas is set to 1 when creating an index.

A possible solution is to add the following to /etc/elasticsearch/elasticsearch.yml

index.number_of_replicas: 0

It might also be worth adding the following so it runs better on smaller test systems:

index.number_of_shards: 1

The changes need to be made before starting the elasticsearch service
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/151/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/152,https://api.github.com/repos/apache/incubator-ponymail/issues/152,incubator-ponymail,179191222,152,Bug: typo in preferences.lua - logut?,sebbASF,16689231,Sebb,,CLOSED,2016-09-26T10:24:02Z,2016-10-15T16:01:46Z,"https://github.com/apache/incubator-ponymail/blob/master/site/api/preferences.lua#L47
has
 r:puts[[{""logut"": true}]]

That should presumably be

 r:puts[[{""logout"": true}]]
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/152/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/153,https://api.github.com/repos/apache/incubator-ponymail/issues/153,incubator-ponymail,179244544,153,Simplify: mbox.lua fetches private mails from mbox but then ignores them,sebbASF,16689231,Sebb,,CLOSED,2016-09-26T14:29:01Z,2016-12-09T15:03:34Z,"mbox.lua fetches all the MID and private fields from the mailing list and then checks to see if the private field is true.

Surely it would be a lot more efficient to filter out the private mails in the original query?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/153/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/153,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAzNDYzMQ==,incubator-ponymail,266034631,153,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T15:03:34Z,2016-12-09T15:03:34Z,Private mails can now be used,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAzNDYzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/154,https://api.github.com/repos/apache/incubator-ponymail/issues/154,incubator-ponymail,179449363,154,Enhance: add a way to filter mails from view,sebbASF,16689231,Sebb,,OPEN,2016-09-27T10:01:52Z,2016-09-27T10:01:52Z,"Where a list includes a mix of automated and human communication, it can be difficult to follow the messages. It would be useful to be able to add a filter to exclude such items from view.

[Ideally such messages should be directed to a separate list, but that is not always possible, and cannot be done retrospectively]

If the user is logged in, it would be useful to be able to save such filters.

Note: it needs to be obvious when a filter has been applied.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/154/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/155,https://api.github.com/repos/apache/incubator-ponymail/issues/155,incubator-ponymail,179681627,155,Invalid command 'LuaScope',kination,1720209,K.I. (Dennis) Jung,inylove82@gmail.com,CLOSED,2016-09-28T05:14:38Z,2016-10-07T07:41:33Z,"On setup Ponymail on my laptop(Mac OS X 10.10), I have some issue.

```
AH00526: Syntax error on line 102 of /private/etc/apache2/extra/httpd-vhosts.conf:
Invalid command 'LuaScope', perhaps misspelled or defined by a module not included in the server configuration
```

I refer the settings on configs/ponymail_httpd.conf file for setup vhost.
Is there something need to setup more on Mac? Because I only find setups for Linux on guide.

Thanks.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/155/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/155,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDA4NzQ3Mg==,incubator-ponymail,250087472,155,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-28T06:59:31Z,2016-09-28T06:59:31Z,"Yes, mod_lua needs to be loaded for this to work. See http://modlua.org/gs/installing - the module should be there already (unless you built from source), as it's a standard core module, so you should only need to add the LoadModule directive to your configuration.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDA4NzQ3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/155,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDY1ODIyNA==,incubator-ponymail,250658224,155,NA,kination,1720209,K.I. (Dennis) Jung,inylove82@gmail.com,NA,2016-09-30T04:52:06Z,2016-09-30T04:52:06Z,"@Humbedooh Sorry to bother, but I'm keep stuck while installing. I setup Lua and vhost setup, but still have issue like this when I run `sudo apachectl -k restart`.

```
httpd: Syntax error on line 171 of /private/etc/apache2/httpd.conf: Cannot load libexec/apache2/mod_lua.so into server: dlopen(/usr/libexec/apache2/mod_lua.so, 10): Symbol not found: _luaL_addlstring\n  Referenced from: /usr/libexec/apache2/mod_lua.so\n  Expected in: flat namespace\n in /usr/libexec/apache2/mod_lua.so
```

Do you know something about this?
Thanks.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDY1ODIyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/155,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTgxNjE3Ng==,incubator-ponymail,251816176,155,NA,sebbASF,16689231,Sebb,,NA,2016-10-05T22:18:46Z,2016-10-05T22:18:46Z,"I suspect this is due to trying to use Lua 5.3.
Apache mod_lua only supports 5.2.x; see #148 
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTgxNjE3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/155,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MjE3MzkwNQ==,incubator-ponymail,252173905,155,NA,kination,1720209,K.I. (Dennis) Jung,inylove82@gmail.com,NA,2016-10-07T07:41:27Z,2016-10-07T07:41:27Z,"@sebbASF Thanks for help! It worked~
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MjE3MzkwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/160,https://api.github.com/repos/apache/incubator-ponymail/issues/160,incubator-ponymail,179921404,160,Bug: cross.lua definition of strcmp_match does not handle ? meta-characters,sebbASF,16689231,Sebb,,OPEN,2016-09-29T00:02:26Z,2016-09-29T00:02:26Z,"The nginx replacement definition of strcmp_match does not allow for the '?' meta-character.

This should be fairly easy to fix.

I suspect it will also mishandle patterns containing Lua meta-characters such as '%', but that will be much harder to fix, and the patterns are less likely to contain them.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/160/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/161,https://api.github.com/repos/apache/incubator-ponymail/issues/161,incubator-ponymail,179922242,161,Task: consider replacing strcmp_match with standard Lua pattern matching,sebbASF,16689231,Sebb,,OPEN,2016-09-29T00:09:54Z,2016-09-29T00:09:54Z,"The code currently uses mod_lua:strcmp_match (mainly for matching domain strings).
This function is Apache-specific; there is a Lua emulation for use with other httpd servers such as Nginx, however it does not behave exactly the same.

Consider whether to use Lua matching instead.
Unfortunately some of the pattern strings are effectively part of the external API so this would be a breaking change.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/161/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/162,https://api.github.com/repos/apache/incubator-ponymail/issues/162,incubator-ponymail,180031764,162,Bug: pcall() idiom to protect against elastic.lua exceptions is flawed,sebbASF,16689231,Sebb,,CLOSED,2016-09-29T12:12:28Z,2016-12-19T20:39:12Z,"The elastic.lua wrapper module can throw an error for some valid invocations - e.g. document not found.

The way this is handled currently is as follows:

local _, doc = pcall(function() return elastic.get(""mbox"", eid or ""hmm"") end)
if not doc or not doc.subject then ... end

However, if elastic.get() throws an error, the doc variable will be the error message string.
AFAICT it's not possible for doc to be false/nil currently, so it's not useful as a check.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/162/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/162,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDQ0OTM0Mw==,incubator-ponymail,250449343,162,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-09-29T12:14:20Z,2016-09-29T12:14:20Z,"I think the main issue here is, elastic shouldn't error out on a 404, only other 4xx/5xx errors.
it should be changed to uhm... something like ""if code != 200 and code != 404"" in there...
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDQ0OTM0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/162,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDQ1ODUxMQ==,incubator-ponymail,250458511,162,NA,sebbASF,16689231,Sebb,,NA,2016-09-29T12:58:28Z,2016-09-29T12:58:28Z,"Agreed, elastic should only throw an error for real errors; that would simplify the code as the pcall() wrapper would not be needed at all.

AFAICT the code only works because errors return a string so references such as doc.subject will be false.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDQ1ODUxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/162,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzg1ODA1Nw==,incubator-ponymail,267858057,162,NA,sebbASF,16689231,Sebb,,NA,2016-12-19T00:20:23Z,2016-12-19T00:20:23Z,"It looks as though 404s are only to be expected from elastic.get.
So it might make sense to only add a check for 404 when the caller is get.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzg1ODA1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/162,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzg1OTA4NA==,incubator-ponymail,267859084,162,NA,sebbASF,16689231,Sebb,,NA,2016-12-19T00:36:02Z,2016-12-19T00:36:02Z,"Further checks show that some code does not check if the returned doc is valid after calling elastic.get()

A better solution would be to add an optional get parameter; if specified then it will return for 404. Then only code that is expecting a 404 will ever see one.

The alternative is to always use pcall, but that catches all errors.
It would be better to let these get reported, rather than assuming there has been a 404.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Nzg1OTA4NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/163,https://api.github.com/repos/apache/incubator-ponymail/issues/163,incubator-ponymail,180037635,163,Bug: preferences.lua never fetches descriptions,sebbASF,16689231,Sebb,,CLOSED,2016-09-29T12:38:29Z,2016-12-17T13:10:24Z,"The construct:

local _, docs = pcall(...) or nil

will always set docs to nil, regardless of whether there is a description for the list

https://github.com/apache/incubator-ponymail/blob/master/site/api/preferences.lua#L335
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/163/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/164,https://api.github.com/repos/apache/incubator-ponymail/issues/164,incubator-ponymail,180039808,164,Bug: mailinglists index should be created by setup.py or made truly optional,sebbASF,16689231,Sebb,,CLOSED,2016-09-29T12:48:56Z,2016-10-29T23:44:18Z,"The mailinglists index is currently optionally created.
However preferences.lua unconditionally fetches it using a sorted query.
This causes entries such as the following to be reported to the elasticsearch log:

```
[2016-09-28 14:59:49,564][DEBUG][action.search            ] [Blind Justice] [ponymail][2], node[UBWB5UZBSXO-xIayu6sJtw], [P], v[8], s[STARTED], a[id=rKfcUa6SQk-v_QaHoYb_Hw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@49991da6]
RemoteTransportException[[Blind Justice][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [{""size"":9999,""query"":{""query_string"":{""query"":""*"",""lowercase_expanded_terms"":true,""analyze_wildcard"":false}},""sort"":[{""name"":{""order"":""desc""}}]}]]; nested: SearchParseException[No mapping found for [name] in order to sort on];
Caused by: SearchParseException[failed to parse search source [{""size"":9999,""query"":{""query_string"":{""query"":""*"",""lowercase_expanded_terms"":true,""analyze_wildcard"":false}},""sort"":[{""name"":{""order"":""desc""}}]}]]; nested: SearchParseException[No mapping found for [name] in order to sort on];
    at org.elasticsearch.search.SearchService.parseSource(SearchService.java:873)
    at org.elasticsearch.search.SearchService.createContext(SearchService.java:668)
    at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:633)
    at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:377)
    at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
    at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
    at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
    at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:77)
    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[No mapping found for [name] in order to sort on]
    at org.elasticsearch.search.sort.SortParseElement.addSortField(SortParseElement.java:213)
    at org.elasticsearch.search.sort.SortParseElement.addCompoundSortField(SortParseElement.java:187)
    at org.elasticsearch.search.sort.SortParseElement.parse(SortParseElement.java:85)
    at org.elasticsearch.search.SearchService.parseSource(SearchService.java:856)
    ... 12 more
```

Whilst these could presumably be suppressed by disabling the Debug logs, it makes the logs harder to read.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/164/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/165,https://api.github.com/repos/apache/incubator-ponymail/issues/165,incubator-ponymail,180044995,165,Bug: ponymail.js uses unsupported preferences.lua parameter,sebbASF,16689231,Sebb,,CLOSED,2016-09-29T13:10:41Z,2016-12-17T10:06:30Z,"ponymail.js has the following code:

GetAsync(""/api/preferences.lua?detailed=true"", null, seedTable)

However preferences.lua does not support the 'detailed' qualifier
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/165/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/169,https://api.github.com/repos/apache/incubator-ponymail/issues/169,incubator-ponymail,180308754,169,Add mbox download to private lists,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,CLOSED,2016-09-30T13:50:30Z,2016-12-09T15:01:20Z,"The download feature is incredibly useful, but is also needed on private lists.  What are the privacy/security/technical issues preventing this from appearing on private lists?  

Presumably the download for private? would also be a configuration setting for the server install, so the admin can decide.

Separately, it would be nice to make the download feature more obvious/have help for the end user.  (something I'll write eventually once I get into the code). 
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/169/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/169,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwMzEzMQ==,incubator-ponymail,266003131,169,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T12:31:00Z,2016-12-09T12:31:00Z,"At present the code fetches all the ids [1] for the messages in the date range.
It then throws away [2] all the private ids.
However it could first check if the user has access to the list, as is done in other modules.

[1] the ids are needed to access the actual message source
[2] a bit wasteful, see #153","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwMzEzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/169,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwNDQxNw==,incubator-ponymail,266004417,169,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-12-09T12:39:29Z,2016-12-09T12:39:29Z,It was a design choice when it was made. I'm open to changing this to allow private lists to be downloaded.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwNDQxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/169,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwNzkxNQ==,incubator-ponymail,266007915,169,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T13:00:38Z,2016-12-09T13:00:38Z,"If it was a design choice, why does the implementation fetch private e-mail ids?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwNzkxNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/169,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwODI2MA==,incubator-ponymail,266008260,169,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-12-09T13:02:30Z,2016-12-09T13:02:30Z,"well, it allows for faster changing into fetching private emails? :)
All we would need to do is check against the AAA and allow it through if so.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjAwODI2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/170,https://api.github.com/repos/apache/incubator-ponymail/issues/170,incubator-ponymail,180355176,170,Doc: assumptions need to be documented,sebbASF,16689231,Sebb,,OPEN,2016-09-30T17:08:20Z,2016-09-30T17:08:20Z,"For example:
- list names cannot have a ""."" in them.
  This is to avoid ambiguity with the ""."" host name separators
- maxima built into code
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/170/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/173,https://api.github.com/repos/apache/incubator-ponymail/issues/173,incubator-ponymail,180434342,173,Top Posting creates confusing nested thread view,ctubbsii,1280725,Christopher Tubbs,,OPEN,2016-10-01T03:01:07Z,2016-10-01T07:05:00Z,"Top posting in a thread, causes the top-posts to be ordered prior to the original post. This creates a very confusing nested view when viewing the whole thread.

See, for example, [this thread](https://lists.apache.org/thread.html/8b6ec5f17e277ed2d01e8df61eb1f1f42266cd30b9e114cb431c1c17@%3Cdev.fluo.apache.org%3E).
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/173/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/173,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDg5NjU1Mw==,incubator-ponymail,250896553,173,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-01T06:49:40Z,2016-10-01T06:49:40Z,"It's not so much top posting, but rather inconsistent ordering due to async fetching gone wrong. This is slated to be fully fixed in 0.10
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDg5NjU1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/173,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDg5NzE1MA==,incubator-ponymail,250897150,173,NA,ctubbsii,1280725,Christopher Tubbs,,NA,2016-10-01T07:05:00Z,2016-10-01T07:05:00Z,"Ah, okay. I was wondering why occasionally I saw some replies in a different order. I figured that was a separate issue.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MDg5NzE1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/174,https://api.github.com/repos/apache/incubator-ponymail/issues/174,incubator-ponymail,180937199,174,Bug: import-mbox.py does not report if List-Id is missing,sebbASF,16689231,Sebb,,CLOSED,2016-10-04T16:08:50Z,2016-11-25T20:27:20Z,"import-mbox.py will happily import messages which don't have a List-Id even if the --lid override has not been used.

The resulting mbox index entry has null for the ""list"" and ""list_raw"" fields.
It looks like such entries are not visible from PonyMail.
The code should either reject such emails, or should allocate them to a dummy list for later processing.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/174/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/174,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Nzc0MDAwNg==,incubator-ponymail,257740006,174,NA,sebbASF,16689231,Sebb,,NA,2016-11-02T00:33:10Z,2016-11-02T00:33:10Z,"The script has an option named '--requirelid'. However this is currently unused.
It would be better to default to requiring the lid.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Nzc0MDAwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/176,https://api.github.com/repos/apache/incubator-ponymail/issues/176,incubator-ponymail,181383162,176,"Bug: ""full' id generator is not stable",sebbASF,16689231,Sebb,,OPEN,2016-10-06T10:50:26Z,2016-10-06T10:50:26Z,"The ""full"" id generator currently take the hash of the input message as parsed by MM3 or by a Python email package. The parsed message may be massaged e.g. by adding an 'archived-at' header before it is converted into bytes.

Whilst this guarantees uniqueness, it is not repeatable.

If the same message is reloaded from a different source - or even the same source, if the 'archived-at' header is not present - it will get a different id, and thus may be stored as well as the original identical message.

If the database has to be regenerated from source, the message ids will be different. Since the message ids are used to create Permalinks, any existing Permalinks will stop working.

The generator also uses the same output format as the ""medium"" generator, which may cause problems in future.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/176/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/177,https://api.github.com/repos/apache/incubator-ponymail/issues/177,incubator-ponymail,181384737,177,"Bug: ""medium"" and ""original"" id generators are not sufficiently unique",sebbASF,16689231,Sebb,,OPEN,2016-10-06T10:58:24Z,2016-10-06T10:58:24Z,"The ""original"" and ""medium"" generators only take account of the message body, date and list id.
This is not sufficient to uniquely identify a message. For example, automated services may send subject-only mails, and may send more than one with the same time.

Since the generated id is used as the database key, this means that only one of the messages will be stored in the database.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/177/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/178,incubator-ponymail,181388261,178,"Bug: shortLinks are not guaranteed unique, especially with the original generator",sebbASF,16689231,Sebb,,OPEN,2016-10-06T11:18:29Z,2022-02-02T14:56:27Z,"The shortLink feature works by truncating the database message id to 18 charactes and then converting it to base 36. To recover a message, the short link is decoded, and the first matching mail with the same prefix is returned.

In the case of the original generator, the first 18 characters of the id only depend on the message body. If the same message is sent to multiple mailing lists, they will all have the same shortLink. However only one will ever be retrieved currently.

In the case of the ""medium"" generator, the first 18 characters are part of a sha256 hash which will be unique within the database. There are billions of hashes with the same prefix, however the chances of two having the same prefix should be very small, but not impossible.

One solution is to ensure that shortLinks return all matching messages rather than just the first match.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/178/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTkzNDc1NA==,incubator-ponymail,251934754,178,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-06T11:20:33Z,2016-10-06T11:20:33Z,"IIRC, the chance of colliding two shortlinks with the new generator is 1:10^33.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTkzNDc1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk1ODkzMw==,incubator-ponymail,251958933,178,NA,sebbASF,16689231,Sebb,,NA,2016-10-06T13:19:28Z,2016-10-06T13:19:28Z,"However, any installations that used the original generator will include duplicates, e.g. for messages sent to multiple lists. So the code must still support duplicates.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk1ODkzMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk1OTYzNA==,incubator-ponymail,251959634,178,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-06T13:21:44Z,2016-10-06T13:21:44Z,"The new shortlink generator only allows shortlinks for IDs made by the newer generators (it checks). if the old is used, it falls back to full IDs for everything.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk1OTYzNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk2MjY0Mw==,incubator-ponymail,251962643,178,NA,sebbASF,16689231,Sebb,,NA,2016-10-06T13:33:51Z,2016-10-06T13:33:51Z,"It's good that the new shortlinks are statistically unlikely to be duplicated.

However if the old shortlink generator was ever used to shorten original ids in anything other than a test installation, then it will have published ambiguous short links. These need to be allowed for.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk2MjY0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk2MzAwMg==,incubator-ponymail,251963002,178,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-06T13:35:28Z,2016-10-06T13:35:28Z,"old shortlinks should work, the new ones and the old ones use different markers to denote which generator was used, and the new JS knows this.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk2MzAwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk3MTk5NQ==,incubator-ponymail,251971995,178,NA,sebbASF,16689231,Sebb,,NA,2016-10-06T14:07:36Z,2016-10-06T14:07:36Z,"Old shortlinks will work in the sense that they will find a match.
However they won't work in the sense that they find the right match.
The old shortlinks effectively threw away all but the body hash when applied to the original ids.
Since the body hash is far from unique, the old shortlinks were also not unique.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MTk3MTk5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/178,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M49RmRg,incubator-ponymail,1028023392,178,NA,sebbASF,16689231,Sebb,,NA,2022-02-02T14:56:27Z,2022-02-02T14:56:27Z,"> The new shortlink generator only allows shortlinks for IDs made by the newer generators (it checks). if the old is used, it falls back to full IDs for everything.

AFAICT the shortlink generator can be applied to all generator types, except cluster, which is not hex at the start.
There does not seem to be a check of the mid type.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M49RmRg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/179,https://api.github.com/repos/apache/incubator-ponymail/issues/179,incubator-ponymail,181876290,179,Bug: code includes embedded configuration items and other 'magic' items,sebbASF,16689231,Sebb,,OPEN,2016-10-09T09:14:10Z,2016-10-09T09:14:10Z,"The code contains quite a few 'magic' numbers and strings which should be configuration choices.

For example, the size = 50000 parameters in preferences.lua, and the date range { gte = ""now-20y"" }

These values should be moved into config.lua or a similar location so they can easily be adjusted.

Code should rarely (if ever) contain 'magic' numbers or strings.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/179/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/180,https://api.github.com/repos/apache/incubator-ponymail/issues/180,incubator-ponymail,182601578,180,Bug: ASF-specific code,sebbASF,16689231,Sebb,,OPEN,2016-10-12T18:40:31Z,2016-10-15T00:39:13Z,"There are some places where the code is currently either ASF-specific or at least strongly biased towards the ASF installation. The code should be generalised, and where necessary installation.

This issue is a place-holder to gather instances.

OAuth JSON data uses the attribute ""isMember"" to denote a privileged user. It would be better to use a more generic term, such as ""isPrivileged""
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/180/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/180,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk1MDUxMQ==,incubator-ponymail,253950511,180,NA,sebbASF,16689231,Sebb,,NA,2016-10-15T00:39:13Z,2016-10-15T00:39:13Z,"ponymail.js chooses the listname 'dev' if it exists, else the busiest one.
If there is to be a default list name then it should be configurable, ideally per domain, or at least with a per domain override. However it might make more sense to always default to the busiest list
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk1MDUxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/181,https://api.github.com/repos/apache/incubator-ponymail/issues/181,incubator-ponymail,182681151,181,Reply via client breaks when message too large,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,OPEN,2016-10-13T02:36:59Z,2016-10-13T09:15:18Z,"When the message being replied too is too large (working theory; could possibly be odd characters but doesn't seem so), the Reply via your own mail client silently fails.

Sample message that fails:
https://lists.apache.org/thread.html/f2ba557c69611535038bdb24451ab725ae950aaf917983c18a996b27@%3Cdev.ponymail.apache.org%3E

Mac/Chrome/Version 53.0.2785.143 (64-bit) with Thunderbird as default mail client (which works for short messages).

Chrome developer tools shows the GET mailto:... link was clicked, but (cancelled). It seems to have the right headers and start of the email body content.

It's likely various client OS/browsers/mail clients have slightly different max URL lengths.  Possible enhancements are either clipping the mailto: at some default max length, or somehow otherwise abbreviating or shortening some reply-level in the body somehow (but that would be arbitrary).
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/181/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/181,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MzQ1OTU4Mw==,incubator-ponymail,253459583,181,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-13T09:15:18Z,2016-10-13T09:15:18Z,"Most likely a URI length issue here, various browsers only support a mailto link of N kilobytes, the trick is figuring out when the limit has been hit and then truncate. Obviously we need to improve that again
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1MzQ1OTU4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/182,https://api.github.com/repos/apache/incubator-ponymail/issues/182,incubator-ponymail,182898787,182,Bug: does not handle missing or empty subjects well,sebbASF,16689231,Sebb,,CLOSED,2016-10-13T20:56:20Z,2016-10-27T17:14:45Z,"If an email does not have a subject or it is empty, the GUI does not allocate enough height to properly display the buttons (replies, date, atom), and there is no link to open the message.
It's just about possible to click on the Atom link.

By default ezmlm does not allow an empty subject, but there may be lists that allow them, so ideally the code should cater for this.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/182/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/182,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjcwNzUwMQ==,incubator-ponymail,256707501,182,NA,sebbASF,16689231,Sebb,,NA,2016-10-27T17:05:15Z,2016-10-27T17:05:15Z,"The Subject: header is optional according to RFC822.

For example the issues@ponymail list allows the Subject to be omitted (unlike dev@).
Sample test message:

http://my.ponymail/thread.html/5cbfdece07502461f9645d77038fe867c08073a324e25a02d556d5b9@%3Cissues.ponymail.apache.org%3E

This was sent on Oct 27 2016:

https://lists.apache.org/list.html?issues@ponymail.apache.org:dfr=2016-10-27|dto=2016-10-27:
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjcwNzUwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/183,https://api.github.com/repos/apache/incubator-ponymail/issues/183,incubator-ponymail,183178799,183,Bug: Other lists drop-down should be sorted by name,sebbASF,16689231,Sebb,,CLOSED,2016-10-15T00:49:10Z,2016-10-27T22:02:34Z,"The Other lists drop-down is currently sorted by number of messages.
This makes it very hard to find a specific list if there are lots of entries.
It's also inconsistent with the Available projects list. 
[Or maybe that should be sorted in order of numbers of messages?]

However it is probably useful to pick out the busiest lists for the main menu.
Once the busiest lists have been displayed in numeric order, the remainder should be re-sorted in alphabetical order for display in the Other lists drop-down
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/183/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/184,https://api.github.com/repos/apache/incubator-ponymail/issues/184,incubator-ponymail,183202605,184,Bug: setup.py does not handle connection failure well,sebbASF,16689231,Sebb,,CLOSED,2016-10-15T10:41:41Z,2016-11-05T19:43:11Z,"If setup.py cannot contact the elastic server, it reports multiple errors.
It should give up on the first failure.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/184/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/184,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk3Njk3OA==,incubator-ponymail,253976978,184,NA,sebbASF,16689231,Sebb,,NA,2016-10-15T10:53:21Z,2016-10-15T10:53:21Z,"Oops - it looks like the multiple failure reports are caused by the urllib3 connection retry code.

However setup.py could/should intercept the failure and provide a concise error message indicating failure to connect.
At present the error output is nearly 300 lines of text.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Mzk3Njk3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/185,https://api.github.com/repos/apache/incubator-ponymail/issues/185,incubator-ponymail,183205777,185,Bug: setup.py can overwrite existing config files,sebbASF,16689231,Sebb,,CLOSED,2016-10-15T11:55:16Z,2016-11-25T14:50:39Z,"The setup.py script does not detect if it has already created the tools/ponymail.cfg and site/api/lib/config.lua configuration files.

If the database already exists, then it will exit with an error and not try to change the mappings; nor will it create the config files

However if the database does not exist, setup will uncondionally recreate config.lua and ponymail.cfg. This can easily happen if setup is run with a misspelt dbname parameter.

The design of the configuration files does not currently allow for use with multiple database names, so it's important to ensure that they correspond with the existing database (if any)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/185/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/185,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MTI2Nw==,incubator-ponymail,262971267,185,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T14:50:39Z,2016-11-25T14:50:39Z,Fixed in 30bfeb7,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MTI2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/186,https://api.github.com/repos/apache/incubator-ponymail/issues/186,incubator-ponymail,183210431,186,Issues with scaling; inefficient use of client resources,sebbASF,16689231,Sebb,,OPEN,2016-10-15T13:44:08Z,2018-03-01T12:16:11Z,"The backend database should not have any problems with handling very large numbers of mailing lists and mails in each list.

However the scripts that interface with the database mostly assume that it is OK to return data from all lists or all mails (at least up to a certain limit). In the case of scripts that are directly accessed by the Javascript GUI, this means that the browser can be presented with very large datasets, requiring a lot of network traffic. This can impact browser memory requirements and potentially broadband data usage. It certainly impacts mobile data usage.

Much of the data that is returned by the scripts is not needed immediately, and may never be used.
Whilst this does reduce lag, it is wasteful of client resources

For example, the initial display only shows domain names, yet the code has used both preferences.lua and pminfo.lua both of which return data about all lists as well as all domains.

Again, once a mailing list is selected, the entire thread structure (with a limit of 15k) for the current period is downloaded by stats.lua, even though only a few mails can be displayed at a time.

Also preferences.lua and pminfo.lua return some overlapping data
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/186/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/187,https://api.github.com/repos/apache/incubator-ponymail/issues/187,incubator-ponymail,183221181,187,Bug: combine.sh uses GNU-only sed extension -s (--separate); it's not needed,sebbASF,16689231,Sebb,,CLOSED,2016-10-15T17:14:57Z,2016-10-17T22:59:30Z,"The combine.sh script uses the following command line:

```
sed -s -e '/^\/\*/,/\*\//d' ${f} >> ../ponymail.js
```

However the '-s' flag is a GNU-sed extension which tells sed to consider files on the command line to be separate files rather than a single stream.
Since only a single file is passed to sed this flag is redundant, and should be dropped
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/187/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/188,https://api.github.com/repos/apache/incubator-ponymail/issues/188,incubator-ponymail,183559123,188,Bug: mbox.lua exports source without encoding 'From ' lines,sebbASF,16689231,Sebb,,CLOSED,2016-10-18T00:06:58Z,2016-12-09T20:26:02Z,"The mbox format expects each mail to start with 'From '.
Any embedded lines starting with 'From ' need to be escaped otherwise the generated mbox file cannot be re-imported correctly.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/188/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/188,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NDM3MzQxMQ==,incubator-ponymail,254373411,188,NA,sebbASF,16689231,Sebb,,NA,2016-10-18T00:29:45Z,2016-10-18T00:29:45Z,"Related to this: Pony Mail should formally define what mbox format is generated, and what mbox formats are accepted for input.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NDM3MzQxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/188,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ0MDY5OQ==,incubator-ponymail,256440699,188,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T18:44:23Z,2016-10-26T18:44:23Z,"A sample mail is available at:

https://lists.apache.org/thread.html/193753a67ae187b52563c45bd1b62b38a4f763f9c56c4672e9f133a1@%3Cissues.infra.apache.org%3E

Note that the corresponding mod_mbox export does correctly escape these lines.

[However it fails to unescape the lines for display (oops!):
http://mail-archives.apache.org/mod_mbox/infra-issues/201610.mbox/%3CJIRA.13011963.1476360688000.72524.1477350240050%40Atlassian.JIRA%3E]
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ0MDY5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/189,https://api.github.com/repos/apache/incubator-ponymail/issues/189,incubator-ponymail,183559595,189,Bug: import-mbox.py does not provide any context when reporting errors,sebbASF,16689231,Sebb,,OPEN,2016-10-18T00:11:09Z,2016-10-18T00:11:09Z,"The import process may report errors (for example ""Date seems totally wrong..."") however the input text which causes the problem is not identified in any way.

This can make it very difficult to trace and fix input errors.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/189/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/190,https://api.github.com/repos/apache/incubator-ponymail/issues/190,incubator-ponymail,183563598,190,Bug: mbox.lua appears to violate mbox standards for the From_ line,sebbASF,16689231,Sebb,,CLOSED,2016-10-18T00:44:56Z,2016-12-09T20:23:49Z,"mbox.lua generates output files with a From_ line consisting of ""From "" alone.

This disagrees with most (perhaps all) of the commonly used mbox formats, which expect the From_ prefix to be followed by the sender email address and the UTC date and time

It also violates https://tools.ietf.org/html/rfc4155
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/190/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/191,https://api.github.com/repos/apache/incubator-ponymail/issues/191,incubator-ponymail,183827463,191,Enhance: additional table sort modes for small sites,sebbASF,16689231,Sebb,,OPEN,2016-10-18T23:16:25Z,2016-10-18T23:16:25Z,"The 'table' mode sorts list names by number of recent messages.

It would make more sense to sort alphabetically by list name within domain name or by list name

I'm not sure why anyone would want to sort by message count as that may cause the order to change from day to day, but for backwards compatibility the new sort orders could be given new names.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/191/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/192,https://api.github.com/repos/apache/incubator-ponymail/issues/192,incubator-ponymail,183833788,192,Bug: User preferences are not loaded from the database on initial login,sebbASF,16689231,Sebb,,OPEN,2016-10-19T00:03:34Z,2016-10-21T12:00:14Z,"Although the user preferences can be updated using the popup screen (and they are visible in preferences.lua), the changes are not picked up on next login.  It looks like the initial settings on the prefs screen are always picked up from the config.js prefs var.
The prefs var is not updated until one of the following are used: thread.html, search.html, list.html.
So the settings shown on the initial screen are the defaults from config.js, not the current user settings.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/192/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/192,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NTM2MjQ0NQ==,incubator-ponymail,255362445,192,NA,sebbASF,16689231,Sebb,,NA,2016-10-21T12:00:14Z,2016-10-21T12:00:14Z,"Since the html files can be directly accessed, any html file that uses prefs or allows prefs to be changed needs to ensure that the prefs are updated
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NTM2MjQ0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/193,https://api.github.com/repos/apache/incubator-ponymail/issues/193,incubator-ponymail,184187471,193,Bug: unnecessary double-checking of window.sessionStorage in ponymail.js,sebbASF,16689231,Sebb,,CLOSED,2016-10-20T10:07:37Z,2016-12-17T00:53:12Z,"The ponymail.js code sets the boolean storageAvailable to true if typeof(window.sessionStorage) != ""undefined"" (and writing to it does not throw an error)

However the code later does checks like:

```
if (storageAvailable) {
    if (typeof(window.sessionStorage) !== ""undefined"" && ...
```

The check is redundant.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/193/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/194,https://api.github.com/repos/apache/incubator-ponymail/issues/194,incubator-ponymail,184189163,194,Bug: confusion of storageAvailable and localStorage in ponymail.js,sebbASF,16689231,Sebb,,CLOSED,2016-10-20T10:15:20Z,2016-12-17T00:53:12Z,"The storageAvailable boolean is true if typeof(window.sessionStorage) !== ""undefined"".

However the code repeatedly performs checks like the following:

```
    if (storageAvailable) {
        if (typeof(window.localStorage) !== ""undefined"") {
```

Either storageAvailable implies window.localStorage is usable, in which case checking it is redundant, or the check of storageAvailable is redundant. In any case, judging by the code used to initialise the storageAvailable variable, code that checks window.localStorage needs to allow for an exception to occur.

Further, rather than keep checking typeof(window.localStorage), it would be more efficient to set up a global variable.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/194/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/195,https://api.github.com/repos/apache/incubator-ponymail/issues/195,incubator-ponymail,184193791,195,Make it clearer when you're not logged in.,johnament,108167,John Ament,,CLOSED,2016-10-20T10:38:00Z,2017-01-19T16:29:19Z,"First time users struggle with Ponymail, its not clear when they're logged in or not.  Ponymail uses a generic person icon, and make it multicolor when they are logged in.

I would recommend:
- Don't show the person icon if the user is not logged in.
- Show a textual link ""Login"" instead
- If clicking on a mail link that they cannot access, if a user is not logged in show the login link in the body (does not mean they will have access to the email, but its a clear indication of their login state)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/195/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/195,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM3MDc0Nw==,incubator-ponymail,268370747,195,NA,sebbASF,16689231,Sebb,,NA,2016-12-20T21:55:29Z,2016-12-20T21:55:29Z,"Emails that are inaccessible to the current session (whether logged in or not) should be treated as non-existent, so there should be no links to them.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODM3MDc0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/195,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODcxODYyNg==,incubator-ponymail,268718626,195,NA,gstein,774172,Greg Stein,,NA,2016-12-22T04:54:26Z,2016-12-22T04:54:26Z,"Right, @sebbASF ... it should not leak the email's existence.

That said, the page that mentions the email does not exist or you have no access ... places a ""login"" link within the prose. It is *easily* missed (I have one empirical case of providing such support to somebody, plus my own experience) ... I would suggest moving that link to a clear and obvious button.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODcxODYyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/195,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODcxODg1Mg==,incubator-ponymail,268718852,195,NA,gstein,774172,Greg Stein,,NA,2016-12-22T04:56:53Z,2016-12-22T04:56:53Z,"Oh: and to @johnament's point: using color as the *only* determinate factor is a basic interface no-no. Some people have problems with detecting color(s). So I concur with John's point, but also from an HI standpoint: switching from grey to colored is not a good UI design.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODcxODg1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/195,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mzc4MTA2MA==,incubator-ponymail,273781060,195,NA,johnament,108167,John Ament,,NA,2017-01-19T13:51:55Z,2017-01-19T13:51:55Z,Err why was this closed?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mzc4MTA2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/195,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzgyNDU5Mg==,incubator-ponymail,273824592,195,NA,sebbASF,16689231,Sebb,,NA,2017-01-19T16:29:19Z,2017-01-19T16:29:19Z,"Because the problem has been addressed? The page now shows ""Login"" as suggested.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzgyNDU5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/196,https://api.github.com/repos/apache/incubator-ponymail/issues/196,incubator-ponymail,184248475,196,Bug: scale to window height does not work properly,sebbASF,16689231,Sebb,,OPEN,2016-10-20T14:40:13Z,2016-10-20T14:40:13Z,"When ""Scale to Window height"" is selected, a lot of blank space is left at the bottom of the screen.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/196/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/197,https://api.github.com/repos/apache/incubator-ponymail/issues/197,incubator-ponymail,184249723,197,Bug: User preferences dialog does not scroll if the window is too short,sebbASF,16689231,Sebb,,OPEN,2016-10-20T14:44:24Z,2016-10-20T14:44:24Z,"If the window is not tall enough to show the entire preferences screen, it does not scroll.

It's not possible to see the bottom of the screen, and the Save button may not be accessible.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/197/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/198,https://api.github.com/repos/apache/incubator-ponymail/issues/198,incubator-ponymail,184260167,198,Bug: flat view mode does not show first line of body,sebbASF,16689231,Sebb,,CLOSED,2016-10-20T15:21:02Z,2017-01-06T22:14:34Z,"The threaded views both show the first line of the body (in grey) after the subject, at least in Compact theme.

Flat view does not appear to be affected by the selected theme, and does not include the subject.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/198/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/198,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDg5ODY0Mw==,incubator-ponymail,270898643,198,NA,sebbASF,16689231,Sebb,,NA,2017-01-06T12:56:52Z,2017-01-06T12:56:52Z,"This is probably because the list of emails returned by stats.lua does not contain the body; only the top level entry in thread_struct contains the first part of the body. It would be possible to store the truncated body in the emails instead of in the thread_struct, but that would require more memory, depending on how many threads there are. 

Some memory could be saved in the thread_struct table by dropping the epoch - it already looks as though the GUI has to fetch the subject from the emails table so it might as well fetch the epoch too.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDg5ODY0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/198,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDkxMjc2Mg==,incubator-ponymail,270912762,198,NA,sebbASF,16689231,Sebb,,NA,2017-01-06T14:25:01Z,2017-01-06T14:25:01Z,"Dropping the epoch would make it harder to sort the table should that be necessary.

Experiments show that the output is slightly larger if the body text is moved to the emails table.
This is because most mailing lists have a multiple threads (at least when classified by subject as well as message id).

However at present the body text snippet is 300 chars.
I have a wide screen, but that can only display about 180 chars even if the stats panel is closed.

Reducing the snippet to 200 chars should still allow sufficient context.

The truncation limit could be made a config item with a default of 200.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDkxMjc2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/198,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTAxODU2Mg==,incubator-ponymail,271018562,198,NA,sebbASF,16689231,Sebb,,NA,2017-01-06T21:54:41Z,2017-01-06T21:54:41Z,"Further examination of ponymail.js shows that the flat view already uses email.body.
This suggests that the intention was to provide the body excerpt for all the modes.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTAxODU2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/199,https://api.github.com/repos/apache/incubator-ponymail/issues/199,incubator-ponymail,184379757,199,Need unit tests for server scripts and tools,sebbASF,16689231,Sebb,,OPEN,2016-10-21T01:31:30Z,2016-10-21T01:31:30Z,"There are currently no tests for the server scripts (Lua files) or the Python tools.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/199/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/200,https://api.github.com/repos/apache/incubator-ponymail/issues/200,incubator-ponymail,184470304,200,UX: User preferences window defaults to current preferences,sebbASF,16689231,Sebb,,OPEN,2016-10-21T12:09:22Z,2016-10-21T12:09:22Z,"The user preferences window defaults to the currently active preferences, rather than the preferences associated with the login.

This is potentially confusing, because it may look as though the user preferences have been saved when they have not.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/200/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/201,https://api.github.com/repos/apache/incubator-ponymail/issues/201,incubator-ponymail,184474682,201,Enhance: allow more lists in menu if there is room for them,sebbASF,16689231,Sebb,,OPEN,2016-10-21T12:34:43Z,2016-10-26T00:48:36Z,"The GUI currently only allows for a limited number lists to be displayed. If there are any more in a domain, they are listed under the ""Other lists"" drop-down.

However plenty of screens these days have additional space to spare.
The code should allow for more lists.

Ideally the number would be automatically calculated, but allowing an option to override the default would be useful as an alternative.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/201/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/201,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNjQ4OQ==,incubator-ponymail,256216489,201,NA,johnament,108167,John Ament,,NA,2016-10-26T00:21:56Z,2016-10-26T00:21:56Z,"Do you have a screenshot? I have the opposite problem.  I usually see 4 lists, and a 5th in the drop down, even when there's only one.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNjQ4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/201,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIyMDEyMw==,incubator-ponymail,256220123,201,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T00:48:36Z,2016-10-26T00:48:36Z,"Obviously I cannot count; I now see 4 + ""Other"".

Issue #208 is about the unnecessary 'Other lists' item when it only contains 1 entry
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIyMDEyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/202,https://api.github.com/repos/apache/incubator-ponymail/issues/202,incubator-ponymail,184549527,202,Enh: consider storing unrecognisable e-mails in a quarantine area,sebbASF,16689231,Sebb,,OPEN,2016-10-21T19:17:41Z,2016-10-29T22:46:26Z,"When importing from mailboxes or using the archiver, there may be the occasional e-mails that fail to parse correctly.

As far as I can tell, these are just dropped at present.

It might be useful to optionally store these in a separate quarantine area where they could be examined and rerouted as necessary.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/202/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/202,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzEyMDUwNA==,incubator-ponymail,257120504,202,NA,sebbASF,16689231,Sebb,,NA,2016-10-29T22:46:26Z,2016-10-29T22:46:26Z,"By definition, the TLD ""invalid"" can never occur in a real list id, so it would be safe to use a LID of the form:
abc@def.invalid
The 'abc' and 'def' parts could potentially be used to distinguish different types of invalid mails.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NzEyMDUwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/203,https://api.github.com/repos/apache/incubator-ponymail/issues/203,incubator-ponymail,184628318,203,DRY: there is quite a lot of duplication in the Javascript,sebbASF,16689231,Sebb,,OPEN,2016-10-22T12:44:25Z,2016-10-22T12:44:25Z,"The Javascript code has a lot of code duplication.

For example, the same calculation of d_ppp is repeated in:

site/js/dev/ponymail_listview_flat.js
site/js/dev/ponymail_listview_threaded.js
site/js/dev/ponymail_listview_tree.js

The code should be extracted and turned into a shared function.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/203/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/204,https://api.github.com/repos/apache/incubator-ponymail/issues/204,incubator-ponymail,184628757,204,Javascript contains undocumented 'magic' numbers,sebbASF,16689231,Sebb,,OPEN,2016-10-22T12:52:36Z,2016-10-22T12:52:36Z,"There are various 'magic' numbers in the Javascript code.
These should at least be documented.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/204/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/205,https://api.github.com/repos/apache/incubator-ponymail/issues/205,incubator-ponymail,184630392,205,Bug: Favourites button is not updated correctly if current list is reselected,sebbASF,16689231,Sebb,,OPEN,2016-10-22T13:27:35Z,2016-10-22T13:27:35Z,"Login to Pony Mail
Select a mailing list
Click the Add/Remove mailing list button
It changes
Click the menu entry for the current mailing list
The Add/Remove button reverts to the previous setting.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/205/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/207,https://api.github.com/repos/apache/incubator-ponymail/issues/207,incubator-ponymail,184634639,207,Confusing parameter name (--rename) in copy-list.py,sebbASF,16689231,Sebb,,CLOSED,2016-10-22T14:54:05Z,2017-06-04T21:44:24Z,"The copy-list.py tool uses the following syntax:

copy-list.py --source listname [--rename listname] [--newdb dbname]

It would make more sense for the --rename parameter to be called --newlist or --target
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/207/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/207,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTU4NTUwMA==,incubator-ponymail,301585500,207,NA,cpoerschke,6458642,Christine Poerschke,cpoerschke@apache.org,NA,2017-05-15T19:53:53Z,2017-05-15T19:53:53Z,#376 proposes to have the rename (no pun intended) from `--rename` to `--target` in both `copy-list.py` and `edit-list.py`,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTU4NTUwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/207,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA0NTE3Ng==,incubator-ponymail,306045176,207,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-06-04T14:59:55Z,2017-06-04T14:59:55Z,"I think it makes sense in copy-list, but...seems confusing in edit-list. I'm torn here..","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA0NTE3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/207,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA2ODQ5Nw==,incubator-ponymail,306068497,207,NA,sebbASF,16689231,Sebb,,NA,2017-06-04T21:33:10Z,2017-06-04T21:33:10Z,"The original issue was about copy-list only.
Let's not confuse the issue by involving other scripts; use another issue for that if required.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA2ODQ5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/208,https://api.github.com/repos/apache/incubator-ponymail/issues/208,incubator-ponymail,184635389,208,No point creating an 'Other lists:' drop-down if it will only contain a single entry,sebbASF,16689231,Sebb,,CLOSED,2016-10-22T15:08:47Z,2016-10-27T21:31:45Z,"As the subject says
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/208/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/208,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjcxMDYzOQ==,incubator-ponymail,256710639,208,NA,sebbASF,16689231,Sebb,,NA,2016-10-27T17:17:26Z,2016-10-27T17:17:26Z,"Example:
https://lists.apache.org/list.html?dev@commons.apache.org
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjcxMDYzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/209,https://api.github.com/repos/apache/incubator-ponymail/issues/209,incubator-ponymail,184661213,209,Enh: import-mbox.py should not start more threads than there are files,sebbASF,16689231,Sebb,,CLOSED,2016-10-22T23:32:22Z,2016-10-29T21:55:57Z,"When importing only a few files, the importer may start more threads than necessary.

It should use something like:

cc = min(len(lists), int( os.cpu_count() / 2) + 1)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/209/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/210,https://api.github.com/repos/apache/incubator-ponymail/issues/210,incubator-ponymail,185245564,210,Enh: import-mbox.py should be able to import individual files,sebbASF,16689231,Sebb,,CLOSED,2016-10-25T21:59:50Z,2016-10-29T22:40:32Z,"At present the importer is designed to import all matching files in a directory.
Whilst it is possible to provide a full file name to the --ext parameter, it would be better if importing a single file could be done more naturally via the --source parameter. 

i.e. if the --source parameter is a file, import it, if it is a directory, scan it for files that match the extension
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/210/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/211,https://api.github.com/repos/apache/incubator-ponymail/issues/211,incubator-ponymail,185265579,211,Indicate what mailing list a visible email is shown from,johnament,108167,John Ament,,OPEN,2016-10-26T00:10:11Z,2017-01-07T13:52:40Z,"When searching for an email, if its included in multiple email lists, the individual message view does not indicate what list its from.  This makes linking to them for archival purposes, e.g. board emails, hard to follow and confirm.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/211/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/211,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNTk1Mg==,incubator-ponymail,256215952,211,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T00:18:17Z,2016-10-26T00:18:17Z,"Works OK for me, except in 'flat' View mode, when the Sender is shown rather than the list name
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNTk1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/211,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNjA0Nw==,incubator-ponymail,256216047,211,NA,johnament,108167,John Ament,,NA,2016-10-26T00:18:59Z,2016-10-26T00:18:59Z,"@sebbASF example link? you can send it direct if you prefer..
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNjA0Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/211,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNzg0MQ==,incubator-ponymail,256217841,211,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T00:31:47Z,2016-10-26T00:31:47Z,"The following works for me:

https://lists.apache.org/list.html?*@tomcat.apache.org:lte=1M:%22webapp%20log%20in%20tomcat%22

This is a search across multiple lists; I get two results - in dev@ and user@
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxNzg0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/211,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxODgwMA==,incubator-ponymail,256218800,211,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T00:38:57Z,2016-10-26T00:38:57Z,"![screen shot 2016-10-26 at 01 36 03](https://cloud.githubusercontent.com/assets/16689231/19709228/e34ef83a-9b1c-11e6-83c4-5185647de264.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjIxODgwMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/211,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTA4NTA0NA==,incubator-ponymail,271085044,211,NA,sebbASF,16689231,Sebb,,NA,2017-01-07T13:52:40Z,2017-01-07T13:52:40Z,"It looks as though the displayed items depend on what the search box shows as well as the mode.
The list name is only shown if the search box shows a wild-card list. It also looks as though the wildcard list from the URL is not propagated into the search box.
Note: the URL above no longer works because it uses a relative time. Replace lte=1M with lte=nM as needed.

Also in flat mode it looks as if the list name is shown on the first e-mail of a thread only, and not when the Default theme is used - in which case the sender only is displayed. Whereas for other modes the listname is shown in all themes (if the search box is wildcarded)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTA4NTA0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/212,incubator-ponymail,185521793,212,Bug: import-mbox.py fails to unescape >From lines,sebbASF,16689231,Sebb,,CLOSED,2016-10-26T21:59:17Z,2016-12-24T10:15:03Z,"The mbox format is not standardised, but most will escape a line (in the body) starting with 'From ' by prepending a '>'.

When importing such files, the '>' prefix needs to be stripped off.

Sample import that is wrong:

https://lists.apache.org/thread.html/15f6963a8102a5c3be141b6151f2c22428011c4ed60511ca2da1582b@1451547586@%3Ckerby.directory.apache.org%3E

AFAICT the problem is in the standard mailbox software which is part of Python.
It looks like this escapes 'From ' on output, but does not unescape it on input.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/212/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ5MjYzNw==,incubator-ponymail,256492637,212,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T22:12:08Z,2016-10-26T22:12:08Z,"Emails that are processed live by the archiver will not have escaped From lines.
This is correct; the emails will be stored as-is in the database.

However the same e-mail imported from an mbox file will have escaped lines, i.e. the database copy will be escaped.

Since the escaping affects the body content, this means that fixing this is likely to affect ids and Permalinks.

Taken together with #188, this means it's currently impossible to export and re-import such mails properly.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ5MjYzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ5MzIwNw==,incubator-ponymail,256493207,212,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-10-26T22:15:02Z,2016-10-26T22:15:02Z,"Are there not two From lines in an mbox export? there's the initial ""From foo"" that is required to split emails apart, and then the From: header inside. PM uses the latter for ID generation.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ5MzIwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ5ODg0NA==,incubator-ponymail,256498844,212,NA,sebbASF,16689231,Sebb,,NA,2016-10-26T22:43:15Z,2016-10-26T22:43:15Z,"No; there is one 'From ' line which precedes each set of e-mail headers. Note the trailing space.

However _anything_ can appear in message bodies, including lines starting with 'From '.

In general it's not possible to distinguish such lines from the message separator, so one technique is to convert 'From ' to '>From ' when writing the mail bodies in mbox files.
This needs to be reverted when reading the body otherwise the content does not correspond with the original message.

PM uses the body + lid + date for id generation in the 'medium' algorithm which is what lists.a.o uses.

So if the message body is corrected by removing the leading '>', the MID will change.
If it is not corrected, the message is wrong.

Obviously mbox export and import need to agree, otherwise chaos results.

N.B. Escaping 'From ' is more complicated than just prefixing it with '>'. It has to allow for a body containing: 'From ' and '>From '. But I digress.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjQ5ODg0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjEyNTIwNw==,incubator-ponymail,266125207,212,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T21:14:57Z,2016-12-09T21:14:57Z,"It looks as though the Python email package supports from_mangling on output(*), but it seems not to do so on input which is a bit strange. Probably a bug.

(*) not used by Pony Mail","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjEyNTIwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjIyMzkxOQ==,incubator-ponymail,266223919,212,NA,sebbASF,16689231,Sebb,,NA,2016-12-10T17:20:12Z,2016-12-10T17:20:12Z,"https://docs.python.org/3/library/mailbox.html#mbox says:

""... any occurrences of “From ” at the beginning of a line in a message body are transformed to “>From ” when storing the message, although occurrences of “>From ” are not transformed to “From ” when reading the message.""

This is rather unfortunate.
It's likely too late to unmangle the lines once the message has been parsed, as the >From sequence may occur anywhere, including in attachments.

There does not seem to be any way to intercept the file reader used by the parser, but one can provide a message factory to the parser and it looks as though one can use that to overload the file read() methods.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjIyMzkxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/212,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2OTA3ODI2OA==,incubator-ponymail,269078268,212,NA,sebbASF,16689231,Sebb,,NA,2016-12-24T10:15:03Z,2016-12-24T10:15:03Z,Managed to find a way to patch the current behaviour,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2OTA3ODI2OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/213,https://api.github.com/repos/apache/incubator-ponymail/issues/213,incubator-ponymail,185620467,213,Bug: display treats >From as quoted text,sebbASF,16689231,Sebb,,CLOSED,2016-10-27T09:42:43Z,2016-10-27T10:14:40Z,"The message display treats a leading '>' as quoted text.
However that is not strictly correct.
Quoted text is prefixed by one or more '>', then a space, then the original text.
For example:

https://lists.apache.org/thread.html/841ccdfa9cbc442708dbf38f2c607cad8c9e5fe3c883780a37b676e8@%3Cdev.ponymail.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/213/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/214,https://api.github.com/repos/apache/incubator-ponymail/issues/214,incubator-ponymail,185793707,214,Enh: domain list sorting should take account of level,sebbASF,16689231,Sebb,,OPEN,2016-10-27T22:14:05Z,2016-10-27T22:14:05Z,"The domain list sorting is currently alphabetical by full domain.

The fact that the main 'apache.org' entry occurs in the first tab is purely because apache starts with 'a'. Since the top-level domain is likely to be special in any mail archive this should be allowed for.

There are various ways to do this.
- split the domain path before sorting, and treat a missing segment as being early in the alphabet
- list the TLD(s) in a separate tab (default to previous method if using the 'table' style)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/214/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/215,https://api.github.com/repos/apache/incubator-ponymail/issues/215,incubator-ponymail,185890673,215,coffee script generation order seems to vary between OSes,sebbASF,16689231,Sebb,,CLOSED,2016-10-28T10:30:44Z,2016-10-28T16:36:20Z,"The current version of ponymail-coffee.js looks as though it was compiled from files in the following order:

... listview_basic.coffee listview.coffee listview_single_email.coffee ...

however the order on MacOS is 

listview.coffee listview_basic.coffee listview_single_email.coffee

It looks as though the sort used to create the combined file treated '.' and '_' as the same for comparison purposes. i.e. dictionary order. It seems Ubuntu defaults to that.

It's not ideal if the sections of the generated output file vary between OSes, so perhaps the file names should be sorted within the script rather than relying on the OS order.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/215/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/215,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjkzNDY5NA==,incubator-ponymail,256934694,215,NA,sebbASF,16689231,Sebb,,NA,2016-10-28T14:27:25Z,2016-10-28T14:27:25Z,"Alternatively, rename listview.coffee to listview_[c-r]_.coffee so the ordering works no matter what.
[The same problem does not affect the dev/_.js files because they all start ponymail_]
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjkzNDY5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/215,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjkzNjgzNQ==,incubator-ponymail,256936835,215,NA,sebbASF,16689231,Sebb,,NA,2016-10-28T14:35:30Z,2016-10-28T14:35:30Z,"Actually listview_basiclib.coffee seems to work.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1NjkzNjgzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/215,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Njk2Nzc1Mg==,incubator-ponymail,256967752,215,NA,sebbASF,16689231,Sebb,,NA,2016-10-28T16:36:19Z,2016-10-28T16:36:19Z,"Fixed in https://github.com/apache/incubator-ponymail/commit/b7dc8911907ec0ec684a7afdf90a4d2a7c16bb02
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1Njk2Nzc1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/216,https://api.github.com/repos/apache/incubator-ponymail/issues/216,incubator-ponymail,186688706,216,Confusing archiver.py option name --uri,sebbASF,16689231,Sebb,,OPEN,2016-11-02T01:10:30Z,2016-11-02T01:10:30Z,"The archiver.py script has an option named '--uri'.
This is actually used as the url_prefix for the elastic search database, and is not a URI at all.
The option should be renamed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/216/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/217,https://api.github.com/repos/apache/incubator-ponymail/issues/217,incubator-ponymail,186689405,217,Confusing archiver.py option name '--write',sebbASF,16689231,Sebb,,OPEN,2016-11-02T01:16:54Z,2016-11-02T01:16:54Z,The '--write' option actually defines the ES consistency level; it would be better to rename it accordingly,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/217/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/218,https://api.github.com/repos/apache/incubator-ponymail/issues/218,incubator-ponymail,186791087,218,Bug: lua scripts not using cross.contentType() compatibility function,sebbASF,16689231,Sebb,,CLOSED,2016-11-02T12:46:22Z,2016-12-17T01:19:47Z,"The cross.lua nginx compatibility module defines the function contentType() for use when setting the content_type.

However only atom.lua currently uses it, all the others set the field directly:

```
site/api/atom.lua
67:    cross.contentType(r, ""application/xhtml+xml"")

site/api/compose.lua
30:    r.content_type = ""application/json""

...
```
Rather than fix the source code, it occurs to me that it should be possible to fix this using a  metatable on the ""r"" table which cross.lua creates for nginx. This would result in neater code, as well as allowing errors to be generated as necessary for other request_rec attributes [1]

[1] https://httpd.apache.org/docs/2.4/mod/mod_lua.html#datastructures
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/218/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/218,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzczMTc1MQ==,incubator-ponymail,267731751,218,NA,sebbASF,16689231,Sebb,,NA,2016-12-17T01:04:35Z,2016-12-17T01:04:35Z,Looks like the meta-table approach is going to be rather complicated.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzczMTc1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/219,https://api.github.com/repos/apache/incubator-ponymail/issues/219,incubator-ponymail,186792867,219,cross.lua definition of nginx port,sebbASF,16689231,Sebb,,OPEN,2016-11-02T12:54:45Z,2016-11-02T12:54:45Z,"It looks like the port [1] can be obtained by using:

ngx.var.server_port

[1] http://nginx.org/en/docs/http/ngx_http_core_module.html#var_server_port","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/219/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/220,https://api.github.com/repos/apache/incubator-ponymail/issues/220,incubator-ponymail,187093625,220,Bug: pminfo.lua does some unnecessary work,sebbASF,16689231,Sebb,,CLOSED,2016-11-03T15:29:47Z,2016-12-16T14:18:18Z,"pminfo.lua updates the emls table but does not return it to the caller.
Is the table needed at all?

it also updates the threads table, but only returns the count of entries.
It would be much cheaper to just count the threads.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/220/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/221,https://api.github.com/repos/apache/incubator-ponymail/issues/221,incubator-ponymail,187100370,221,Bug: pminfo.lua is not self-consistent; rejects valid list names,sebbASF,16689231,Sebb,,CLOSED,2016-11-03T15:46:21Z,2016-12-17T00:57:18Z,"pminfo.lua can return inconsistent data, for example:

```{""no_threads"":18,""participants"":5,""active_lists"":{},""no_active_lists"":0,""hits"":28,...```

It does not make sense to have 28 messages and 18 threads if there are no active lists.

This is caused by the following list/domain name validation:

```if not domain:match(""%..-%..-%..-"") and domain:match(""^[-_a-z0-9.]+$"") and list:match(""^[-_a-z0-9.]+$"") then```

which is only applied when processing the active lists.

Is there really a need to validate the list names here?
If so, then the other statistics need adjusting accordingly.
Assuming the validation is needed, then it should be done using a common utility method (DRY) and should not reject list names such as 
dev@ponymail.incubator.apache.org
This currently fails the check: 
```not domain:match(""%..-%..-%..-"")'```","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/221/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/221,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzczMTEwMQ==,incubator-ponymail,267731101,221,NA,sebbASF,16689231,Sebb,,NA,2016-12-17T00:57:18Z,2016-12-17T00:57:18Z,FIxed as part of #282 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzczMTEwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/222,https://api.github.com/repos/apache/incubator-ponymail/issues/222,incubator-ponymail,187335776,222,Bug: elastic.lua index function should not auto-generate ids,sebbASF,16689231,Sebb,,CLOSED,2016-11-04T13:40:20Z,2016-11-09T22:31:52Z,"The index function currently silently generates a random id if none is provided.

This seems very risky - the functioning of PM generally relies on knowing the id for all ES documents.

The function is currently only called by user.lua, which provides an id in each case.
So the 'feature' is not currently needed.

It would be much safer to disable the automatic id generation, and fail if no id is provided.

This would also allow the 'r' request parameter to be dropped - none of the other functions in the module require it.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/222/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/223,https://api.github.com/repos/apache/incubator-ponymail/issues/223,incubator-ponymail,187347764,223,Bug: archiver fails when adding entries to the notifications table,sebbASF,16689231,Sebb,,CLOSED,2016-11-04T14:30:17Z,2016-11-04T14:34:46Z,"If notifications are enabled, the archiver fails with:
```
Archiving failed!: TransportError(400, 'mapper_parsing_exception', 'failed to parse [date]')
Could not parse email: Archiving to ES failed
```
This is because ES assumes that a 'date' field will have the format:
""yyyy/MM/dd HH:mm:ss""
whereas the code uses the Date: header from the message, which may be:
Date: Mon, 11 Jul 2016 15:16:58 +0200

The code uses mdatestring for the 'date' field when adding the mbox doc; notifications should use the same value.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/223/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/224,https://api.github.com/repos/apache/incubator-ponymail/issues/224,incubator-ponymail,187367216,224,Enh: archiver does not specify id when adding entries to notifications,sebbASF,16689231,Sebb,,OPEN,2016-11-04T15:43:55Z,2016-11-04T15:43:55Z,"The archiver currently leaves it to ES to generate the id for notification entries.

This is presumably because there may be multiple references for a single message.
However the code ensures that there cannot be duplicate entries for the same cid from a single message.

So it looks like the code could use cid+mid for the id.

[This would allow re-import if necessary without creating additional entries, but that might only be useful for testing]","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/224/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/225,https://api.github.com/repos/apache/incubator-ponymail/issues/225,incubator-ponymail,187367963,225,Bug: setup.py does not create notifications/account mappings,sebbASF,16689231,Sebb,,CLOSED,2016-11-04T15:46:37Z,2016-11-05T19:17:06Z,"As the subject says: setup.py ought to create all the mappings used by the code.
This is to ensure that the fields have the correct attributes (these cannot easily be changed later)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/225/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/225,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1ODYzNDUwMQ==,incubator-ponymail,258634501,225,NA,sebbASF,16689231,Sebb,,NA,2016-11-05T19:17:06Z,2016-11-05T19:17:06Z,"This was fixed by a5365b1
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI1ODYzNDUwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/226,https://api.github.com/repos/apache/incubator-ponymail/issues/226,incubator-ponymail,187376862,226,Bug: setup.py does not create mbox mapping property 'cc',sebbASF,16689231,Sebb,,CLOSED,2016-11-04T16:19:56Z,2016-11-04T16:37:12Z,"archiver.py may write the 'cc' field when adding a document.
However setup.py does not define the property.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/226/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/227,https://api.github.com/repos/apache/incubator-ponymail/issues/227,incubator-ponymail,187429644,227,Enh: store/show original Date:,sebbASF,16689231,Sebb,,OPEN,2016-11-04T20:22:42Z,2016-11-04T20:22:42Z,"The 'date' field is derived from the Date: header, and is currently stored in UTC.
This loses some information (though the original value is available in the source).
It might be useful to store the raw date string as well.
At present the date is shown in the GUI in the user's timezone using a non-standard format, e.g.

```Date: 2016-11-04 16:00 (-0000)```

It might be useful to show the date as follows:

```Date: 2016-11-04 16:00 -0000 (Fri, 4 Nov 2016 12:00:48 -0400)```
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/227/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/228,https://api.github.com/repos/apache/incubator-ponymail/issues/228,incubator-ponymail,187436049,228,Bug: properties missing from mappings in setup.py,sebbASF,16689231,Sebb,,CLOSED,2016-11-04T20:55:03Z,2016-11-05T01:49:02Z,"The following fields are created by importer/archiver, but are not currently created in setup.py

mbox: attachments (array]
mbox_source: @version,mid,message-id","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/228/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/229,https://api.github.com/repos/apache/incubator-ponymail/issues/229,incubator-ponymail,187511468,229,Bug: import-mbox.py --project qualifier regex errors,sebbASF,16689231,Sebb,,CLOSED,2016-11-05T17:38:35Z,2016-11-05T17:57:15Z,"The help for --project says:

```Optional project to look for ($project-* will be imported as well)```

However the regex is coded as ```<a href='($project[-a-z0-9]+/)'```

If project == commons, then this will match commons-* and commonsrdf-*.
Similarly for lucene and lucenenet.

Note: this only seems to apply to http(s) import.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/229/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/230,https://api.github.com/repos/apache/incubator-ponymail/issues/230,incubator-ponymail,187531505,230,Bug: import-mbox.py allows invalid lid,sebbASF,16689231,Sebb,,CLOSED,2016-11-05T23:45:59Z,2016-11-06T01:21:06Z,"import-mbox does not validate the --lid parameter. 
In particular it allows dev@ponymail.x.y, however that is not a valid list id.

Whereas edit-list.py silently converts such lids to dev.ponymail.x.y.
As do copy-list and archiver.
import-mbox should do the same.

Maybe this should be a common function.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/230/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/231,https://api.github.com/repos/apache/incubator-ponymail/issues/231,incubator-ponymail,187532014,231,Bug: import-mbox.py should not default invalid dates to 'now',sebbASF,16689231,Sebb,,OPEN,2016-11-05T23:59:14Z,2017-09-08T20:43:03Z,"It makes sense for archiver.py to default invalid or missing dates to now, because the archiver deals with live messages.

However it does not make sense for the importer to do so.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/231/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/231,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyODIwOTExNA==,incubator-ponymail,328209114,231,NA,sebbASF,16689231,Sebb,,NA,2017-09-08T20:43:03Z,2017-09-08T20:43:03Z,"However dropping mails that don't have valid dates does not seem right either.
One possible approach would be to use the last timestamp from the Received headers, as that should be closest to when the message was sent.
That approach would also work better for the archiver.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyODIwOTExNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/232,https://api.github.com/repos/apache/incubator-ponymail/issues/232,incubator-ponymail,187536136,232,Enh: debug / trace for elastic.lua,sebbASF,16689231,Sebb,,OPEN,2016-11-06T01:52:30Z,2016-11-06T01:52:30Z,"The elasticsearch Python library has debug/trace facilities which can be used to show the interactions with the database.

It would be useful to be able to do something similar for the Lua code.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/232/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/233,https://api.github.com/repos/apache/incubator-ponymail/issues/233,incubator-ponymail,187596875,233,Bug: import-mbox.py keeps rechecking if the index exists,sebbASF,16689231,Sebb,,CLOSED,2016-11-06T23:05:32Z,2016-11-07T00:00:55Z,"The BulkThread class is responsible for doing bulk inserts into the mbox and mbox_source doc types.

However it starts by checking if the main index (e.g. ponymail) exists, and if not, it creates it.

This results in one index check for every 20 messages on average, whereas at most one check is needed.

Furthermore, if the index is created, it creates a bare index, i.e. without setting up any mappings.
This can cause problems later on if the auto-created mappings are not suitable.

The code should check once if the index exists, exit with an error if not.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/233/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/234,https://api.github.com/repos/apache/incubator-ponymail/issues/234,incubator-ponymail,187606464,234,Bug: import/archive don't unfold headers before storage in ES,sebbASF,16689231,Sebb,,OPEN,2016-11-07T01:22:10Z,2020-01-20T00:49:35Z,"The mail parser returns the headers as-is, including line-wraps.

This is what is wanted for the raw email source, but is not really suitable for fields such as In-Reply-To, References etc.

It seems there is no unfold method in the Python email or mailbox modules, so it looks like it is necessary to write one.

Header values that have not been folded cannot contain CRLF, so unfolding should just be a matter of stripping these out.  There should be no need to check if the CRLF is followed by whitespace (assuming the folding has been done correctly).

It might make sense to compress runs of WS to a single space in case there is some variation.
This should make it easier to match things like In-Reply-To.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/234/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/234,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMTQ2NDAwNQ==,incubator-ponymail,531464005,234,NA,sebbASF,16689231,Sebb,,NA,2019-09-14T09:12:58Z,2019-09-14T09:12:58Z,Another header that should be unfolded is Subject:,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUzMTQ2NDAwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/234,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NjA2NzcyNA==,incubator-ponymail,576067724,234,NA,sebbASF,16689231,Sebb,,NA,2020-01-20T00:49:34Z,2020-01-20T00:49:34Z,"When a line is folded, the MTA inserts CRLF followed by a single WSP; unfolding should be the reverse.
Multiple WSP should be treated as a single WSP *when it separates tokens*

The issue also affects Message-ID which can be wrapped within the value.

Note that some MTAs may fold at 78 chars; some may fold at a longer line length.
So the path that an email takes to the archiver may affect the raw layout.
Potentially an email that is sent to multiple lists could travel by different routes to the lists and from the lists to the archiver. The headers (and body) may end up with different folds.

Failure to unfold headers can also result in invalid Message-IDs being stored, for example:

$ curl -s 'https://lists.apache.org/api/thread.lua?id=4b36027f9230b84f388d719e684536a910b53c304b2c2b05f5efe0fe@1135257469@%3Cusers.continuum.apache.org%3E' | python3 -m json.tool | fgrep message
        ""message-id"": ""\n    <0775DD7F2F88084AA05BCC79EF6F32532EA3A12B@iblonce105.gb.ad.drkw.net>"",

$ curl -s 'https://lists.apache.org/api/thread.lua?id=01e80b71b223b176e0c8af1efeab5be229719e398669419d46d18f53@1078215889@<dev.cocoon.apache.org>' | python3 -m json.tool | fgrep message
            ""message-id"": ""<C726734B5ACA2445B2BB93E87ADD5033AF3A25@akxch03.tvnzad.tvnz.co.n\n\tz>"",","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU3NjA2NzcyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/235,https://api.github.com/repos/apache/incubator-ponymail/issues/235,incubator-ponymail,188249670,235,Enh: provide caching info for results that may be cached,sebbASF,16689231,Sebb,,OPEN,2016-11-09T13:39:31Z,2016-11-09T13:39:31Z,"It might be useful to add some caching details to the responses that are cached.

For example:
cached: true/false
cached_at: timestamp (not nowish)
granularity: seconds between cache stores

This can help in testing.
I was sometimes getting a successful response from the server even after I closed the index.
Turns out it was that some sessions had cached the results; new ones had not.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/235/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/236,https://api.github.com/repos/apache/incubator-ponymail/issues/236,incubator-ponymail,188301394,236,Bug: elastic.lua checkReturn() does not properly check return code,sebbASF,16689231,Sebb,,CLOSED,2016-11-09T17:10:38Z,2016-11-09T21:52:10Z,"checkReturn() checks the return code for nil and ""closed"".

However AFAICT it can never be nil [1], it will either be an HTTP error code (number) or a string containing an error message.

If the ES uri is wrong, then the code should respond with ""Could not contact database backend!"" rather than ""Backend Database returned code invalid host name!"" or similar.

[1]http://w3.impa.br/~diego/software/luasocket/http.html#request","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/236/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/237,https://api.github.com/repos/apache/incubator-ponymail/issues/237,incubator-ponymail,188866580,237,Bug: edit-list.py does not honour --test with --desc,sebbASF,16689231,Sebb,,CLOSED,2016-11-11T22:39:26Z,2016-11-11T22:44:57Z,The --desc option is actioned regardless of the --test flag.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/237/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/238,https://api.github.com/repos/apache/incubator-ponymail/issues/238,incubator-ponymail,188867812,238,Bug: edit-list.py does not process --obfuscate if it is used alone,sebbASF,16689231,Sebb,,CLOSED,2016-11-11T22:48:07Z,2016-11-11T22:49:12Z,The --obfuscate flag is only processed if one of the other change types is selected,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/238/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/239,https://api.github.com/repos/apache/incubator-ponymail/issues/239,incubator-ponymail,188868867,239,Enh: edit-list.py could retrieve less data,sebbASF,16689231,Sebb,,OPEN,2016-11-11T22:55:13Z,2017-05-15T20:03:26Z,"The query currently fetches all the source fields.
However only a few are actually needed (body, subject, from) and then only if the obfuscate option is used. In other cases the source is not needed at all.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/239/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/239,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MDA3ODE2NQ==,incubator-ponymail,260078165,239,NA,sebbASF,16689231,Sebb,,NA,2016-11-11T23:19:36Z,2016-11-11T23:19:36Z,"Another possible improvement: when --private or --public are used alone, the search could be restricted to entries that don't have the correct setting already.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MDA3ODE2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/239,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTU4ODU1MQ==,incubator-ponymail,301588551,239,NA,cpoerschke,6458642,Christine Poerschke,cpoerschke@apache.org,NA,2017-05-15T20:03:26Z,2017-05-15T20:03:26Z,Looks like https://github.com/apache/incubator-ponymail/commit/30bf3db3de6c08ee7b8271e35efde96cd54077c7 took care of the first part of this issue here.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMTU4ODU1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/240,https://api.github.com/repos/apache/incubator-ponymail/issues/240,incubator-ponymail,188890501,240,Install docs for ubuntu inconsistent,johnament,108167,John Ament,,CLOSED,2016-11-12T03:54:42Z,2016-11-12T12:46:10Z,"http://ponymail.incubator.apache.org/docs/install.ubuntu.html

- Missing sudo in a few places
- Indicate where the httpd conf goes
- Fix a few paths in the setup guide.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/240/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/241,https://api.github.com/repos/apache/incubator-ponymail/issues/241,incubator-ponymail,188910100,241,update-asf-lists issues,johnament,108167,John Ament,,CLOSED,2016-11-12T12:49:32Z,2016-11-12T12:50:55Z,"- File is not executable by default
- The `--attachments` parameter is not supported by the underlying python script.

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/241/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/242,https://api.github.com/repos/apache/incubator-ponymail/issues/242,incubator-ponymail,188912623,242,Website Fix - security issue reporting,johnament,108167,John Ament,,CLOSED,2016-11-12T13:50:13Z,2018-05-17T23:40:54Z,"http://ponymail.incubator.apache.org/support.html#securityissues

Security issues should be reported to the PPMC, IPMC and security.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/242/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/242,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MDEyNjQ1OA==,incubator-ponymail,260126458,242,NA,sebbASF,16689231,Sebb,,NA,2016-11-12T14:53:37Z,2016-11-12T14:53:37Z,"I'm not sure the IPMC need to be informed?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MDEyNjQ1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/242,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYwMDYxOQ==,incubator-ponymail,267600619,242,NA,sebbASF,16689231,Sebb,,NA,2016-12-16T14:04:33Z,2016-12-16T14:04:33Z,"If the IPMC is to be informed, obviously it should be to private@ rather than general@","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzYwMDYxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/242,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MDA0NzMwOA==,incubator-ponymail,390047308,242,NA,sebbASF,16689231,Sebb,,NA,2018-05-17T23:40:54Z,2018-05-17T23:40:54Z,The normal procedure is to inform security@apache; they will then inform the (P)PMC.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MDA0NzMwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/243,https://api.github.com/repos/apache/incubator-ponymail/issues/243,incubator-ponymail,188912898,243,Improve Date Picker,johnament,108167,John Ament,,OPEN,2016-11-12T13:56:23Z,2016-11-12T13:56:23Z,"The date picker's UX is a bit weird.  If you could on something other than the input controls, the window disappears.

It works fine on the advanced screen, its only an issue from the search menu's Date Range option.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/243/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/244,https://api.github.com/repos/apache/incubator-ponymail/issues/244,incubator-ponymail,189653478,244,Bug: archiver.py strange handling of multiple charsets in msgbody() function,sebbASF,16689231,Sebb,,CLOSED,2016-11-16T10:06:58Z,2020-08-30T16:40:21Z,"The msgbody function contains the following code:
```
for charset in pm_charsets(msg):
    try:
        body = body.decode(charset) if type(body) is bytes else body
    except:
        body = body.decode('utf-8', errors='replace') if type(body) is bytes else body
```
AFAICT this can only ever apply the first charset, because if that fails, it will use utf-8, and the type will no longer be bytes.

If the intention was to try to apply charsets until one works, then the code is broken.

It's also not clear why it is useful to try all the charsets in the message rather that the one that actually applies to the part in question.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/244/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/245,https://api.github.com/repos/apache/incubator-ponymail/issues/245,incubator-ponymail,189773802,245,Bug: the html content of emails is ignored if html2text is not available,sebbASF,16689231,Sebb,,OPEN,2016-11-16T17:08:04Z,2017-01-19T18:28:18Z,"If the GPL library html2text is not available, then any html parts of mails are ignored for the summary display.

Such parts should either be treated as an attachment, or shown as the body text or perhaps both, as is done by mod_mbox.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/245/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/245,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mzg1NzQ3OA==,incubator-ponymail,273857478,245,NA,sebbASF,16689231,Sebb,,NA,2017-01-19T18:28:18Z,2017-01-19T18:28:18Z,See also #110 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mzg1NzQ3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/246,https://api.github.com/repos/apache/incubator-ponymail/issues/246,incubator-ponymail,189821692,246,Bug: import-mbox.py does not identify which messages failed,sebbASF,16689231,Sebb,,CLOSED,2016-11-16T19:45:14Z,2016-11-16T19:46:34Z,"The importer only reports the number of messages that failed to parse.
It does not identify them.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/246/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/247,https://api.github.com/repos/apache/incubator-ponymail/issues/247,incubator-ponymail,189847991,247,Bug: archiver.py needs to allow for null body when generating the doc to be indexed,sebbASF,16689231,Sebb,,OPEN,2016-11-16T21:17:44Z,2016-11-16T21:17:44Z,"The archiver code fails to allow for a null body around line 300 et seq.
This causes problems for the mid generation.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/247/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/248,https://api.github.com/repos/apache/incubator-ponymail/issues/248,incubator-ponymail,190093066,248,Enh: import-mbox.py messages need the thread number,sebbASF,16689231,Sebb,,CLOSED,2016-11-17T16:19:46Z,2016-11-20T23:20:30Z,"If several threads are used to parse the messages, when an error occurs it can be all but impossible to tell which input source caused the problem.

The threads should prefix all their messages with an id (e.g. a number)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/248/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/249,https://api.github.com/repos/apache/incubator-ponymail/issues/249,incubator-ponymail,190093184,249,Enh: archiver.py does not identify its messages,sebbASF,16689231,Sebb,,OPEN,2016-11-17T16:20:13Z,2016-11-17T16:22:37Z,"The archiver script may be run as part of a .forward file, and most likely all its output is logged to a single file. It would make it easier to trace the cause of errors if they had some context, e.g. a timestamp, possibly other items","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/249/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/250,https://api.github.com/repos/apache/incubator-ponymail/issues/250,incubator-ponymail,190418115,250,"Enh: when using phonebook style front page, drop letters that have no entries",sebbASF,16689231,Sebb,,OPEN,2016-11-18T20:47:24Z,2016-11-18T20:47:24Z,"Note: this would not apply to lists.apache.org which currently has lists for all letters.

[Potential implementation note: the tab widths are 24px and the gaps are 2px; phonebook_page.style.width needs to be set accordingly.]","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/250/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/251,https://api.github.com/repos/apache/incubator-ponymail/issues/251,incubator-ponymail,190445637,251,Bug: import-mbox.py and archiver.py create different source texts,sebbASF,16689231,Sebb,,CLOSED,2016-11-18T23:22:41Z,2016-11-20T22:25:44Z,"archiver.py populates the source field in mbox_source using:

msg.as_string()

However import-mbox.py uses

message.as_bytes().decode('utf-8', errors='replace')

These do not produce the same output; the header line-breaks are different.

It looks like the as_string() method output is closer to the original input.

The as_bytes/decode process seems to do line wrapping; it looks to be the cause of the line-wrap in the Return-Path: lines.

The scripts should both use as_string().","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/251/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/252,https://api.github.com/repos/apache/incubator-ponymail/issues/252,incubator-ponymail,190448511,252,archiver.py changes the input message source,sebbASF,16689231,Sebb,,CLOSED,2016-11-18T23:44:24Z,2017-09-21T02:39:18Z,"Archiver.py adds an 'archived-at' header to the source if none is present.
This may be OK, as it is possible to allow for this.

However if the List-Id (lid) is overridden, it also changes the lid in the message source.
That does not seem right. Nor should it be necessary, as the lid is stored separately.

The import-mbox script does not make either change.
This means a re-imported mail may change headers.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/252/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/252,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3NTkwODM5NQ==,incubator-ponymail,275908395,252,NA,sebbASF,16689231,Sebb,,NA,2017-01-29T11:37:50Z,2017-01-29T11:37:50Z,"The import-mbox script does change the List-Id if the mail is being resent, but that is obviously necessary. Also the updated mail is not stored in the database.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3NTkwODM5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/252,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMTAzNDcyMQ==,incubator-ponymail,331034721,252,NA,sebbASF,16689231,Sebb,,NA,2017-09-21T02:39:18Z,2017-09-21T02:39:18Z,Duplicate of #399; no longer applies,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMTAzNDcyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/253,https://api.github.com/repos/apache/incubator-ponymail/issues/253,incubator-ponymail,190532391,253,Bug: list name not normalised when imported,sebbASF,16689231,Sebb,,CLOSED,2016-11-20T01:24:35Z,2017-01-20T19:08:01Z,"import-mbox does normalise the list name - i.e. enclose it in <> if necessary - in all cases.

The archiver does do this, but does so before calling the common compute_updates method.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/253/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/253,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTMzNDE4MQ==,incubator-ponymail,271334181,253,NA,sebbASF,16689231,Sebb,,NA,2017-01-09T16:36:34Z,2017-01-09T16:36:34Z,"If the list name is passed as a parameter, then it will have been normalised.

However if the list name has to be obtained from the parsed email, then the list name is not normalised by import-mbox. Nor does the archiver.

It would make more sense for normalisation to be done in the common compute_updates","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTMzNDE4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/254,incubator-ponymail,190689061,254,Bug: attempt to get length of field 'body' (a userdata value),ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2016-11-21T11:25:03Z,2016-11-21T11:59:45Z,"I am running the master branch into a private server.
After pulling the latest changes, I have started receiving the following error:

```
/var/www/ponymail/api/stats.lua:694: attempt to get length of field 'body' (a userdata value)
```

on some of the lists. No mail is displayed.

Any hint or workaround? Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/254/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjEwMg==,incubator-ponymail,261912102,254,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-11-21T11:26:10Z,2016-11-21T11:26:10Z,"yup, I know that one - it's when you have a null body. the fix is to check for JSON.nil right before. I can push a fix to master at some point.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjEwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjM2NA==,incubator-ponymail,261912364,254,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-11-21T11:27:23Z,2016-11-21T11:27:23Z,"essentially, you would add this right before line 694:
email.body = (email.body ~= JSON.null) and email.body or """"","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjM2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjU4Mw==,incubator-ponymail,261912583,254,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-11-21T11:28:34Z,2016-11-21T11:28:34Z,"Yup, thanks @Humbedooh it works!

Any reason for not considering it as a proper fix? If so I could just push it.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjU4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjgwNg==,incubator-ponymail,261912806,254,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-11-21T11:29:46Z,2016-11-21T11:29:46Z,feel free to fix it :) I just haven't had the time (ApacheCon etc),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjgwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjk1NQ==,incubator-ponymail,261912955,254,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-11-21T11:30:31Z,2016-11-21T11:30:31Z,"If you don't mind, I'll go on with that - don't understand LUA at all but it smells as a god fix ;-)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxMjk1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxNTM2NQ==,incubator-ponymail,261915365,254,NA,sebbASF,16689231,Sebb,,NA,2016-11-21T11:42:47Z,2016-11-21T11:42:47Z,"There are other places where the body field can be dereferenced.
It's possible to fix it in elastic.lua (I have a patch that works for me if it's of interest).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxNTM2NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxNTc3Nw==,incubator-ponymail,261915777,254,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-11-21T11:45:11Z,2016-11-21T11:45:11Z,"Sure, why not? I am not familiar with LUA but is there any way to ""centralize"" such null safety check? Does it make sense?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxNTc3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/254,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxODU0MA==,incubator-ponymail,261918540,254,NA,sebbASF,16689231,Sebb,,NA,2016-11-21T11:59:45Z,2016-11-21T11:59:45Z,"Since the body can only be obtained by calling elastic.lua methods, in theory it is possible to centralise it.

The scan/scroll method was a bit tricky, but I got it working for me.

I don't have time just now, but hopefully later today.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MTkxODU0MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/255,https://api.github.com/repos/apache/incubator-ponymail/issues/255,incubator-ponymail,190782675,255,Bug: archiver drops attachment with utf-8 encoded name,sebbASF,16689231,Sebb,,CLOSED,2016-11-21T17:20:27Z,2016-11-21T18:41:48Z,"Archiver does not seem to be able to handle attachments with UTF-8 names.

See

https://lists.apache.org/thread.html/ccc9b0241642a1a085e6e914bdc067ce54cdfc606e4c7206cbb136d4@%3Cdev.ponymail.apache.org%3E
https://lists.apache.org/thread.html/a53245e1c26a1ba330bcbcdce620f702a2dfed68fa02072538bf979a@%3Cdev.ponymail.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/255/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/255,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MjAxODI5OQ==,incubator-ponymail,262018299,255,NA,sebbASF,16689231,Sebb,,NA,2016-11-21T18:05:57Z,2016-11-21T18:05:57Z,"The code is looking for ""filename="" but the encoded name looks like

filename*=utf-8''test2%C3%A1%C3%A8%2Etmp

Not sure why the code is doing its own decoding here","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MjAxODI5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/256,https://api.github.com/repos/apache/incubator-ponymail/issues/256,incubator-ponymail,190797145,256,Bug: archiver drops empty attachments,sebbASF,16689231,Sebb,,CLOSED,2016-11-21T18:21:10Z,2016-11-21T18:35:46Z,https://lists.apache.org/thread.html/b0b0d0db9a33d5a698d29bac6b1af99148b64d59f497dba0aeecdd0e@%3Cdev.ponymail.apache.org%3E,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/256/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/257,https://api.github.com/repos/apache/incubator-ponymail/issues/257,incubator-ponymail,190846721,257,Bug: archiver does not allow for attachment which is not multipart,sebbASF,16689231,Sebb,,CLOSED,2016-11-21T21:55:04Z,2016-11-21T21:59:22Z,"It's possible for an attachment to be present on a non-multipart mail, however the archiver does not allow this.

Two examples are the signature-only mails:

test/resources/pass/sig[12].mbox","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/257/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/258,https://api.github.com/repos/apache/incubator-ponymail/issues/258,incubator-ponymail,190946864,258,Enh: import-mbox dry run should exercise as much as possible of the code,sebbASF,16689231,Sebb,,CLOSED,2016-11-22T09:27:03Z,2016-11-22T09:58:32Z,"At present the dry run flag skips the code which sets up the BulkThread.
This ignores some chunks of code that don't update/read the database.

It would be best to do everything apart from actually sending the data to the database.
This would allow more thorough testing, e.g. can dump the contents of the bulk thread arrays.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/258/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/259,https://api.github.com/repos/apache/incubator-ponymail/issues/259,incubator-ponymail,191021794,259,Enh: import-mbox needs error handling to report the context of any errors,sebbASF,16689231,Sebb,,OPEN,2016-11-22T14:28:25Z,2016-11-22T14:28:36Z,"If a message causes a problem (e.g. due to an encoding issue), a stack trace is not much use without additional details, for example the message being processed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/259/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/260,https://api.github.com/repos/apache/incubator-ponymail/issues/260,incubator-ponymail,191023081,260,archiver unconditionally ignores encoding errors,sebbASF,16689231,Sebb,,CLOSED,2016-11-22T14:33:35Z,2016-11-25T14:46:08Z,"The archiver currently assumes input is in utf-8 and unconditionally ignores encoding errors.

Both of these probably ought to be configurable.
In particular it probably makes more sense to replace errors so they can be seen.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/260/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/260,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MDQ3MA==,incubator-ponymail,262970470,260,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T14:46:08Z,2016-11-25T14:46:08Z,This was fixed in f5d78a0 as part of #265 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MDQ3MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/261,https://api.github.com/repos/apache/incubator-ponymail/issues/261,incubator-ponymail,191026713,261,archiver and import-mbox handle invalid encodings differently,sebbASF,16689231,Sebb,,CLOSED,2016-11-22T14:47:26Z,2016-11-25T14:46:59Z,"The archiver ignore invalid encoded characters.

It looks like import-mbox replaces them with the ?-in-a-box character.

They should be consistent; replace seems more sensible so at least there is an indication of the problem.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/261/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/261,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MDYwNA==,incubator-ponymail,262970604,261,NA,sebbASF,16689231,Sebb,,NA,2016-11-25T14:46:59Z,2016-11-25T14:46:59Z, This was fixed in f5d78a0 as part of #265,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjk3MDYwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/262,https://api.github.com/repos/apache/incubator-ponymail/issues/262,incubator-ponymail,191286763,262,Bug: archiver stores attachment binary data types with embedded newlines,sebbASF,16689231,Sebb,,CLOSED,2016-11-23T14:35:27Z,2017-03-19T23:34:15Z,"According to the Elasticsearch docs [1]

""The Base64 encoded binary value must not have embedded newlines \n.""

However that is currently not the case.

The line
b64 = codecs.encode(fd, ""base64"").decode('ascii', 'ignore')
should probably be replaced by:
b64 = base64.b64encode(fd).decode('ascii', 'ignore')

[1]https://www.elastic.co/guide/en/elasticsearch/reference/2.4/binary.html","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/262/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/263,https://api.github.com/repos/apache/incubator-ponymail/issues/263,incubator-ponymail,191289137,263,Archiver stores message source as a string in a binary field,sebbASF,16689231,Sebb,,CLOSED,2016-11-23T14:43:29Z,2017-03-20T00:03:55Z,"The mbox_source mapping uses the binary datatype for the message source.

However the source is actually stored as a string (probably in utf-8).
Whilst this appears to work, it disagrees with the Elasticsearch docs [1]

[1] https://www.elastic.co/guide/en/elasticsearch/reference/2.4/binary.html
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/263/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/263,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4NzY1OTA4NA==,incubator-ponymail,287659084,263,NA,sebbASF,16689231,Sebb,,NA,2017-03-20T00:03:55Z,2017-03-20T00:03:55Z,Fixed by #366 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4NzY1OTA4NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/264,https://api.github.com/repos/apache/incubator-ponymail/issues/264,incubator-ponymail,191317092,264,Enh: make it easier to test the archiver - --dry option,sebbASF,16689231,Sebb,,CLOSED,2016-11-23T16:16:16Z,2016-11-23T16:27:50Z,"It would be useful to be able to test the archiver without needing to start the database.

It should be possible to skip the database updates, e.g. with a 'dry-run' option.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/264/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/265,https://api.github.com/repos/apache/incubator-ponymail/issues/265,incubator-ponymail,191396233,265,Encoding issue(?) with whitespace characters,rombert,21237,Robert Munteanu,robert.munteanu@gmail.com,CLOSED,2016-11-23T22:46:59Z,2016-11-24T19:52:57Z,"Note the email at https://lists.apache.org/thread.html/52ecda6f7b859fa9cdd4d9fb64d6f7a3b54f29f971e5536e844d9150@%3Cdev.johnzon.apache.org%3E displays some weird characters instead of whitespace.

I've attached below the message as stored by my MUA after sending. The {{X-Evolution-}} headers can be ignored, they should not be in the final message.

[Using_johnzon-core_in_an_OSGi_container.txt](https://github.com/apache/incubator-ponymail/files/610162/Using_johnzon-core_in_an_OSGi_container.txt)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/265/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/265,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjc1NjU3Mg==,incubator-ponymail,262756572,265,NA,sebbASF,16689231,Sebb,,NA,2016-11-24T11:38:49Z,2016-11-24T11:38:49Z,"The character is a non-breaking space (\xa0) which is not being correctly handled by the archiver. It then gets substituted by the standard error replacement character which is what you are seeing.

However mod_mbox handles this OK [1], as does import-mbox when I tried re-importing the mbox files locally.

Most of the code is the same, except for the way they read the input for parsing.
Looks like there is an issue with the way the archiver handles standard input.

[1] http://mail-archives.apache.org/mod_mbox/johnzon-dev/201611.mbox/%3C1479940647.31291.1.camel%40apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjc1NjU3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/265,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjc3MDgyNw==,incubator-ponymail,262770827,265,NA,sebbASF,16689231,Sebb,,NA,2016-11-24T12:59:14Z,2016-11-24T12:59:14Z,"Note that the Source version [2] of the message is also mangled in lists.a.o; it includes other odd characters (not the replacement char).

I tried parsing the input using 
msg = email.message_from_bytes(sys.stdin.buffer.read())
instead of
input_stream = io.TextIOWrapper(sys.stdin.buffer, encoding='utf-8', errors=""ignore"")
msgstring = input_stream.read()
msg = email.message_from_string(msgstring)

That fixes the display problem, however the source message then uses Base64 encoding for the body, which is not ideal as it cannot be read directly. It looks like the source problem is caused by using message.as_string() to re-create the source from the parsed mail. That may be to do with the original having been 8-bit.

[2] https://lists.apache.org/api/source.lua/52ecda6f7b859fa9cdd4d9fb64d6f7a3b54f29f971e5536e844d9150@%3Cdev.johnzon.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2Mjc3MDgyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/266,https://api.github.com/repos/apache/incubator-ponymail/issues/266,incubator-ponymail,191532045,266,Bug: archiver and import-mbox create different mbox_source entries,sebbASF,16689231,Sebb,,CLOSED,2016-11-24T14:24:26Z,2016-11-24T15:46:36Z,"The archiver creates an mbox_source entry with the following _source fields:

""message-id"":
""source"":

import-mbox additionally has the following field:

""mid"":

The value of the field is the same as the document ""_id"" so is presumably not necessary.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/266/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/267,https://api.github.com/repos/apache/incubator-ponymail/issues/267,incubator-ponymail,191765563,267,Bug: inconsistent rights checking,sebbASF,16689231,Sebb,,CLOSED,2016-11-25T21:12:16Z,2016-12-13T23:52:15Z,"Access to private lists is being checked inconsistently.

Assume a list id of the form: <dev.ponymail.apache.org>
This has the parts:
full id=dev.ponymail.apache.org
domain=ponymail.apache.org

email.lua
preferences.lua
thread.lua
These all check against the full id and the domain

source.lua
This checs the domain only, so may prevent access to some mails.

The checks should be done by a common routine.
This ought really to be part of the aaa module.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/267/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/267,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTcyNzU3MQ==,incubator-ponymail,265727571,267,NA,sebbASF,16689231,Sebb,,NA,2016-12-08T12:21:18Z,2016-12-08T12:21:18Z,"atom.lua checks against the full id in one place, and the domain only in another

notifications.lua uses doc.list as the source; all the others use docs.list_raw","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTcyNzU3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/267,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTczMDAxMQ==,incubator-ponymail,265730011,267,NA,sebbASF,16689231,Sebb,,NA,2016-12-08T12:34:53Z,2016-12-08T12:34:53Z,c4045ee fixes notifications.lua,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTczMDAxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/268,incubator-ponymail,192114292,268,Little confidentiality issue,arkanovicz,475277,Claude Brisson,claude@renegat.net,CLOSED,2016-11-28T20:53:53Z,2017-06-04T14:57:11Z,"When an apache committer browses the archives of a private mailing list he has access to, he can access the full timeline of the list, including emails that were sent **prior** to the date he was granted access to the list, including for instance the vote that made him a committer and attached remarks... It shouldn't pose any kind of problem in the vast majority of cases, of course, but this little side effect is at least worth noticing...","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/268/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MzQyMjI0MQ==,incubator-ponymail,263422241,268,NA,sebbASF,16689231,Sebb,,NA,2016-11-28T22:59:20Z,2016-11-28T22:59:20Z,"This is also true of the mail-search archives under mod_mbox, so it's not not a new issue.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2MzQyMjI0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNDk5NjA4NQ==,incubator-ponymail,304996085,268,NA,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,NA,2017-05-30T20:19:58Z,2017-05-30T20:19:58Z,"+1 for ""this is a feature that we should document how access to lists works"" and close this.  For Apache purposes, access to a whole list (including prior dates) is the expected behavior.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNDk5NjA4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNTEzMzY5NQ==,incubator-ponymail,305133695,268,NA,arkanovicz,475277,Claude Brisson,claude@renegat.net,NA,2017-05-31T09:16:00Z,2017-05-31T09:16:00Z,"That's a rather strange position. It means that when I write to a private mailing list, I shall expect the email to be seen by not only the actual recipients, but also by each and any future recipient this list will ever have. It looks like more a limitation than a feature to me.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNTEzMzY5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNTE0NTIyMg==,incubator-ponymail,305145222,268,NA,sebbASF,16689231,Sebb,,NA,2017-05-31T10:03:08Z,2017-05-31T10:03:08Z,"Note that it would require lots of additional record keeping to implement time-based access.
It would require access to information on subscriptions. These are managed by the mailing list software, which is completely independent. Strictly speaking, it would also preclude using the importer to load any messages that were sent before the Pony Mail archiver itself was subscribed to the mailing list. Also the number of people able to view the earliest archive messages would gradually reduce to zero.

As to the original comment regarding committers potentially seeing comments about their election etc, that is intrinsic to archived mailing lists. Perhaps that aspect of mailing lists needs to be better documented, but to be effective that documentation belongs elsewhere so it is seen before a posting is sent to an archived mailing list.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNTE0NTIyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNTE1Mjc4NQ==,incubator-ponymail,305152785,268,NA,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,NA,2017-05-31T10:37:30Z,2017-05-31T10:37:30Z,"Note that my comment is relating to the current state of the code and the requirements that the ASF has for our own mail archive system.  I could imagine that **other** users might want this kind of feature - but as sebb notes here, that would require someone stepping up to do the work.  Thus, for the time being, the important thing is to be sure this behavior is clearly documented so administrators and users know what to expect.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNTE1Mjc4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA0NDkyNg==,incubator-ponymail,306044926,268,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-06-04T14:56:00Z,2017-06-04T14:56:00Z,"This seems to be a discussion about an installation of Pony Mail, not the software itself.
My suggestion would be to supply the AAA libraries with additional (optional) data so the AAA lib can make a decision if need be.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA0NDkyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/268,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA0NDk5Ng==,incubator-ponymail,306044996,268,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-06-04T14:57:11Z,2017-06-04T14:57:11Z,"Actually, that is already the case in 0.10 - so I'm closing this issue as it's up to the ASF and not the Pony Mail project to sort that out.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNjA0NDk5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/269,https://api.github.com/repos/apache/incubator-ponymail/issues/269,incubator-ponymail,193551923,269,Preferences.lua only checks last 20 years for private e-mails. Why?,sebbASF,16689231,Sebb,,CLOSED,2016-12-05T16:55:08Z,2017-01-06T12:14:59Z,"Preferences.lua searches all lists for private mails, but for restricts the search to the last 20 years.

What is the reason for this restriction?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/269/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/269,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDg5MjYyNA==,incubator-ponymail,270892624,269,NA,sebbASF,16689231,Sebb,,NA,2017-01-06T12:14:59Z,2017-01-06T12:14:59Z,This restriction has been dropped in the rework to use a single aggregation query,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDg5MjYyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/270,https://api.github.com/repos/apache/incubator-ponymail/issues/270,incubator-ponymail,193603914,270,Enh: preferences.lua should search for 'not public' rather than private,sebbASF,16689231,Sebb,,CLOSED,2016-12-05T20:38:44Z,2017-01-07T18:13:25Z,"preferences.lua currently drops mailing lists that have had a least one private mail in the last 20 years. This excludes many lists that are mixed private and public.

Rather than searching for lists with any private mails, it might be better to search for lists without any public mails. However this would potentially show the statistics relating to private mails.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/270/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/270,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NDk3MDUzMg==,incubator-ponymail,264970532,270,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2016-12-05T20:40:47Z,2016-12-05T20:40:47Z,"searching for private emails is, however, vastly faster than looking for lists without public email - I'm not sure if the proposed approach is feasible.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NDk3MDUzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/270,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTIwMjA5NQ==,incubator-ponymail,265202095,270,NA,sebbASF,16689231,Sebb,,NA,2016-12-06T16:45:30Z,2016-12-06T16:45:30Z,"There is another possible approach:
Get the names of lists:
- containing at least one private mail
- containing at least one public mail
And get the counts of emails for the last 90 days for the same categories.

The output can then be generated by merging in data from the private lists to which the user has access.

The aggregations for the private mails don't even need to be done unless the user is logged in.
[The caches would need to be adjusted accordingly]

See also #272 and #70","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTIwMjA5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/270,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTIzMDI2Mw==,incubator-ponymail,265230263,270,NA,sebbASF,16689231,Sebb,,NA,2016-12-06T18:25:46Z,2016-12-06T18:25:46Z,"It looks like the following query returns all the data needed in a single pass.

The data is aggregated by list name, within that by public/private and within that by age.

The response should be sufficient to construct the output data.

```
GET /ponymail/mbox/_search
{
  ""size"": 0,
  ""aggs"": {
    ""lists"": {
      ""terms"": {
        ""field"": ""list_raw""
      },
      ""aggs"": {
        ""privacy"": {
          ""terms"": {
            ""field"": ""private""
          },
          ""aggs"": {
            ""recent"": {
              ""range"": {
                ""field"": ""epoch"",
                ""ranges"": [
                  {""from"": <now-90d>}
                ]
              }
            }
          }
        }
      }
    }
  }
}
```

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTIzMDI2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/270,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTIzOTMwNA==,incubator-ponymail,265239304,270,NA,sebbASF,16689231,Sebb,,NA,2016-12-06T18:58:33Z,2016-12-06T18:58:33Z,"One can also change the order so that the privacy buckets contain the lists buckets.
This might make it simpler to process the response for the case where the user is not logged in","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTIzOTMwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/270,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTEwMDAxNw==,incubator-ponymail,271100017,270,NA,sebbASF,16689231,Sebb,,NA,2017-01-07T18:13:25Z,2017-01-07T18:13:25Z,This has been fixed by using aggregates,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTEwMDAxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/271,https://api.github.com/repos/apache/incubator-ponymail/issues/271,incubator-ponymail,193605358,271,Enh: fetch only aggregation results where the hits are not needed,sebbASF,16689231,Sebb,,CLOSED,2016-12-05T20:45:24Z,2016-12-06T02:05:56Z,"Aggrgations by default return the first few hits as well as the aggregation values and counts.
In most cases, only the values and counts are needed.
It's wasteful to fetch the hits themselves. See:
https://www.elastic.co/guide/en/elasticsearch/reference/current/returning-only-agg-results.html#returning-only-agg-results","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/271/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/272,https://api.github.com/repos/apache/incubator-ponymail/issues/272,incubator-ponymail,193820938,272,Bug: config.hidePrivate should be dropped,sebbASF,16689231,Sebb,,CLOSED,2016-12-06T16:36:53Z,2017-01-04T23:04:25Z,"At present, if hidePrivate is true, the user won't see the names of lists that contain a single e-mail which they are not authorised to see. If there is just one prohibited mail, the entire list is hidden. That causes problems for legitimate access to the public e-mails on mixed lists.

If hidePrivate is false, then preferences.lua returns information about lists that are entirely private or mixed. This leaks meta-information about the private lists. That can also cause problems.

The data returned by preferences.lua should only show info about mails which the user is entitled to see. Further, the data should include all the information the user is entitled to see.

AFAICT the hidePrivate config item does not have a valid use-case and should be dropped.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/272/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/272,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTI5Njk4Mg==,incubator-ponymail,265296982,272,NA,sebbASF,16689231,Sebb,,NA,2016-12-06T22:42:56Z,2016-12-06T22:42:56Z,"Also the data returned by preferences.lua does not always agree with the data returned by pminfo.lua.
 
pminfo.lua returns data for all lists with public activity in the last 14 days. 
This info is shown on the page header, and includes the count of active lists.

However preferences.lua only returns data for public-only lists (if hidePrivate is true).
A mixed public/private list with public activity in the last fortnight will be counted in the pminfo stats.
However the list itself won't be shown. This is unlikely to be noticed for large installations but in smaller ones using the 'table' view it would be confusing to see fewer entries than the active list count.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTI5Njk4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/273,https://api.github.com/repos/apache/incubator-ponymail/issues/273,incubator-ponymail,193912566,273,Enh: pminfo aggregations could be combined,sebbASF,16689231,Sebb,,CLOSED,2016-12-06T23:10:32Z,2016-12-09T23:39:28Z,"pminfo.lua performs 4 aggregations using the same query each time.

It would be more efficient to perform all the aggregations in a single request.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/273/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/274,https://api.github.com/repos/apache/incubator-ponymail/issues/274,incubator-ponymail,194014579,274,Enh: pminfo.lua could be optional,sebbASF,16689231,Sebb,,OPEN,2016-12-07T10:40:01Z,2016-12-07T10:40:01Z,"The output from pminfo.lua is not essential to using the archives as it is only used to populate some overall statistics.

It could be made optional to reduce resource usage, particularly on smaller installations.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/274/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/275,https://api.github.com/repos/apache/incubator-ponymail/issues/275,incubator-ponymail,194036153,275,Cache keys should be constants,sebbASF,16689231,Sebb,,CLOSED,2016-12-07T12:24:19Z,2016-12-07T12:25:19Z,"The keys used to access cached data should be defined once as a constant.
This is cheaper than creating the key each time and ensures the keys agree.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/275/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/276,https://api.github.com/repos/apache/incubator-ponymail/issues/276,incubator-ponymail,194042105,276,Enh: stats.lua could use single aggregate query to get first and last years,sebbASF,16689231,Sebb,,CLOSED,2016-12-07T12:53:43Z,2016-12-11T02:18:45Z,"stats.lua currently sorts all the records by date in ascending and descending order, picking the first result. It then has to extract the date from _source.

The same information could be retrieved using an aggregation of the form:

```
{
  ""size"": 0, 
  ""query"" : {etc},
  ""aggs"": {
    ""first"": {
      ""min"": {
        ""field"": ""date""
      }
    },
    ""last"": {
      ""max"": {
        ""field"": ""date""
      }
    }
  }
}
```
This returns info in the form:
```
  ""aggregations"": {
    ""last"": {
      ""value"": 1479983095000,
      ""value_as_string"": ""2016/11/24 10:24:55""
    },
    ""first"": {
      ""value"": 1479115199000,
      ""value_as_string"": ""2016/11/14 09:19:59""
    }
  }
```","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/276/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/277,https://api.github.com/repos/apache/incubator-ponymail/issues/277,incubator-ponymail,194049665,277,Bug: stats.lua ignores negated words when building the word cloud,sebbASF,16689231,Sebb,,CLOSED,2016-12-07T13:29:42Z,2016-12-09T21:46:07Z,"The query used when building the word cloud fails to exclude the negated words.
All the other queries that check for required words also check for negated words.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/277/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/278,https://api.github.com/repos/apache/incubator-ponymail/issues/278,incubator-ponymail,194318884,278,Bug: db36942 only fixed one instance of aaa.rights() call in atom.lua,sebbASF,16689231,Sebb,,CLOSED,2016-12-08T12:03:44Z,2016-12-08T12:05:49Z,"commit db36942 - get atom feed in sync with rights management - only fixed one of the calls to aaa.rights() in the atom.lua module, the one at line 129.

There is another at line 173","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/278/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/279,https://api.github.com/repos/apache/incubator-ponymail/issues/279,incubator-ponymail,194491723,279,Enh: simplify date range calculations spanning a month,sebbASF,16689231,Sebb,,OPEN,2016-12-09T01:34:41Z,2017-01-17T20:16:14Z,"The date range calculations currently work out the end of the month. This involves leap-year calculations and a table of days in each month.

It would be simpler to express the date range as
gte=YYYY/MM/01 00:00:00
lt=YYYY'/MM'/01 00:00:00
where MM' is MM+1 unless MM=12 etc.

Also, rather than using the string date field, it would likely be more efficient to use the epoch.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/279/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/279,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTkwODk3Mw==,incubator-ponymail,265908973,279,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T01:37:52Z,2016-12-09T01:37:52Z,This affects mbox.lua and stats.lua which both have copies of the code,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NTkwODk3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/279,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI4NjQ2Nw==,incubator-ponymail,273286467,279,NA,sebbASF,16689231,Sebb,,NA,2017-01-17T20:16:14Z,2017-01-17T20:16:14Z,"Using the epoch would be tricky for relative dates such as ""less than 2 months ago"" which are currently handled by the ES database.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI4NjQ2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/280,https://api.github.com/repos/apache/incubator-ponymail/issues/280,incubator-ponymail,194600617,280,Bug: inconsistent list_raw parsing; <> and extra characters,sebbASF,16689231,Sebb,,CLOSED,2016-12-09T13:47:50Z,2016-12-16T14:00:50Z,"pminfo.lua and preferences.lua match list_raw values using REs of the form:

```
local list, domain = y.key:match(""^<?(.-)%.(.-)>?$"")
```
whereas the other modules use REs as in:

```
local lid = email.list_raw:match(""<[^.]+%.(.-)>"")
local flid = email.list_raw:match(""<([^.]+%..-)>"")
```

There are two differences here: pminfo and  preferences allow the enclosing <> to be missing, but requires that the entire value is matched. The other matches require <> to be present, but allow additional leading and trailing characters.

These cannot both be correct.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/280/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/280,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzU5OTkwOA==,incubator-ponymail,267599908,280,NA,sebbASF,16689231,Sebb,,NA,2016-12-16T14:00:49Z,2016-12-16T14:00:49Z,This was fixed as part of #292 and #293,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzU5OTkwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/281,https://api.github.com/repos/apache/incubator-ponymail/issues/281,incubator-ponymail,194691438,281,Enh: consider whether to optionally prefix '>From ' lines when exporting/importing,sebbASF,16689231,Sebb,,OPEN,2016-12-09T20:39:04Z,2017-06-08T10:00:44Z,"The code now prefixes body text 'From ' lines with '>' when exporting to an mbox file.
This is necessary to ensure that the start of each message can be found correctly, and is known as the 'mboxo' format.
However this means that a line that starts '>From ' is indistinguishable from a line that starts with 'From ' in the generated file. 

A work-round for this is to prefix all lines that start with 'From ' preceeded by 0 or more '>' chars.
This is known as the 'mboxrd' format.
This is (unfortunately) not the standard, so it may be best to make it optional. Likewise when importing messages from mbox files.

The mboxrd format is not currently supported by Python email","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/281/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/281,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNzA1ODE1MQ==,incubator-ponymail,307058151,281,NA,sebbASF,16689231,Sebb,,NA,2017-06-08T10:00:44Z,2017-06-08T10:00:44Z,"FTR the mboxo format is not supported by Python email on input, see #212","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwNzA1ODE1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/282,https://api.github.com/repos/apache/incubator-ponymail/issues/282,incubator-ponymail,194710289,282,Bug: pminfo.lua creates top100 sender information but it's not used,sebbASF,16689231,Sebb,,CLOSED,2016-12-09T22:15:39Z,2016-12-11T00:51:06Z,"The top100 user information does not appear to be used anywhere.
It could be dropped to save on resources","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/282/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/282,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjEzODcwMQ==,incubator-ponymail,266138701,282,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T22:18:41Z,2016-12-09T22:18:41Z,Likewise it looks like active_lists is not used,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjEzODcwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/282,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjE0MzA1NA==,incubator-ponymail,266143054,282,NA,sebbASF,16689231,Sebb,,NA,2016-12-09T22:40:17Z,2016-12-09T22:40:17Z,"Altogether it looks like only about 2% of the output is used.
That is a huge waste of bandwidth","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjE0MzA1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/283,https://api.github.com/repos/apache/incubator-ponymail/issues/283,incubator-ponymail,194807607,283,Bug: stats.lua can fail when creating top10 senders,sebbASF,16689231,Sebb,,CLOSED,2016-12-11T02:17:14Z,2016-12-11T02:18:45Z,"When creating the top10 senders, stats.lua can fail if any documents don't have a from_raw value.
This should not happen for valid mails, but old mbox files may trigger the problem.

The following line can fail:
name = name:gsub(""\"""", """")","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/283/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/284,https://api.github.com/repos/apache/incubator-ponymail/issues/284,incubator-ponymail,194826650,284,Bug: incorrect relative URIs in permalink.html and thread.html,sebbASF,16689231,Sebb,,CLOSED,2016-12-11T11:22:13Z,2016-12-11T11:52:16Z,"At some point, the absolute URIs for JS and images were changed from ""/js/abc"" and ""/images/abc"" to ""../js/abc"" and ""../images/abc"".

This is wong, as the files are in child directories, not in sibling directories.
It only works because the html files are at top level, so ""../js"" is equivalent to ""js"".

Note that all the other html files at the top level (e.g. index) use ""js/"" and ""images/""","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/284/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/284,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjI3NzY5Mw==,incubator-ponymail,266277693,284,NA,sebbASF,16689231,Sebb,,NA,2016-12-11T11:52:16Z,2016-12-11T11:52:16Z,"Oops, the links *are* correct, but only because permalink.html and thread.html are invoked with a trailing path. V. confusing.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjI3NzY5Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/285,https://api.github.com/repos/apache/incubator-ponymail/issues/285,incubator-ponymail,194831237,285,Bug: ponymail.js/formatDate may show the wrong timezone,sebbASF,16689231,Sebb,,CLOSED,2016-12-11T13:14:05Z,2016-12-11T13:37:46Z,"The function formatDate attempts to show the local timezone corresponding to a date.

However it uses the current timezone, rather than the tz that was in effect for the date.
This won't be noticed for recent messages (except around TZ changes) but will occur for historic mails.

For example:

https://lists.apache.org/api/source.lua/9fd77b14753bbde462bea06fc2e1c03d5cf5a89cea2fabd6751d805a@%3Cdev.ponymail.apache.org%3E
The source has:
Date: Wed, 13 Jul 2016 13:46:39 +0200

The mbox entry
https://lists.apache.org/api/email.lua?id=9fd77b14753bbde462bea06fc2e1c03d5cf5a89cea2fabd6751d805a@%3Cdev.ponymail.apache.org%3E
has the following:

""date"":""2016\/07\/13 11:46:39"",
""epoch"":1468410399
The epoch translates as 2016-07-13 11:46:39 UTC

However it currently (Dec 2016) displays on my system as:
2016-07-13 12:46 (-0000)

That's because it is currently on GMT whereas in July it would have been on BST (GMT + 0100)
The display should be:

2016-07-13 12:46 (+0100)

Or should it?

The actual time of the email was 13:46:39 +0200.
Does it make sense to re-interpret the email date in terms of a different TZ?

I'm not sure it does, in which case it would make more sense to use UTC:
2016-07-13 11:46 (UTC)

This would also be simpler to do.

Note: the ES mbox data currently does not include the original Date: as per the source, only the converted versions, so it's not possible to show the date in its original TZ.


","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/285/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/285,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjI4MjE0NQ==,incubator-ponymail,266282145,285,NA,sebbASF,16689231,Sebb,,NA,2016-12-11T13:29:59Z,2016-12-11T13:29:59Z,The formatDate function is also used for various other purposes so it might be best to start with just fixing the local TZ.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjI4MjE0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/286,https://api.github.com/repos/apache/incubator-ponymail/issues/286,incubator-ponymail,194833751,286,Bug: ponymail.js creates/displays dates with no timezone - confusing,sebbASF,16689231,Sebb,,CLOSED,2016-12-11T14:08:03Z,2017-01-18T10:56:33Z,"There are various places in ponymail.js where a date/time is shown without a TZ indication.
This seems to be because there is no room to display the TZ.

This is potentially confusing, as date ranges internally use UTC.
So for example if I display the following:

https://lists.apache.org/list.html?infrastructure-issues@apache.org:2016-07

I can see entries that appear to belong in August, rather than July.
This is because my system was on DST then.

Either all timestamps need to be displayed in UTC, or some way needs to be found to ensure that the relevant TZ is shown with the time.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/286/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/286,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzM0NjgxNA==,incubator-ponymail,273346814,286,NA,sebbASF,16689231,Sebb,,NA,2017-01-18T00:36:54Z,2017-01-18T00:36:54Z,"It looks as though ponymail.js currently only uses the epoch field. 
The document date is currently only returned by email.lua, and the Javascript overwrites this with the date calculated from the epoch field. Since both dates are in UTC, it could leave the email.lua date alone.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzM0NjgxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/287,https://api.github.com/repos/apache/incubator-ponymail/issues/287,incubator-ponymail,194866259,287,Bug: archiver.py fails when attachment name is not ASCII,sebbASF,16689231,Sebb,,CLOSED,2016-12-11T23:44:40Z,2016-12-12T00:05:38Z,"The archiver can fail as follows if an attachment name is not in ascii:

archiver.py"", line 85, in parse_attachment
    dispositions = cd.strip().split("";"")
AttributeError: 'Header' object has no attribute 'strip'

This is because part.get(""Content-Disposition"", None) returns a Header rather than a string if the header contents is not ASCII.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/287/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/288,https://api.github.com/repos/apache/incubator-ponymail/issues/288,incubator-ponymail,194874038,288,Bug: does not parse multipart/mixed mails with some non-standard boundaries,sebbASF,16689231,Sebb,,OPEN,2016-12-12T01:40:45Z,2016-12-19T23:22:50Z,"The archiver fails to parse a multipart/mixed email [1]
It looks as though this may be a bug in the Python email parsing, because the email is not detected as multipart, even though there are 3 parts.



[1] http://mail-archives.apache.org/mod_mbox/tomcat-users/200301.mbox/%3CAB3C10C46F698F42B3836BAD91CC0C3F054B21@MARCG-EVS.marcgroup.mail%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/288/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/288,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjMzMTIzOA==,incubator-ponymail,266331238,288,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T02:42:26Z,2016-12-12T02:42:26Z,"The message uses some invalid characters in the boundary: ""<"" and "">"".
Experimentation shows that the Python parser does not like the "">"".
The boundary in the message is:
Content-Type: multipart/mixed; boundary=""<<001-3e1dcd5a-119e>>""
Further tests show that the parser strips off the outer <> when extracting the boundary, so it's not surprising that the parts are not detected. That does seem like a bug, as the parser  handles other invalid chars OK.

A simple work-round would be to treat the entire body as text.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjMzMTIzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/288,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjMzMTk5OQ==,incubator-ponymail,266331999,288,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T02:50:06Z,2016-12-12T02:50:06Z,"Looks like the problem is caused by utils.unquote, which treats <> as quoting characters which it removes.
Given that < and > are not valid as boundary characters, it's hard to class that as a bug.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjMzMTk5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/288,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQyNTgxNw==,incubator-ponymail,266425817,288,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T13:02:45Z,2016-12-12T13:02:45Z,"Further investigation shows that the problem due to unquote being called twice.
Since both """" and <> are treated as quotes, they both get removed.
This appears to still be a bug in 3.5.2 (I am using 3.4.1)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQyNTgxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/288,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODEwNzk3Nw==,incubator-ponymail,268107977,288,NA,sebbASF,16689231,Sebb,,NA,2016-12-19T23:22:49Z,2016-12-19T23:22:49Z,"In theory it should be possible to override the Message#get_boundary method.
This is quite easy to do in the archiver by passing the amended class to the email#message_from_bytes() method.

However I was unable to find out how to do this for the importer.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2ODEwNzk3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/289,https://api.github.com/repos/apache/incubator-ponymail/issues/289,incubator-ponymail,194874285,289,Bug: does not handle text/enriched mails,sebbASF,16689231,Sebb,,CLOSED,2016-12-12T01:43:42Z,2016-12-12T01:51:46Z,"RFC 1896 [1] describes text/enriched e-mails [2]. These are basically plain text with simple markup, so can be treated as text/plain, at least initially.

[1] https://www.ietf.org/rfc/rfc1896.txt
[2] http://mail-archives.apache.org/mod_mbox/tomcat-users/200105.mbox/%3C3.0.5.32.20010514152321.0090b230@netgate.emmes.com%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/289/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/290,incubator-ponymail,194911832,290,Private list not shown after delete & re-import,ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2016-12-12T08:02:25Z,2016-12-13T12:00:30Z,"Up until last week I used to regularly execute the following commands on one of our servers:

1. `mailx -f file.mbox` (to manually remove spam e-mails from archives)
1. `python3 edit-list.py --delete --source file.tirasa.net`
1. `python3 import-mbox.py --source  file.mbox --lid ""file.tirasa.net"" --html2text --private`

and everything has been always working fine.

This morning, after pulling the latest changes, the commands above still seem to work fine, but the private list `file@tirasa.net` is not neither shown nor reachable any more from the web UI.

* Anything to change in the commands above?
* How can I debug why the list is not reported nor accessible (e.g. when manually setting the URL to `/list.html?file@tirasa.net` a 302 to another list is returned)?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/290/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjM5NjIzNg==,incubator-ponymail,266396236,290,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T10:41:45Z,2016-12-12T10:41:45Z,"I just tried the same sequence and it worked OK for me.

I would try restarting the httpd server in case it is a caching issue.

Note that edit-list --delete does not remove the sources so the spam source will still be in the database. It won't be accessible externally.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjM5NjIzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQxMzM4Mw==,incubator-ponymail,266413383,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-12T11:54:32Z,2016-12-12T11:54:32Z,"> I would try restarting the httpd server in case it is a caching issue.

Unfortunately, it's not cache.

> Note that edit-list --delete does not remove the sources so the spam source will still be in the database.

Really? Even if I remove the spam sources from the source mbox (step 1)?

Any debugging hint?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQxMzM4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQyMDc2Mg==,incubator-ponymail,266420762,290,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T12:34:17Z,2016-12-12T12:34:17Z,"The --delete function only removes the mbox document. The mbox_source document will still be present in the database. AFAICT any attachments will also be kept.

Does the same problem exist with public mails?
e.g. try importing some test mails into a test list and repeating the process.

What happens if you import the de-spammed mbox into a brand-new list?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQyMDc2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQzNTQyMQ==,incubator-ponymail,266435421,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-12T13:50:47Z,2016-12-12T13:50:47Z,"> What happens if you import the de-spammed mbox into a brand-new list?

What do you mean? Simply `python3 import-mbox.py --source file.mbox --lid ""file2.tirasa.net"" --html2text --private` does not change anything: nor `file@tirasa.net` nor `file@tirasa.net` are neither visible nor accessible from PonyMail web UI.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQzNTQyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQ1MjIxMg==,incubator-ponymail,266452212,290,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T14:59:46Z,2016-12-12T14:59:46Z,"That suggests that the problem is with file.mbox.
Can you import any mboxes successfully?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQ1MjIxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQ1MjgxMA==,incubator-ponymail,266452810,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-12T15:01:58Z,2016-12-12T15:01:58Z,"> That suggests that the problem is with file.mbox.

Interesting: how could this be, with no error reported by `import-mbox.py`?

> Can you import any mboxes successfully?

Yes, I can: I have a cron job which does the same for all of our mailing lists, and I can see some e-mails imported today.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQ1MjgxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQ2MDM2OQ==,incubator-ponymail,266460369,290,NA,sebbASF,16689231,Sebb,,NA,2016-12-12T15:29:32Z,2016-12-12T15:29:32Z,"What _does_ import-mbox report?

What happens if you try to re-import the original mbox (with the spam in it)?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjQ2MDM2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjY2NzkyNA==,incubator-ponymail,266667924,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-13T07:38:04Z,2016-12-13T07:38:04Z,"> What does import-mbox report?

```
python3 import-mbox.py --source  file.mbox --lid ""file.tirasa.net"" --html2text --private
Checking that the database index ponymail exists ... 
Database exists OK
Doing file based import
Starting up to 1 threads to fetch the 1  lists
Thread-1: Thread started
Started no. 1
Thread-1: 1 elements left to slurp
Thread-1: Slurping file.mbox
Found attachment: Offerta-20150416-FC-00.pdf
<snip/>
Found attachment: error.Wf10.txt
Thread-1: Parsed 830 records (failed: 0) from file.mbox
Thread-1: Done, 0 elements left to slurp
All done! 830 records inserted/updated after 47 seconds. 0 records were bad and ignored
```

> What happens if you try to re-import the original mbox (with the spam in it)?

Where is that file located (I suppose it is the sources mentioned in the `delete` output as  `Action: Delete emails (sources will be kept!`)?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjY2NzkyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjY3MjQzMg==,incubator-ponymail,266672432,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-13T08:05:24Z,2016-12-13T08:05:24Z,"I must add that when I query directly Elasticsearch via

`http://localhost:9200/ponymail/_search?_source_exclude=body&sort=date:desc`

I see in the returned JSON that `hits/hits` contains an e-mail from that `file.mbox` in 8th place.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjY3MjQzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjY3NjA5OA==,incubator-ponymail,266676098,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-13T08:26:10Z,2016-12-13T08:26:10Z,"Also - sorry for not having reported this before, but I've actually just noticed - that all private lists are not reported (when authenticated), hence the problem is not limited anyway to `file.mbox` and its mailing list.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjY3NjA5OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjcxMjk5Mw==,incubator-ponymail,266712993,290,NA,sebbASF,16689231,Sebb,,NA,2016-12-13T11:18:28Z,2016-12-13T11:18:28Z,"What do you mean by ""not reported""?

If there is an issue with auth, then I did update aaa.lua recently (it was badly broken).
Check that you have got the correct version of aaa.lua for your system.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjcxMjk5Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/290,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjcyMTAwMg==,incubator-ponymail,266721002,290,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2016-12-13T12:00:30Z,2016-12-13T12:00:30Z,"I confirm that restoring the former (customized) `site/api/lib/aaa.lua` makes everything work again. I'll stick with such version, until a fix for #292 is available.

Thanks for your support.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjcyMTAwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/291,https://api.github.com/repos/apache/incubator-ponymail/issues/291,incubator-ponymail,195013816,291,Bug: ll.py retrieves results but does not use them,sebbASF,16689231,Sebb,,CLOSED,2016-12-12T16:08:10Z,2016-12-12T16:10:32Z,"The aggregation query has a size of 100, however the hits are never used.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/291/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/292,https://api.github.com/repos/apache/incubator-ponymail/issues/292,incubator-ponymail,195232578,292,Bug: lib/aaa.lua overwrites local customisations on updates,sebbASF,16689231,Sebb,,CLOSED,2016-12-13T11:49:53Z,2016-12-15T21:50:19Z,"The lib/aaa.lua module handles all auth.
The intention is that different sites can define their own auth routines.

At present there are some sample modules under aaa_examples.
There is also a version in the repo at lib/aaa.lua.
This means that if the system is installed from source, it will be complete.

However the big disadvantage is that anyone updating their system from the repo will have to careful not to overwrite their specific copy.

One way round this would be to remove lib/aaa.lua from the repo and have setup.py copy a version from aaa_examples if lib/aaa.lua does not exist.

Another would be to split aaa.lua into two parts:
- a generic part that has the public API, and delegates to
- a local part for the specific implementation (e.g. aaa_local)

This would allow common code to be located in aaa.lua, and would allow the local part to be independently maintained.

The common part should be able to work on its own if necessary, i.e. just return an empty rights list.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/292/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/293,https://api.github.com/repos/apache/incubator-ponymail/issues/293,incubator-ponymail,195250314,293,rights checking should be localised,sebbASF,16689231,Sebb,,CLOSED,2016-12-13T13:16:04Z,2016-12-15T23:14:33Z,"rights checking currently does not allow for sites to have local rules for matching rights with mailing lists.
At present there are 3 levels of access:
'*' - every list
'a.b.c.d' - a specific list (but would also allow '*.a.b.c.d')
'b.c.d' - '*.b.c.d' (would also allow 'b.c.d')

It's not possible to grant rights for '\*.\*.c.d' using the current code.

If the rights checking were moved to the aaa.lua module (see #292), then local sites could provide their own matching algorithms. 

Potentially these could even use additional attributes of the document. However this would require other code changes as it's currently assumed that a user has access to all or none of the private documents on a particular list. This is done for efficiency reasons. If a local installation wants to implement per-document auth this could be flagged via a boolean function. This would allow the main code to skip individual doc checks where relevant if the auth is entirely list-based.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/293/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/294,https://api.github.com/repos/apache/incubator-ponymail/issues/294,incubator-ponymail,195275145,294,Bug: lua modules should define local functions only,sebbASF,16689231,Sebb,,CLOSED,2016-12-13T14:59:07Z,2016-12-13T21:46:08Z,"Lua modules should not create or use global variables to avoid polluting the caller's namespace.

The same applies to functions.

These should all be defined as local, then the only way to invoke them is through the table returned by the require statement.

For example, at present lib/aaa.lua defines the function getRights and returns the hash 
{ rights = getRights }

So the result of 

local aaa = require 'lib/aaa'

is the function callable as aaa.rights()

However the same function also callable as getRights().","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/294/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/295,https://api.github.com/repos/apache/incubator-ponymail/issues/295,incubator-ponymail,195394166,295,An unauthorised private mail should be treated like a non-existent mail,sebbASF,16689231,Sebb,,CLOSED,2016-12-13T23:01:20Z,2016-12-17T23:43:07Z,"There are various places where the code distinguishes between a mail that cannot be found and a mail that is found but is private and inaccessible.

It would be better to treat inaccessible private mails the same as missing public mails.

This will also simplify the code, as there are fewer conditions to check.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/295/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/296,https://api.github.com/repos/apache/incubator-ponymail/issues/296,incubator-ponymail,195409392,296,Bug: thread.lua fails to fetch rights when fetching private child of public parent,sebbASF,16689231,Sebb,,CLOSED,2016-12-14T00:35:02Z,2016-12-14T02:01:54Z,"thread.lua only fetches the rights when checking a public parent doc.

If the doc has some private children (e.g. replies on a private list) then they won't be visible to the thread even when logged in","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/296/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/296,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjkyMTA2Nw==,incubator-ponymail,266921067,296,NA,sebbASF,16689231,Sebb,,NA,2016-12-14T02:01:54Z,2016-12-14T02:01:54Z,"For example, the following thread [1] includes a  reply [2] which was sent to the private list (by mistake)

The reply is not visible in the thread even when logged in as a member.

Also, starting at the private message, if one goes to the start of the thread, the original private message is not seen in the thread

[1] 
https://lists.apache.org/thread.html/ed4dc088937c19e1c1726f810ebdedb399b49e3a446c7252fcf357c0@1417295024@%3Cdev.jmeter.apache.org%3E

[2] https://lists.apache.org/thread.html/e460ee883b5b8a48e2c94746d343a92644ae44c26013230dae7c9be0@1422222519@%3Cprivate.jmeter.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NjkyMTA2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/297,https://api.github.com/repos/apache/incubator-ponymail/issues/297,incubator-ponymail,195415746,297,Enh: simplify rights checking,sebbASF,16689231,Sebb,,CLOSED,2016-12-14T01:20:56Z,2016-12-15T23:30:52Z,"At present, access checking is quite complicated:

```
local canUse = false
if doc.private then
    if account then
        if not rights then
            rights = aaa.rights(r, account)
        end
        canUse = utils.canAccessDoc(doc, rights)
    end
else
    canUse = true
end
if canUse then
...
end
```

This is because it may be expensive to fetch the rights so it should only be done if necessary.
It would be nice to be able to do something like the following:
```
if utils.canAccessDoc(doc, ...) then
...
end
```
If the caller passed a function to the canAccessDoc() method, the function could cache the rights the first time it was called.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/297/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/297,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzQ3NTQ5MQ==,incubator-ponymail,267475491,297,NA,sebbASF,16689231,Sebb,,NA,2016-12-15T23:30:52Z,2016-12-15T23:30:52Z,This was fixed as part of #293 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzQ3NTQ5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/298,https://api.github.com/repos/apache/incubator-ponymail/issues/298,incubator-ponymail,195532822,298,Bug: private background images incorrectly applied to mixed threads,sebbASF,16689231,Sebb,,OPEN,2016-12-14T13:38:39Z,2016-12-14T13:51:13Z,"When displaying a thread with mixed private and public mails, if the first mail is private then it appears that all the background has the diagonal private pink text [1]

However if the first e-mail is public [2], then private mails don't have the correct background.
Note: the thread does not display properly because of #296. Once this is fixed, the missing background can be noted.

[1] https://lists.apache.org/thread.html/0a32c28ab790abae8e6ba1788e02ab0aa52e2c76e66db4174d133354@%3Cprivate.ponymail.apache.org%3E

[2] https://lists.apache.org/thread.html/fa48c060348d7ce4e82c3accbeaaf4d858a04ad1ec86d761979e155a@%3Cdev.ponymail.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/298/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/298,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzAzODQzNg==,incubator-ponymail,267038436,298,NA,sebbASF,16689231,Sebb,,NA,2016-12-14T13:51:13Z,2016-12-14T13:51:13Z,"It appears that the background is applied to the entire thread, rather than per message in the thread","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2NzAzODQzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/299,https://api.github.com/repos/apache/incubator-ponymail/issues/299,incubator-ponymail,195897411,299,Bug: typo in all example aaa modules: xemail != exmail,sebbASF,16689231,Sebb,,CLOSED,2016-12-15T19:41:02Z,2016-12-15T19:45:14Z,"All the aaa_example modules attempt validation of the email address. 
However they all have a typo.

They set up the local 'xemail' variable but never use it.
Instead they check the 'exmail' variable.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/299/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/300,https://api.github.com/repos/apache/incubator-ponymail/issues/300,incubator-ponymail,196131107,300,Bug: stats.lua uses inconsistent email canonicalisation code,sebbASF,16689231,Sebb,,CLOSED,2016-12-16T19:00:49Z,2016-12-16T19:02:12Z,"stats.lua current has 3 sections of code which extract the canonical email address.

One of the sections uses a slightly different approach - it does not allow for emails of the form

'xxx at yyy'

Since the resulting address is used to deleting matching emails, the code would fail if that format was used.

The code should be turned into a common function and used throughout.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/300/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/301,https://api.github.com/repos/apache/incubator-ponymail/issues/301,incubator-ponymail,196133044,301,Bug: stats.lua - inconsistent output between slow_count = true/false,sebbASF,16689231,Sebb,,CLOSED,2016-12-16T19:10:56Z,2016-12-16T22:16:31Z,"The output generated by stats.lua depends on whether slow_count is true or false.
As far as possible it should be the same.

When slow_count == true;
- json.emails entries don't have gravatars
- participants names have trailing spaces
- participants entries have id entries. These are not used by the Javascript.
- numparts is always 0
- in mixed public/private lists, null entries can appear in the participants list
- in mixed lists, some entries can be omitted from the participants list","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/301/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/302,https://api.github.com/repos/apache/incubator-ponymail/issues/302,incubator-ponymail,196214029,302,Enh: updating an installation - how to update local config files,sebbASF,16689231,Sebb,,OPEN,2016-12-17T10:02:23Z,2016-12-17T10:02:23Z,"There are several files which need to be configured for each local installation.
- site/js/config.js
- site/api/lib/config.lua
- tools/ponymail.cfg

These are not included in a release, but are created as necessary by setup.py.

If an updated version is to be installed over an existing installation, that works fine so long as the new release does not require changes or additions to the files.

The release notes for a new release should detail any changes, but it would be good if changes could be handled automatically by some config upgrade process. Or perhaps there could be a config checking script which warns of any missing or obsolete settings?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/302/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/303,https://api.github.com/repos/apache/incubator-ponymail/issues/303,incubator-ponymail,196232716,303,Enh: allow preferences to use non-default mail port,sebbASF,16689231,Sebb,,CLOSED,2016-12-17T17:24:42Z,2016-12-17T19:25:36Z,For testing (and other) purposes it would be useful to be able to use a non-default SMTP port,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/303/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/304,https://api.github.com/repos/apache/incubator-ponymail/issues/304,incubator-ponymail,196233213,304,Bug: alts.js does not check for errors when calling preferences.lua,sebbASF,16689231,Sebb,,CLOSED,2016-12-17T17:36:00Z,2016-12-17T22:16:22Z,"preferences.lua can return failures for email association and removal, but the code does not do any checks.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/304/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/305,https://api.github.com/repos/apache/incubator-ponymail/issues/305,incubator-ponymail,196233585,305,Bug: preferences.lua should not return list data if it was not requested,sebbASF,16689231,Sebb,,CLOSED,2016-12-17T17:44:15Z,2016-12-17T19:25:36Z,"preferences.lua serves several purposes; by default it returns user preferences (if any) and list data.

It also supports various other parameters (associate, verify, removealt etc)
These are only processed if the user is logged in and other validation succeeds.
However if the validation fails, the parameter is ignored, and the caller gets a successful but unexpected response.

The code should return with an error if the parameter is detected but cannot be processed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/305/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/306,https://api.github.com/repos/apache/incubator-ponymail/issues/306,incubator-ponymail,196234330,306,Bug: preferences.lua should not update the user account if the mail is not sent OK,sebbASF,16689231,Sebb,,CLOSED,2016-12-17T17:59:51Z,2016-12-17T19:25:36Z,"Preferences.lua currently updates the user account before sending the mail.
So if the mail is not sent, the account will contain an unusable hash.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/306/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/307,https://api.github.com/repos/apache/incubator-ponymail/issues/307,incubator-ponymail,196246543,307,Bug: manage e-mails can create multiple identical alternate addresses,sebbASF,16689231,Sebb,,CLOSED,2016-12-17T22:31:55Z,2016-12-18T21:11:14Z,"preferences.lua should not create a duplicate request.

If the email address is already registered, the request should be ignored.
If the email address is pending verification, the request should replace the entry (i.e. update the hash)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/307/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/308,https://api.github.com/repos/apache/incubator-ponymail/issues/308,incubator-ponymail,196253283,308,Move common anonymizing code to utils,sebbASF,16689231,Sebb,,CLOSED,2016-12-18T01:54:08Z,2016-12-18T01:55:20Z,"The email address anonymising code is currently duplicated in email.lua and thread.lua.

It should be shared.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/308/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/309,https://api.github.com/repos/apache/incubator-ponymail/issues/309,incubator-ponymail,196254396,309,Bug: preferences does not properly remove nulls from account.credentials.altemail,sebbASF,16689231,Sebb,,CLOSED,2016-12-18T02:32:54Z,2016-12-18T12:44:54Z,"preferences.lua tries to tidy up the account.credentials.altemail table by removing null entries.

However it only finds the first null.
Also where the check appears in a loop which tries to match an entry, if null appears before the entry then it will be missed.

Either clean up the table before starting to use it, or allow for nulls and clean it properly before exit.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/309/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/310,https://api.github.com/repos/apache/incubator-ponymail/issues/310,incubator-ponymail,196824883,310,Bug: mbox_source can be corrupted if message is not in utf-8,sebbASF,16689231,Sebb,,CLOSED,2016-12-21T01:38:30Z,2017-03-20T00:03:19Z,"The archiver/importer in 0.10-SNAPSHOT assumes that the message body can be converted to utf-8 for storage in mbox_source. However that is not always the case.

The mbox body text is converted using the content-type charset (or utf-8 if that fails).
Something similar could be done for the mbox_source, but this might change the input, as a single message can potentially contain text in several different charsets. The export function could be affected.

It would be safer to store the input as a binary copy.
This would allow unmodified export to mbox or other formats.
However it could affect the source display.

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/310/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/310,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2OTAzNTc3OQ==,incubator-ponymail,269035779,310,NA,sebbASF,16689231,Sebb,,NA,2016-12-23T19:33:51Z,2016-12-23T19:33:51Z,"Sample message that causes the issue:

http://mail-archives.apache.org/mod_mbox/openoffice-users-de/201612.mbox/%3C906a12f9-a548-19d3-29d9-d39d9d7bd4c5%40gmx.net%3E

Note that the current Pony Mail version also corrupts the message display:
https://lists.apache.org/thread.html/784e45055f359b9b398d2168e606dbe912de6daeec110673d7a19e34@%3Cusers-de.openoffice.apache.org%3E
This has been fixed in 0.10-SNAPSHOT","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2OTAzNTc3OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/310,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4NzY1OTA1NA==,incubator-ponymail,287659054,310,NA,sebbASF,16689231,Sebb,,NA,2017-03-20T00:03:19Z,2017-03-20T00:03:19Z,Duplicate of #366 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4NzY1OTA1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/311,https://api.github.com/repos/apache/incubator-ponymail/issues/311,incubator-ponymail,197931073,311,Branding should be configurable,sebbASF,16689231,Sebb,,OPEN,2016-12-28T23:26:07Z,2016-12-28T23:26:07Z,"The page titles and headings etc. are currently replete with Pony Mail! references.

It makes sense for the page footer to reference the Pony Mail brand, but it does not really make sense for all the pages to also reference Pony Mail. The site branding should be site-specific.
Likewise the logos.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/311/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/312,https://api.github.com/repos/apache/incubator-ponymail/issues/312,incubator-ponymail,198156535,312,Bug: many python scripts insist on Python 3.4,sebbASF,16689231,Sebb,,CLOSED,2016-12-30T14:56:52Z,2017-01-04T14:56:11Z,"Many of the Python scripts in the tools directory include the line:

#!/usr/bin/env python3.4

This causes the script to fail when run on anything other than Python 3.4.
For example it will fail when run on a system with Python 3.5 only.
This does not seem right.
If the intention is to ensure that the version of Python is at least 3.4, then this should be done another way.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/312/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/313,https://api.github.com/repos/apache/incubator-ponymail/issues/313,incubator-ponymail,198172786,313,setup.py : prompt for ES index settings,johnament,108167,John Ament,,CLOSED,2016-12-30T17:18:30Z,2017-01-07T23:10:24Z,"When creating the index, there's no options to specify things such as:

1. number of shards

1. number of replicas

We should add those to the setup.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/313/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/313,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2OTc5OTM0NA==,incubator-ponymail,269799344,313,NA,sebbASF,16689231,Sebb,,NA,2016-12-30T17:36:21Z,2016-12-30T17:36:21Z,"AIUI this is only possible with ES 5.x; previously such settings were done externally.
So in order to implement this, ES 5.x must be made a pre-condition, which is not the case at present.

IMO the defaults should be values that are suitable for test installations.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI2OTc5OTM0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/313,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDAwMDEzMQ==,incubator-ponymail,270000131,313,NA,johnament,108167,John Ament,,NA,2017-01-02T17:33:52Z,2017-01-02T17:33:52Z,"Not sure what you mean.  Updating index settings w/ number of replicas has always been configurable on the fly https://www.elastic.co/guide/en/elasticsearch/guide/current/replica-shards.html .  Its purposely dynamic since a cluster is meant to grow/shrink.  So yes, it probably makes sense that the number of replicas defaults to 0.

Number of shards though is based on your data size, not a ""test system"" vs ""production system.""  See https://www.elastic.co/guide/en/elasticsearch/guide/current/_index_settings.html for info on setting the value.  When you create an index, you can specify the shard count - https://www.elastic.co/guide/en/elasticsearch/reference/2.4/indices-create-index.html - the way it was being done in the module isn't quite right, it's setting a default for the entire node, but each index may need different shard counts.  E.g. a single shard may make sense for a single mailing list, or 6 months of history, but when it comes to importing test data sets that span larger amounts multiple shards may make sense (may make sense to use the standard `ceil(doc_count/1000000)` function","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDAwMDEzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/313,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDAwNzIwMQ==,incubator-ponymail,270007201,313,NA,sebbASF,16689231,Sebb,,NA,2017-01-02T18:43:56Z,2017-01-02T18:43:56Z,"Not sure where I got the impression that one could only set the shard count through static config in earlier versions. So ignore the bit about requiring ES 5.0.

Regarding test system: I was thinking of a system mainly used for unit tests, rather than performance or volume testing. I.e. the sort of system one might want to set up to try the code out.
That is likely to have fewer than 1m docs, so a single shard is sufficient. This will make it easier for the first time user. Someone intending to use the system for more exacting purposes would/should review the settings more carefully.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDAwNzIwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/314,https://api.github.com/repos/apache/incubator-ponymail/issues/314,incubator-ponymail,198364648,314,Support for time series indices,johnament,108167,John Ament,,OPEN,2017-01-02T17:47:36Z,2017-01-02T19:44:24Z,"Ponymail is basically time series data.  It captures email data, including time sent.  Time sent may make for a good key on a time series index.

https://www.elastic.co/guide/en/elasticsearch/guide/current/time-based.html

One of the downsides to elasticsearch is that your shard count can't change.  There is an upper limit on total data stored in an index, based on the shard count and doc size.  In order to allow ponymail to operate beyond those limits, it should store in an index keyed off of some factor.  That factor is probably configurable - daily, monthly, yearly - or off.  That index should be created automatically with settings standardized based on data volume.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/314/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/314,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDAxMjkyNA==,incubator-ponymail,270012924,314,NA,sebbASF,16689231,Sebb,,NA,2017-01-02T19:44:24Z,2017-01-02T19:44:24Z,"Unlike logging events, emails don't always have an accurate timestamp.

The Date: header can contain completely erroneous information (v. #87 & #122)
In the case of mailing-list messages, there will be other timestamps that are more likely to be accurate, but are they consistent across different sources?
Great care will need to be taken to ensure that a consistent scheme is used to ensure that mails don't 'fall through the cracks'.

If the max number of docs in an index does depend on the doc size (where is this documented?), then the mbox_source index will reach the limit well before the mbox index. Because the mbox_source index is not used for searching, it should be much simpler to implement a partitioning scheme for it.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDAxMjkyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/315,https://api.github.com/repos/apache/incubator-ponymail/issues/315,incubator-ponymail,198615420,315,Bug: elastic.scroll does not return nil sid when there are no more results,sebbASF,16689231,Sebb,,CLOSED,2017-01-04T02:11:22Z,2017-01-04T13:16:41Z,"The code in pminfo.lua assumes that elastic.scroll will return a nil sid when there are no more results.
That is not the case - the sid will just remain the same.
When there are no more results the hits array will be empty.

The only reason the code does not loop forever is that there is a max loop count of 5.
As well as being inefficient, it's possible that some results may be missed.

The code in stats.lua also assumes sid will eventually be nil.
However it also checks the hits array, so the sid check is merely redundant.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/315/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/316,https://api.github.com/repos/apache/incubator-ponymail/issues/316,incubator-ponymail,198619950,316,Bug: elastic.scan with search_type=scan disables sort yet callers use sort,sebbASF,16689231,Sebb,,CLOSED,2017-01-04T02:56:02Z,2017-01-06T12:05:28Z,"Both pminfo.lua and stats.lua use elastic.scan.
The queries include sort clauses (by date or epoch desc), however these are ignored when search_type=scan is used (as is currently the case for elastic.scan).

Does it even make sense to sort scrolled queries ?
By their very nature such queries are intended for large numbers of results, which will be very expensive to sort in general.

ES 5.0 no longer supports search_type=scan [1]
Instead one can sort by _doc which is optimised to behave like search_type=scan

[1] [1] https://www.elastic.co/guide/en/elasticsearch/reference/5.1/breaking_50_search_changes.html#_literal_search_type_scan_literal_removed
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/316/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/316,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDg5MTM2Mg==,incubator-ponymail,270891362,316,NA,sebbASF,16689231,Sebb,,NA,2017-01-06T12:05:28Z,2017-01-06T12:05:28Z,"In the case of stats.lua, the results are sorted locally after retrieval. The same now applies to pminfo.lua (See #322). In these cases it looks like the sorting is needed in order to provide stable message thread analysis.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDg5MTM2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/317,https://api.github.com/repos/apache/incubator-ponymail/issues/317,incubator-ponymail,198769690,317,Issues with No Subject ,spmallette,384249,stephen mallette,,OPEN,2017-01-04T17:53:00Z,2017-01-17T20:11:56Z,"Using Chrome Version 55.0.2883.87 I recently posted a reply to an ""old"" (maybe 30 days) email thread using the ""reply"" button on the thread itself. I noticed that when I clicked the ""reply"" button i got a pop-up window that did not include the subject line (i chose the option to reply in the UI and did NOT ""reply via mail client""). I would call that the first problem since I would expect it to have had an ""RE: <original subject line>"" as the subject.

The second problem showed itself after I posted my reply. Note that I did not bother to edit the subject line, thinking that perhaps ponymail would sort the problem out on its end behind the scenes. In the end, the post appeared as expected, but with an empty subject (so my hope that ponymail would quietly resolve the lack of a subject in the background was proved wrong).  That wouldn't be so bad, except that the real killer was that without a subject I found it impossible to click on the thread to read it (not sure if there was some workaround to that).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/317/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/317,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDQ0MDQwNw==,incubator-ponymail,270440407,317,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-01-04T18:02:24Z,2017-01-04T18:02:24Z,"Apparently, the fix for the first part is easy, albeit weird:
in the composer JS:
txt.value = ""foo"" will set the text value to ""foo"", but only for a few ms, then wipe it
using txt.setAttribute(""value"", ""foo""); instead seems to no exhibit this issue.

As for the second issue, I think we fixed that in 0.10, but I'll have to check.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MDQ0MDQwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/317,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI4MzkzMQ==,incubator-ponymail,273283931,317,NA,sebbASF,16689231,Sebb,,NA,2017-01-17T20:07:22Z,2017-01-17T20:07:22Z,"A sample mail with no subject is here:

https://lists.apache.org/list.html?issues@ponymail.apache.org:dfr=2016-10-1|dto=2016-10-31:no+subject

This cannot be viewed except in Social theme, even then it's not possible to view the Permalink; only the Atom feed works. That problem has been fixed in 0.10.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI4MzkzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/317,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI4NTE3Nw==,incubator-ponymail,273285177,317,NA,sebbASF,16689231,Sebb,,NA,2017-01-17T20:11:55Z,2017-01-17T20:11:55Z,"It looks as though the 'Re: ' problem has been sorted as well, at least when replying from thread.html","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI4NTE3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/318,https://api.github.com/repos/apache/incubator-ponymail/issues/318,incubator-ponymail,198851916,318,Bug: limit filter is deprecated in ES 2.0; dropped in ES 5.0,sebbASF,16689231,Sebb,,CLOSED,2017-01-05T01:10:58Z,2017-01-05T01:21:58Z,"The limit filter was deprecated in ES 2.0 and became a no-op.
In ES 5.x it has been dropped.
A work-round is to use the terminate_after parameter.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/318/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/319,https://api.github.com/repos/apache/incubator-ponymail/issues/319,incubator-ponymail,198932574,319,pminfo.lua: domain parameter is not used externally,sebbASF,16689231,Sebb,,CLOSED,2017-01-05T11:18:18Z,2017-01-05T11:36:33Z,"The domain parameter is not used externally.
The stats.lua script is more suitable for customised list data, should it be required","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/319/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/320,https://api.github.com/repos/apache/incubator-ponymail/issues/320,incubator-ponymail,198963028,320,Bug: pminfo.lua fetches and saves epoch but never uses it,sebbASF,16689231,Sebb,,CLOSED,2017-01-05T14:04:58Z,2017-01-05T14:06:09Z,"pminfo.lua fetches the epoch and saves it in the emails[] variable, but never references it.

This is a waste of resources","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/320/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/321,https://api.github.com/repos/apache/incubator-ponymail/issues/321,incubator-ponymail,199040795,321,Enh: pminfo.lua - no need to use scroll if doc count < 10000,sebbASF,16689231,Sebb,,CLOSED,2017-01-05T19:39:36Z,2017-01-05T19:42:26Z,"ES has a default maximum of 10000 for size+from in a single query.
Scrolling is needed to handle larger sizes; but scroll contexts are costly, so avoid them unless necessary.

Note: it looks like ES 5.0 has a better solution: search_after

https://www.elastic.co/guide/en/elasticsearch/reference/5.0/search-request-search-after.html","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/321/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/322,https://api.github.com/repos/apache/incubator-ponymail/issues/322,incubator-ponymail,199179512,322,Bug: scroll/scan ignores sort order,sebbASF,16689231,Sebb,,CLOSED,2017-01-06T11:39:49Z,2017-01-06T11:46:34Z,"Using search_type=scan ignores any sort order in the query [1].

Code which depends on the order needs to sort the results, or the order will be indeterminate.
This applies to pminfo.lua currently (stats.lua already sorts to get round this).
As a result, the thread count generated by pminfo.lua will not agree wit stats.lua

Note: this is a temporary fix; scroll/scan is deprecated since 2.1 and dropped in 5.0.

[1] https://www.elastic.co/guide/en/elasticsearch/reference/2.0/search-request-scroll.html#scroll-scan","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/322/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/323,https://api.github.com/repos/apache/incubator-ponymail/issues/323,incubator-ponymail,199194612,323,Bug: stats.lua - slow_count option is unnecessary,sebbASF,16689231,Sebb,,CLOSED,2017-01-06T13:17:13Z,2017-01-08T11:54:39Z,"AFAICT this is an optional means of counting the top10 senders.

It seems to use much the same data as the default, except that it uses from_raw instead of from.

Does it add any value?
If not, it should be dropped, as it complicates the code (which is already very long).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/323/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/324,https://api.github.com/repos/apache/incubator-ponymail/issues/324,incubator-ponymail,199363039,324,Bug: flat mode does not react to theme changes,sebbASF,16689231,Sebb,,OPEN,2017-01-07T13:57:26Z,2019-09-06T08:40:55Z,"When in flat mode, changing the theme has no effect.
However it is possible to change to another mode, change the theme, and then change to flat mode.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/324/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/325,https://api.github.com/repos/apache/incubator-ponymail/issues/325,incubator-ponymail,199363177,325,Bug: selected theme is not indicated on the screen,sebbASF,16689231,Sebb,,OPEN,2017-01-07T14:00:45Z,2017-01-07T14:00:45Z,"The theme selector shows a menu of possible themes, but the current one is not indicated in any way.
This contrasts with the mode selector which always shows the current mode.

It would be useful if the current theme were shown with a tick mark or similar","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/325/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/326,https://api.github.com/repos/apache/incubator-ponymail/issues/326,incubator-ponymail,199363253,326,Bug: Static HTML lists theme does not work with non-default URLs,sebbASF,16689231,Sebb,,CLOSED,2017-01-07T14:02:18Z,2017-01-07T18:11:05Z,"The static HTML list theme does not work if PM uses a non-default URL, e.g.

http://host/ponymail/","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/326/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/326,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTA5OTg5Mw==,incubator-ponymail,271099893,326,NA,sebbASF,16689231,Sebb,,NA,2017-01-07T18:11:05Z,2017-01-07T18:11:05Z,This was fixed by #328 and #327 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTA5OTg5Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/327,https://api.github.com/repos/apache/incubator-ponymail/issues/327,incubator-ponymail,199372591,327,Bug: absolute URLs must be prefixed with URLBase in JS files,sebbASF,16689231,Sebb,,CLOSED,2017-01-07T17:13:00Z,2017-01-07T17:18:31Z,"Pony Mail is designed to be used from any level of a webserver, not just the top level.
The URLBase config variable is defined for this purpose in JS files.
There are several instances of href='/oauth.html' which need to be fixed","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/327/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/328,https://api.github.com/repos/apache/incubator-ponymail/issues/328,incubator-ponymail,199373335,328,Bug: cannot use absolute URLs in HTML pages,sebbASF,16689231,Sebb,,CLOSED,2017-01-07T17:27:08Z,2017-01-07T17:42:26Z,"Further to #327, URLs in HTML pages must also allow for non-root installations.

The simplest way to do this is using relative URLs instead of absolute.
This should work in most (all?) cases.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/328/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/329,https://api.github.com/repos/apache/incubator-ponymail/issues/329,incubator-ponymail,199389556,329,"Bug: 'hot topics' feature should use terms, not significant_terms",sebbASF,16689231,Sebb,,CLOSED,2017-01-07T22:39:40Z,2017-01-08T00:25:58Z,"The 'word cloud' option turns on the 'hot topics' under the statistics panel.

The topics are currently generated using the ES 'significant_terms' aggregation.

If the intention is to show the hot topics for the selected messages, then I think this is the wrong aggregation. 

Significant_terms shows terms in the selection which occur more frequently relative to the average in the background - which in this case is the mbox index. I think it would make more sense to show the busiest terms for the selection only.

~~This would have the advantage that the aggregation will work on ES 5.x without needing to enable fielddata on the subject field~~

The aggregation can also be filtered by providing exclusions, e.g. the following will exclude words or 3 letters or fewer:

""exclude"": "".|..|...""

The exclusion list could be defined as a config item, with a suitable default (e.g. as above)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/329/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/329,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTEyMDA0OQ==,incubator-ponymail,271120049,329,NA,sebbASF,16689231,Sebb,,NA,2017-01-08T00:23:56Z,2017-01-08T00:23:56Z,"In fact the 'terms' aggregation also does not work on ES 5.x for text fields.
(The other aggregations are all done on keyword fields)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTEyMDA0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/330,https://api.github.com/repos/apache/incubator-ponymail/issues/330,incubator-ponymail,199418536,330,Bug: stats.lua updates senders array unnecessarily in statsOnly (quick) mode,sebbASF,16689231,Sebb,,CLOSED,2017-01-08T12:13:30Z,2017-01-08T12:23:08Z,"stats.lua updates the senders array regardless of whether it will be used or not.
There's no point maintaining it in statsOnly mode.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/330/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/331,https://api.github.com/repos/apache/incubator-ponymail/issues/331,incubator-ponymail,199419070,331,Bug: stats.lua returns email time instead of os time in unixtime field,sebbASF,16689231,Sebb,,CLOSED,2017-01-08T12:26:16Z,2017-01-08T12:45:16Z,"stats.lua returns the most recent email time in the unixtime field.
However the Javascript expects to get the server OS time.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/331/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/331,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTE0ODQ2NA==,incubator-ponymail,271148464,331,NA,sebbASF,16689231,Sebb,,NA,2017-01-08T12:38:23Z,2017-01-08T12:38:23Z,"Since the time is used for Javascript caching, it's important that it is accurate as far as the server is concerned. Email times can be future dated which would mess up the caching. So really only os.time will do here.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTE0ODQ2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/332,https://api.github.com/repos/apache/incubator-ponymail/issues/332,incubator-ponymail,199454632,332,Bug: flat mode won't re-open emails on return to screen,sebbASF,16689231,Sebb,,OPEN,2017-01-08T23:11:46Z,2017-01-08T23:11:46Z,"Select a page in flat mode.

Open and close some mails

Select ""Show Next n""
Select ""Show Previous n""

The mails you opened previously won't open; nothing happens when clicking the subject","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/332/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/333,https://api.github.com/repos/apache/incubator-ponymail/issues/333,incubator-ponymail,199523132,333,Always use Javascript conditional blocks,sebbASF,16689231,Sebb,,CLOSED,2017-01-09T10:48:54Z,2017-01-09T10:52:34Z,"Whilst it may be neater to code single conditional statements inline, this makes debugging trickier as it's not possible to set a break-point within the condition.

Therefore JS should use conditional blocks wherever possible.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/333/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/334,https://api.github.com/repos/apache/incubator-ponymail/issues/334,incubator-ponymail,199973863,334,Bug: stats.lua ignores maxresults if it is > 10000,sebbASF,16689231,Sebb,,OPEN,2017-01-11T00:41:13Z,2017-01-16T17:35:06Z,"If maxresults is < 10000, then at most maxresults will be returned, because the query uses the size=maxresults parameter.

If maxresults is > 10000 then stats.lua has to use scan/scroll to fetch the results.

Now when using scrolling, the size parameter is the max number of results per batch and if using scan/scroll it is the maximum results per shard per batch. It does not control the total responses; the scrolling only stops when no more results are available.

So when using scrolling the maxresults limit is ignored.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/334/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/334,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MjkyMjYwMQ==,incubator-ponymail,272922601,334,NA,sebbASF,16689231,Sebb,,NA,2017-01-16T17:35:06Z,2017-01-16T17:35:06Z,"There does not seem to be an efficient way to fix this without using search_after, which requires ES 5.x.

For most efficient scrolling, the query must use _doc order (*). This means that the first N results won't in general be the same as the corresponding query using the desired sort order.

For versions before ES 5.x, it looks like the only options are:
- use the 'wrong' sort order for the scroll, probably causing performance issues
- stop scrolling early; this will likely skew the results.
- ignore the problem

(*) this is not a problem when scrolling is used as intended - i.e. to process all matching documents.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MjkyMjYwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/335,https://api.github.com/repos/apache/incubator-ponymail/issues/335,incubator-ponymail,199977755,335,Bug: GUI does not report maxResult truncation correctly,sebbASF,16689231,Sebb,,CLOSED,2017-01-11T01:09:30Z,2017-01-17T19:47:14Z,"Assume that config.maxResults == 5000.

If there are exactly 5000 mails, then the GUI reports:

""More than 5,000 emails found, truncating!""

This is because it checks for >= rather than >.

If maxResults is > 10000, then the GUI again reports truncation, but in fact truncation does not occur because of issue #334.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/335/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/335,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTgzODgzMw==,incubator-ponymail,271838833,335,NA,sebbASF,16689231,Sebb,,NA,2017-01-11T10:54:11Z,2017-01-11T10:54:11Z,"If the response contains fewer emails than maxResults, then there has been no truncation.
Otherwise it's not possible to be specific at present; truncation may or may not have occurred.

If a normal query (not scan/scroll) has been used it's only possible to say that truncation may have occurred.

For the scan/scroll case it depends how #334 is resolved, but in general it's not possible to determine if any emails have been omitted without knowing how many emails are visible to the user.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MTgzODgzMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/335,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI3NTk3Ng==,incubator-ponymail,273275976,335,NA,sebbASF,16689231,Sebb,,NA,2017-01-17T19:38:58Z,2017-01-17T19:38:58Z,"If the number of emails actually returned is greater than the limit, then truncation has not occurred with the current scroll behaviour. If the number is the same, then truncation may have occurred.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MzI3NTk3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/336,https://api.github.com/repos/apache/incubator-ponymail/issues/336,incubator-ponymail,200062862,336,Bug: code should delete scroll id after use,sebbASF,16689231,Sebb,,CLOSED,2017-01-11T11:00:12Z,2017-01-12T23:13:16Z,"As per:

https://www.elastic.co/guide/en/elasticsearch/reference/2.1/search-request-scroll.html#_clear_scroll_api

the scroll id should be released as soon as it is no longer needed, rather than waiting for timeout to occur.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/336/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/336,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MjMxNDAwMQ==,incubator-ponymail,272314001,336,NA,sebbASF,16689231,Sebb,,NA,2017-01-12T23:13:16Z,2017-01-12T23:13:16Z,Note: it looks as though the Python library automatically releases the scroll id when there are no more scroll results (at least when using scan/scroll),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3MjMxNDAwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/337,https://api.github.com/repos/apache/incubator-ponymail/issues/337,incubator-ponymail,200067157,337,ES 5.x new features,sebbASF,16689231,Sebb,,OPEN,2017-01-11T11:20:11Z,2017-01-11T11:20:11Z,"Issue to track ES 5.x new features that may be useful. This may be helpful in determining when to switch to requiring ES 5.x as a minimum requirement.

Search_after [1].
This would allow cheaper scrolling. The GUI could potentially fetch only the results it needed to display/

Scripting [2]
ES now includes built-in secure scripting.


[1] https://www.elastic.co/guide/en/elasticsearch/reference/5.0/search-request-search-after.html

[2] https://www.elastic.co/guide/en/elasticsearch/reference/5.0/modules-scripting.html","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/337/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/338,https://api.github.com/repos/apache/incubator-ponymail/issues/338,incubator-ponymail,200403876,338,Should probably be using query filters for some search terms,sebbASF,16689231,Sebb,,OPEN,2017-01-12T15:53:27Z,2017-01-12T15:53:27Z,"The code currently does not use any filter queries.
These should probably be used for at least some of the query parameters.
For example date ranges.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/338/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/339,https://api.github.com/repos/apache/incubator-ponymail/issues/339,incubator-ponymail,200493646,339,Bug: edit-list.py--mid parameter is not handled correctly,sebbASF,16689231,Sebb,,OPEN,2017-01-12T22:07:35Z,2017-01-12T22:07:35Z,"The --mid parameter is documented in the help message as follows:

""Source Message-ID to edit""

However, when it is used in the query, it is matched against the 'mid' property, rather than 'message-id'. In other words, the help text is incorrect.

Furthermore, since the 'mid' property is analysed, and its values contain break characters, it's not actually possible to retrieve a message by its full mid. 

It is possible to retrieve a message by using a part of the mid, e.g. if mid='abcd@<d.e.f.g>' then one can match on 'abcd'. But this may not be unique; there may be matching messages on multiple mailing lists.

It would be possible to change the code to match against 'message-id', because that is not analyzed. This would agree with the Help message. However, message-ids are not unique - e.g. if a message is sent to multiple lists they will all have the same message-id, and the message-ids may not be unique. So this should not be the only way to select a message.

Another solution is to match against the internal '_id'.
This is guaranteed to be unique, and is the same as the 'mid'.
In which case the Help message needs to be adjusted accordingly.

Or perhaps the code should support both message-id and _id as selectors.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/339/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/340,https://api.github.com/repos/apache/incubator-ponymail/issues/340,incubator-ponymail,200805864,340,Enh: indicate which months are outside the archive span for a list,sebbASF,16689231,Sebb,,CLOSED,2017-01-14T14:09:48Z,2017-01-14T14:16:13Z,"The Archives: drop-down list always shows full years (except for the current year) even if the archive does not span the whole year. If one is looking for the first or last message to a list that can result in wasted effort viewing months that are outside the span of the archive.

This can be done by changing the display for months that are outside the span.
For example using italic for the normal drop-down and enclosing the mobile drop-down dates in parentheses. This provides a simple indication to the user.

See also #51 - show mails per month, which would be useful where the mailing list does not have mails every month.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/340/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/341,https://api.github.com/repos/apache/incubator-ponymail/issues/341,incubator-ponymail,200865309,341,Make 2.1 the minimum supported version of Elasticsearch,sebbASF,16689231,Sebb,,CLOSED,2017-01-15T12:14:32Z,2017-01-17T19:49:07Z,"Elasticsearch (ES) 1.x versions are no longer being developed, so it does not make sense to continue to support 1.x unless that can be done without compromising the ability to support the current version ES 5.x.

ES 5.x removes support for some features that were deprecated in 2.x. This means changes are needed to the existing code-base.

ES 2.1 seems to be the first version that supports efficient scrolling when using _doc sort order.
This is necessary to support scrolling with ES 5.x, which drops support from the scan search type.

Also ES 2.x supports terminate_after which is needed for the word-cloud feature in ES 5.x.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/341/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/341,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mjc0Njk5NA==,incubator-ponymail,272746994,341,NA,sebbASF,16689231,Sebb,,NA,2017-01-15T23:32:24Z,2017-01-15T23:32:24Z,"Updated docs:
http://git-wip-us.apache.org/repos/asf/incubator-ponymail-site/diff/e783f609

http://git-wip-us.apache.org/repos/asf/incubator-ponymail/diff/0ff8371f","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mjc0Njk5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/342,https://api.github.com/repos/apache/incubator-ponymail/issues/342,incubator-ponymail,200868499,342,Enh: full_headers should be a user choice,sebbASF,16689231,Sebb,,OPEN,2017-01-15T13:22:04Z,2017-01-15T13:22:04Z,"At present, the backend config item full_headers determines whether or not additional headers (To:, Cc:) are displayed.

It would make more sense if this was under the control of the user.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/342/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/343,https://api.github.com/repos/apache/incubator-ponymail/issues/343,incubator-ponymail,200904239,343,Bug: default to medium ID generator,sebbASF,16689231,Sebb,,CLOSED,2017-01-15T22:59:18Z,2017-01-15T23:00:55Z,"The site documentation states that the default ID generator is 'medium', however that is not the case. The default is actually 'short' if the setting is missing or unrecognised.

Change the default to agree with the docs.

Note that all of the existing generators have problems (#176 #177 #178) but 'medium' is better than 'short' and arguably no worse than 'full'","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/343/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/344,https://api.github.com/repos/apache/incubator-ponymail/issues/344,incubator-ponymail,201046605,344,scroll/scan is not supported in ES 5.x,sebbASF,16689231,Sebb,,CLOSED,2017-01-16T15:22:40Z,2017-01-16T17:00:53Z,"Scroll/scan was deprecated in 2.x, and has been removed in 5.x.
The replacement is to sort by _doc order, which is optimised.

The elastic.scan method can be dropped.
Callers need to allow for results from the first ES query.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/344/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/344,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mjg5NDU4MA==,incubator-ponymail,272894580,344,NA,sebbASF,16689231,Sebb,,NA,2017-01-16T15:39:44Z,2017-01-16T15:39:44Z,"Note that a scroll response can return more than 10k results - which is the limit for normal queries.

To avoid excessively large individual responses, the batch size may need to be adjusted when switching from query to scroll.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI3Mjg5NDU4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/345,https://api.github.com/repos/apache/incubator-ponymail/issues/345,incubator-ponymail,201094015,345,Bug: ES 5.x does not support word-cloud (stats.lua),sebbASF,16689231,Sebb,,CLOSED,2017-01-16T18:48:25Z,2018-05-17T23:33:47Z,"ES 5.x does not support the word-cloud code in stats.lua.
The query fails with:

""Fielddata is disabled on text fields by default. Set fielddata=true on [subject] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.""

It can be fixed by changing the mapping as follows:

PUT ponymail/_mapping/mbox?update_all_types 
{
""properties"": {
    ""subject"": { 
      ""type"":     ""text"",
      ""fielddata"": true
    }
  }
}

However this increases memory storage as noted above.

See
https://www.elastic.co/guide/en/elasticsearch/reference/5.0/fielddata.html#_fielddata_is_disabled_on_literal_text_literal_fields_by_default","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/345/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/346,https://api.github.com/repos/apache/incubator-ponymail/issues/346,incubator-ponymail,202398897,346,Bug: GUI ignores date span in list.html URI if query is blank,sebbASF,16689231,Sebb,,CLOSED,2017-01-22T18:07:38Z,2017-01-22T18:11:49Z,"The GUI ignores the date span in the list.html URI if the query is blank.

For example:

https://lists.apache.org/list.html?dev@ponymail.apache.org:lte=10d:test

will search for 'test' in the last 10 days

However

https://lists.apache.org/list.html?dev@ponymail.apache.org:lte=10d:

will search for all mails in the last month - i.e. the date span has been ignored, and been replaced with the default.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/346/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/347,https://api.github.com/repos/apache/incubator-ponymail/issues/347,incubator-ponymail,202400071,347,Bug: search phrase dropped from list.html URI if date span  is yyyy-mm,sebbASF,16689231,Sebb,,CLOSED,2017-01-22T18:28:25Z,2017-01-22T18:53:52Z,"Further to #346, the search phrase is dropped if the date span is expressed as yyyy-mm.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/347/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/348,https://api.github.com/repos/apache/incubator-ponymail/issues/348,incubator-ponymail,202510991,348,Bug: database list_raw field does not distinguish list name from domain name,sebbASF,16689231,Sebb,,CLOSED,2017-01-23T11:36:38Z,2017-01-24T14:07:36Z,"List names are 'normalised' to <a.b.c.d>
This works fine for most purposes.
However it's not possible to distinguish a.b@c.d from a@b.c.d.

This is important because of the way that wildcard searches are done.
For example if the following domains exist:
c.d
b.c.d
It's not currently possible to search lists matching *@c.d without also including *@b.c.d.

There may be other code that is affected by this design.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/348/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/349,https://api.github.com/repos/apache/incubator-ponymail/issues/349,incubator-ponymail,202662628,349,Bug: Archive calendar does not correspond with search results / current list,sebbASF,16689231,Sebb,,OPEN,2017-01-23T21:57:15Z,2017-01-23T21:57:15Z,"Following a search of the current list, the Archive calendar shows the full range of the list rather than the matching dates; the range of matching results can only be gleaned from scrolling the results.

When a search is extended to multiple lists, the Archive calendar is set to the total range of all the matching lists, regardless of whether there are any matches. However, the list buttons only relate to the current list. So the Archive calendar can show many more entries than actually exist for the list.

The Archive calendar should either continue to show the correct dates for the list to which it applies, or it should become a way to navigate the search results, in which case the calendar should only show the range of results.

The current behaviour with multiple lists is very confusing.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/349/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/350,https://api.github.com/repos/apache/incubator-ponymail/issues/350,incubator-ponymail,202677432,350,Bug: stats.lua first/last dates don't always agree with visible mails,sebbASF,16689231,Sebb,,CLOSED,2017-01-23T23:05:06Z,2017-01-23T23:06:42Z,"Further to #349:

The stats.lua module reports the first/last dates for the specified list(s). 
These are used to construct the Archive calendar months.

However it does not take mail visibility into account, so the result can be different from what the user actually sees. This is confusing; the calendar should agree with the visible mails.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/350/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/351,https://api.github.com/repos/apache/incubator-ponymail/issues/351,incubator-ponymail,202688011,351,Bug: ES 5.0 no longer supports the write consistency option for index(); archiver fails,sebbASF,16689231,Sebb,,CLOSED,2017-01-24T00:06:11Z,2017-01-28T23:49:28Z,"The archiver fails on ES 5.0:

Archiving failed!: index() got an unexpected keyword argument 'consistency'

The parameter was removed in ES 5.x:
https://github.com/elastic/elasticsearch/pull/19454

It has been replaced by: wait_for_active_shards","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/351/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/352,https://api.github.com/repos/apache/incubator-ponymail/issues/352,incubator-ponymail,202795917,352,Use constant for max list count instead of 500000,sebbASF,16689231,Sebb,,CLOSED,2017-01-24T11:45:17Z,2017-01-24T11:51:50Z,"Several Lua scripts include size = 500000 when aggregating list_raw entries.

This should be a constant (e.g. in utils.lua)

At a later stage if necessary it could be made into a config item, but at present there does not seem to be a use case for making it configurable.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/352/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/353,https://api.github.com/repos/apache/incubator-ponymail/issues/353,incubator-ponymail,202881615,353,Bug: useless conditional when fetching id parameter,sebbASF,16689231,Sebb,,CLOSED,2017-01-24T17:10:38Z,2017-01-24T17:43:33Z,"Several Lua scripts have the following code:

    local eid = (get.id or """"):gsub(""\"""", """")
    local doc = elastic.get(""mbox"", eid or ""hmm"", true)

However eid cannot be false (or nil) at this point so the 'or ""hmm""' condition serves no purpose.

Note that get.id only returns nil if the id parameter has not been provided at all. If id is provided, then the values are assigned as follows:

?id => ""1""
?id= => """" (empty string)
?id=abc => ""abc""

An empty string causes ES to return error 400, which is not ideal.

The following code would work better:

    local eid = (get.id or ""hmm""):gsub(""\"""", """")

but would still result in error 400 if the user provided ""?id=""

The code should either throw an error for missing/unspecified id, or should ensure that only a non-empty string is passed to ES.

The following sets eid = ""1"" unless it is provided:

    local eid = (get.id and #get.id > 0 and get.id or ""1""):gsub(""\"""", """")
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/353/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/354,https://api.github.com/repos/apache/incubator-ponymail/issues/354,incubator-ponymail,203807690,354,Optionally include other e-mail addresses,ilgrosso,1064664,Francesco Chicchiriccò,,OPEN,2017-01-28T13:37:15Z,2017-01-28T13:37:15Z,"Currently, the only e-mail address shown in a single message is the one of the sender.

Would it be possible to set a flag in the import tool so that other e-mail addresses (in `To` and `CC`) are reported as well, and could also be searched?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/354/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/355,https://api.github.com/repos/apache/incubator-ponymail/issues/355,incubator-ponymail,203833955,355,Cookie should use httpOnly and Secure,sebbASF,16689231,Sebb,,CLOSED,2017-01-28T21:52:53Z,2017-01-28T23:51:24Z,"The cookie would be more secure if it were httpOnly and Secure.

Adding Secure would make local testing slightly more involved as it would either require setting up an HTTPS server or temporarily changing the code to comment out the Secure setting, but neither of these is particularly hard to do.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/355/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/356,https://api.github.com/repos/apache/incubator-ponymail/issues/356,incubator-ponymail,203869780,356,Inconsistent LID validation,sebbASF,16689231,Sebb,,CLOSED,2017-01-29T13:30:06Z,2018-02-20T19:46:15Z,"preferences.lua requires the domain to be more than 3 characters long.

However the archiver and importer don't check this.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/356/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/356,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzAzNzQwNg==,incubator-ponymail,367037406,356,NA,sebbASF,16689231,Sebb,,NA,2018-02-20T16:37:48Z,2018-02-20T16:37:48Z,"Further, preferences.lua requires a lid to contain both a list and a domain.
This is not checked by the importer or archiver.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzAzNzQwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/356,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzA4MDg1NQ==,incubator-ponymail,367080855,356,NA,sebbASF,16689231,Sebb,,NA,2018-02-20T18:55:35Z,2018-02-20T18:55:35Z,"There seems no point in requiring the domain to be at least 3 chars long.
The rest of the code works OK with shorter domains.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzA4MDg1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/357,https://api.github.com/repos/apache/incubator-ponymail/issues/357,incubator-ponymail,203870076,357,Bug: archiver/msgbody can treat an attachment as the body,sebbASF,16689231,Sebb,,OPEN,2017-01-29T13:36:30Z,2017-01-29T13:36:30Z,"The msgbody function in archiver.py tries to extract a body from the message.
However it does not take account of the disposition of the body parts, so may use the contents of a file rather than the inline text.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/357/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/358,https://api.github.com/repos/apache/incubator-ponymail/issues/358,incubator-ponymail,204044698,358,Bug: crash in import-mbox when list-id is missing and --lid is not provided,sebbASF,16689231,Sebb,,CLOSED,2017-01-30T15:39:56Z,2017-01-30T15:52:28Z,"Traceback (most recent call last):
  File ""/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/threading.py"", line 920, in _bootstrap_inner
    self.run()
  File ""./tools/import-mbox.py"", line 264, in run
    json, contents = archie.compute_updates(list_override, private, message)
  File ""/Users/sebb/git/ponymail/tools/archiver.py"", line 265, in compute_updates
    lid = normalize_lid(msg.get('list-id'))
  File ""/Users/sebb/git/ponymail/tools/archiver.py"", line 117, in normalize_lid
    m = re.search(r""<(.+)>"", lid)
  File ""/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/re.py"", line 166, in search
    return _compile(pattern, flags).search(string)
TypeError: expected string or buffer
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/358/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/359,https://api.github.com/repos/apache/incubator-ponymail/issues/359,incubator-ponymail,204136500,359,Bug: archiver traverses multi-part message parts twice,sebbASF,16689231,Sebb,,CLOSED,2017-01-30T21:33:26Z,2017-01-30T22:47:09Z,"The archiver code includes the following:

```
if msg.is_multipart():
    for part in msg.walk():
        if part.is_multipart(): 
            for subpart in part.walk():
```

However the walk() iterator already includes nested sub-parts as part of its processing.

As it happens this cannot affect the code output because only the first matching part will be used, but it is wasteful. Furthermore, walk can also be used on a non-multipart message, which allows the code to be much simplified.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/359/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/360,https://api.github.com/repos/apache/incubator-ponymail/issues/360,incubator-ponymail,209388332,360,How to unsubscribe from a list,juangamnik,2939856,Johannes Neubauer,,CLOSED,2017-02-22T08:50:48Z,2017-02-22T14:17:05Z,"I am subscribed for years in `j-users@xalan.apache.org` and cannot find any way to unsubscribe from this list. Most mailing lists add a unsubscribe link in the footer or at least allow to unsubscribe on the page. The site offers me to login in via apache oauth or google, but I don't think that I have a real account there, because my subscription is older than 6 years (and another mailing list software has been used back then). Is there an option to unsubscribe from pony mail and if yes, how can I do it and perhaps can you make this option more prominent?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/360/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/360,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MTYyMzA1MA==,incubator-ponymail,281623050,360,NA,sebbASF,16689231,Sebb,,NA,2017-02-22T09:59:36Z,2017-02-22T09:59:36Z,"Ponymail is an archive service for mailing lists. It is not a list provider.

Different mailing lists have different ways of managing subscriptions.
You need to contact the mailing list. In most cases the list headers will show how to unsubscribe.
If you use the View Source button on any of the j-users mails, you should see a line like:

List-Unsubscribe: <mailto:j-users-unsubscribe@xalan.apache.org>
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MTYyMzA1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/360,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MTY4MDkzNA==,incubator-ponymail,281680934,360,NA,juangamnik,2939856,Johannes Neubauer,,NA,2017-02-22T14:17:05Z,2017-02-22T14:17:05Z,"Great, thanks. Perhaps there should be a link to the list provider on the list archive page.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4MTY4MDkzNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/361,https://api.github.com/repos/apache/incubator-ponymail/issues/361,incubator-ponymail,209801174,361,Bug: subscribe button assumes that the mailing list has a -subscribe sub-address,sebbASF,16689231,Sebb,,OPEN,2017-02-23T15:52:33Z,2017-02-23T15:52:33Z,"The mailing list subscribe button is created by converting list@host to list-subscribe@host.

Whilst this is true for ezmlm (as used by the ASF), it may not be true for all mailing lists","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/361/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/362,https://api.github.com/repos/apache/incubator-ponymail/issues/362,incubator-ponymail,209801374,362,Add unsubscribe button,sebbASF,16689231,Sebb,,CLOSED,2017-02-23T15:53:15Z,2017-02-23T16:34:07Z,Might as well provide an unsubscribe button,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/362/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/363,https://api.github.com/repos/apache/incubator-ponymail/issues/363,incubator-ponymail,209806074,363,Bug: wordcloud.js logs to the console,sebbASF,16689231,Sebb,,CLOSED,2017-02-23T16:07:17Z,2017-02-23T16:59:00Z,"The wordcloud.js script logs some data to the console.
This appears to be debug data and should not be logged by default.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/363/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/364,https://api.github.com/repos/apache/incubator-ponymail/issues/364,incubator-ponymail,209815012,364,Bug: invalid style setting: overflow:hide => overflow:hidden,sebbASF,16689231,Sebb,,CLOSED,2017-02-23T16:37:06Z,2017-02-23T16:39:45Z,"There are a couple of instances of ""style='overflow:hide;""
This is invalid; it should be ""style='overflow:hidden;""","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/364/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/365,https://api.github.com/repos/apache/incubator-ponymail/issues/365,incubator-ponymail,213186185,365,Log In with Google creates extra account,ctubbsii,1280725,Christopher Tubbs,,OPEN,2017-03-09T22:32:05Z,2018-04-04T23:13:45Z,"I added my gmail address as a secondary address, and tried to log in using the ""Log In With Google"" button, but it logged me in to a separate account, with the primary address being my gmail address, instead of associating me with the existing account.

There should be a way to merge accounts if the primary address on one matches the secondary address on another, and logging in with the secondary Google address, should log you in to the primary account.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/365/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/365,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3ODc3Mzg5Mg==,incubator-ponymail,378773892,365,NA,ctubbsii,1280725,Christopher Tubbs,,NA,2018-04-04T23:13:45Z,2018-04-04T23:13:45Z,"I ran into this again today. I logged in using ASF credentials, and it lists my apache.org email as primary, and my gmail as secondary. I logged in using Google, and it lists my gmail as primary, and no other associated email addresses.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3ODc3Mzg5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/366,https://api.github.com/repos/apache/incubator-ponymail/issues/366,incubator-ponymail,215228659,366,Bug: may corrupt 8bit message source if it is not encoded in UTF-8,sebbASF,16689231,Sebb,,CLOSED,2017-03-18T23:17:22Z,2017-03-20T00:40:44Z,"The code currently unconditionally converts the parsed message bytes to UTF-8 before storage in the mbox_source index.

This can corrupt messages sent using 8bit transport if they contain data which is not compatible with UTF-8. For example non-ASCII characters.

This affects the display of message sources as well as mbox download.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/366/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/366,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4NzY2MTI0MA==,incubator-ponymail,287661240,366,NA,sebbASF,16689231,Sebb,,NA,2017-03-20T00:40:44Z,2017-03-20T00:40:44Z,"If the source is in ASCII, then it can be stored safely; it is only bytes outside the ASCII range that may get corrupted by encoding/decoding.

Since many emails are ASCII only, it makes sense to only use base64 for those","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI4NzY2MTI0MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/367,https://api.github.com/repos/apache/incubator-ponymail/issues/367,incubator-ponymail,215229168,367,Bug: source.lua does not specify the charset,sebbASF,16689231,Sebb,,CLOSED,2017-03-18T23:29:16Z,2017-03-18T23:32:40Z,"Source.lua returns the raw source as text/plain, but does not specify the charset.

This can cause problems for some browsers, in particular Chrome does not always guess correctly (and it's no longer possible to change the encoding).

At present the encoding is forced to UTF-8 (see #366), so it would make sense to add that to the content-type. This may need to be revisited, depending on how #366 is fixed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/367/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/368,https://api.github.com/repos/apache/incubator-ponymail/issues/368,incubator-ponymail,215310992,368,Add id attributes to top-level generated content [enhancement],ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,OPEN,2017-03-20T00:50:44Z,2017-03-20T00:50:44Z,"Ponymail generates a lot of content dynamically into existing divs in the actual HTML render - in some cases, quite detailed and structured data as well.  

It seems like it would be useful to include semantic meaning for key parts of the generated content.  For example, on the trends page, the actual ul of participants, the actual number of emails during the period, etc. would be useful to provide ids for, in case someone wants to screen scrape or the like from ponymail.

Is this something worth working on, or is it anticipated that anyone who wants to see the structure of generated data on trends, n-grams, etc. would just call some API?

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/368/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/369,https://api.github.com/repos/apache/incubator-ponymail/issues/369,incubator-ponymail,222876048,369,Enh: make debug info optional,sebbASF,16689231,Sebb,,CLOSED,2017-04-19T21:23:01Z,2017-04-20T10:33:39Z,"Many of the JSON replies contain various bits of debug information.

This is not used currently so it is wasted network traffic.
(Not a lot, but it all adds up).

Also the values vary between responses which means it has to be ignored when checking responses for test purposes.

The debug data should be made an optional configuration setting, with a default of false.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/369/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/370,https://api.github.com/repos/apache/incubator-ponymail/issues/370,incubator-ponymail,225360923,370,import-mbox.py: mailbox defaults to Create if file is not found,sebbASF,16689231,Sebb,,CLOSED,2017-04-30T23:01:31Z,2017-05-01T14:58:36Z,"The mailbox methods will silently create the mailbox if the specified file is not found.

Whilst this should not happen with the current code (only valid files should be used), it would be better to use Create=False","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/370/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/371,incubator-ponymail,226282013,371,Bug: message source displayed as base64 encoded data,sebbASF,16689231,Sebb,,CLOSED,2017-05-04T13:33:43Z,2017-05-05T19:41:40Z,"The source for the following mail:

https://lists.apache.org/thread.html/277d98905e53608d9fdc95a6dea94001a03c6a8d4f4aa08cb76db5de@%3Cdev.ofbiz.apache.org%3E

i.e.

https://lists.apache.org/api/source.lua/277d98905e53608d9fdc95a6dea94001a03c6a8d4f4aa08cb76db5de@%3Cdev.ofbiz.apache.org%3E

Is displayed as

a blob of base64 encoded data.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/371/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTIxNzAxMA==,incubator-ponymail,299217010,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-04T15:16:34Z,2017-05-04T15:16:34Z,There are several other such in the May 2017 mbox.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTIxNzAxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyMjg5NA==,incubator-ponymail,299522894,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T17:15:13Z,2017-05-05T17:15:13Z,"Other samples
https://lists.apache.org/api/source.lua/426f2f7b791bbe1dd0aead8ca90ea52f04bfd1a20e523609118578d2@%3Cdev.ofbiz.apache.org%3E
https://lists.apache.org/api/source.lua/8fd70019d6ffc76901eb8a3e5bdd377a31f45b5c13ac1413420ab68e@%3Cdev.ofbiz.apache.org%3E
https://lists.apache.org/api/source.lua/bb35b02eb9a42b882d012cc055f50e9380b55b0354f0b5a5c5c81ca8@%3Cdev.ofbiz.apache.org%3E
https://lists.apache.org/api/source.lua/14a320da362be560ce90dc8bceef441242c3c0ca133252bb2ffdd5a2@%3Cdev.ofbiz.apache.org%3E

All of them were sent by Jacques Le Roux; however not all of his mails are affected, for example:

https://lists.apache.org/api/source.lua/cba468a40c6e9971a9ddc9a524f628cb07f693cf3186312a85d00f6d@%3Cdev.ofbiz.apache.org%3E
and
https://lists.apache.org/api/source.lua/a5290434baacdcb2ffe07eb73b9db379be05b56f9ba2c272a710d14a@%3Cdev.ofbiz.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyMjg5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyMzg1Mw==,incubator-ponymail,299523853,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T17:18:54Z,2017-05-05T17:18:54Z,"It looks as though something changed around 02 May 2017 06:38:53.
There are two copies of the same message from Jacques Le Roux:
https://lists.apache.org/thread.html/cba468a40c6e9971a9ddc9a524f628cb07f693cf3186312a85d00f6d@%3Cdev.ofbiz.apache.org%3E
https://lists.apache.org/thread.html/a43b24548b6e2278c31c1a03d157b8e9c6479ffa3579c10d66564942@%3Cdev.ofbiz.apache.org%3E

The first has a readable source doc; the second is base64","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyMzg1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyNDMxNA==,incubator-ponymail,299524314,371,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-05-05T17:20:54Z,2017-05-05T17:20:54Z,"From what I can gather, this was due to an upgrade in the archiver script on the box(es). This may be a regression in the archiver.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyNDMxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyOTkwOQ==,incubator-ponymail,299529909,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T17:44:30Z,2017-05-05T17:44:30Z,"Note: It does look as though all the base64 encoded messages were sent by Jacques Le Roux, starting at 02 May 2017 06:38:53.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUyOTkwOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzMDkxNg==,incubator-ponymail,299530916,371,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-05-05T17:48:31Z,2017-05-05T17:48:31Z,"Here's a simple workaround for the base64 encoding when it happens:
~~~
--- a/site/api/source.lua
+++ b/site/api/source.lua
@@ -46,6 +46,10 @@ function handle(r)
         if aaa.canAccessDoc(r, doc, account) then
             local doc_raw = elastic.get('mbox_source', doc.request_id)
             if doc_raw then
+                -- If this could be base64, try to convert it.
+                if (#doc_raw.source % 4 == 0) then -- base64 is always multiples of 4, this is the fastest test.
+                    pcall(function() doc_raw.source = r:base64_decode(doc_raw.source) end) -- try to convert, fall back to original if failed
+                end
                 r:puts(doc_raw.source)
             else
                 r:puts(""Could not find the email source, sorry!"")
~~~","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzMDkxNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzMTU1NA==,incubator-ponymail,299531554,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T17:51:16Z,2017-05-05T17:51:16Z,However why does it happen in the first place?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzMTU1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzMjM3Mw==,incubator-ponymail,299532373,371,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-05-05T17:54:42Z,2017-05-05T17:54:42Z,"Because of https://github.com/apache/incubator-ponymail/commit/117db841331bb93d71763fe361d4455d71e716b0 which converts into base64 on some occasions.

This patch is more complete:
~~~
--- a/site/api/source.lua
+++ b/site/api/source.lua
@@ -23,6 +23,15 @@ local user = require 'lib/user'
 local cross = require 'lib/cross'
 local utils = require 'lib/utils'
 
+function is_base64(msg)
+   if #msg % 4 == 0 then
+      if not msg:match(""([^a-zA-Z0-9+=/])"") then
+         return true
+      end
+   end
+   return false
+end
+
 function handle(r)
     -- content is currently utf-8, see #367
     cross.contentType(r, ""text/plain; charset=utf-8"")
@@ -46,6 +55,10 @@ function handle(r)
         if aaa.canAccessDoc(r, doc, account) then
             local doc_raw = elastic.get('mbox_source', doc.request_id)
             if doc_raw then
+                -- If this could be base64, try to convert it.
+                if is_base64(doc_raw.source) then
+                    pcall(function() doc_raw.source = r:base64_decode(doc_raw.source) end)
+                end
                 r:puts(doc_raw.source)
             else
                 r:puts(""Could not find the email source, sorry!"")
~~~","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzMjM3Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzNzYxNA==,incubator-ponymail,299537614,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T18:15:43Z,2017-05-05T18:15:43Z,"However 117db84 already allows for base64 encoding in elastic.lua.

Either the check there is not  always detecting b64, or lists.a.o has not got the correct code installed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzNzYxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzODgzMg==,incubator-ponymail,299538832,371,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-05-05T18:20:21Z,2017-05-05T18:20:21Z,lists.a.o is not running master as master is not compatible with 0.9 plugins. I suspect just the archiver was updated. I'll ping them about incorporating the base64 changes,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTUzODgzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU0NDY0Ng==,incubator-ponymail,299544646,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T18:43:20Z,2017-05-05T18:43:20Z,"There may be other changes that are required to run with the master version of the archiver.
It's not possible in general to pick and choose which updates to use. Even the GUI may depend on backend changes or vice-versa.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU0NDY0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU0ODE0OQ==,incubator-ponymail,299548149,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T18:57:28Z,2017-05-05T18:57:28Z,"It looks as though most of the sources are now displayed OK.

However the following has a corrupted source:

https://lists.apache.org/thread.html/a5290434baacdcb2ffe07eb73b9db379be05b56f9ba2c272a710d14a@%3Cdev.ofbiz.apache.org%3E

Also the mbox download does not decode the base64 entries.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU0ODE0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU0ODU1MA==,incubator-ponymail,299548550,371,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-05-05T18:59:07Z,2017-05-05T18:59:07Z,"Nothing Pony Mail can do about that, I'd punt it to ASF Infra.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU0ODU1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1MDIwMQ==,incubator-ponymail,299550201,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T19:06:06Z,2017-05-05T19:06:06Z,Not sure what 'that' means here?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1MDIwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1MDc5MQ==,incubator-ponymail,299550791,371,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-05-05T19:08:57Z,2017-05-05T19:08:57Z,'that' means the previous comment.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1MDc5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1NDQ2OQ==,incubator-ponymail,299554469,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T19:26:06Z,2017-05-05T19:26:06Z,"The corrupted source has been fixed.

However the mbox download is now truncated; the last few lines read:

<h3>Error!</h3>
<pre>/var/www/ponymail_asf/site/api/lib/elastic.lua:72: attempt to index global 'r' (a nil value)</pre>

Looks like more partial code updates have been applied to lists.a.o","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1NDQ2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/371,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1NzcwNg==,incubator-ponymail,299557706,371,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T19:41:40Z,2017-05-05T19:41:40Z,The download issue now seems to have been fixed.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1NzcwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/372,https://api.github.com/repos/apache/incubator-ponymail/issues/372,incubator-ponymail,226640679,372,Bug: duplicated messages in dev@ofbiz,sebbASF,16689231,Sebb,,CLOSED,2017-05-05T17:31:39Z,2017-05-05T19:50:52Z,"The following Permalinks refer to the same message:

https://lists.apache.org/thread.html/a43b24548b6e2278c31c1a03d157b8e9c6479ffa3579c10d66564942@%3Cdev.ofbiz.apache.org%3E

https://lists.apache.org/thread.html/cba468a40c6e9971a9ddc9a524f628cb07f693cf3186312a85d00f6d@%3Cdev.ofbiz.apache.org%3E
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/372/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/372,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1OTcwOA==,incubator-ponymail,299559708,372,NA,sebbASF,16689231,Sebb,,NA,2017-05-05T19:50:52Z,2017-05-05T19:50:52Z,This is not an issue with the PonyMail code.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDI5OTU1OTcwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/373,https://api.github.com/repos/apache/incubator-ponymail/issues/373,incubator-ponymail,227122596,373,Bug: import --dedup does not cater for messages sent to multiple lists,sebbASF,16689231,Sebb,,CLOSED,2017-05-08T17:51:01Z,2017-05-08T19:31:00Z,"The import-mbox  --dedup option checks for an existing email with the same Message-Id. If one is found, then the message is not imported.

This does not work properly for messages that have been sent to multiple lists, as they will all have the same Message-Id.

For example:
Message-Id: <20170106001455.GA8592@minotaur.apache.org>
was sent to dev@ commits@ and issues@ ponymail.incubator.apache.org in Jan 2017:

https://lists.apache.org/thread.html/f2eaff06618e9c4b400bf52198285036268fa9461b9db51c3c69c8b9@%3Cdev.ponymail.apache.org%3E

https://lists.apache.org/thread.html/afbdb3ea514df49a21e9eca9795bdbd001c92cffb0fb6aded73c0103@%3Ccommits.ponymail.apache.org%3E

https://lists.apache.org/thread.html/d4e5c40af9a0a07142e6158b00a1a408111b8f2392d80a5f896673b3@%3Cissues.ponymail.apache.org%3E

(It was also sent to private@; not shown here)

If the Jan 2017 mailboxes for those lists are imported into a new database using the --dedup option, the email will only appear on one of the lists instead of all of them.

The dedup option needs to take account of the mailing list.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/373/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/379,https://api.github.com/repos/apache/incubator-ponymail/issues/379,incubator-ponymail,229585550,379,"Import generates ""raw"" e-mails",ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2017-05-18T07:58:27Z,2017-05-19T07:29:27Z,"After recent commits, when running import from mbox, I can see few ""phantom"" e-mails, with:

* sender: none
* subject: `(no subject)`
* body: whole e-mail content (in mbox format)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/379/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/379,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjM0MTQyMw==,incubator-ponymail,302341423,379,NA,sebbASF,16689231,Sebb,,NA,2017-05-18T08:47:25Z,2017-05-18T08:47:25Z,"Need some sample input to debug this, or pointer to an existing mbox file that causes the issue.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjM0MTQyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/379,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjM1MTMzMA==,incubator-ponymail,302351330,379,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2017-05-18T09:27:26Z,2017-05-18T09:27:26Z,"Such e-mails are unfortunately private, I cannot share.

FWIW, when I checkout the repo to the commit before 767d8f8c18d718270d61eb3eb2b27330696d1bfa, everything works as expected.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjM1MTMzMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/379,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjM3MzI2Nw==,incubator-ponymail,302373267,379,NA,sebbASF,16689231,Sebb,,NA,2017-05-18T11:05:47Z,2017-05-18T11:05:47Z,"The commit 767d8f8 is the last commit currently and only affects the display of the email body, and should only apply to mails with no body entries, so I don't see how that can have the effect you describe.

What View Mode and theme did you use?

Were all mails affected, or just some of the recent ones?
Did the problem only apply to recent imports, or were existing mails affected as well?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjM3MzI2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/379,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjYzMDU1OQ==,incubator-ponymail,302630559,379,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2017-05-19T07:29:27Z,2017-05-19T07:29:27Z,"Indeed, after deleting the list and re-importing, everything is back at work, with latest HEAD.
Sorry for the noise.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMwMjYzMDU1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/380,https://api.github.com/repos/apache/incubator-ponymail/issues/380,incubator-ponymail,232370946,380,"Enh: Implement message excerpt filters for JIRA messages, others",ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,OPEN,2017-05-30T20:24:15Z,2017-07-31T04:47:29Z,"Reading through a project list that has a lot of JIRA notifications is not very useful, since the displayed excerpt of the body of every message is:

[ https://issues.apache.org/jira/browse/REEF-1999?page=com.blahblahblah...

Adding pluggable filter API for the display of body excerpts that allows admin-configured filters for the excerpts would be very valuable.  A JIRA filter would be reasonably easy to detect a mail is from an automated JIRA notice, and could instead display the first text content of the mail, after the various JIRA headers.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/380/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/380,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxODk2NjU5NA==,incubator-ponymail,318966594,380,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-07-31T04:47:28Z,2017-07-31T04:47:28Z,"This could, in theory, be part of the JS code that extrapolates quoted messages. You could extend the function that looks for quotes to also include this, and have it wrap jira headers into a quote box.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxODk2NjU5NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/381,https://api.github.com/repos/apache/incubator-ponymail/issues/381,incubator-ponymail,233150204,381,Enh: allow download of filtered messages,sebbASF,16689231,Sebb,,OPEN,2017-06-02T11:06:59Z,2018-05-14T09:46:47Z,"At present mailboxes can only be downloaded from a monthly view.

It would sometimes be useful to be able to download the messages after filtering.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/381/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/381,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxODk2NjQyMQ==,incubator-ponymail,318966421,381,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-07-31T04:46:10Z,2017-07-31T04:46:10Z,"https://lists.apache.org/thread.html/a41f012a0be1d04e29f31d3e44074b0ad43e7ea2e323f780223f0b9f@%3Cdev.ponymail.apache.org%3E is my proposal which will address this by allowing any aspect (downloads, atom feeds etc) of Pony Mail to use the fuzzy logic search methods currently employed by advanced search.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxODk2NjQyMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/382,https://api.github.com/repos/apache/incubator-ponymail/issues/382,incubator-ponymail,233361028,382,Enh: allow display of emails since a specific date,sebbASF,16689231,Sebb,,OPEN,2017-06-03T10:27:45Z,2017-06-03T10:27:45Z,"stats.lua allows for a date spec of the form:

d=dfr=2017-1-1

i.e. mails from Jan 1st 2017 onwards

However this is not supported by the GUI.
The date panel insists on an end date.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/382/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/384,https://api.github.com/repos/apache/incubator-ponymail/issues/384,incubator-ponymail,240554794,384,Binary attachment 'mangled',ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2017-07-05T06:53:20Z,2017-07-31T08:45:20Z,"I am experiencing this problem with my company deployment, but it is now happening to the [Apache Syncope user@ mailing list](https://lists.apache.org/thread.html/8bd5e23e4f43e386303b4ddca8a8f42effd79503ed7c5d725aa811f5@%3Cuser.syncope.apache.org%3E).

As you can see, there is an attachment, `error-logs.zip`, which cannot be opened if downloaded from there:
```
$ unzip -l Downloads/error-logs.zip 
Archive:  Downloads/error-logs.zip
  End-of-central-directory signature not found.  Either this file is not
  a zipfile, or it constitutes one disk of a multi-part archive.  In the
  latter case the central directory and zipfile comment will be found on
  the last disk(s) of this archive.
unzip:  cannot find zipfile directory in one of Downloads/error-logs.zip or
        Downloads/error-logs.zip.zip, and cannot find Downloads/error-logs.zip.ZIP, period.
```

When you download it from [Markmail](http://markmail.org/message/w272msajghgctvtn) instead, it works like a charm (please also note the difference in size).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/384/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/384,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNDAwNw==,incubator-ponymail,319004007,384,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2017-07-31T08:36:32Z,2017-07-31T08:36:32Z,Thanks @Humbedooh !,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNDAwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/384,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNDcxMw==,incubator-ponymail,319004713,384,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2017-07-31T08:39:51Z,2017-07-31T08:39:51Z,Shall the ML on lists.apache.org be re-indexed then?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNDcxMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/384,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNTIzNQ==,incubator-ponymail,319005235,384,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-07-31T08:42:11Z,2017-07-31T08:42:11Z,"no, downloading from that is also fixed with this change. the sources are okay.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNTIzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/384,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNTk4Nw==,incubator-ponymail,319005987,384,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2017-07-31T08:45:20Z,2017-07-31T08:45:20Z,"I see: I was wondering if that was correct because of the displayed size (different than in Markmail), but everything seems to work fine. Thanks again!","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTAwNTk4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/385,https://api.github.com/repos/apache/incubator-ponymail/issues/385,incubator-ponymail,244072820,385,Enh: ability to filter from: address,busbey,44891,Sean Busbey,,OPEN,2017-07-19T15:03:40Z,2018-02-02T18:28:03Z,"I'd like to be able to search a list archive for just messages that _aren't_ from a particular from address.

AFAICT, using the minus notation in the from field of the advance search box instead does a search for the given address.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/385/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/386,https://api.github.com/repos/apache/incubator-ponymail/issues/386,incubator-ponymail,246862319,386,Website Fix: Incubator Project Link points to Apache Johnzon,,,,,CLOSED,2017-07-31T19:42:47Z,2017-08-01T00:36:25Z,"The link at https://incubator.apache.org/projects/ponymail.html under ""Pony Mail Project Incubation Status"" links to johnzon.apache.org instead of ponymail.apache.org

Not sure if this belongs in the incubator-specific issues.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/386/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/386,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTIzMDE4OA==,incubator-ponymail,319230188,386,NA,sebbASF,16689231,Sebb,,NA,2017-08-01T00:03:57Z,2017-08-01T00:03:57Z,"[It's the podling that sets up and maintains the file so this is the correct place to report the problem.]

The source file has been editted. Not sure how long it takes for the update to be displayed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTIzMDE4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/386,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTIzMTUxOQ==,incubator-ponymail,319231519,386,NA,sebbASF,16689231,Sebb,,NA,2017-08-01T00:12:43Z,2017-08-01T00:12:43Z,Thanks for the report; now fixed,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTIzMTUxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/387,https://api.github.com/repos/apache/incubator-ponymail/issues/387,incubator-ponymail,246923061,387,Bug: Using list.html with wild-card causes UI issues,sebbASF,16689231,Sebb,,OPEN,2017-08-01T00:35:59Z,2018-02-02T18:26:47Z,"The following URL:

https://lists.apache.org/list.html?*@ponymail.apache.org

causes a ""List not found"" pop-up to be shown. That does not really make sense.
The message should be suppressed for wild-card matches.

It shows messages from all available lists, but fails to display the list name.

Furthermore, the search box shows ""This list""
It might make more sense to show ""All ponymail.a.o"" lists.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/387/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/388,https://api.github.com/repos/apache/incubator-ponymail/issues/388,incubator-ponymail,246924009,388,"Bug: search ""All ponymail.a.o lists"" does not show list ids if no search text provided",sebbASF,16689231,Sebb,,OPEN,2017-08-01T00:43:04Z,2019-09-06T08:31:16Z,"Recipe:
https://lists.apache.org/list.html?dev@ponymail.apache.org
Change search: All ... lists
Click search '>' button
Result:
Messages from all lists are shown, but the list ids are not present

However if something is typed in the search box first (e.g. 'a' or 'the') then the list ids are shown correctly.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/388/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/388,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUyODc2NDYxOQ==,incubator-ponymail,528764619,388,NA,sebbASF,16689231,Sebb,,NA,2019-09-06T08:31:16Z,2019-09-06T08:31:16Z,"If the list view is changed to Flat, then the entries sometimes show the list name in 'Compact' mode, and sometimes don't.
In flat/default mode, only the sender is shown","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUyODc2NDYxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/389,https://api.github.com/repos/apache/incubator-ponymail/issues/389,incubator-ponymail,247031218,389,User preference for default email to use,planetf1,7292002,Nigel Jones,nigel.l.jones@gmail.com,OPEN,2017-08-01T10:56:25Z,2017-08-01T10:56:25Z,"I setup ponymail to review some of the atlas/ranger apache lists.
I had to configure using my gmail account (no apache account yet)
However I am already a member of the mailing list using my company (ibm.com) account, so I figured I'd set that up as an additional address in ponymail. I did that association ok, but when I go into the compose window it will default to my authenticated email address, and I have to click the drop down to switch

Could we have a preference to allow the user to chose their default email -- of course this could be global, or could be related to group....","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/389/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/390,https://api.github.com/repos/apache/incubator-ponymail/issues/390,incubator-ponymail,247032977,390,Add favourites landing page,planetf1,7292002,Nigel Jones,nigel.l.jones@gmail.com,OPEN,2017-08-01T11:03:55Z,2017-08-01T13:02:36Z,"I added a few lists (dev/user/commits) from two projects (ranger/atlas) to my favourites in ponymail.
I figured I'd add a browser bookmark to go to my favourites, but realised adding a favourite just adds them to a menu in ponymail.

I believe it would be useful if there was a ""favourites"" page in ponymail whilst lists the groups I've favourited - and perhaps with a simple summary such as last posting date, and of course a link to open the regular list page.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/390/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/390,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM1MDUxOA==,incubator-ponymail,319350518,390,NA,sebbASF,16689231,Sebb,,NA,2017-08-01T12:01:38Z,2017-08-01T12:01:38Z,"When logged in, there should be a '*' tab at the end of the alphabetic tabs.
Have you checked that?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM1MDUxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/390,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM1NjAwOA==,incubator-ponymail,319356008,390,NA,planetf1,7292002,Nigel Jones,nigel.l.jones@gmail.com,NA,2017-08-01T12:29:32Z,2017-08-01T12:29:32Z,"I don't see any * tab - images are here:

https://imagebin.ca/v/3VNYASYNYPel
 & 
https://imagebin.ca/v/3VNZ0HtxjFdD","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM1NjAwOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/390,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM1ODA1Mg==,incubator-ponymail,319358052,390,NA,sebbASF,16689231,Sebb,,NA,2017-08-01T12:38:49Z,2017-08-01T12:38:49Z,I see one after the Z tab on the home page (second link above),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM1ODA1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/390,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM2MzQ3Mg==,incubator-ponymail,319363472,390,NA,planetf1,7292002,Nigel Jones,nigel.l.jones@gmail.com,NA,2017-08-01T13:02:35Z,2017-08-01T13:02:35Z,"Ah yes I see it, but it was far from intuitive. I'd like to suggest an enhancement to make it more usable - ie to have in a clearer place on the landing page. Maybe as simple as moving the * to the beginning tab, to insert a placeholder ""no favourites defined"" if there aren't any, to add a link on any viewing page to go back to favourites, and ideally to add an activity summary/description into each line that relates to a group on that initial navigation page?

Of course this is just my idea.. I wonder what others think? !","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMxOTM2MzQ3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/391,https://api.github.com/repos/apache/incubator-ponymail/issues/391,incubator-ponymail,247346548,391,Enh: UI - missing buttons if no emails are displayed,sebbASF,16689231,Sebb,,OPEN,2017-08-02T10:43:34Z,2018-02-02T18:28:03Z,"The buttons to (un)subscribe, post and maintain favourites are not displayed unless there are some emails that fit the criteria (e.g. last month).

This avoids dealing with missing or inaccessible lists, but it makes some actions harder.
In particular removing a favourite or unsubscribing from list that is no longer active.

The code should be able to check if the user has access to at least some of the messages on the list and display the buttons if so.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/391/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/392,https://api.github.com/repos/apache/incubator-ponymail/issues/392,incubator-ponymail,249979830,392,preferences may save 'null' as a favorite due to unclean GC,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2017-08-14T09:38:05Z,2017-08-14T09:43:55Z,"When removing a favorite list from an account via preferences.lua, the entry is nil'ed out, leaving possibilities for 'null' to be present in the JSON document. This needs to be changed to a table.remove call instead. Also, to fix previously created null entries, the user account lib (lib/user.lua) should check and discards nulls","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/392/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/393,https://api.github.com/repos/apache/incubator-ponymail/issues/393,incubator-ponymail,250260695,393,Improve UI for ponymail,planetf1,7292002,Nigel Jones,nigel.l.jones@gmail.com,OPEN,2017-08-15T09:05:00Z,2017-08-16T08:13:03Z,"Ponymail current doesn't render particularly well on a mobile device such as an iPhone 7+.

I'll include some screenshots.

It's an invaluable tool, I'd like to propose a feature to work on a more mobile friendly/adaptive interface - clearly this is non-trivial work

![image](https://user-images.githubusercontent.com/7292002/29309324-1b681ae2-81a1-11e7-9378-9aa39622d768.png)
![image](https://user-images.githubusercontent.com/7292002/29309337-2aa4aea8-81a1-11e7-9bf2-399a9bde1ced.png)
![image](https://user-images.githubusercontent.com/7292002/29309344-306e1374-81a1-11e7-864a-dbbb9701333a.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/393/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/393,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjQzMjc1MQ==,incubator-ponymail,322432751,393,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-08-15T10:23:09Z,2017-08-15T10:23:09Z,"This would indeed be a very welcome addition to the codebase.
Some thoughts: I am currently (albeit a bit behind) working on a rewrite of the UI which abstracts much of the interface into rendering classes. It would be possible to detect mobile phones and use a different rendering for them, which could in turn use different styles. OR, this could be done with some very tricky CSS, but I think the JavaScript approach makes sense, as we could deliberately drop certain aspects of the UI on phones to leave more space for what matters there. ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjQzMjc1MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/393,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjY5ODY1MA==,incubator-ponymail,322698650,393,NA,sebbASF,16689231,Sebb,,NA,2017-08-16T08:13:03Z,2017-08-16T08:13:03Z,Mobile phone plans may also have limited data - see also #186,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjY5ODY1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/394,https://api.github.com/repos/apache/incubator-ponymail/issues/394,incubator-ponymail,250520816,394,Archiving emails in violation of RFC-2821 line-endings may result in multiple emails on a redundant setup,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2017-08-16T06:10:36Z,2017-08-18T21:10:27Z,"It would seem that when some (older) MTAs send out email, they do not conform to RFC-2821 about newlines. From the RFC, it is stated that:
~~~
   In addition, the appearance of ""bare"" ""CR"" or ""LF"" characters in text
   (i.e., either without the other) has a long history of causing
   problems in mail implementations and applications that use the mail
   system as a tool.  SMTP client implementations MUST NOT transmit
   these characters except when they are intended as line terminators
   and then MUST, as indicated above, transmit them only as a <CRLF>
   sequence.
~~~

Case in point: qmail sometimes will send an email using only LF instead of CRLF. This is then corrected to CRLF by postfix, but has the disadvantage in clustered setups that one archiver may receive the original input while the next gets the corrected one. The difference there is but a single added newline character, but that is enough to cause two distinct IDs being generated.

Short of fixing all MTAs, the best solution seems to be detecting any STDIN that ends in a double newline and, if found, crop the last one out before archiving.

The fix seems to be as simple as (in archiver.py, line 580-ish):

~~~
    if msgstring[-2:] == b'\n\n':
        msgstring = msgstring[:-1]
~~~

I'll investigate further and implement a solution when I am satisfied this will resolve the issue.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/394/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/394,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjY5Nzk4Mw==,incubator-ponymail,322697983,394,NA,sebbASF,16689231,Sebb,,NA,2017-08-16T08:10:05Z,2017-08-16T08:10:05Z,"If a clustered setup can generate copies of e-mails that are not identical, then surely that needs to be fixed rather than munging the original e-mail?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjY5Nzk4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/394,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjY5ODU2OQ==,incubator-ponymail,322698569,394,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-08-16T08:12:38Z,2017-08-16T08:12:38Z,It is beyond our projects ability to fix qmail and any other MTA that sends erroneous email.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjY5ODU2OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/394,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjcwMjc3Ng==,incubator-ponymail,322702776,394,NA,sebbASF,16689231,Sebb,,NA,2017-08-16T08:30:57Z,2017-08-16T08:30:57Z,"However correcting e-mails changes the hash and therefore the Permalink, which can affect existing databases. If a database is reloaded, it looks like any existing entries with incorrect EOLs will get new Permalinks.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjcwMjc3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/394,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjcwNDY0Ng==,incubator-ponymail,322704646,394,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-08-16T08:38:50Z,2017-08-16T08:38:50Z,"Depends on where it's reloaded from, I'd think. 
Damned if you do, damned if you don't. I don't think fixing qmail (or changing postfix) is a viable option here.
It seems we have to weigh duplicate emails against the risk of potentially losing a permalink on a reload from mbox files. I'd be in favor of making the correction an argument for the archiver, so people can choose to use it or not.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMjcwNDY0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/394,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzQ2MTY5MA==,incubator-ponymail,323461690,394,NA,sebbASF,16689231,Sebb,,NA,2017-08-18T21:10:27Z,2017-08-18T21:10:27Z,"I'm not sure I understand the behaviour of the redundant setup.

I assume that if the same message is presented to the main and backup archivers that they will generate the same ID hash, and therefore only one copy of the message will be in the database.

Therefore the message that is presented to the two archivers needs to be the same.

There is only a single input message from the mailing list, so any processing that needs to be done to fix CRLF must be done as part of both paths. Perhaps this is not always happening?

I don't think it's possible to fix this in the archiver.
AFAICT, the archiver only sees messages with lines ending in LF.
So a message ending in \n\n may have been a valid message with an extra blank line.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzQ2MTY5MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/395,https://api.github.com/repos/apache/incubator-ponymail/issues/395,incubator-ponymail,250883556,395,Enh: option to limit stats.lua output by message count,sebbASF,16689231,Sebb,,OPEN,2017-08-17T09:33:02Z,2018-02-02T18:28:04Z,"The stats.lua API is not really suited to mobile devices which may have limited data allowances (or limited memory).
A mobile user is not likely to want to scroll through a month's worth of data.
It's more likely that they will want to review the most recent messages in a few mailing lists.

Whilst the results can be limited by start and end date, even a single day can hold too many messages.

It would be useful to be able to limit the response by size, so the user could request the first N messages  going backards from a specific start time (default now ).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/395/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/396,https://api.github.com/repos/apache/incubator-ponymail/issues/396,incubator-ponymail,251379038,396,Enh: add some debug output to import-mbox,sebbASF,16689231,Sebb,,CLOSED,2017-08-18T23:10:32Z,2020-03-18T10:53:28Z,"For testing purposes, it would be useful to be able to add some debug output to the importer.

For example, it would be useful to know what MIDs were generated.

An alternative to adding a debug option might be to print more info for the --dry option","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/396/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/397,https://api.github.com/repos/apache/incubator-ponymail/issues/397,incubator-ponymail,251404418,397,Enh: Add self-serve tools to PM,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2017-08-19T06:17:24Z,2018-02-02T18:28:23Z,"It would be awesome if we had some self-serve tools in the UI for simple operations like removing a post, marking something public/private, renaming a list etc, without having to resort to using the CLI programs.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/397/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/397,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzUxMDQ3OA==,incubator-ponymail,323510478,397,NA,sebbASF,16689231,Sebb,,NA,2017-08-19T08:48:21Z,2017-08-19T08:48:21Z,Such tools would presumably need additional authentication as they can change the archive.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzUxMDQ3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/398,incubator-ponymail,251518567,398,Enh: 'cluster' generator ids are not sufficiently unique,sebbASF,16689231,Sebb,,CLOSED,2017-08-20T22:17:23Z,2020-03-16T10:19:45Z,"The redundant ID generator is documented as not guaranteeing unique ids.

It currently includes (if present):
Body
List Id
Date
Sender
Subject
Attachment hashes

Whilst these are unlikely to generate duplicates, it's not impossible: for example the same (undated) message could be sent multiple times to the same list.

I'm not sure why Message-ID is not included in the list of fields, as it's designed for such usage.

It should be included in the hash (if present).

Note: since the redundant generator is new since 0.9, it has yet to be included in a release.
So it's possible to change the algorithm without causing problems.

If there are any other  invariant fields that warrant inclusion this should also be done now.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/398/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzYzODM3Nw==,incubator-ponymail,323638377,398,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-08-21T03:26:46Z,2017-08-21T03:26:46Z,"message-id could certainly be used instead of or in conjunction with the Date field.
Another thing I'm pondering on is making the redundant generator whitespace-ignorant - that is, crop any trailing whitespace from the end of the message to counter LF->CRLF conversions etc by simply ignoring ANY whitespace at the end of a message.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzYzODM3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk0ODg0OQ==,incubator-ponymail,323948849,398,NA,sebbASF,16689231,Sebb,,NA,2017-08-22T07:56:01Z,2017-08-22T07:56:01Z,"The result of trimming trailing white-space would be to only keep one of the inputs.
How do you know which is correct?
Far better to eliminate the cause of any differences upstream where the original input is available.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk0ODg0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk0OTA1NA==,incubator-ponymail,323949054,398,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2017-08-22T07:56:55Z,2017-08-22T07:56:55Z,"by trimming all trailing whitespace, they would both be identical, and thus both correct.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk0OTA1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk1MTk0Mw==,incubator-ponymail,323951943,398,NA,sebbASF,16689231,Sebb,,NA,2017-08-22T08:09:52Z,2017-08-22T08:09:52Z,"Huh? Valid source messages can end in trailing whitespace.

If the different archivers are presented with inputs that only differ in the amount of trailing whitespace, at most one of the inputs properly represents the original message.
If these inputs all generate the same id then the last one to be posted wins.
There is no guarantee that this is the correct representation.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk1MTk0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNjgzMjUyOA==,incubator-ponymail,326832528,398,NA,sebbASF,16689231,Sebb,,NA,2017-09-03T21:31:56Z,2017-09-03T21:31:56Z,The 'redundant' generator has been renamed to 'cluster',"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNjgzMjUyOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNzMxNDUzMg==,incubator-ponymail,327314532,398,NA,sebbASF,16689231,Sebb,,NA,2017-09-05T21:53:42Z,2017-09-05T21:53:42Z,Regarding whitespace trimming that should be the subject of a separate issue.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNzMxNDUzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/398,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU5OTQ1NDgxMg==,incubator-ponymail,599454812,398,NA,sebbASF,16689231,Sebb,,NA,2020-03-16T10:19:44Z,2020-03-16T10:19:44Z,FTR: Message-Id is now included in the cluster algorithm; however unfortunately the value is not canonicalised first.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU5OTQ1NDgxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/399,https://api.github.com/repos/apache/incubator-ponymail/issues/399,incubator-ponymail,251773056,399,Bug: --lid import changes source message,sebbASF,16689231,Sebb,,CLOSED,2017-08-21T21:15:13Z,2017-09-21T02:36:56Z,"If the --lid parameter is used to override the default list id, the source message is altered.
If the message is then exported, it won't match the original.

It seems wrong to me to alter the original message header.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/399/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/399,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzg2MzA4Mg==,incubator-ponymail,323863082,399,NA,sebbASF,16689231,Sebb,,NA,2017-08-21T21:54:26Z,2017-08-21T21:54:26Z,"If messages are loaded using --lid to override the list id, then the sources are changed.

However if the messages are loaded to the default list and the list is then renamed, the sources are not changed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzg2MzA4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/399,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMTAzNDQxOA==,incubator-ponymail,331034418,399,NA,sebbASF,16689231,Sebb,,NA,2017-09-21T02:36:56Z,2017-09-21T02:36:56Z,No longer applies now that source is saved directly from input,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMTAzNDQxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/400,https://api.github.com/repos/apache/incubator-ponymail/issues/400,incubator-ponymail,251774499,400,Drop lid from 'cluster' hash - it's already in the id,sebbASF,16689231,Sebb,,CLOSED,2017-08-21T21:21:40Z,2017-09-05T22:45:25Z,"It seems unnecessary to include the lid in the generated id hash, given that it is already included as the id suffix.

Either drop the suffix, or exclude the lid from the hash.
It's only possible to do this for generators that have not yet been released, e.g. redundant and any others that might be defined in future.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/400/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/400,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk0NDI4Nw==,incubator-ponymail,323944287,400,NA,sebbASF,16689231,Sebb,,NA,2017-08-22T07:35:33Z,2017-08-22T07:35:33Z,"Instinct tells me that it's probably better to keep the lid as a separate part of the id.
This is because the hash part of the id would be unaffected by renames.
However I don't (yet) have a use-case.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk0NDI4Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/400,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk3NzQ2Mg==,incubator-ponymail,323977462,400,NA,sebbASF,16689231,Sebb,,NA,2017-08-22T09:50:46Z,2017-08-22T09:50:46Z,"One possible use-case is to find emails sent to multiple mailing lists: these would all have the same id hash prefix.

This can potentially also be done using the Message-ID, but some early mails did not have them.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyMzk3NzQ2Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/400,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNjgzMjY4MQ==,incubator-ponymail,326832681,400,NA,sebbASF,16689231,Sebb,,NA,2017-09-03T21:34:44Z,2017-09-03T21:34:44Z,Note: this only applies to the 'cluster' (previousy 'redundant') generator as previously released generators cannot be changed.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNjgzMjY4MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/401,https://api.github.com/repos/apache/incubator-ponymail/issues/401,incubator-ponymail,251890687,401,Enh: provide alternative export format(s),sebbASF,16689231,Sebb,,OPEN,2017-08-22T09:17:31Z,2018-02-02T18:28:04Z,"The mbox format is widely used and convenient but there are several variations in how From_ lines are handled. This can result in corrupted messages on import.

It would be useful to provide an export format that avoids these problems.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/401/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/401,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNDA3MjI1Mg==,incubator-ponymail,324072252,401,NA,sebbASF,16689231,Sebb,,NA,2017-08-22T15:59:38Z,2017-08-22T15:59:38Z,"It should be easy enough to support the MMDF format which based on a single file [1]

The import tool does not currently support MMDF format, but that should easy to implement as it is supported by the Python mail package.

It would be harder to support formats which use a directory structure; the code would need to package the output files as an archive of some kind (tar, zip)

[1] http://www.tin.org/bin/man.cgi?section=5&topic=mmdf","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNDA3MjI1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/402,https://api.github.com/repos/apache/incubator-ponymail/issues/402,incubator-ponymail,254168847,402,Archiver loses some message information,sebbASF,16689231,Sebb,,CLOSED,2017-08-30T23:53:59Z,2017-09-21T02:19:36Z,"The archiver reads the full message which includes a From_ line.
However the full message is not saved in mbox_source.
Instead, the source is derived from the parsed message.

This means that information is lost.
The source ought to be saved from the raw input.

This has implications for mailbox download as the source will then contain a From_ line.

Similar considerations apply to reading mbox files; the source ought to be derived directly from the file rather than regenerated from the parsed message.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/402/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/402,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMDU2ODI2MA==,incubator-ponymail,330568260,402,NA,sebbASF,16689231,Sebb,,NA,2017-09-19T15:00:57Z,2017-09-19T15:00:57Z,See issue #412 regarding recovering the original From envelope header,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMDU2ODI2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/403,https://api.github.com/repos/apache/incubator-ponymail/issues/403,incubator-ponymail,254911196,403,Bug: archiver/importer adds a Message-Id to mails if they don't have one,sebbASF,16689231,Sebb,,CLOSED,2017-09-04T00:29:44Z,2017-09-04T16:54:17Z,"The archiver unconditionally adds a Message-Id header to any messages that don't have one.
This is generated from the archived-at header, which is itself generated from the current time if it does not exist.

Adding the header changes the source message which does not seem right.
The id will not be present in any other archives that have the message.

It's also a poor message id as it has no random element

The importer also adds the header, however it does not set the archived-at header so the generated id is always the same for a given list.

The Message-ID value does not have the conventional format so at least it can readily be detected.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/403/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/403,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNjg5OTAyNA==,incubator-ponymail,326899024,403,NA,sebbASF,16689231,Sebb,,NA,2017-09-04T08:27:02Z,2017-09-04T08:27:02Z,"I've just realised that adding a Message-Id to an incoming message invalidates the field as a message invariant.

The code that does this needs to be removed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNjg5OTAyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/403,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNzAwMTA5NQ==,incubator-ponymail,327001095,403,NA,sebbASF,16689231,Sebb,,NA,2017-09-04T16:49:16Z,2017-09-04T16:49:16Z,"It looks like lists.a.o is running different code as it does not add Message-Id if it is missing; see for example:

https://lists.apache.org/api/source.lua/228334f32b8e893f97f24039508d10133ef3ed537da2edc688dc8258@936409844@%3Cgeneral.jakarta.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyNzAwMTA5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/404,https://api.github.com/repos/apache/incubator-ponymail/issues/404,incubator-ponymail,255102975,404,Bug: parser cannot handle unexpected text Content-Type.,sebbASF,16689231,Sebb,,OPEN,2017-09-04T18:57:13Z,2018-02-02T18:26:48Z,"Some (old) ASF messages [1,2] have unexpected Content-type, for example:

Content-Type: text/$email_type; charset=iso-8859-1

Whilst this is not strictly valid, it's clearly a text message.

At present the message is dropped.

[1] http://mail-archives.apache.org/mod_mbox/jakarta-general/200301.mbox/%3C1631.192.193.196.3.1043161136.squirrel@duckmail.d2g.com%3E
[2] http://mail-archives.apache.org/mod_mbox/jakarta-general/200301.mbox/%3C7703.192.193.196.9.1043165745.squirrel@duckmail.d2g.com%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/404/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/405,https://api.github.com/repos/apache/incubator-ponymail/issues/405,incubator-ponymail,255431638,405,cluster generator should not parse the date field,sebbASF,16689231,Sebb,,OPEN,2017-09-05T22:52:41Z,2017-09-05T22:52:41Z,"There's no point parsing the Date field before using it as part of the hash in the 'cluster' generator.

Two messages with different Date fields are not the same message, even if the converted dates are the same. Parsing/conversion hides such differences, as well as being unnecessary work.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/405/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/406,https://api.github.com/repos/apache/incubator-ponymail/issues/406,incubator-ponymail,256204889,406,Bug: shorten links does not work with cluster ids,sebbASF,16689231,Sebb,,CLOSED,2017-09-08T10:07:23Z,2017-09-08T12:58:15Z,"The shorten links function does not work with cluster ids because the 1st character is 'r' which is deliberately not hex. Conversion to int base 16 results in NaN which generates a bad short id.

Although the feature is deprecated, it's still possible to enable it, so the code should be able to cope. Simplest would be to return the mid unchanged for cluster ids","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/406/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/407,https://api.github.com/repos/apache/incubator-ponymail/issues/407,incubator-ponymail,256206303,407,full generator ids have same format as medium ids,sebbASF,16689231,Sebb,,OPEN,2017-09-08T10:12:53Z,2018-05-25T15:49:53Z,"The format of the full id is identical to the medium format, so it's not possible to tell them apart.
Too late to fix this as the code has already been released (0.9).
But it should be borne in mind for any future generator types.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/407/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/408,https://api.github.com/repos/apache/incubator-ponymail/issues/408,incubator-ponymail,257008688,408,"Bug: atom.lua - should generate date in UTC, not local time",sebbASF,16689231,Sebb,,CLOSED,2017-09-12T11:24:53Z,2017-09-12T11:30:01Z,"The Atom output includes a time-stamp of the form:

2010-06-30T13:00:03Z

The Z means UTC, but the code currently uses local time (which may be UTC)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/408/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/409,https://api.github.com/repos/apache/incubator-ponymail/issues/409,incubator-ponymail,257011011,409,Bug: stats.lua should use UTC for calculating year and month,sebbASF,16689231,Sebb,,CLOSED,2017-09-12T11:33:39Z,2017-09-12T11:35:46Z,"stats.lua currently uses localtime for calculating the year and month from a timestamp.

If the timestamp happens to be close to midnight when a month or year change, the calculation may vary for different locales.

The code should use UTC for the calculations","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/409/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/410,https://api.github.com/repos/apache/incubator-ponymail/issues/410,incubator-ponymail,257026157,410,Mail parsing can change source spacing,sebbASF,16689231,Sebb,,CLOSED,2017-09-12T12:31:30Z,2017-09-21T02:19:36Z,"The source that is stored for a mail may be subtly different from the original input.
This is because the source is derived from the parsed message, not the original.

Whether this can cause problems is to be determined.
But at the very least it should be documented.

For example, some mails have invalid headers where there is no space before the header value.
The parser accepts these, but the generated output adds the missing space.

The original:
http://mail-archives.apache.org/mod_mbox/zeppelin-dev/201701.mbox/raw/%3C201701250924384123365%40163.com%3E
has
X-CM-TRANSID:EsCowADHfeZY_odYIMWKIQ--.55975S2

The PonyMail version:
https://lists.apache.org/api/source.lua/b04f9d108e36756bcc343903f4493afd445e23018e4def0d3dd7857a@%3Cdev.zeppelin.apache.org%3E
has
X-CM-TRANSID: EsCowADHfeZY_odYIMWKIQ--.55975S2
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/410/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/411,https://api.github.com/repos/apache/incubator-ponymail/issues/411,incubator-ponymail,257543011,411,Problem characters in permalink urls?,wrowe,84146,William A Rowe Jr,wrowe@rowe-clan.net,OPEN,2017-09-13T22:42:07Z,2017-09-13T22:59:16Z,"I can't be certain without looking at the code and testing different browsers, but it appears that the permalink URL's need to be further %-escaped to be useful. It appears that LT / GT symbols are correctly %-escaped. Although they are displayed as symbols in the human readable chrome url bar, right-click/copy url does the right thing here;

https://lists.apache.org/thread.html/cd6e60a4f86c327e1d25994c4f3ef4f5cb37dfc5a33524461cf47d2a@%3Cannounce.apache.org%3E

Pasting this link into facebook, their parser split the URL at the '@' symbol, which falls in the set of gen-delims, and should be expected to confuse some parsers. Replacing AT with a %40 sequence allows the full link to be parsed, and the resulting url is handled correctly by ponymail.

My table of http vs. uri rfc characters is here, if you wanted to look for and escape other possibly confusing patterns;
https://docs.google.com/spreadsheets/d/1y5tENm_L8m0tV5iJHPfg9pQoBTeyjCB8JxwkNEwuH44/edit?usp=sharing","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/411/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/411,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyOTMyMDc2MQ==,incubator-ponymail,329320761,411,NA,sebbASF,16689231,Sebb,,NA,2017-09-13T22:59:16Z,2017-09-13T22:59:16Z,"Note that the mod_mbox URL for the same mail does escape the '@' char:

http://mail-archives.apache.org/mod_mbox/www-announce/201703.mbox/%3CCAMopvkMnEs7RD4sn3FmphFNoNp5rmEve%3D7o93JxDVAN3eqp0UA%40mail.gmail.com%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMyOTMyMDc2MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/412,https://api.github.com/repos/apache/incubator-ponymail/issues/412,incubator-ponymail,258838575,412,Bug: use actual envelope header if present,sebbASF,16689231,Sebb,,CLOSED,2017-09-19T14:19:27Z,2017-09-19T14:59:08Z,"The From_ line is currently generated by mbox.lua from the Return-Path and Received headers.
This is not always accurate.

The method msg.as_bytes() can include the original envelope header as used in the From_ line.
This should only be done if the envelope is present, as otherwise a default is added which changes the source. Also the default is not as good as the one generated by mbox.lua.

Since existing messages won't have the From_ line, mbox.lua needs to check if the From_ line needs to be added or not. This also affects From_ prefixing as the code currently assumes the buffer does not contain the From_ header","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/412/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/413,https://api.github.com/repos/apache/incubator-ponymail/issues/413,incubator-ponymail,260590584,413,Bug: import-mbox should not check database during a dry run,sebbASF,16689231,Sebb,,CLOSED,2017-09-26T11:32:48Z,2017-09-26T11:37:46Z,"It does not make any sense to check if the database index exists during a dry run, i.e. when the --dry qualifier is used.

There should be no need to access the database at all for a dry run.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/413/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/414,https://api.github.com/repos/apache/incubator-ponymail/issues/414,incubator-ponymail,260777653,414,Bug: does not handle resent messages,sebbASF,16689231,Sebb,,OPEN,2017-09-26T21:34:55Z,2018-02-02T18:26:48Z,"As per RFC 2822, an original message can be resent to the same mailing list.

This message must have the following headers prefixed to it:
Resent-From:
Resent-Date:
It should also have the following:
Resent-Message-ID:
It may have other headers added (see the RFC)

At present, these headers are not used.

Since the rest of the resent message is the same, failure to take account of the headers may mean that the original and new message are given the same database id; i.e. only one of them will be stored.

If the Resent-Message-ID: is present, that should perhaps be used instead of the original message-id when generating the database id. However the orginal M-Id needs to be kept for searches.

There is at least one example in the ASF archives, see: INFRA-15174","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/414/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/414,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMzg5NTg0NQ==,incubator-ponymail,333895845,414,NA,sebbASF,16689231,Sebb,,NA,2017-10-03T16:23:49Z,2017-10-03T16:23:49Z,"More examples:
http://mail-archives.apache.org/mod_mbox/perl-embperl/201709.mbox

Also:
tamaya.apache.org/dev/201709
perl.apache.org/embperl/201709
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMzg5NTg0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/415,https://api.github.com/repos/apache/incubator-ponymail/issues/415,incubator-ponymail,262034705,415,Bug: MboxoReader needs to return all data for a read() call,sebbASF,16689231,Sebb,,CLOSED,2017-10-02T09:56:07Z,2017-10-03T14:59:08Z,"The MboxoReader currently overrides the _read method but does not work properly if the caller uses the read() call (i.e. where the size is none).

At present it may require two calls to read() to return all the data, which is not how the method is expected to behave.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/415/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/416,https://api.github.com/repos/apache/incubator-ponymail/issues/416,incubator-ponymail,262466396,416,Bug: MboxoReader can return more data than requested if 0 < size < 7,sebbASF,16689231,Sebb,,OPEN,2017-10-03T15:09:31Z,2018-02-02T18:26:48Z,"To simplify the MboxoReader code, it currently forces a read of less than 7 bytes to read 7 bytes.
The response can potentially return more bytes than requested.

The existing Python  mailbox code which calls it either reads everything or uses a size of 8192, so this should not be a problem in practise, but it should be at least noted that the code is not completely generic.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/416/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/416,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMzg3Njk3MQ==,incubator-ponymail,333876971,416,NA,sebbASF,16689231,Sebb,,NA,2017-10-03T15:21:38Z,2017-10-03T15:21:38Z,"Note: the simplification only really works for mboxo format mailboxes.
A different approach would be needed to support mboxrd format as this can have an arbitrary number of '>' chars before the From.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDMzMzg3Njk3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/417,https://api.github.com/repos/apache/incubator-ponymail/issues/417,incubator-ponymail,264377366,417,Enh: search by Message-Id,sebbASF,16689231,Sebb,,OPEN,2017-10-10T21:09:54Z,2018-02-02T18:28:04Z,"It would be useful to allow search by Message-Id.

It's possible to use thread.lua, but that only works if there is only a single match","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/417/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/418,https://api.github.com/repos/apache/incubator-ponymail/issues/418,incubator-ponymail,274049877,418,unable to access pony mail,chandokkaran,33680950,,,CLOSED,2017-11-15T06:36:34Z,2018-02-02T18:38:41Z,"Hello,

I am getting following errors on opening first page of pony mail.

(i) user.lua:28: attempt to call method 'getcookie' (a nil value)

(ii)pminfo.lua:70: Could not contact database backend: permission denied!

I have configured pony mail on rhel 7.4 and running with apache as front end.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/418/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/418,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2MjY2ODgwMQ==,incubator-ponymail,362668801,418,NA,sebbASF,16689231,Sebb,,NA,2018-02-02T18:38:41Z,2018-02-02T18:38:41Z,Cannot reproduce,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2MjY2ODgwMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/419,https://api.github.com/repos/apache/incubator-ponymail/issues/419,incubator-ponymail,280538273,419,Better document where PRs/Issues are sent/discussed,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,OPEN,2017-12-08T16:10:27Z,2017-12-08T16:10:27Z,"While the project uses GitHub workflows for PRs and issues, it uses the dev@ list to discuss questions.  Should either move notifications to dev@ to surface them where people are actively looking, or should better document that all this traffic is on issues@ and ensure more developers are subscribed there.

Discovered wondering why my doc PR was never merged (I'm hoping to contribute/organize more documentation going forward, since I'm using ponymail more now).
https://github.com/apache/incubator-ponymail-site/pull/4 ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/419/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/420,https://api.github.com/repos/apache/incubator-ponymail/issues/420,incubator-ponymail,280603001,420,mbox.lua output filename does not match ISO standard,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,CLOSED,2017-12-08T20:08:44Z,2017-12-09T14:00:27Z,"Using the great api/mbox.lua to export MBOX files is great, except the filenames use a plain digit for the month, not an ISO 8601 format.  This means exporting multiple MBOX files doesn't sort in time order in the output, as users would expect.

Presumably the fix would be to ensure the MBOX filename always uses two digits for the month:
https://github.com/apache/incubator-ponymail/blob/master/site/api/mbox.lua#L69","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/420/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/420,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1MDM2MDU1NQ==,incubator-ponymail,350360555,420,NA,ShaneCurcuru,1765681,Shane Curcuru,asf@shanecurcuru.org,NA,2017-12-08T20:11:22Z,2017-12-08T20:11:22Z,"Hmmm. They might sort normally, but having a fixed width filename on export that matches the input timespans= API would still be useful.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1MDM2MDU1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/420,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1MDQ2MDk5OA==,incubator-ponymail,350460998,420,NA,sebbASF,16689231,Sebb,,NA,2017-12-09T12:54:09Z,2017-12-09T12:54:09Z,"Huh? they don't sort correctly on my system:

$ ls -1 dev_po*.mbox
dev_ponymail_apache_org_2017-1.mbox
dev_ponymail_apache_org_2017-11.mbox
dev_ponymail_apache_org_2017-12.mbox
dev_ponymail_apache_org_2017-2.mbox

I agree the month should be padded with a leading 0 if required.
This could be done in the GUI, but I think it's better done in the backend.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1MDQ2MDk5OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/421,https://api.github.com/repos/apache/incubator-ponymail/issues/421,incubator-ponymail,280726091,421,Bug: GUI can hide reply text when analysing quoted text,sebbASF,16689231,Sebb,,CLOSED,2017-12-09T14:57:37Z,2017-12-09T14:59:56Z,"The GUI can hide reply text when analysing quoted text.

For example:

https://lists.apache.org/thread.html/87a8679d26206273362bdc4c6bdb431597467dfb3fcc96a9cff28c31@%3Cdev.ponymail.apache.org%3E

shows as follows:

Top-posting 
- show/hide original text  icon -
Another internal comment 
- show/hide original text  icon -
End post

However this hides a reply comment; it should be shown as:

Top-posting 
- show/hide original text  icon -
Internal comment 
- show/hide original text  icon -
Another internal comment 
- show/hide original text  icon -
End post
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/421/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/422,https://api.github.com/repos/apache/incubator-ponymail/issues/422,incubator-ponymail,282032353,422,Enh: add icon to show if list has private emails,sebbASF,16689231,Sebb,,OPEN,2017-12-14T09:24:22Z,2018-02-02T18:28:04Z,"Might be useful to add an icon to the list pages to show if a list has private mails.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/422/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/423,https://api.github.com/repos/apache/incubator-ponymail/issues/423,incubator-ponymail,285570846,423,Dump documents to disk on ES failure,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2018-01-03T00:08:34Z,2018-05-14T12:58:50Z,"Currently, when PM fails to archive to ES for whatever reason (typically because the DB is unavailable), it just breaks and emails are in risk of ending up nowhere.

I propose we add a --dumponfail directive that spits out a JSON object to a directory with the various documents that _need_ to be stored. A process can then later scoop up those json files and push them to ES when the DB is back in working condition.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/423/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/423,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODgwNTU3OA==,incubator-ponymail,388805578,423,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T12:52:23Z,2018-05-14T12:52:23Z,Code causes archiver to ignore failures if dumponfail is not defined,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODgwNTU3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/423,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODgwNzM4OA==,incubator-ponymail,388807388,423,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T12:58:50Z,2018-05-14T12:58:50Z,Created new bug #449,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODgwNzM4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/424,https://api.github.com/repos/apache/incubator-ponymail/issues/424,incubator-ponymail,285571493,424,Support ES 6,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2018-01-03T00:13:49Z,2018-01-03T00:34:45Z,"We should support at least the ES 6.x python library.
This can be trivially done by changing the == 5 logic to 'in [5,6]'","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/424/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/425,https://api.github.com/repos/apache/incubator-ponymail/issues/425,incubator-ponymail,285572226,425,ES 6.x fails when certificate paths are not specified,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2018-01-03T00:19:35Z,2018-01-03T00:34:45Z,"ES 6.x python lib will fail when using HTTPS connection and no cert path specified.
This should be solved by including the ca_certs option when connecting.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/425/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/426,https://api.github.com/repos/apache/incubator-ponymail/issues/426,incubator-ponymail,286570076,426,Bug: GUI squashes deeply nested conversations,sebbASF,16689231,Sebb,,OPEN,2018-01-07T13:43:57Z,2018-02-02T18:26:48Z,"Something is wrong with the layout of threaded mode.

If a conversation is deeply nested (e.g. [1]), the RHS margin of the message text is gradually moved leftwards, reducing the usable space.

It looks like additional padding is being added to the RHS every time another level is added.

[1] https://lists.apache.org/list.html?users@httpd.apache.org:lte=24M:mod_lua","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/426/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/426,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTgzMTYzOA==,incubator-ponymail,355831638,426,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-01-07T15:47:40Z,2018-01-07T15:47:40Z,"Suggestion:
add a max_nesting var (set it to something sane, like 12)
when levels go above that, remove the bs-callout and padding from the email, letting it retain the same dimensions as the parent. While not the perfect solution, it's probably the best compromise I can think of. It's either that or we remove the nesting altogether, and I think that would be a bit much.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTgzMTYzOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/426,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTg2MDU0Mw==,incubator-ponymail,355860543,426,NA,sebbASF,16689231,Sebb,,NA,2018-01-07T23:04:09Z,2018-01-07T23:04:09Z,"IMO the nested bodies should all have the same RH margins; only the LH margin needs to change in order to support the nesting markers. To me it looks silly to add extra padding.

Adding a max_nesting level should be a separate feature. Note that a sensible maximum will depend on the display width.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTg2MDU0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/427,incubator-ponymail,286574090,427,Bug: GUI gets threading wrong if mail happens to have same subject,sebbASF,16689231,Sebb,,OPEN,2018-01-07T14:46:47Z,2024-04-16T07:33:16Z,"Two e-mail threads with the same subject: 'mod_lua and subprocess_env' [1]

In the threaded and treeview modes, they are shown as part of the same thread (but they are not).

However if one clicks the individual Permalinks [2,3] the threading works properly.

[1] https://lists.apache.org/list.html?users@httpd.apache.org:2018-1:subprocess_env
[2] https://lists.apache.org/thread.html/31613d3c7a88a41ef9bf18df1a3c0e77d7eeda4b2d79f747ec9210b7@%3Cusers.httpd.apache.org%3E
[3] https://lists.apache.org/thread.html/c2a5654554abb620338190900ebc362b44d1336d9b15cecca73b395b@%3Cusers.httpd.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/427/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTgzNDU3Mg==,incubator-ponymail,355834572,427,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-01-07T16:31:57Z,2018-01-07T16:31:57Z,"The subject finders need to be less aggressive, only try to find parent via subject if 'Re:, Fwd:, AW:' etc exists in the subject.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTgzNDU3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTg2MDE5OA==,incubator-ponymail,355860198,427,NA,sebbASF,16689231,Sebb,,NA,2018-01-07T22:59:00Z,2018-01-07T22:59:00Z,"Surely the nesting needs to be driven by the Reference headers instead of the subject?

Looking for 'Re:, Fwd:, AW:' etc won't help if both original threads have responses.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTg2MDE5OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTg2MDU2Mw==,incubator-ponymail,355860563,427,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-01-07T23:04:34Z,2018-01-07T23:04:34Z,"It is primarily driven by that yes - sometimes those headers are missing from replies, and we improvise to keep things sane. This isn't something new to Pony Mail, it's a de facto standard behaviour by most email clients  (See https://www.jwz.org/doc/threading.html for some history)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM1NTg2MDU2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2ODk1ODEyMg==,incubator-ponymail,368958122,427,NA,wrowe,84146,William A Rowe Jr,wrowe@rowe-clan.net,NA,2018-02-27T17:26:36Z,2018-02-27T17:26:36Z,"Is the converse also true? Noticed that the threaded browse is not forking off messages with changed subject lines, as they share a common thread-id. My other threaded views display the changed subject as a new thread, even if there is confusion about thread-id.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2ODk1ODEyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2OTQzMTIzMg==,incubator-ponymail,369431232,427,NA,sebbASF,16689231,Sebb,,NA,2018-03-01T00:24:09Z,2018-03-01T00:24:09Z,"AFAIK, the subject line can change in a thread.
For example, JIRA messages include a [Created], [Updated] etc.
Unfortunately JIRA sends invalid References which don't match the Message-Ids exactly which makes threading tricky.

~~See also #439 which may be caused by incorrect matching on Subject:~~","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2OTQzMTIzMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/427,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M56sRZR,incubator-ponymail,2058425937,427,NA,lhotari,66864,Lari Hotari,,NA,2024-04-16T07:33:14Z,2024-04-16T07:33:14Z,"Bumping this issue.

We ran into this problem In Pulsar's dev mailing list recently and were wondering what was causing the behavior. 
https://lists.apache.org/thread/jc7nbbpxr10g69wwkoz3h1yxyjd9ncpd
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M56sRZR/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/430,https://api.github.com/repos/apache/incubator-ponymail/issues/430,incubator-ponymail,288385791,430,Enh: Add option to search all lists in the domain (project) in Advanced Search,bindul,510223,Bindul Bhowmik,,CLOSED,2018-01-14T06:01:21Z,2018-05-14T09:46:02Z,"On lists.apache.org , when using the regular search (top menu), you can choose to search _This list_ or _All tlp.apache.org lists_. However, if you try to use the _Advanced_ search, your only options to _Look in_ are  _Current list_ and _All lists_. The latter of course searches all lists in the archive (across TLPs). It would be nice to be able to use advanced search on all lists in a TLP.

So, this request is to add a third option for the _Look in_ field for all lists in the _Current TLP_ or _Current domain_ (or whatever you want to call it).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/430/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/430,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc1OTM0Mw==,incubator-ponymail,388759343,430,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T09:46:01Z,2018-05-14T09:46:01Z,This is a duplicate of #131 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc1OTM0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/432,https://api.github.com/repos/apache/incubator-ponymail/issues/432,incubator-ponymail,296326925,432,Indentation in mail content (leading white-space) not shown,ddekany,342341,,daniel.dekany@gmail.com,CLOSED,2018-02-12T10:30:49Z,2018-02-18T13:29:14Z,"Currently you are using `white-space: pre-line` on the `pre` that holds the mail body (for text/plain mail content). This un-indents the lines of the mail, hence making source code quotations (and bullet listings) hard to read. Using `white-space: pre-wrap` fixes that. (Note sure why `white-space: pre-line` was chosen originally though... but as it collapses sequences of whitespace, including `[lineBreak, indentation]`, it can't be right for text/plain.)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/432/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/432,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NDk4OTgyMA==,incubator-ponymail,364989820,432,NA,sebbASF,16689231,Sebb,,NA,2018-02-12T17:01:47Z,2018-02-12T17:01:47Z,Can you please provide some sample links to show the problem?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NDk4OTgyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/432,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NTA2NTU1Nw==,incubator-ponymail,365065557,432,NA,ddekany,342341,,daniel.dekany@gmail.com,NA,2018-02-12T21:19:44Z,2018-02-12T21:19:44Z,"Sure: [https://lists.apache.org/thread.html/0bc90b453f106adfdb6ba1fc91cbbb63daa386be3fe7e2463362a2bd@<dev.freemarker.apache.org>](https://lists.apache.org/thread.html/0bc90b453f106adfdb6ba1fc91cbbb63daa386be3fe7e2463362a2bd@<dev.freemarker.apache.org>)

(A different issue, but this also happens to be a case where the reply mails aren't shown for some reason... If you click the same mail on https://lists.apache.org/list.html?dev@freemarker.apache.org (i.e., not through a permalink), they are shown.)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NTA2NTU1Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/432,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NTEyNDgyOA==,incubator-ponymail,365124828,432,NA,sebbASF,16689231,Sebb,,NA,2018-02-13T01:49:55Z,2018-02-13T01:49:55Z,"Thanks for the sample.
Please file a separate issue for a separate bug.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NTEyNDgyOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/433,incubator-ponymail,298260417,433,Emails not showing after importing from archive,dimidd,3687606,Dimid Duchovny,,CLOSED,2018-02-19T12:34:43Z,2018-02-21T13:58:06Z,"Hello,

I might be missing something trivial, but after installing ponymail, and importing emails from an mbox file, I don't see any lists in pony's homepage. This is the command I've used to import:
`python3 /var/www/ponymail/tools/import-mbox.py --lid 'mylist' --timeout 12000 --source mylist_all.mbox`
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/433/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NjcxMzM2Ng==,incubator-ponymail,366713366,433,NA,sebbASF,16689231,Sebb,,NA,2018-02-19T14:44:34Z,2018-02-19T14:44:34Z,Were there any messages reported when you did the import?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NjcxMzM2Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2Njk2NDY2MQ==,incubator-ponymail,366964661,433,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-02-20T12:38:03Z,2018-02-20T12:38:03Z,"Unfortunately, I didn't save the log, but it said all messages were imported successfully but a few.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2Njk2NDY2MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2Njk2NTA5Ng==,incubator-ponymail,366965096,433,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-02-20T12:40:00Z,2018-02-20T12:40:00Z,"When you say 'emails not showing', do you mean the list names are not showing on the index page, or do you have the lists but no specific emails in the list view? If the former, what happens if you manually go to list.html?$foo@$bar (where $foo@$bar is your list name) ?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2Njk2NTA5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2Njk3MzQzNg==,incubator-ponymail,366973436,433,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-02-20T13:14:33Z,2018-02-20T13:14:33Z,"Thanks, the former. `list.html?mylist` is also empty.
screenshot: ![](https://i.imgur.com/4BL6vU2.png)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2Njk3MzQzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzAwNjE4Mg==,incubator-ponymail,367006182,433,NA,sebbASF,16689231,Sebb,,NA,2018-02-20T15:05:35Z,2018-02-20T15:05:35Z,"I think the problem might be the list-id.

If you used
 --lid 'mylist' 
as per the description it looks like this won't be displayed.

Try

 --lid 'mylist@mydom' 

instead and see what happens.

AFAICT there need to be at least 2 parts to the list-id, separated by '@' (and '.')
Also the domain part must be at least 3 characters.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzAwNjE4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzAwNzI0OA==,incubator-ponymail,367007248,433,NA,sebbASF,16689231,Sebb,,NA,2018-02-20T15:08:52Z,2018-02-20T15:08:52Z,"The following path should show what mailing lists are available:

http://your.host/api/preferences.lua","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzAwNzI0OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/433,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzMzMzYzNw==,incubator-ponymail,367333637,433,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-02-21T13:57:38Z,2018-02-21T13:57:38Z,"`/api/preferences.lua` showed that `lists` is empty. Anyhow, I re-imported, this time using `--lid mylist@example.com`, and everything works now. Thank you sir.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2NzMzMzYzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/434,https://api.github.com/repos/apache/incubator-ponymail/issues/434,incubator-ponymail,298702349,434,Bug: does not make sense to allow empty domain name in LID,sebbASF,16689231,Sebb,,CLOSED,2018-02-20T18:35:02Z,2018-02-20T18:39:36Z,"The parseLid function in lib/aaa.lua currently matches a LID of the form

<a.>

An empty domain part does not make sense","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/434/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/436,https://api.github.com/repos/apache/incubator-ponymail/issues/436,incubator-ponymail,299551515,436,Enh: option to use timestamp from headers if there is no Date: header,sebbASF,16689231,Sebb,,OPEN,2018-02-22T23:51:38Z,2018-02-22T23:51:38Z,"Some messages don't have a Date: header.

The importer generally runs a long while after the messages were sent, so using the current time causes problems.

It would be useful to have an option for the importer to use another date, for example the From_ line normally has a timestamp. There are also timestamps in the Received: lines. The last one will normally be closest to the creation date of the mail.

The archiver may also benefit from the option. The mail will normally be received by the archiver soon after it is sent. But if there are multiple archivers, their timestamps may vary.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/436/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/437,https://api.github.com/repos/apache/incubator-ponymail/issues/437,incubator-ponymail,299670118,437,Bug: importer should not store mails that don't have a Date: header,sebbASF,16689231,Sebb,,OPEN,2018-02-23T10:45:06Z,2018-02-23T10:45:06Z,"Related to #436, at present the importer uses the current timestamp if the mail has no Date: header.
Any such mail will be filed incorrectly.

The importer should report such mails and ignore them instead (as is done for some other mails that cannot be stored).

Maybe there should be an option to abort the import instead.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/437/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/438,https://api.github.com/repos/apache/incubator-ponymail/issues/438,incubator-ponymail,299889870,438,Enh: option to reduce stats.lua output,sebbASF,16689231,Sebb,,CLOSED,2018-02-24T00:17:51Z,2018-02-24T00:44:35Z,"The stats.lua output includes lists of emails, threads and participants.

Only the emails are really required as the threads and participants can be directly derived from the emails.

There should be an option to skip the threads and participants.
They may not be needed by all clients.
Omitting them would reduce the network traffic (and storage on the client).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/438/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/439,https://api.github.com/repos/apache/incubator-ponymail/issues/439,incubator-ponymail,301224166,439,Bug: stats.lua cannot handle deep nesting,sebbASF,16689231,Sebb,,OPEN,2018-02-28T23:30:09Z,2018-03-01T22:40:58Z,"stats.lua tries to calculate message threading.

However if too many messages reference each other, the code crashes with an error:

site/api/stats.lua:755: Cannot serialise, excessive nesting (501)

This prevents the list data from being displayed.

The code should fail gracefully if the nesting depth is too great.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/439/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/439,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2OTc1NjQzMQ==,incubator-ponymail,369756431,439,NA,sebbASF,16689231,Sebb,,NA,2018-03-01T22:40:58Z,2018-03-01T22:40:58Z,It appears that Jenkins links multiple runs of the same job together; each run references the previous one.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM2OTc1NjQzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/440,https://api.github.com/repos/apache/incubator-ponymail/issues/440,incubator-ponymail,301863370,440,Bug: duplication of data in response from thread.lua,sebbASF,16689231,Sebb,,CLOSED,2018-03-02T18:36:02Z,2018-03-02T20:09:40Z,"The contents of the JSON ""thread"" attribute is also present as the first entry in the ""emails"" attribute.

This is wasteful.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/440/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/441,https://api.github.com/repos/apache/incubator-ponymail/issues/441,incubator-ponymail,302932634,441,"Bug: generator should not rely on parsed data, in particular dates",sebbASF,16689231,Sebb,,OPEN,2018-03-07T01:37:38Z,2018-03-07T19:04:28Z,"The generator methods currently rely on the parsed message to create the hash.
This is subject to change if the parsing should ever change.
For example, headers might be unwrapped (or wrapped), and spacing may change if the parsing library is updated.

A particular problem is that the date is currently converted into UTC by the cluster generator.
The library does not currently do much validation of the format (for example, the following date parses OK: 'Tue, 13 Jul 2004 17:09:03 -429496729500') 

However if the validation is ever changed, then the date input to the hash will change. Given that the actual date is irrelevant to the hash, it should be treated the same as any other header, i.e. as textual input only.

If the parsed message is to be used for the hash, then headers need to be normalised before use.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/441/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/441,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3MTI0Nzg3Nw==,incubator-ponymail,371247877,441,NA,sebbASF,16689231,Sebb,,NA,2018-03-07T19:04:28Z,2018-03-07T19:04:28Z,"Another difference is how >From_ lines are treated when importing.
This will depend on the parser and its settings.
The body may also be subject to encoding issues.
This means that the body is somewhat unreliable as a stable source for the hash.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3MTI0Nzg3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/442,https://api.github.com/repos/apache/incubator-ponymail/issues/442,incubator-ponymail,303206749,442,Enh: make MboxoFactory optional,sebbASF,16689231,Sebb,,CLOSED,2018-03-07T18:18:40Z,2018-03-07T18:22:54Z,"import-mbox.py currently unconditionally uses MboxoFactory.
It would be useful to make this optional","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/442/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/443,https://api.github.com/repos/apache/incubator-ponymail/issues/443,incubator-ponymail,310059283,443,Enh: does not handle non-ASCII subjects well,sebbASF,16689231,Sebb,,OPEN,2018-03-30T12:54:09Z,2018-03-30T14:53:32Z,"For example, the following mail has a mangled subject display:

https://lists.apache.org/thread.html/caf3f3f78c478020f0c0069715bd303f3ecb67bf169483a800e37ab9@%3Cdev.dubbo.apache.org%3E

The body text looks OK.

Note that the subject is handled OK by mod_mbox:
http://mail-archives.apache.org/mod_mbox/incubator-dubbo-dev/201803.mbox/%3c152240877614.5045.17528549688321645295.gitbox@gitbox.apache.org%3e","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/443/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/443,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzUyMDAyNw==,incubator-ponymail,377520027,443,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-03-30T13:05:01Z,2018-03-30T13:05:01Z,"I believe this isn't to do with Pony Mail, but rather that the subject hasn't been base64-encoded properly in the email. Sounds more like an infra issue.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzUyMDAyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/443,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzUyMTMxMg==,incubator-ponymail,377521312,443,NA,sebbASF,16689231,Sebb,,NA,2018-03-30T13:12:36Z,2018-03-30T13:12:36Z,However mod_mbox copes fine with the mail.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzUyMTMxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/443,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzUyMTk5Mg==,incubator-ponymail,377521992,443,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-03-30T13:16:32Z,2018-03-30T13:16:32Z,"That is true - doesn't mean pony mail has a bug just because mod_mbox is more lenient with faulty emails :). PM tries to decode headers, provided they actually are encoded.

I tried with a ""proper"" client, and that seems to work fine, https://lists.apache.org/thread.html/794eca46034fd8de91c9f4a6845c5480e8f7c82ccd6dc8af53935096@%3Cdev.ponymail.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzUyMTk5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/443,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzU0MTE5Ng==,incubator-ponymail,377541196,443,NA,sebbASF,16689231,Sebb,,NA,2018-03-30T14:53:32Z,2018-03-30T14:53:32Z,See also INFRA-16268,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3NzU0MTE5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/444,https://api.github.com/repos/apache/incubator-ponymail/issues/444,incubator-ponymail,310777530,444,thread.lua should take References header into account,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2018-04-03T10:20:39Z,2018-04-03T10:23:49Z,"Currently, threading is done by looking at the in-reply-to headers only. As this will vary from client to client (which header they use), we should also look for references","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/444/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/445,https://api.github.com/repos/apache/incubator-ponymail/issues/445,incubator-ponymail,310792605,445,Composer should use unicode as encoding,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2018-04-03T11:10:47Z,2018-04-03T11:10:47Z,"The composer script should use unicode for replies/topics, at the very least in the body of the email.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/445/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/446,incubator-ponymail,312508225,446,"Testing unicode subjects via PRs, ignore: 🍔 🍔 🍔",Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2018-04-09T12:20:23Z,2018-04-09T12:40:25Z,we like 🍔🍔🍔,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/446/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNDE5Mg==,incubator-ponymail,379734192,446,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-04-09T12:27:32Z,2018-04-09T12:27:32Z,of course this renders poorly on lists,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNDE5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNDM0OQ==,incubator-ponymail,379734349,446,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-04-09T12:28:10Z,2018-04-09T12:28:10Z,ignore still :),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNDM0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNDY0Mw==,incubator-ponymail,379734643,446,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-04-09T12:29:17Z,2018-04-09T12:29:17Z,flood flood :),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNDY0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNTIxNA==,incubator-ponymail,379735214,446,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-04-09T12:31:35Z,2018-04-09T12:31:35Z,bla bla,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNTIxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNjA2NA==,incubator-ponymail,379736064,446,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-04-09T12:34:49Z,2018-04-09T12:34:49Z,might be gitbox that's broken..,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNjA2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/446,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNzI3OA==,incubator-ponymail,379737278,446,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-04-09T12:39:03Z,2018-04-09T12:39:03Z,time for obvious fix...,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM3OTczNzI3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/447,incubator-ponymail,320774586,447,Import from a local json file,dimidd,3687606,Dimid Duchovny,,CLOSED,2018-05-07T11:48:50Z,2018-05-18T12:21:22Z,"Hello,

Looks like `import-mbox.py` is already using  json as an intermediate format to store messages, before uploading to elasticsearch. Is it possible to import from a json directly? If so, in which format should the json file be?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/447/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4NzY4NTQ3OA==,incubator-ponymail,387685478,447,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-05-09T09:48:41Z,2018-05-09T09:48:41Z,"I've thought about something like this, but not sure how to set the list id.

```import sys
import os
import configparser
import argparse
import json
from elasticsearch import Elasticsearch, helpers


# Fetch config
path = os.path.dirname(os.path.realpath(__file__))
config = configparser.RawConfigParser()
config.read(""%s/ponymail.cfg"" % path)
auth = None
if config.has_option('elasticsearch', 'user'):
    auth = (config.get('elasticsearch','user'), config.get('elasticsearch','password'))
dbname = config.get(""elasticsearch"", ""dbname"")
ssl = config.get(""elasticsearch"", ""ssl"", fallback = ""False"").lower() == 'true'
uri = config.get(""elasticsearch"", ""uri"", fallback = """")

es = Elasticsearch(
        [{
            'host': config.get(""elasticsearch"", ""hostname""),
            'port': int(config.get(""elasticsearch"", ""port"")),
            'use_ssl': ssl,
            'url_prefix': uri,
            'http_auth': auth
         }],
        max_retries=5,
        retry_on_timeout=True
    )
json_path = sys.argv[1]
with open(json_path, ""r"") as json_file:
    json = json.load(json_file)
    helpers.bulk(es, json)
```","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4NzY4NTQ3OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc2Nzc1MA==,incubator-ponymail,388767750,447,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T10:15:56Z,2018-05-14T10:15:56Z,"ElasticSearch (ES) requires JSON for its API.
The JSON format is based on the requirements of ES and the database schema.
Both may change.

import-mbox already supports various standard mailbox formats (mbox, IMAP etc)

Personally, I don't see a use case for defining another mail input format.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc2Nzc1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc2ODc1Ng==,incubator-ponymail,388768756,447,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-05-14T10:20:12Z,2018-05-14T10:20:12Z,"In my use case, I load a PST file, convert to json, do some processing, and
would love to have an option to load a json directly.

2018-05-14 13:15 GMT+03:00 sebbASF <notifications@github.com>:

> ElasticSearch (ES) requires JSON for its API.
> The JSON format is based on the requirements of ES and the database schema.
> Both may change.
>
> import-mbox already supports various standard mailbox formats (mbox, IMAP
> etc)
>
> Personally, I don't see a use case for defining another mail input format.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/apache/incubator-ponymail/issues/447#issuecomment-388767750>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ADhEthyQkHxugopc_0-C2ZB5UlOg8wGaks5tyVlegaJpZM4T011K>
> .
>
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc2ODc1Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc2OTE4Mg==,incubator-ponymail,388769182,447,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-05-14T10:22:01Z,2018-05-14T10:22:01Z,What's preventing you from using the JSON format archiver.py pushes to ES? You should be able to just push documents manually,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc2OTE4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc3MTk1MA==,incubator-ponymail,388771950,447,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-05-14T10:33:06Z,2018-05-14T10:33:06Z,"Nothing, I just don't know what should be the exact format of the JSON.
E.g. how to set the list-id that the emails belong to.

2018-05-14 13:22 GMT+03:00 Daniel Gruno <notifications@github.com>:

> What's preventing you from using the JSON format archiver.py pushes to ES?
> You should be able to just push documents manually
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/apache/incubator-ponymail/issues/447#issuecomment-388769182>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ADhEth1fIQzZpfte5kANTMCAR8KGs6hdks5tyVrJgaJpZM4T011K>
> .
>
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc3MTk1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc3NDQyNQ==,incubator-ponymail,388774425,447,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T10:43:28Z,2018-05-14T10:43:28Z,"As I noted earlier, the JSON format depends on ES and the schema (and possibly other aspects of how PonyMail uses ES). It's not guaranteed stable.

I think it would be quite a lot of work to define a format that is guaranteed not to change.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc3NDQyNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc3NTMwMg==,incubator-ponymail,388775302,447,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-05-14T10:47:05Z,2018-05-14T10:47:05Z,"I see, instead, would it be possible somehow to infer it from the existing code
automagically? E.g. add an optional flag `--dump-json` to `import-mbox.py`.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc3NTMwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc5MjQ2Nw==,incubator-ponymail,388792467,447,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T12:00:53Z,2018-05-14T12:00:53Z,"No; it does not work like that. There is not a simple JSON interface that can be exposed externally.

Whilst the JSON format can be captured for a given message by dumping the parameters to the ES methods, that is not the whole story. e.g. the message ID also needs to be generated; attachments scanned etc.

PonyMail requires the original source message so that will need to be part of your input data.
This can just be fed as input to the archiver. Or the source can be written to a file and parsed by import-mbox.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODc5MjQ2Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/447,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MDE4OTYxOQ==,incubator-ponymail,390189619,447,NA,sebbASF,16689231,Sebb,,NA,2018-05-18T12:21:22Z,2018-05-18T12:21:22Z,Seems to me this has reached a natural close,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MDE4OTYxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/449,https://api.github.com/repos/apache/incubator-ponymail/issues/449,incubator-ponymail,322805433,449,Bug: archiver ignores failures if dumponfail is not defined,sebbASF,16689231,Sebb,,CLOSED,2018-05-14T12:58:20Z,2018-05-14T13:02:54Z,See #423 ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/449/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/449,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODgwODEyNA==,incubator-ponymail,388808124,449,NA,sebbASF,16689231,Sebb,,NA,2018-05-14T13:01:19Z,2018-05-14T13:01:19Z,"The code catches Exception, but does nothing unless dumponfail is defined:

https://github.com/apache/incubator-ponymail/blob/master/tools/archiver.py#L451
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4ODgwODEyNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/450,https://api.github.com/repos/apache/incubator-ponymail/issues/450,incubator-ponymail,323828168,450,Bug: copy-list.py does not work,sebbASF,16689231,Sebb,,CLOSED,2018-05-17T00:03:00Z,2018-05-17T13:50:31Z,"The copy-list.py tool does not work when copying source to target within a database.

This is partly because it updates the wrong field:
    if targetLID:
        if not newdb:
            body['list_raw'] = targetLID
            body['list'] = targetLID
This should be
            body['_source']['list_raw'] = targetLID

However fixing this won't copy the list, it will move the list.
This is because the document id is not updated.
There can only be one document with a given id in each database, so the amended copy replaces the original.
The list name is present in clear text in the document id so it could be updated.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/450/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/450,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4OTg0NzA1Ng==,incubator-ponymail,389847056,450,NA,sebbASF,16689231,Sebb,,NA,2018-05-17T12:20:26Z,2018-05-17T12:20:26Z,"Another bug: if the --newdb option is present the code ignores the --target name, yet it allows both to be specified. 
Either the combination should be rejected, or it should be supported.
For consistency with the single database case it should be supported.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM4OTg0NzA1Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/451,https://api.github.com/repos/apache/incubator-ponymail/issues/451,incubator-ponymail,324000177,451,Bug: unnecessary test (will always succeed) in copy-list.py,sebbASF,16689231,Sebb,,CLOSED,2018-05-17T12:25:10Z,2018-05-17T12:32:38Z,"The code at
https://github.com/apache/incubator-ponymail/blob/master/tools/copy-list.py#L121
says:
if targetLID or newdb:
    rest of script

The condition cannot be false, as earlier:
https://github.com/apache/incubator-ponymail/blob/master/tools/copy-list.py#L99
we have
if not (targetLID or newdb):
    ...
    sys.exit(-1)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/451/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/452,https://api.github.com/repos/apache/incubator-ponymail/issues/452,incubator-ponymail,324084557,452,Bug: setup.py --default should not prompt for urlPrefix,sebbASF,16689231,Sebb,,CLOSED,2018-05-17T15:53:43Z,2018-05-17T15:54:43Z,"If the --default option is used, setup.py should not prompt for optional parameters such as urlPrefix","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/452/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/453,https://api.github.com/repos/apache/incubator-ponymail/issues/453,incubator-ponymail,324214070,453,Bug: setup.py fails with ES2 - fielddata,sebbASF,16689231,Sebb,,CLOSED,2018-05-17T22:57:56Z,2018-05-17T22:58:42Z,"The way fielddata is handled changed in ES 5; it's now a boolean.
It's not needed in ES2 because the default is OK, so drop the setting if creating ES2 database","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/453/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/454,https://api.github.com/repos/apache/incubator-ponymail/issues/454,incubator-ponymail,324429843,454,Bug: push-failures.py expects to find non-existent 'id' key in json file,sebbASF,16689231,Sebb,,CLOSED,2018-05-18T14:19:22Z,2018-05-18T14:44:46Z,"The push-failures script reads the .json files created by the archiver if it cannot write a message to the database.

The script expects to find the key 'id' in the json file, however the archiver does not save the value.

It so happens that the 'id' is also saved as mbox['mid'].
This is unlikely to change, but ISTM that it would be better if the archiver saved the id in the json.

A possible work-round is to default to mbox['mid'] if the 'id' key does not exist.
The archiver should also be updated to provide the key.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/454/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/455,https://api.github.com/repos/apache/incubator-ponymail/issues/455,incubator-ponymail,325685869,455,Enh: Supporting a custom mapping in setup,dimidd,3687606,Dimid Duchovny,,OPEN,2018-05-23T12:37:17Z,2018-05-23T12:37:36Z,"Hi,

Currently, `tools/setup.py` has a hard-coded mapping in code. In my use-case, I need some extra fields per message, so I think it'll be useful to allow the user provide a command-line option, which will read an external JSON file with the mapping. We can have a default mapping, same as the current one. Would you consider accepting such a PR? ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/455/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/456,https://api.github.com/repos/apache/incubator-ponymail/issues/456,incubator-ponymail,325830950,456,Enh: remove duplicated code in tools scripts by using elastic.py module,sebbASF,16689231,Sebb,,CLOSED,2018-05-23T18:52:57Z,2018-05-23T19:23:02Z,"There are several Python scripts under tools that contain the same setup code for ElasticSearch.
These should be converted to use the elastic.py module.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/456/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/457,https://api.github.com/repos/apache/incubator-ponymail/issues/457,incubator-ponymail,325850892,457,Bug: install.py uses deprecated method and Python2 - is it needed?,sebbASF,16689231,Sebb,,OPEN,2018-05-23T19:55:32Z,2019-04-26T23:51:57Z,"install.py uses the deprecated method platform.linux_distribution()
There does not appear to be a built-in replacement.

It also uses Python2, whereas all the other scripts use Python3.

It's not clear if the script is still needed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/457/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/457,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNDE0Ng==,incubator-ponymail,487234146,457,NA,sebbASF,16689231,Sebb,,NA,2019-04-26T23:51:57Z,2019-04-26T23:51:57Z,I think the script should be deleted,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNDE0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/458,https://api.github.com/repos/apache/incubator-ponymail/issues/458,incubator-ponymail,325929898,458,Bug: tmpname used before it has been set up in import-mbox,sebbASF,16689231,Sebb,,CLOSED,2018-05-24T01:14:44Z,2018-05-24T09:13:43Z,"pylint reports that the code at line 178 [1] uses tmpname, but it has not yet been set up.

It looks like this was caused by commit 6127911 [2] which rearranged some code to add imap support.

[1] https://github.com/apache/incubator-ponymail/blob/172ba61d357f855afde0b9a8e430a94dbd3a8df1/tools/import-mbox.py#L178

[2] https://github.com/apache/incubator-ponymail/commit/6127911a367a527423495c98f551d3939359eae9","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/458/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/459,https://api.github.com/repos/apache/incubator-ponymail/issues/459,incubator-ponymail,325931269,459,Bug: variable 'mid' used before assignment in archiver.py,sebbASF,16689231,Sebb,,CLOSED,2018-05-24T01:23:36Z,2018-05-24T01:25:54Z,"pylint reports: E:481,71: Using variable 'mid' before assignment [1]

[1] https://github.com/apache/incubator-ponymail/blob/172ba61d357f855afde0b9a8e430a94dbd3a8df1/tools/archiver.py#L481","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/459/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/460,https://api.github.com/repos/apache/incubator-ponymail/issues/460,incubator-ponymail,326200149,460,Bug: import-mbox.py: imap code should not reset ES instance,sebbASF,16689231,Sebb,,CLOSED,2018-05-24T16:32:44Z,2018-05-24T16:33:53Z,"If the source has an imap(s) URL, the code overwrites the ES instance:

https://github.com/apache/incubator-ponymail/blob/88bcc1d64ebad7c71093484c3a516eef94fdb73b/tools/import-mbox.py#L576

That will only work if the settings happen to be the defaults

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/460/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/461,https://api.github.com/repos/apache/incubator-ponymail/issues/461,incubator-ponymail,326433069,461,Bug: archiver.py can never detect content-type: flowed,sebbASF,16689231,Sebb,,CLOSED,2018-05-25T08:45:07Z,2018-05-25T09:55:57Z,"The code to detect content-type: flowed is here:

https://github.com/apache/incubator-ponymail/blob/ec0a76eb8b6836a3675800a65829a48fe90156f9/tools/archiver.py#L316

However msg_metadata is set up using the keys hash:

https://github.com/apache/incubator-ponymail/blob/ec0a76eb8b6836a3675800a65829a48fe90156f9/tools/archiver.py#L138

This does not contain content-type.

AFAICT, that is the only string which is missing from keys.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/461/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/462,https://api.github.com/repos/apache/incubator-ponymail/issues/462,incubator-ponymail,326455150,462,Bug: archiver.py: convertToWrapped expects bytes,sebbASF,16689231,Sebb,,CLOSED,2018-05-25T09:49:17Z,2020-08-28T14:03:45Z,"convertToWrapped is being called incorrectly; it expects bytes.

https://github.com/apache/incubator-ponymail/blob/ec0a76eb8b6836a3675800a65829a48fe90156f9/tools/archiver.py#L317

It looks like the processing of content-type=flowed should really be done in the msgbody method before conversion to str.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/462/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/462,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MjA5ODU4Mw==,incubator-ponymail,392098583,462,NA,sebbASF,16689231,Sebb,,NA,2018-05-25T15:42:03Z,2018-05-25T15:42:03Z,"Fixing this changes the generated message ids for the applicable messages.
Also, the reformatted result has line breaks in the wrong places (at least in the sample I tried).
The simplest might be to drop the code entirely.
Alternatively, it could be added to the msgbody method as a run-time option.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MjA5ODU4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/462,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY4MjU5MjcxMQ==,incubator-ponymail,682592711,462,NA,sebbASF,16689231,Sebb,,NA,2020-08-28T14:02:27Z,2020-08-28T14:02:27Z,"Alternative approach is to leave the existing code as it is, and reformat the body after it has been used by the id generator.
This will only change the displayed message, and won't affect Permalinks.

Also, the output works better when wrap_fixed=False and the width is set to a high value. This allows the display host to do the wrapping.

Note that changing the body may affect unit tests, so it would be useful to allow the behaviour to be disabled.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY4MjU5MjcxMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/463,https://api.github.com/repos/apache/incubator-ponymail/issues/463,incubator-ponymail,326470299,463,Bug: Archiver#msgbody: poor handling of conversion to string,sebbASF,16689231,Sebb,,CLOSED,2018-05-25T10:36:03Z,2020-08-30T16:40:21Z,"The method msgbody returns a string. This is converted here:

https://github.com/apache/incubator-ponymail/blob/ec0a76eb8b6836a3675800a65829a48fe90156f9/tools/archiver.py#L255

There are some problems with this:
1) it's only needed if type(body) is bytes
2) ~~if multiple charsets are present it will try them all. If the last one fails, this will override any successful earlier decodes~~
3) pm_charsets() uses a set to hold the result of calling msg.get_charsets(). This does not preserve the order. Does it even make sense to look at all the charsets associated with a message? If so, then surely each part should be treated separately.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/463/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/463,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MjEwNDc0OQ==,incubator-ponymail,392104749,463,NA,sebbASF,16689231,Sebb,,NA,2018-05-25T16:03:17Z,2018-05-25T16:03:17Z,"Note that a successful decode will change type(body) to str, so the first charset will be used if it succeeds. However if the first charset fails, utf-8 will be used, and a subsequent charset (if any) won't be tried.

If there are mulitple charsets, then the result is unpredictable as it depends on the set traversal order.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MjEwNDc0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/463,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3ODc5OTg4MA==,incubator-ponymail,678799880,463,NA,sebbASF,16689231,Sebb,,NA,2020-08-23T17:13:45Z,2020-08-23T17:13:45Z,"I've just found a couple of messages that trigger this behaviour:

http://mailarchive-vm.apache.org/mod_mbox/httpd-dev/200709.mbox/raw/%3c14ee094e0709041258o68a6f771ma57ff5b4b77fa4d6@mail.gmail.com%3e

http://mailarchive-vm.apache.org/mod_mbox/httpd-dev/200709.mbox/raw/%3c14ee094e0709050909o647cfc98v9f428fc04d6d283d@mail.gmail.com%3e

Messages with characters that parse differently (or fail to parse) in one of the charsets can be affected.

N.B. This bug means that the generated MID will vary (unless the generator does not use the parsed body).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3ODc5OTg4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/463,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3OTAyODU1NQ==,incubator-ponymail,679028555,463,NA,sebbASF,16689231,Sebb,,NA,2020-08-24T09:50:41Z,2020-08-24T09:50:41Z,"Note: the same MID will be generated each time if the same message is processed repeatedly during the same test run.
It looks like whatever determines the ordering of Set entries is established during process startup.

The generators that use the message body are: medium, medium_original, cluster, legacy.
[The full generator does not, however it is susceptible to changes in the mail library parsing.]","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3OTAyODU1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/463,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3OTA0NzQyMw==,incubator-ponymail,679047423,463,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2020-08-24T10:32:37Z,2020-08-24T10:32:37Z,"Currently, the decoding tries to use all possible character sets found in the message, not necessarily ones pertaining to the body itself. It also assumes that the default is UTF-8. Both are IMHO wrong, and are handled differently in Foal:

- US-ASCII should be assumed default as per RFC822. All other character sets MUST be accompanied with a Content-Type encoding sub-header.
- Only the message part or its parent should be looked at for character sets, and parent should only be fallback if the message part does not have a valid encoding sub-headeer.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3OTA0NzQyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/463,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3OTA2MTgxOQ==,incubator-ponymail,679061819,463,NA,sebbASF,16689231,Sebb,,NA,2020-08-24T11:05:44Z,2020-08-24T11:05:44Z,"Note that decode is only invoked if type(body) is bytes, and a successful decode will change body to a string.
So the decoding uses the first character set only. If that fails, it uses UTF-8.

I agree the current approach is wrong, however changing it will change the output of any generators which depend on the decoded body.

It's vital to ensure that the generators continue to produce the same output for the same input.

I think it should be safe to change the code to use the content-type for the current part, falling back to UTF-8 on error.
This should fix the output to the most appropriate of the charsets, and should match at least some of the existing generated MIDs. This is not ideal, but is no worse than the current situation.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3OTA2MTgxOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/464,https://api.github.com/repos/apache/incubator-ponymail/issues/464,incubator-ponymail,326778962,464,Bug: setup.py uses ES library version to decide what features the database supports,sebbASF,16689231,Sebb,,CLOSED,2018-05-27T01:11:15Z,2018-05-27T11:37:35Z,"The setup.py code includes some setup that depends on the database version.
Currently it checks the version of the Python ES library.
This is supposed to correspond with the ES engine, but it may not be the same.
For example, version 5 of the library works OK with version 2 of the database engine.

The code should really use the currently installed engine version instead.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/464/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/465,https://api.github.com/repos/apache/incubator-ponymail/issues/465,incubator-ponymail,326808440,465,setup.py tries to install Python modules,sebbASF,16689231,Sebb,,OPEN,2018-05-27T11:30:09Z,2018-05-27T11:48:55Z,"If the import of elasticsearch fails, setup.py tries to install some Python modules.
This uses pip3 and is unconditionally tried if the current user is root.

I think this is out of scope for the setup script.
It's also potentially dangerous to run external processes as root.
Also the installation may not be using pip3.

Setup.py should report an issue if a required module is missing, but should not unconditionally install them.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/465/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/465,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MjMyNDgyMg==,incubator-ponymail,392324822,465,NA,sebbASF,16689231,Sebb,,NA,2018-05-27T11:48:55Z,2018-05-27T11:48:55Z,It looks as though this processing was originally done in the install.py script.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MjMyNDgyMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/466,https://api.github.com/repos/apache/incubator-ponymail/issues/466,incubator-ponymail,327630397,466,Bug: thread.lua fetches replies from other lists,dimidd,3687606,Dimid Duchovny,,CLOSED,2018-05-30T08:42:01Z,2018-05-30T08:56:40Z,"How to reproduce: import the same mbox file to two different lists.
Open a thread of list1, replies which belong to list2 will be shown as well.
I guess we could amend this line (43) in `api/thread.lua`:
`local docs = elastic.findFast( ('in-reply-to:""%s"" OR references:""%s""'):format(emid, emid), 50, ""mbox"")` to account for the list-id as well.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/466/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/466,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MzA4MTUzOQ==,incubator-ponymail,393081539,466,NA,sebbASF,16689231,Sebb,,NA,2018-05-30T08:47:26Z,2018-05-30T08:47:26Z,"If the same mbox file is present on multiple lists, then it's not surprising that PonyMail shows the mails from both.
Applying the suggested fix will probably break threads that reply to multiple lists.
If a reply is sent to a different list, it's still the same thread...

I don't think this is a bug.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MzA4MTUzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/466,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MzA4NDQ0NA==,incubator-ponymail,393084444,466,NA,dimidd,3687606,Dimid Duchovny,,NA,2018-05-30T08:56:40Z,2018-05-30T08:56:40Z,"I see, thanks. ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDM5MzA4NDQ0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/468,https://api.github.com/repos/apache/incubator-ponymail/issues/468,incubator-ponymail,331710371,468,Working on *just* the UX?,BigBlueHat,43209,BigBlueHat,byoung@bigbluehat.com,OPEN,2018-06-12T18:52:07Z,2019-04-26T13:15:11Z,"I'd love to contribute to the UX, but setting up Elastic Search, Python3, Lua, and Apache or NGINX is a bit much to tweak some HTML and JS which gets it's ""meaning"" from a JSON API.

Would it be possible to either:
a) allow the UX to work against a remote API (i.e. test UX against https://lists.apache.org/)
b) mock the API (perhaps via an API documenting format like [OpenAPI](https://www.openapis.org/), [RAML](https://raml.org/), etc.)

Option A seems the simplest/fastest (assuming the API is or could be setup to enable CORS--see http://www.test-cors.org/).

The lower the bar is for contribution, the more designer/UX types (who likely don't have Elastic Search et al handily installed and running) might be able to help this project.

Just an idea! 💡 
🎩 ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/468/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/468,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczOTQ0OQ==,incubator-ponymail,486739449,468,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:14:28Z,2019-04-25T16:14:28Z,"You can use remote API calls, if CORS allows. I would suggest setting up a proxy at home that tweaks CORS to allow for credentials if needed, I don't think it's gonna happen on lists.a.o :)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczOTQ0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/468,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc4MDIyNg==,incubator-ponymail,486780226,468,NA,BigBlueHat,43209,BigBlueHat,byoung@bigbluehat.com,NA,2019-04-25T18:09:34Z,2019-04-25T18:09:34Z,"@Humbedooh actually, thanks to [this infra ticket](https://issues.apache.org/jira/browse/INFRA-15587), I probably have what I need from the CORS side of things (at least for this running instance).

The next step (using option A above) would be build a simple/alternate UX that uses that API and is built as a ""standalone"" web app (which could run on a different server/host, but still serve the same data).

The goal was to make UX iteration simpler/faster by separating it from server-side concerns using the API as the ""glue"" between them. 😃 

So, I suppose this is partly possible already, and would just need a 👍 and a more ""visible"" (via API docs or similar) API.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc4MDIyNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/468,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc4MzIxMA==,incubator-ponymail,486783210,468,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T18:18:11Z,2019-04-25T18:18:11Z,"I agree, and there is some work in progress on porting it all to python, with an OpenAPI specification instead, but work is progressing very slowly on that front.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc4MzIxMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/468,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzA1MjQ0Mw==,incubator-ponymail,487052443,468,NA,BigBlueHat,43209,BigBlueHat,byoung@bigbluehat.com,NA,2019-04-26T13:15:10Z,2019-04-26T13:15:10Z,"> I agree, and there is some work in progress on porting it all to python, with an OpenAPI specification instead, but work is progressing very slowly on that front.

Where's that work happening? If ever I find time, I might put some of it here. 😉 ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzA1MjQ0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/469,https://api.github.com/repos/apache/incubator-ponymail/issues/469,incubator-ponymail,341615131,469,Bug: Javascript URLs must always use URL_BASE,sebbASF,16689231,Sebb,,OPEN,2018-07-16T17:58:44Z,2025-02-05T10:01:47Z,"The JS currently creates some URLs assuming that all URLs can be relative.
However that is not the case; e.g. the logged-in drop-down menu can appear on thread.html as well as at the top level. However nor can URLs be absolute,.

All URLs need to take account of URL_BASE.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/469/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/469,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc0NDk5Mg==,incubator-ponymail,486744992,469,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:30:14Z,2019-04-25T16:30:14Z,"sorry, wrong PR number in that commit. it is for #465 ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc0NDk5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/469,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M6dIkrE,incubator-ponymail,2636270276,469,NA,krishna-dave206,184682148,Krishna Dave,krishna.dave2024@nst.rishihood.edu.in,NA,2025-02-05T10:01:46Z,2025-02-05T10:01:46Z,"@sebbASF I would like to work on this issue. Could you please assign this to me?
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M6dIkrE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/470,https://api.github.com/repos/apache/incubator-ponymail/issues/470,incubator-ponymail,341633051,470,Enh: display buttons even if no mails are found in a month,sebbASF,16689231,Sebb,,CLOSED,2018-07-16T18:44:43Z,2018-07-16T18:47:28Z,PM should display Subscribe/Unsubscribe etc buttons even if no emails are found,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/470/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/471,https://api.github.com/repos/apache/incubator-ponymail/issues/471,incubator-ponymail,341903333,471,Flagging Active and Inactive Mailing Lists,sharanf,20459978,,sharan@apache.org,OPEN,2018-07-17T12:44:51Z,2019-08-21T20:15:47Z,"Some of the older ASF mailing lists are no longer in use and are only there for display purposes. In theory would we not want to allow users to start any new threads or have users request subscriptions to them.  

This enhancement is to look at adding a  flag to a mailing to indicate if the list is active (e.g. allowing new posts and subscription requests) or inactive (not allowing new posts or subscription requests).

- If the list is active then the standard buttons to start a new thread, subscribe or unsubscribe to the list are displayed.
- If the list is inactive instead of displaying the standard buttons for starting a new thread or subscribing, a message could be displayed saying that posts and subscriptions to the list are closed for the list.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/471/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/471,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQwNTYwNDU5Ng==,incubator-ponymail,405604596,471,NA,sebbASF,16689231,Sebb,,NA,2018-07-17T14:35:38Z,2018-07-17T14:35:38Z,"The ES database currently contains a mailinglists mapping which could probably be extended to include extra details such as the date of closure.
At present it only seems to be used to hold MailMan list info (if present)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQwNTYwNDU5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/471,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNjg1Mw==,incubator-ponymail,486736853,471,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:07:25Z,2019-04-25T16:07:25Z,"There isn't really a way for PM to know if a list is active or inactive other than whether it is getting emails. We *could* have some sort of tests for activity and suggest that a list *may* be inactive if below a certain threshold, but doing more than that would require either manual intervention (perhaps a CLI script to mark lists?) or tying it into the mailing list service itself.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNjg1Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/471,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc0Mjk4MA==,incubator-ponymail,486742980,471,NA,sebbASF,16689231,Sebb,,NA,2019-04-25T16:24:59Z,2019-04-25T16:24:59Z,"I agree that list activity cannot be used to determine whether a list is still active or not.
Some lists have very little activity, and a list with recent activity may have been closed down.

There may be other reasons for disallowing posting, e.g. for list archives that are aliases.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc0Mjk4MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/471,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUyMzYzMTAzOQ==,incubator-ponymail,523631039,471,NA,sebbASF,16689231,Sebb,,NA,2019-08-21T20:15:46Z,2019-08-21T20:15:46Z,"Regardless of how the list state is determined, there should be a way to record it, and for PM to take note of it in displays etc.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUyMzYzMTAzOQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/472,https://api.github.com/repos/apache/incubator-ponymail/issues/472,incubator-ponymail,341951061,472,Bug: mailinglists mapping - private property handling is inconsistent,sebbASF,16689231,Sebb,,OPEN,2018-07-17T14:43:15Z,2018-07-17T15:12:13Z,"setup.py creates the mailinglists mapping with the properties:
description, list, name

However archiver.py creates entries using the properties:
description, list, name, private

Also edit-list.py stores entries using the properties:
description, list, name

If the private property is useful, then setup and edit-list.py should take account of it.

It's not clear if the private property is useful when applied to a list, as each message has a private property. It might be best to just drop the property in archiver.py.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/472/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/473,https://api.github.com/repos/apache/incubator-ponymail/issues/473,incubator-ponymail,346923546,473,Bug: Blank subject line defaulted when replying to an existing thread,sharanf,20459978,,sharan@apache.org,OPEN,2018-08-02T09:05:53Z,2018-08-02T09:05:53Z,"I've have experienced and am still experiencing intermittent problems posting a message using Ponymail interface. I have noticed recently that one of the mails that is not posting has a blank subject line and I checking my Spam folder and found a qmail response message saying that blank subject line postings are not allowed for Ponymail.

When using the ‘Reply’ button to respond to an existing thread, the subject line is automatically completed, but for some reason when using the ‘Reply’ button on certain messages the subject line is left blank.

These are the steps I used 
- I logged into my Ponymail account
- I located the thread that I wanted to respond to
- I clicked on the ‘Reply’ button next to the thread
-  A blank subject line is displayed in the response

When using the ‘Reply’ button to respond to any other message on the same mailing list, the subject line is automatically completed. The blank subject line is only happening with one specific message.

 I have come across the issue again and have taken screenshots of the thread that is is happening on.
![pmail-1](https://user-images.githubusercontent.com/20459978/43574196-db4f1830-9643-11e8-8b2f-04817434be06.png)
![pmail-2](https://user-images.githubusercontent.com/20459978/43574197-db6b4712-9643-11e8-9474-b40f1130c14e.png)
![pmail-3](https://user-images.githubusercontent.com/20459978/43574198-db88f668-9643-11e8-8d4c-e91689f3bb30.png)
![pmail-4](https://user-images.githubusercontent.com/20459978/43574200-dba708c4-9643-11e8-81d1-9c86f745b088.png)

Thanks
Sharan","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/473/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/474,https://api.github.com/repos/apache/incubator-ponymail/issues/474,incubator-ponymail,353835525,474,Bug: plain text mails lose spacing and alignment,sebbASF,16689231,Sebb,,OPEN,2018-08-24T15:45:36Z,2019-04-25T16:05:13Z,"Some plain text mails rely on spacing to read properly.

However this is lost when the mail is displayed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/474/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/474,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNjA0Mw==,incubator-ponymail,486736043,474,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:05:13Z,2019-04-25T16:05:13Z,"Pony Mail uses the Hack monospace font, which should take spacing into account. Can you share an email where this causes issues? Is it a width issue?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNjA0Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/475,https://api.github.com/repos/apache/incubator-ponymail/issues/475,incubator-ponymail,367974274,475,Bug: cannot download more than 10K mails to a mbox file,sebbASF,16689231,Sebb,,CLOSED,2018-10-08T22:26:46Z,2018-10-10T23:07:29Z,"The code has a limit of 10K mails when fetching mails to write to an mbox file.
Whilst it may be necessary to limit the number of mails fetched in a single request, it seems wrong to limit the number of mails that can be written to the output mailbox","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/475/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/475,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUwNTkwNw==,incubator-ponymail,428505907,475,NA,sebbASF,16689231,Sebb,,NA,2018-10-10T09:36:55Z,2018-10-10T09:36:55Z,"Unfortunately scroll sort does not work as expected, at least on ES 2.4.0.
Needs more research.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUwNTkwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/475,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUxNzg2MA==,incubator-ponymail,428517860,475,NA,sebbASF,16689231,Sebb,,NA,2018-10-10T10:16:39Z,2018-10-10T10:16:39Z,"Even if the mails were correctly sorted by epoch, the order in the mbox file might not correspond with the order they arrived (duplicate epochs; original date may not be correct), and may not agree with the order in which the messages were posted to the list (variable delays in transit).

However, it would be useful if the order were at least similar to that which occurs for smaller mboxes when scrolling does not need to be used.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUxNzg2MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/475,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUzNDU0OQ==,incubator-ponymail,428534549,475,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-10-10T11:18:27Z,2018-10-10T11:18:27Z,"I don't think we should be aiming at supporting all the way to 2.4.0 at all.
5.x and above should be plenty, people can upgrade their clusters if need be.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUzNDU0OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/475,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODc2MjkzMQ==,incubator-ponymail,428762931,475,NA,sebbASF,16689231,Sebb,,NA,2018-10-10T23:07:29Z,2018-10-10T23:07:29Z,"Doh!
Just noticed that the elastic.lua scroll function forces the sort to use _doc.
The problem is with elastic.lua#scroll, not ES","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODc2MjkzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/476,https://api.github.com/repos/apache/incubator-ponymail/issues/476,incubator-ponymail,367989349,476,Issues with display of binary data in mails,sebbASF,16689231,Sebb,,OPEN,2018-10-08T23:40:00Z,2019-04-25T16:04:00Z,"One of the mails sent to the devnull@infra list erroneously includes some binary data.
This has caused some display issues.

The message thread [1] shows the full mail, without any extraneous characters.
However the source email is truncated at the start of the binary data [2]

Whilst the input mail should not have the binary data in it, it would be useful if the displayed data were consistent.

[1] https://lists.apache.org/thread.html/c97d286770de1370d6b89c16191336bbe4d81020186e5d2c2defe08d@%3Cdevnull.infra.apache.org%3E
[2] https://lists.apache.org/api/source.lua/c97d286770de1370d6b89c16191336bbe4d81020186e5d2c2defe08d@%3Cdevnull.infra.apache.org%3E","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/476/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/476,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI3NzE3MA==,incubator-ponymail,428277170,476,NA,sebbASF,16689231,Sebb,,NA,2018-10-09T17:20:10Z,2018-10-09T17:20:10Z,"It looks like the binary characters are dropped by Javascript.

Whereas LUA puts() seems to stop printing a string when it encounters a nul.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI3NzE3MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/476,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI3ODcwNg==,incubator-ponymail,428278706,476,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2018-10-09T17:24:42Z,2018-10-09T17:24:42Z,switching to r:write would fix that for source.lua,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI3ODcwNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/476,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI4MzUxOA==,incubator-ponymail,428283518,476,NA,sebbASF,16689231,Sebb,,NA,2018-10-09T17:39:46Z,2018-10-09T17:39:46Z,"And presumably anywhere else where r:puts might be used on binary data, e.g. mbox.lua","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI4MzUxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/476,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI4NTgxOA==,incubator-ponymail,428285818,476,NA,sebbASF,16689231,Sebb,,NA,2018-10-09T17:46:57Z,2018-10-09T17:46:57Z,new 66862d3  Enh: Ensure non-printable chars are not lost ...,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODI4NTgxOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/476,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNTYwNQ==,incubator-ponymail,486735605,476,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:04:00Z,2019-04-25T16:04:00Z,Has this issue been addressed sufficiently? :) ,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNTYwNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/477,https://api.github.com/repos/apache/incubator-ponymail/issues/477,incubator-ponymail,368375688,477,Bug: no need to sort after scroll,sebbASF,16689231,Sebb,,CLOSED,2018-10-09T20:08:25Z,2018-10-10T23:23:01Z,"The scroll API is most efficient when sorting by _doc.
However if a different order is needed, it's generally more efficient to have ES do the sort rather than perform the sort in the client. It's certainly not efficient to do both, which is what currently happens in stats.lua and pminfo.lua (this is a hangover from when the code used scroll/scan)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/477/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/477,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUwMjE1NQ==,incubator-ponymail,428502155,477,NA,sebbASF,16689231,Sebb,,NA,2018-10-10T09:25:01Z,2018-10-10T09:25:01Z,"Unfortunately it appears that the sort does not always work as expected when scrolling (at least when using ES 2.4.0).
This needs further research","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQyODUwMjE1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/478,https://api.github.com/repos/apache/incubator-ponymail/issues/478,incubator-ponymail,368890558,478,Bug: elastic.lua#scroll forces sort to use _doc,sebbASF,16689231,Sebb,,CLOSED,2018-10-10T23:11:14Z,2018-10-10T23:18:32Z,"The Lua elastic.scroll function currently forces the sort to use _doc.
This was presumably done for consistency with the original scroll/scan behaviour.
The caller should be allowed to use whatever sort they want.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/478/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/479,https://api.github.com/repos/apache/incubator-ponymail/issues/479,incubator-ponymail,370079905,479,Enh: Enforce UTF-8 encoding to aid scrapers,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2018-10-15T09:41:45Z,2018-10-15T09:43:15Z,Some scrapers like Kibble are having difficulties with peoples' names in Pony Mail due to the JSON not explicitly declaring a character set. Enforcing UTF-8 in the headers should fix this.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/479/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/480,https://api.github.com/repos/apache/incubator-ponymail/issues/480,incubator-ponymail,385386799,480,Add support for Twitter Cards and Open Grapf metadata,janisz,1616386,Tomasz Janiszewski,,OPEN,2018-11-28T17:49:53Z,2019-04-25T16:03:25Z,"When posting links to pony mail on social networks it's not present well (especially perm link which is ugly). Change this by adding metadata in twitter and opengraph format. This will allow better SEO too.

See: 
* http://ogp.me/
* https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/abouts-cards.html","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/480/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/480,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNTM5OA==,incubator-ponymail,486735398,480,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:03:25Z,2019-04-25T16:03:25Z,"I think we can, currently, display a generic card and metadata, but not specific to the email, as that is JS powered - I am not sure how the twitter/ogp handlers would parse that. Going forward, we could move towards a scripted page instead of a static html, for handling threads, I guess?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNTM5OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/486,https://api.github.com/repos/apache/incubator-ponymail/issues/486,incubator-ponymail,389032807,486,Enh: store message arrival time for use in sorting,sebbASF,16689231,Sebb,,OPEN,2018-12-09T15:18:47Z,2019-04-25T16:33:30Z,"Messages can be delayed in transit for various reasons; in particular messages that are moderated may incur a delay of several days.

It might be useful to show when a message actually arrived.

It would also be useful to be able to display messages in arrival order: at present they are displayed in order by Date, which means that it is quite difficult to see which messages have arrived since one last looked at a list.

For messages that were archived, the timestamp on the From_ line could potentially be used.
However that would not work for imports.

It might be useful to add a new field to the database with a timestamp showing when it was added.
Also whether it was imported or not.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/486/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/486,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNDc1OQ==,incubator-ponymail,486734759,486,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T16:01:42Z,2019-04-25T16:01:42Z,"that is typically what archived-at is for, with most MTAs (postfix et al) storing that as the email gets punted to the archiver. While I am in favor of keeping a separate record of this, I wonder how we would display the discrepancy in the UI?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNDc1OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/486,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc0NjE2NA==,incubator-ponymail,486746164,486,NA,sebbASF,16689231,Sebb,,NA,2019-04-25T16:33:30Z,2019-04-25T16:33:30Z,"I don't think the discrepancy needs to be displayed.
Just sorting by arrival time would help to show which messages have arrived recently.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njc0NjE2NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/487,https://api.github.com/repos/apache/incubator-ponymail/issues/487,incubator-ponymail,418318764,487,Bug: drop 'archived-at' header generation,sebbASF,16689231,Sebb,,OPEN,2019-03-07T13:50:00Z,2019-04-25T16:05:11Z,"Currently the archiver adds an 'archived-at' header to all messages.
This changes the source, and can cause the message to get a different id when reloaded.

The arrival time is still useful, but it should be stored as meta-data in the ES database rather than by changing the source.

Note that the header does not appears in mails stored by lists.apache.org since early Jan 2018, judging by the sources of dev@ponymail","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/487/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/487,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczMzgwNw==,incubator-ponymail,486733807,487,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T15:59:10Z,2019-04-25T15:59:10Z,"Would it make more sense to prefix it with 'X-' (thus X-Archived-At) and have Pony Mail disregard X-* when digesting the email, going forward? I think this could solve some other theoretical inconsistencies in emails depending on the path they took.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczMzgwNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/487,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNjAyOA==,incubator-ponymail,486736028,487,NA,sebbASF,16689231,Sebb,,NA,2019-04-25T16:05:11Z,2019-04-25T16:05:11Z,"No, I think Ponymail should not change the emails that it stores.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjczNjAyOA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/488,incubator-ponymail,427144484,488,wrong encoding in attachment breaks import,scharc,474799,Marc Schütze,,CLOSED,2019-03-29T19:26:12Z,2020-08-20T15:12:26Z,"when importing mbox file with attachments it breaks with the following error:
```
Found attachment: Kurierplan_17.03.19.xlsx
Exception in thread Thread-1:
Traceback (most recent call last):
  File ""/usr/lib/python3.4/threading.py"", line 920, in _bootstrap_inner
    self.run()
  File ""import-mbox.py"", line 223, in run
    json, contents, _msgdata, _irt = archie.compute_updates(list_override, private, message)
  File ""/var/www/ponymail/tools/archiver.py"", line 342, in compute_updates
    attachments, contents = self.msgfiles(msg)
  File ""/var/www/ponymail/tools/archiver.py"", line 226, in msgfiles
    part_meta, part_file = parse_attachment(part)
  File ""/var/www/ponymail/tools/archiver.py"", line 102, in parse_attachment
    print(""Found attachment: %s"" % filename)
UnicodeEncodeError: 'ascii' codec can't encode character '\xfc' in position 24: ordinal not in range(128)
```","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/488/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODEzMjMzNw==,incubator-ponymail,478132337,488,NA,sebbASF,16689231,Sebb,,NA,2019-03-29T20:04:35Z,2019-03-29T20:04:35Z,"Which version of PonyMail?
Can you provide a simple test case?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODEzMjMzNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODM4OTQ0Mg==,incubator-ponymail,478389442,488,NA,scharc,474799,Marc Schütze,,NA,2019-03-31T22:01:14Z,2019-03-31T22:01:14Z,"We are testing ponymail 0.11 with Debian Jessi in a proxmox lxc container. 

I can not provide a test case to the public. For debugging I could give a sample to a developer. Please contact me at scharc (at) gmail (dot) com","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODM4OTQ0Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODYwMzYzNQ==,incubator-ponymail,478603635,488,NA,sebbASF,16689231,Sebb,,NA,2019-04-01T14:31:18Z,2019-04-01T14:31:18Z,"I have just noticed that the line numbers don't quite agree.

The stack trace says:

File ""/var/www/ponymail/tools/archiver.py"", line 102, in parse_attachment
    print(""Found attachment: %s"" % filename)

Howver the print statement is at line 101 in the code:
https://github.com/apache/incubator-ponymail/blob/8b00e7c8eabf01a68fc119d2ce58bfbfc3c3eea3/tools/archiver.py#L101

This is a bit odd if you are using version 0.11 (or indeed the trunk version, as that is the same).
It would be worth commenting out the print statement to see if that avoids the failure or if it fails elsewhere.

Note: I have been sent sample data, but cannot get it to fail, so it is looking like an issue with your installation.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODYwMzYzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODYxOTk1NA==,incubator-ponymail,478619954,488,NA,scharc,474799,Marc Schütze,,NA,2019-04-01T15:11:40Z,2019-04-01T15:11:40Z,"The wrong line numbers was my fault. I wrote a comment there, to remeber that it broke there.

After commenting out the print statement the import went through! 

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODYxOTk1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODY0ODQ3MQ==,incubator-ponymail,478648471,488,NA,sebbASF,16689231,Sebb,,NA,2019-04-01T16:24:25Z,2019-04-01T16:24:25Z,"I have not been able to cause the error on my system, and AFAIK no-one else has seen the same issue.

Since it only affects the print statement, I wonder if it could be caused by the terminal encoding setting?

Try running the following code using python3:

print(""\xfc"")

It should print a lower-case u with umlaut.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3ODY0ODQ3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3OTE0NDMzMQ==,incubator-ponymail,479144331,488,NA,sebbASF,16689231,Sebb,,NA,2019-04-02T18:49:22Z,2019-04-02T18:49:22Z,"Could also try replacing the print statement with the following:

print(""Found attachment: %s"" % filename.encode('ascii','xmlcharrefreplace').decode('ascii'))

This should allow the name to be printed on an ASCII terminal.
Non-ASCII characters such as u-umlaut will be converted to the form: '&#252;' 
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3OTE0NDMzMQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/488,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3NzcyNTk2Mw==,incubator-ponymail,677725963,488,NA,sebbASF,16689231,Sebb,,NA,2020-08-20T15:12:26Z,2020-08-20T15:12:26Z,Not a PonyMail bug,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3NzcyNTk2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/489,incubator-ponymail,429113470,489,Errors with Elasticsearch 5.x,ilgrosso,1064664,Francesco Chicchiriccò,,CLOSED,2019-04-04T07:00:01Z,2019-04-26T14:01:51Z,"I initially tried with ES 6.x, but I wasn't able to update index creation correctly, so I reverted to ES 5.x, with which everything seems to work except for the following.

When running

```
python3 edit-list.py --delete --source ""idal2.tirasa.net""
```

I receive the following error: 
```
Beginning list edit:
  - List ID: <idal2.tirasa.net>
  - Action: Delete emails (sources will be kept!)
Updating docs...
Traceback (most recent call last):
  File ""edit-list.py"", line 180, in <module>
    terms
  File ""/var/www/ponymail-src/tools/elastic.py"", line 96, in search
    **kwargs
  File ""/usr/local/lib/python3.6/dist-packages/elasticsearch/client/utils.py"", line 76, in _wrapped
    return func(*args, params=params, **kwargs)
  File ""/usr/local/lib/python3.6/dist-packages/elasticsearch/client/__init__.py"", line 660, in search
    doc_type, '_search'), params=params, body=body)
  File ""/usr/local/lib/python3.6/dist-packages/elasticsearch/transport.py"", line 318, in perform_request
    status, headers_response, data = connection.perform_request(method, url, params, body, headers=headers, ignore=ignore, timeout=timeout)
  File ""/usr/local/lib/python3.6/dist-packages/elasticsearch/connection/http_urllib3.py"", line 186, in perform_request
    self._raise_error(response.status, raw_data)
  File ""/usr/local/lib/python3.6/dist-packages/elasticsearch/connection/base.py"", line 125, in _raise_error
    raise HTTP_EXCEPTIONS.get(status_code, TransportError)(status_code, error_message, additional_info)
elasticsearch.exceptions.RequestError: RequestError(400, 'illegal_argument_exception', 'No search type for [scan]')
```","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/489/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3OTk4MTk1NQ==,incubator-ponymail,479981955,489,NA,sebbASF,16689231,Sebb,,NA,2019-04-04T17:04:01Z,2019-04-04T17:04:01Z,"This is because ES 5 no longer supports scan.

ES scan is also used in other tools: copy-list.py, missing.py and nullfav.py","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ3OTk4MTk1NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE2MjM0NQ==,incubator-ponymail,480162345,489,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2019-04-05T06:24:40Z,2019-04-05T06:24:40Z,"It seems `scan`, `count` and others were [removed since ES 2.1](https://www.elastic.co/guide/en/elasticsearch/reference/2.1/breaking_21_search_changes.html).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE2MjM0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE4NzAzNg==,incubator-ponymail,480187036,489,NA,sebbASF,16689231,Sebb,,NA,2019-04-05T08:09:18Z,2019-04-05T08:09:18Z,"Deprecated, not removed.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE4NzAzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE4Nzc3Mg==,incubator-ponymail,480187772,489,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2019-04-05T08:12:01Z,2019-04-05T08:12:01Z,"About the docs, you're right.
But the exception above says: `'illegal_argument_exception', 'No search type for [scan]'`, which does not look like deprecation to me.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE4Nzc3Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE5MzI5OQ==,incubator-ponymail,480193299,489,NA,sebbASF,16689231,Sebb,,NA,2019-04-05T08:31:11Z,2019-04-05T08:31:11Z,"Yes, they will have been documented as having been removed in a later (major) version.
I think you will find that scan works fine in all ES 2.x versions.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4MDE5MzI5OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ3NjY0MQ==,incubator-ponymail,486476641,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T00:37:32Z,2019-04-25T00:37:32Z,"works with anything <= 2 in major versions yes. What we need to do here is detect the major engine version, and if <= 2, then pass the scan_type, otherwise not, and then wrap the processing into a function that can work with either outputs (earlier versions will not return results on first scan, later versions will).","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ3NjY0MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ3ODI5NQ==,incubator-ponymail,486478295,489,NA,sebbASF,16689231,Sebb,,NA,2019-04-25T00:47:30Z,2019-04-25T00:47:30Z,"This was fixed in the LUA code: see #344, but has yet to be fixed in all the python tools","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ3ODI5NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4MTI2Mw==,incubator-ponymail,486481263,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T01:04:25Z,2019-04-25T01:04:25Z,"The first bit can be addressed with this snippet, which I intend to commit shortly...
There will be some other future changes, as I am aware we need to switch away from doc_types altogether for newer ESes
~~~ diff
diff --git a/tools/elastic.py b/tools/elastic.py
index 897cb64..4f7517c 100755
--- a/tools/elastic.py
+++ b/tools/elastic.py
@@ -109,14 +109,24 @@ class Elastic:
         )
 
     def scan(self, doc_type='mbox', scroll='3m', size = 100, **kwargs):
-        return self.es.search(
-            index=self.dbname,
-            doc_type=doc_type,
-            search_type = 'scan',
-            size = size,
-            scroll = scroll,
-            **kwargs
-        )
+        """""" Call the scan API, passing on the search type if needed (ES<=2.x) """"""
+        if self.engineMajor() <= 2:
+            return self.es.search(
+                index=self.dbname,
+                doc_type=doc_type,
+                search_type = 'scan',
+                size = size,
+                scroll = scroll,
+                **kwargs
+            )
+        else:
+            return self.es.search(
+                index=self.dbname,
+                doc_type=doc_type,
+                size = size,
+                scroll = scroll,
+                **kwargs
+            )
 
     def get(self, **kwargs):
         return self.es.get(index=self.dbname, **kwargs)
~~~","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4MTI2Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4MTQ1Mg==,incubator-ponymail,486481452,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T01:05:34Z,2019-04-25T01:05:34Z,"for the second bit (which is rewriting edit-lists to support the two different ways of returning scrolling results), I am reworking edit-lists entirely, splitting it into a main, options and process_hits function, to avoid code duplication.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4MTQ1Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4NTA0NQ==,incubator-ponymail,486485045,489,NA,sebbASF,16689231,Sebb,,NA,2019-04-25T01:27:16Z,2019-04-25T01:27:16Z,"Why not take the same approach as the Lua code?
That does not need to check the ES version, but the API is a bit different so it uses a new name.
Makes it easier to migrate if the existing API is not changed.
Also easier to maintain if Lua and Python take the same approach.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4NTA0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4ODA3Ng==,incubator-ponymail,486488076,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T01:44:27Z,2019-04-25T01:44:27Z,"Hmm yeah, what if I just turn scan() into an iterator instead? then I can do:

for results in es.scan(blabla):
    process_results(results)

and it would process for each scroll batch...and also work with older ES versions","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ4ODA3Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ5MDExNg==,incubator-ponymail,486490116,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T01:55:36Z,2019-04-25T01:55:36Z,"so, in elastic.py I'd propose the following:

~~~ diff
diff --git a/tools/elastic.py b/tools/elastic.py
index 897cb64..8152922 100755
--- a/tools/elastic.py
+++ b/tools/elastic.py
@@ -109,14 +109,27 @@ class Elastic:
         )
 
     def scan(self, doc_type='mbox', scroll='3m', size = 100, **kwargs):
-        return self.es.search(
+        """""" Run a backwards compatible scan/scroll, passing an iterator
+            that returns one page of hits per iteration. This
+            incorporates es.scoll for continuous iteration, and thus the
+            scroll() does NOT need to be called at all by the calling
+            process. """"""
+        results = self.es.search(
             index=self.dbname,
             doc_type=doc_type,
-            search_type = 'scan',
             size = size,
             scroll = scroll,
             **kwargs
         )
+        sid = results['_scroll_id']
+        scroll_size = results['hits']['total']
+        if results['hits'].get('hits', []):
+            yield results
+        while (scroll_size > 0):
+            results = self.scroll(scroll_id = sid, scroll = scroll)
+            sid = results['_scroll_id']
+            scroll_size = len(results['hits']['hits'])
+            yield results
 
     def get(self, **kwargs):
         return self.es.get(index=self.dbname, **kwargs)
~~~

And then in edit-lists.py, we change it to:

~~~ python
query = ...
for page in es.scan(body = query):
            proposed_changes = process_hits(page, args, dbname) # Split into separate function
~~~","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjQ5MDExNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjU4ODY1OA==,incubator-ponymail,486588658,489,NA,sebbASF,16689231,Sebb,,NA,2019-04-25T09:19:45Z,2019-04-25T09:19:45Z,"Good idea to create an iterator.

As with any API change, I think it would be better to change the method name. This makes it easier to update the callers (and more obvious when all callers has been found/fixed), and means it is possible to directly test the new behaviour against the old.

It's also kinder to 3rd parties who may have written their own scripts using elastic.py.
We should deprecate the existing method in favour of the new one.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjU4ODY1OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjcxMjIwNA==,incubator-ponymail,486712204,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-25T15:03:54Z,2019-04-25T15:03:54Z,"I've added the scan_and_scroll type (while keeping the original scan as it was), and revamped edit-lists.py by spliting the process into distinct functions. @ilgrosso can you please test that this works on your system? It works on mine, but I was only testing with a handful of emails.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NjcxMjIwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njk3NjY4Mw==,incubator-ponymail,486976683,489,NA,ilgrosso,1064664,Francesco Chicchiriccò,,NA,2019-04-26T08:37:24Z,2019-04-26T08:37:24Z,"@Humbedooh with last changes, this command:

```python3 edit-list.py --delete --source ""idal2.tirasa.net""```

works fine, thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4Njk3NjY4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/489,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzA2Nzg4NQ==,incubator-ponymail,487067885,489,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-26T14:01:51Z,2019-04-26T14:01:51Z,"Great, I'm going to close this as fixed then.
Later on, we'll look into enabling support for 6.x/7.x, which requires a bit of rewriting and detecting when it's a >= 6.x system (since doc_type went away)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzA2Nzg4NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/490,https://api.github.com/repos/apache/incubator-ponymail/issues/490,incubator-ponymail,437877084,490,Bug: setup.py fails to find formatflowed and certifi even though they are installed,sebbASF,16689231,Sebb,,OPEN,2019-04-26T23:19:43Z,2019-04-27T00:12:29Z,"setup.py fails for me with Python 3.7 on macOS.
It says:

It looks like you need to install some python modules first
The following packages are required: 
 - formatflowed
 - certifi
You may use your package manager, or run the following command:
pip3 install formatflowed certifi

However the following commands don't report an error:

$ python3 -m certifi
/usr/local/lib/python3.7/site-packages/certifi/cacert.pem
$ python3 -m formatflowed

Furthermore, if I comment out the sys.exit(-1) the tool completes successfully.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/490/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/490,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzMDA5Ng==,incubator-ponymail,487230096,490,NA,sebbASF,16689231,Sebb,,NA,2019-04-26T23:23:27Z,2019-04-26T23:23:27Z,It looks like importlib.util.find_spec() does not scan for packages the same way as import.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzMDA5Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/490,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzMDQwNA==,incubator-ponymail,487230404,490,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-26T23:25:34Z,2019-04-26T23:25:34Z,"That is not ideal - what other options do we have for checking if a package can be loaded, short of 'import'?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzMDQwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/490,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNDY4OQ==,incubator-ponymail,487234689,490,NA,sebbASF,16689231,Sebb,,NA,2019-04-26T23:56:29Z,2019-04-26T23:56:29Z,"Why not just use import and catch the errors?
This will mean importing modules that are not needed by setup, but does that matter?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNDY4OQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/490,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNjEyMw==,incubator-ponymail,487236123,490,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-27T00:07:38Z,2019-04-27T00:07:38Z,"that would mean breaking at one module at a time, and only being sure of that one missing. the find_spec meant we could look for multiple and return a list of the missing. I'll look into other methods.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNjEyMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/490,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNjY4OA==,incubator-ponymail,487236688,490,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-04-27T00:12:29Z,2019-04-27T00:12:29Z,I figured it out :D It's an (obvious) issue with iterating over a list while also removing items from it. Fix incoming,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDQ4NzIzNjY4OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/491,https://api.github.com/repos/apache/incubator-ponymail/issues/491,incubator-ponymail,437879669,491,Bug: copy-list.py --target does not work,sebbASF,16689231,Sebb,,CLOSED,2019-04-26T23:37:40Z,2019-04-26T23:41:50Z,The fix for #450 broke the copy of the source document,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/491/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/492,https://api.github.com/repos/apache/incubator-ponymail/issues/492,incubator-ponymail,447905977,492,Add support for list FAQs/rules,wohali,112292,Joan Touzet,,OPEN,2019-05-23T22:48:48Z,2019-05-23T22:48:48Z,"As Pony Mail becomes the first destination for people interacting with Apache mailing lists, it also should provide easy access to list rules and FAQs.

This information could be displayed in a right-hand sidebar, or in the title area.

Inspiration for this enhancement request comes from sites such as Reddit, where subreddit rules are commonly displayed prominently on the right-hand side.

Ideally, these could be customized by the list moderators via HTML snippets stored in a repository to which Pony mail has access.

2 examples follow. The first has custom HTML. The second is mainly text, with some simple inline markup (could be Markdown/Asciidoc)

![Reddit ""Ask Historians"" page with FAQ link](https://user-images.githubusercontent.com/112292/58291328-0e93bc80-7d8b-11e9-8ab6-663289cb1ed3.png)

![MWSnap 2019-05-23, 18_46_56](https://user-images.githubusercontent.com/112292/58291431-603c4700-7d8b-11e9-9d8b-fe2898da41c3.png)

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/492/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/493,https://api.github.com/repos/apache/incubator-ponymail/issues/493,incubator-ponymail,448085186,493,From header not always RFC 5322 compliant,deki,858827,Dennis Kieselhorst,,OPEN,2019-05-24T10:02:15Z,2019-05-24T10:02:15Z,"The From header is missing double quotes in some cases. See https://github.com/k9mail/k-9/issues/4064#issuecomment-495324315 for a detailed explanation and https://lists.apache.org/api/source.lua/6e04ab58b0323afabc240255bd3420adf38c9e9bc7bf988947a61f23@%3Cdev.cxf.apache.org%3E for a sample email.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/493/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/494,https://api.github.com/repos/apache/incubator-ponymail/issues/494,incubator-ponymail,450451402,494,Enh: improve search capabilities,sebbASF,16689231,Sebb,,OPEN,2019-05-30T18:46:04Z,2021-10-02T18:00:56Z,"Search is currently fairly basic.
For example an attempt to search for @apr returns results for apr as well

It should be possible to search for matches of different types (exact, substring, RE...) on various fields (subject, headers, body etc)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/494/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/494,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43i_97,incubator-ponymail,931921787,494,NA,bkmgit,1679477,Benson Muite,,NA,2021-10-01T05:41:48Z,2021-10-01T05:41:48Z,"In addition to improving internal search, an option to make mailing list archives easy to index by search engines would be helpful for some projects which use this service.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43i_97/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/494,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43jpRr,incubator-ponymail,932090987,494,NA,sebbASF,16689231,Sebb,,NA,2021-10-01T09:59:51Z,2021-10-01T09:59:51Z,Best to raise a new issue for a new idea. Otherwise it may/will be lost when the original issue is completed. You can always link the issues.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43jpRr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/494,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43mU-d,incubator-ponymail,932794269,494,NA,bkmgit,1679477,Benson Muite,,NA,2021-10-02T18:00:56Z,2021-10-02T18:00:56Z,Ok. Done https://github.com/apache/incubator-ponymail/issues/549,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43mU-d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/495,https://api.github.com/repos/apache/incubator-ponymail/issues/495,incubator-ponymail,453055514,495,Confusing date entry dialog box,wrowe,84146,William A Rowe Jr,wrowe@rowe-clan.net,OPEN,2019-06-06T14:14:22Z,2025-02-05T09:47:51Z,"There is no prompt for manually-entered date fields in the dialog box for date-ranges. A caption below the dialog button suggesting yyyy-mm-dd format would be very helpful.
![Screenshot from 2019-06-06 09-12-54](https://user-images.githubusercontent.com/84146/59039991-73dfb700-883b-11e9-923b-2efa1d0727a0.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/495/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/495,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M6dIcmu,incubator-ponymail,2636237230,495,NA,krishna-dave206,184682148,Krishna Dave,krishna.dave2024@nst.rishihood.edu.in,NA,2025-02-05T09:47:49Z,2025-02-05T09:47:49Z,@wrowe I can work on this and fix this issue. Can you please assign this to me?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M6dIcmu/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/496,https://api.github.com/repos/apache/incubator-ponymail/issues/496,incubator-ponymail,465590065,496,Composer uses wrong From: header format,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,CLOSED,2019-07-09T06:16:17Z,2019-07-09T09:57:36Z,"The composer app should refrain from using the `""Foo Bar"" <foo@bar.baz>` format, as the quotes are bad. It should instead use `Foo Bar<foo@bar.baz>` only. I'll get a fix sent in unless someone beats me to it :)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/496/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/497,https://api.github.com/repos/apache/incubator-ponymail/issues/497,incubator-ponymail,467927536,497,"In single-thread view, nesting is at most two",jbapple,4156460,Jim Apple,,OPEN,2019-07-15T03:35:55Z,2019-07-15T10:30:06Z,"Some time in the last few months, single-thread view stopped nesting deeper than two, for me, whether logged in or not, on all browsers I use, including various Chromes.

Here is an example thread:

https://lists.apache.org/thread.html/04b9a8a156939adae1aa4cf2d4e3abd2137f541cbf92ade6d775dc06@%3Cdev.parquet.apache.org%3E

When viewing this thread in the multi-thread view https://lists.apache.org/list.html?dev@parquet.apache.org, nesting works properly, showing many levels of depth by use of the colored bars on the left-hand side.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/497/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/497,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM0OTM3NQ==,incubator-ponymail,511349375,497,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-07-15T10:26:28Z,2019-07-15T10:26:28Z,"Looks like a bug in the nesting algorithm. It makes the mistake of finding children that are not direct descendants and adding them as direct ones. This should be fixed by checking the `references` header, and only filing direct matches (where `references` has the original message-id as the *last* value) as descendants, then letting those kids get their own accordingly.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM0OTM3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/497,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM1MDAxMg==,incubator-ponymail,511350012,497,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-07-15T10:28:58Z,2019-07-15T10:28:58Z,"pesudo-fix for thread.lua:

~~~ lua
        local direct_ref = true -- direct reference or not?
        local xemid = pdoc['message-id'] -- exact email id or parent
        if doc.references and #doc.references >= #xemid and doc.references:sub(-#xemid) ~= xemid and doc['in-reply-to'] ~= xemid then -- if it has ""references"" but doesn't match exactly, disregard
            direct_ref = false
        end
~~~

Then in the iteration, we'd check if `direct_ref` is true or false, and only add/account for if true.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM1MDAxMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/497,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM1MDA0NQ==,incubator-ponymail,511350045,497,NA,sebbASF,16689231,Sebb,,NA,2019-07-15T10:29:07Z,2019-07-15T10:29:07Z,"Works OK for me, see attached screenshot of thread.html

![ThreadMode](https://user-images.githubusercontent.com/16689231/61210200-a6f74f00-a6f3-11e9-9447-131c64774661.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM1MDA0NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/497,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM1MDI5Mg==,incubator-ponymail,511350292,497,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2019-07-15T10:30:06Z,2019-07-15T10:30:06Z,^- It works okay because I asked for the above to be applied as a test. So the fix works. I'll hammer out a proper patch once I'm done ferrying to this island I'm going to :),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMTM1MDI5Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/498,https://api.github.com/repos/apache/incubator-ponymail/issues/498,incubator-ponymail,470705934,498,404 on private list link should prompt login,igalic,497249,Mina Galić,me+github@igalic.co,OPEN,2019-07-20T19:17:05Z,2019-07-20T19:47:07Z,"when clicking on a link that leads to a private list's email, Pony mail shows a 404

now, i don't know if it's a breach of data disclosure, but it could also prompt for a login — especially, if a session only expired, rather than never existed.

alternatively, the login form could be integrated into the site's base template, and so, show up everywhere.

though that might require to rethink the design of the login: e.g.: how to choose between different authentication providers.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/498/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/498,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMzQ5NDIwMg==,incubator-ponymail,513494202,498,NA,sebbASF,16689231,Sebb,,NA,2019-07-20T19:47:07Z,2019-07-20T19:47:07Z,"In the case of a non-public list, the user does get a prompt regarding login, e.g.

https://lists.apache.org/list.html?erewhon@apache.org

The same message is printed for lists that don't exist (as in the example) or lists that exist, but are private.

At present non-public thread links don't produce any output.
Seems to me it would be better if they behaved like the list URL","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMzQ5NDIwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/499,https://api.github.com/repos/apache/incubator-ponymail/issues/499,incubator-ponymail,470760062,499,AAA regression in notifications API,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2019-07-21T09:09:33Z,2019-07-22T19:16:26Z,"notifications.lua looks for notifications, and if AAA is enabled, tries to parse list-id which requires a `list_raw` element present. As that isn't set in archiver.py, it causes a nil error.

Three possible ways of fixing:
- fall back to using the `list` element if no list_raw exists (easiest, and best for backwards compat)
- have archiver also add a `list_raw` to notifications
- don't copy the email into the notifications db, but rather have a reference to the mbox document

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/499/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/499,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMzkxNzI0NA==,incubator-ponymail,513917244,499,NA,sebbASF,16689231,Sebb,,NA,2019-07-22T19:16:26Z,2019-07-22T19:16:26Z,"According to the  setup.py code, the notifications doc type is not set up with the list_raw attribute, which is presumably why the archiver does not try to populate it when saving the notifications.

However, lists.a.o does populate the list_raw field for private emails (presumably the code that handles private mails is using a different version of the archiver).

This may explain why the bug has only recently been noticed. (In my case, I only recently used the reply function for a public list reply)

The simplest fix would be for notifications.lua to unconditionally populate list_raw from list.
I don't see the point in checking to see if list_raw already exists.

I'm not sure it's worth changing the notifications doc type to keep only a reference to the mbox document. That would mean fetching the mbox entry in order to check access.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxMzkxNzI0NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/500,https://api.github.com/repos/apache/incubator-ponymail/issues/500,incubator-ponymail,472445422,500,lists.apache.org ponymail failing login using google oauth; failing with apache due to invalid username.,jcalcote,49394,John Calcote,john.calcote@gmail.com,CLOSED,2019-07-24T18:52:16Z,2019-07-26T07:10:26Z,"Failing to login to https://lists.apache.org/list.html?user@jclouds.apache.org

With Google oauth:
![image](https://user-images.githubusercontent.com/49394/61820068-87f26e80-ae11-11e9-97ce-4288e89cb9b8.png)

With apache oauth:
![image](https://user-images.githubusercontent.com/49394/61820142-aeb0a500-ae11-11e9-9140-de6ca69d0744.png)

Login is failing using google oauth due to some back-end oauth issue. Login is failing using apache oauth because my apache username is my email address and ponymail seems to think usernames should not have dots or at signs in them.

I have no way to login now. Please help. Note that since there are NO messages in the jclouds user list since mid-june, I'm guessing everyone else is having this trouble also. Good way to keep people from complaining about your product - keep them from logging into your help forum.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/500/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/500,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNDgxMTQzMw==,incubator-ponymail,514811433,500,NA,sebbASF,16689231,Sebb,,NA,2019-07-24T21:43:58Z,2019-07-24T21:43:58Z,"Apache user ids do not have '.' in them (and are not email addresses), so perhaps you are using the wrong login.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNDgxMTQzMw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/500,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNDgxNzk0OA==,incubator-ponymail,514817948,500,NA,jcalcote,49394,John Calcote,john.calcote@gmail.com,NA,2019-07-24T22:08:23Z,2019-07-24T22:08:23Z,"I used my email address to log into issues.apache.org. worked just fine.

On Wed, Jul 24, 2019, 3:44 PM sebbASF <notifications@github.com> wrote:

> Apache user ids do not have '.' in them (and are not email addresses), so
> perhaps you are using the wrong login.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/apache/incubator-ponymail/issues/500?email_source=notifications&email_token=AAAMB4UTNAPICB3EVX4DRTDQBDEJ7A5CNFSM4IGTAFSKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2XWMKI#issuecomment-514811433>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAAMB4RQU7ACVUKYNFODBWLQBDEJ7ANCNFSM4IGTAFSA>
> .
>
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNDgxNzk0OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/500,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNDgyMzE5Nw==,incubator-ponymail,514823197,500,NA,sebbASF,16689231,Sebb,,NA,2019-07-24T22:28:12Z,2019-07-24T22:28:12Z,"issues.apache.org currently has its own independent authentication scheme.

PonyMail has two auth schemes: Google, and Apache.
For Apache auth you need to be an Apache committer with an Apache user id.

However, you don't need to use PonyMail in order to send an email to public ASF mailing lists, nor do you need to login to see the public lists.

See http://jclouds.apache.org/
in particular:
http://jclouds.apache.org/community/
and
http://jclouds.apache.org/reference/report-a-bug/","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUxNDgyMzE5Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/501,https://api.github.com/repos/apache/incubator-ponymail/issues/501,incubator-ponymail,478669646,501,Bug: parser fails to extract inline attachments,sebbASF,16689231,Sebb,,CLOSED,2019-08-08T20:21:33Z,2019-08-08T20:22:25Z,See https://issues.apache.org/jira/browse/INFRA-18834,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/501/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/502,https://api.github.com/repos/apache/incubator-ponymail/issues/502,incubator-ponymail,479375298,502,Bug: parser fails to detect inline attachments,sebbASF,16689231,Sebb,,OPEN,2019-08-11T14:24:49Z,2019-08-11T14:44:40Z,"The parser completely ignores inline attachments.
For example, the message [1] includes a reference to an attachment, but it is not shown in the list view, only in the source view.

Compare withe the mod_mbox version [2], which shows the attachment

It might make sense to display the message structure in the same way as mod_mbox.
This would also allow easy access to HTML alternatives, which are also currently hidden.

[1] https://lists.apache.org/thread.html/918b4a61add01902e2dfbf1a17ba945b7d721e9cdf9d0235d374eb1d@1250786123@%3Cuser.zookeeper.apache.org%3E
[2] http://mail-archives.apache.org/mod_mbox/zookeeper-user/200908.mbox/%3c4A8D7B4B.5020701@apache.org%3e","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/502/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/502,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUyMDIzMzgzNA==,incubator-ponymail,520233834,502,NA,sebbASF,16689231,Sebb,,NA,2019-08-11T14:44:40Z,2019-08-11T14:44:40Z,"The archiver code currently walks the message parts twice: in msgbody and msgfiles.

This makes it harder to ensure all parts are accounted for exactly once.

At present the methods each look for specific headers, which is how some parts have been missed.

There will need to be some co-ordination between the two methods to avoid omissions and duplications (there's no point creating an attachment record for the main body).

Alternatively, the parts could be walked once and allocated as body or attachment.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDUyMDIzMzgzNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/503,https://api.github.com/repos/apache/incubator-ponymail/issues/503,incubator-ponymail,479377983,503,Enh: tool to fix up missing attachments,sebbASF,16689231,Sebb,,OPEN,2019-08-11T14:54:04Z,2019-08-11T14:54:04Z,"Further to #501 and #502, existing databases will generally need to be refreshed in order to recover the missing attachments. This cannot safely be done by reloading from the source, because that may change the Permalink, especially for earlier mails which may have used a different algorithm.

The tool could reparse the source (from the raw mail) and generate an updated list of attachments. As a cross-check, any existing attachments should be found in the updated list; any missing ones can then be added.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/503/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/504,https://api.github.com/repos/apache/incubator-ponymail/issues/504,incubator-ponymail,479670946,504,Enh: move generator selection to generator.py,sebbASF,16689231,Sebb,,CLOSED,2019-08-12T14:16:42Z,2019-08-12T14:18:48Z,"Archiver generator selection currently relies on ensuring that the list of names in archiver.py agrees with the list of functions in generator.py.

Both files have to be changed to add a new generator; this is inefficient and error-prone.

Reduce the binding between the modules by doing the selection in generator.py.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/504/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/505,https://api.github.com/repos/apache/incubator-ponymail/issues/505,incubator-ponymail,479691835,505,Bug: generator.py does not include original medium generator,sebbASF,16689231,Sebb,,CLOSED,2019-08-12T14:54:37Z,2020-09-03T16:40:06Z,"The medium generator was originally committed in 
https://gitbox.apache.org/repos/asf?p=incubator-ponymail.git;a=commitdiff;h=aa989610
This was used by lists.a.o (and possibly elsewhere) for a short while.

It was subsequently updated in:
https://gitbox.apache.org/repos/asf?p=incubator-ponymail.git;a=commitdiff;h=4732d25f

Restore access to the original algorithm.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/505/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/505,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY4NjYxNDQyMA==,incubator-ponymail,686614420,505,NA,sebbASF,16689231,Sebb,,NA,2020-09-03T16:40:06Z,2020-09-03T16:40:06Z,"Does not appear useful to support the generator, because the mdatestring was created using localtime.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY4NjYxNDQyMA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/506,https://api.github.com/repos/apache/incubator-ponymail/issues/506,incubator-ponymail,480393259,506,Enh: allow generator to be overridden for testing,sebbASF,16689231,Sebb,,CLOSED,2019-08-13T22:11:48Z,2019-08-13T22:30:24Z,It would be useful to be able to override the generator for testing purposes,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/506/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/507,https://api.github.com/repos/apache/incubator-ponymail/issues/507,incubator-ponymail,484810881,507,Bug: wordcloud.js can overwrite document ids,sebbASF,16689231,Sebb,,CLOSED,2019-08-24T12:11:26Z,2019-08-24T12:13:47Z,"The wordcloud.js wordCloud function currently sets the ""id"" attribute of the entries in the word cloud to distinguish them (v. fastIntersect). Such ids can clash with existing ids causing display problems. All ids need to be unique.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/507/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/508,https://api.github.com/repos/apache/incubator-ponymail/issues/508,incubator-ponymail,487383639,508,Bug: only 12 months in a year,sebbASF,16689231,Sebb,,CLOSED,2019-08-30T09:27:30Z,2019-08-30T09:30:11Z,"There are only 12 months in a year, however the table in utils.lua has 14 entries!

This error seems to have been present since the start when the code was in stats.lua/mbox.lua","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/508/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/509,https://api.github.com/repos/apache/incubator-ponymail/issues/509,incubator-ponymail,490202943,509,Bug: multi-list search bookmark does not update list selection,sebbASF,16689231,Sebb,,OPEN,2019-09-06T08:39:34Z,2019-09-06T08:39:59Z,"Recipe:
search single list
https://lists.apache.org/list.html?dev@ponymail.apache.org:lte=1M:a
Change search to all ponymail lists
New URL is:
https://lists.apache.org/list.html?*@ponymail.apache.org:lte=1M:a
Paste that into a new page, and PM complains that the list is not found
It also fails to update the search domain. This affects the display of list names in the results.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/509/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/510,https://api.github.com/repos/apache/incubator-ponymail/issues/510,incubator-ponymail,531754906,510,Encode thread URIs for permalinks,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,OPEN,2019-12-03T06:26:40Z,2019-12-03T06:26:40Z,"URIs with <> in them can cause trouble with some URL parsers, thus the links to thread.html should make use of URI encoding when creating permalinks, to avoid this.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/510/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/511,https://api.github.com/repos/apache/incubator-ponymail/issues/511,incubator-ponymail,552461713,511,Bug: should not generate invalid list ids,sebbASF,16689231,Sebb,,CLOSED,2020-01-20T18:55:41Z,2020-08-10T20:48:44Z,"Currently a list-Id header of the form:

List-Id: ""SpamAssassin Users"" users@spamassassin.apache.org

is not parsed correctly, whereas the following are:

List-Id: ""SpamAssassin Users"" &lt;users@spamassassin.apache.org&gt;
List-Id: &lt;users@spamassassin.apache.org&gt;
List-Id: users@spamassassin.apache.org

The descriptive phrase should be completely ignored when extracting the list-id","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/511/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/511,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTQ4ODEyNQ==,incubator-ponymail,671488125,511,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2020-08-10T17:31:10Z,2020-08-10T17:31:10Z,"None of those would be valid according to https://tools.ietf.org/html/rfc2919
However, we might as well be lenient in what we accept.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTQ4ODEyNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/512,https://api.github.com/repos/apache/incubator-ponymail/issues/512,incubator-ponymail,581674043,512,Bug: Spurious date check,sebbASF,16689231,Sebb,,OPEN,2020-03-15T13:26:07Z,2020-07-08T09:15:33Z,"The code at
https://github.com/apache/incubator-ponymail/blob/a65a09cceb17ce6877097856ae437ac977d00902/tools/list-lists.py#L67

checks whether the date of the entry is less than 2 days in the future.

There does not seem to be any reason for this.
Either the reason should be documented, or the check should be dropped.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/512/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/513,https://api.github.com/repos/apache/incubator-ponymail/issues/513,incubator-ponymail,582179063,513,Bug: cluster generator fails to parse non-ascii subject and sender,sebbASF,16689231,Sebb,,OPEN,2020-03-16T10:30:28Z,2020-03-16T16:57:02Z,"The cluster generator uses fields of the msg assuming that they will be strings.

However that is not the case if non-ascii characters have been used.

In such cases, code such as msg.get('subject') will return an email.header.Header object.
This causes code such as bytes(subject, encoding = 'ascii') to fail with

TypeError: encoding without a string argument

In turn, this causes the archiver to revert to a very basic fallback mid:

        mid = hashlib.sha224(str(""%s-%s"" % (lid, msg_metadata['archived-at'])).encode('utf-8')).hexdigest() + ""@"" + (lid if lid else ""none"")

**Unless archived-at is defined, this will be constant for a given list id**

This is relatively easy to fix; the generator should use the msg_metadata dict which
the archiver has already set up.

HOWEVER, to ensure that it's possible to regenerate the same Permalinks, any fix MUST be implemented as a new generator type, with a new syntax (i.e. change the 'r' prefix).

There are probably some other changes that need to be made to the cluster generator.
For example, Message-Id should be canonicalised.

Note that the fallback mid cannot be changed, as that would affect all the generators.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/513/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/513,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU5OTU4MDI1NA==,incubator-ponymail,599580254,513,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2020-03-16T14:53:00Z,2020-03-16T14:53:00Z,"Let's bump the 'r' prefix then. I'd suggest moving to next char, 'v' :)
So, am I understanding this right in that the generators should be passed msg_metadata instead of msg in the first variable slot, and that would address the main issue? If so, we'd probably be best off by accessing them with `msg.get('subject', '')` as they may not have been present in the email and this would avoid a key error.

What do you mean by message-id being canonicalized?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU5OTU4MDI1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/513,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU5OTY0OTI0Ng==,incubator-ponymail,599649246,513,NA,sebbASF,16689231,Sebb,,NA,2020-03-16T16:57:01Z,2020-03-16T16:57:01Z,"No, it's not possible to replace msg by msg_metadata, because that will change the output from the existing generators (at least with some input).

I was thinking of adding  the metadata as another parameter.
It would only be used by the new generator(s). 
This would preserve the existing behaviour.

As to canonicalisation, headers may be wrapped in transit.
For maximum portability, they should be unwrapped before use.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDU5OTY0OTI0Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/514,https://api.github.com/repos/apache/incubator-ponymail/issues/514,incubator-ponymail,599824693,514,mbox export via API not behaving as expected,rhenwood-arm,25669346,Richard Henwood,richard.henwood@arm.com,CLOSED,2020-04-14T20:02:15Z,2020-04-14T20:19:34Z,"Hi, 

I'm trying to get an MBOX via the API and the file returned is zero bytes. Here is an example of the request I'm trying:

https://lists.apache.org/api/mbox.lua?list=dev&domain=accumulo.apache.org&date=2020-01","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/514/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/514,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMzY1NTY0OA==,incubator-ponymail,613655648,514,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2020-04-14T20:08:58Z,2020-04-14T20:08:58Z,"For that specific list, you would need https://lists.apache.org/api/mbox.lua?list=dev@accumulo.apache.org&date=2020-01
That is, the domain and list part is one combined argument.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMzY1NTY0OA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/514,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMzY2MDMzNQ==,incubator-ponymail,613660335,514,NA,rhenwood-arm,25669346,Richard Henwood,richard.henwood@arm.com,NA,2020-04-14T20:19:33Z,2020-04-14T20:19:33Z,ah! Thanks!,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDYxMzY2MDMzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/515,https://api.github.com/repos/apache/incubator-ponymail/issues/515,incubator-ponymail,627731366,515,Bug: stats.lua does not report if a list is unavailable,sebbASF,16689231,Sebb,,OPEN,2020-05-30T13:23:38Z,2020-05-30T13:23:38Z,"stats.lua reports first and last dates as the current month if the list is missing or access is not granted.
This is misleading; it should report an error","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/515/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/516,https://api.github.com/repos/apache/incubator-ponymail/issues/516,incubator-ponymail,637231928,516,Invalid mailing list address supplied,gmcdonald,287517,Gavin McDonald,,CLOSED,2020-06-11T18:25:22Z,2021-05-03T14:28:28Z,"When viewing a mailing list - which does exist - but has an underscore in the list name, the error message pops up with 'Invalid mailing list address supplied!' , you can close the error message and then continue on to read the message or view the list.

I'm not sure if the underscore is the problem, but I found it happen on two lists with underscores, and nowhere else (so far)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/516/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/516,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Mjg1NTIzNg==,incubator-ponymail,642855236,516,NA,gmcdonald,287517,Gavin McDonald,,NA,2020-06-11T18:26:41Z,2020-06-11T18:26:41Z,"For an actual reproducible example see this ticket:

https://issues.apache.org/jira/browse/INFRA-20367
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY0Mjg1NTIzNg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/516,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTQ4MzE5MQ==,incubator-ponymail,671483191,516,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2020-08-10T17:21:10Z,2020-08-10T17:21:10Z,"This should be fixed now, sorry for the late reply.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3MTQ4MzE5MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/516,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDgzMTI5MTc1MA==,incubator-ponymail,831291750,516,NA,sebbASF,16689231,Sebb,,NA,2021-05-03T14:21:10Z,2021-05-03T14:21:10Z,The generated ponymail.js script was not updated,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDgzMTI5MTc1MA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/519,https://api.github.com/repos/apache/incubator-ponymail/issues/519,incubator-ponymail,680569159,519,Bug: email parser mishandles old-style boundaries,sebbASF,16689231,Sebb,,OPEN,2020-08-17T22:45:36Z,2020-08-20T15:10:43Z,"The code that parses boundary strings strips <>. This breaks parsing of some messages, for example the unit test corpus file tomcat-ancient-boundary.mbox which has the following boundary:

Content-Type: multipart/mixed; boundary=""<<001-3e1dcd5a-119e>>""

Once parsed, the boundary becomes ""<001-3e1dcd5a-119e>"" which does not match.

There are two bugs for this:
https://bugs.python.org/issue28945
https://bugs.python.org/issue29020
but unfortunately no fix in sight.

It's possible to monkey-patch the library by providing a replacement copy of the method email.utils.collapse_rfc2231_value.

It might make sense to add this as an option (at least initially) for the importer so that missing messages could be imported.

Attached is some test code to demonstrate the fix.

[parse_email.py.zip](https://github.com/apache/incubator-ponymail/files/5087155/parse_email.py.zip)

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/519/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/520,https://api.github.com/repos/apache/incubator-ponymail/issues/520,incubator-ponymail,682796007,520,Bug: archiver dump_dir keyword parameter does nothing,sebbASF,16689231,Sebb,,CLOSED,2020-08-20T15:10:14Z,2020-08-20T22:54:17Z,"The archiver supports the keyword parameter dump_dir but does nothing useful with it.

It should either be dropped or implemented","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/520/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/520,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3Nzk0NDM1NA==,incubator-ponymail,677944354,520,NA,sebbASF,16689231,Sebb,,NA,2020-08-20T22:48:21Z,2020-08-20T22:48:21Z,"It looks like the connection between dump_dir and args.dump was lost in commit 95beb51158b58bcb9fdb1371af7699b72598ac34
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY3Nzk0NDM1NA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/521,https://api.github.com/repos/apache/incubator-ponymail/issues/521,incubator-ponymail,685448837,521,Bug: don't add archived-at header to parsed message,sebbASF,16689231,Sebb,,CLOSED,2020-08-25T12:34:15Z,2020-08-25T18:04:13Z,"The archiver main() code currently adds an 'archived-at' header to mails (unless they have one) before they are processed.

This means that generators which use the header in any way may generate different output for the same input.

Since version 0.10, the archiver no longer stores the parsed message (it uses the original input).
AFAICT there is now no way to see the header added by the archiver.

The header should no longer be added to the parsed input message.

If it is desired to record when a message was archived, that should be done by a recording the timestamp in the ES database in a separate field.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/521/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/522,https://api.github.com/repos/apache/incubator-ponymail/issues/522,incubator-ponymail,695869132,522,Enh: add support for mboxrd format,sebbASF,16689231,Sebb,,OPEN,2020-09-08T13:24:25Z,2020-09-08T13:24:25Z,"Body lines in mbox files must not start with the characters 'From ' as the string identifies the start of the next message.

Unfortunately there is no single standard for how such lines are handled.

The mboxo format changes 'From ' to '>From '; this is ambiguous when attempting to regenerate the original email.

The mboxrd format additionally changes '>From ' to '>>From ' etc, which is reversible.

Apache HTTPD mod_mbox currently uses mboxo (as far as I am aware).
The ASF mbox-vm archiver uses mboxrd.

PonyMail currently uses mboxo for generating mbox downloadfiles and defaults to reading mbox files as mboxo.

Whilst this is self-consistent, it is not ideal.
The code should allow for mboxrd support.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/522/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/523,https://api.github.com/repos/apache/incubator-ponymail/issues/523,incubator-ponymail,701377892,523,Enh: add a variant of DKIM-ID with conditional manual List-ID appended,sbp,184941,Sean B. Palmer,,OPEN,2020-09-14T19:47:21Z,2020-09-15T10:17:58Z,"The DKIM-ID generator of PR #517 does not include a manual List-ID. A version of that generator which includes the manual List-ID, but only if the same List-ID does not appear in the email, was [suggested](https://github.com/apache/incubator-ponymail/pull/517#issuecomment-691660802) and [seconded](https://github.com/apache/incubator-ponymail/pull/517#issuecomment-691696493) in that thread.

This issue is being created to provide a consolidated place of discussion for that mechanism, leaving the PR #517 thread to be about the DKIM-ID generator of that PR alone.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/523/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/523,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MjI3NjI3Nw==,incubator-ponymail,692276277,523,NA,sbp,184941,Sean B. Palmer,,NA,2020-09-14T19:50:31Z,2020-09-14T19:50:31Z,"This enhancement must not be accepted. It creates a dangerous illusion that the users will be responsible for backing up data that should instead be stored using a [reliable backup strategy](https://github.com/apache/incubator-ponymail/pull/517#issuecomment-691953754). Moreover, it makes DKIM-IDs unnecessarily long, negating one of the primary purposes of DKIM-IDs. The other primary purpose, deduplication, would also be stymied by this malfeature.
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MjI3NjI3Nw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/523,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MjYyMDkwNA==,incubator-ponymail,692620904,523,NA,sebbASF,16689231,Sebb,,NA,2020-09-15T10:17:58Z,2020-09-15T10:17:58Z,"Sorry, but I am not clear what you mean by a manual List-Id.
There does not seem to be a corresponding PR which might clarify matters.

Please explain.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDY5MjYyMDkwNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/524,https://api.github.com/repos/apache/incubator-ponymail/issues/524,incubator-ponymail,711113769,524,Compatibility with ElasticSearch alternative,sycured,60801403,,,CLOSED,2020-09-29T13:29:33Z,2021-06-15T19:57:00Z,"Hi,
Is it possible to use an ElasticSearch alternative like:
- https://github.com/tantivy-search/tantivy
- https://github.com/toshi-search/Toshi
- https://github.com/valeriansaliou/sonic

Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/524/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/524,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MTc5MDI3MQ==,incubator-ponymail,861790271,524,NA,sebbASF,16689231,Sebb,,NA,2021-06-15T19:56:59Z,2021-06-15T19:56:59Z,I think the answer to this is no.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MTc5MDI3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/525,https://api.github.com/repos/apache/incubator-ponymail/issues/525,incubator-ponymail,748005817,525,Is it possible to put someone on copy when replying to mailing list in browser?,plainheart,26999792,Zhongxiang Wang,yhen@all-my-life.cn,CLOSED,2020-11-21T11:59:29Z,2022-12-12T16:22:13Z,"Hi, 

I'd like to know if I can put someone on copy when I reply to someone in a thread through the browser?

Usually, I will take my apache email account to reply to the mailing list, but I find it seems that I can't copy anyone.

It would be better to support this function. Thanks!","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/525/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/525,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRluq,incubator-ponymail,1346788266,525,NA,raboof,131856,Arnout Engelen,github@bzzt.net,NA,2022-12-12T16:00:24Z,2022-12-12T16:00:24Z,Was this completed or abandoned? I would like this as well and I don't see it available on https://lists.apache.org yet AFAICS,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRluq/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/525,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRqTj,incubator-ponymail,1346807011,525,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2022-12-12T16:11:24Z,2022-12-12T16:11:24Z,"The ticket was closed after a few days, so I guess it wasn't looked into.
As for that specific instance (lists.a.o), it would not be possible to cc a non-mailing-list due to policy restrictions.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRqTj/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/525,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRr2f,incubator-ponymail,1346813343,525,NA,raboof,131856,Arnout Engelen,github@bzzt.net,NA,2022-12-12T16:15:06Z,2022-12-12T16:15:06Z,"In this case I wanted to loop in another mailinglist, so it might still have been useful :). Should we re-open this one or open a new issue?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRr2f/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/525,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRujt,incubator-ponymail,1346824429,525,NA,plainheart,26999792,Zhongxiang Wang,yhen@all-my-life.cn,NA,2022-12-12T16:21:40Z,2022-12-12T16:21:40Z,"I'm glad to hear from you, although it has past for a long time. I bound my apache email with gmail to send email, which allows me to cc someone. But it would be great if we can directly do this via mailling list.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5QRujt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/528,https://api.github.com/repos/apache/incubator-ponymail/issues/528,incubator-ponymail,809547760,528,Upgrade to Elasticsearch 7.X,lewismc,1165719,Lewis John McGibbney,lewis.mcgibbney@gmail.com,CLOSED,2021-02-16T18:26:36Z,2021-02-17T02:55:05Z,"The [installation prerequisites](https://github.com/apache/incubator-ponymail/blob/master/docs/INSTALLING.md#pre-requisites) state `ElasticSearch >= 2.1` but [requirements.txt](https://github.com/apache/incubator-ponymail/blob/master/requirements.txt#L3-L4) states `~=5.0.0`.
When I attempt to run setup.py in Python3 interpreter with local ES 7.7.1 installation I get the following
```
Index creation failed: TransportError(400, 'mapper_parsing_exception', 'Root mapping definition has unsupported parameters:  [mailinglists : {_all={enabled=false}, properties={name={index=not_analyzed, type=string}, description={index=not_analyzed, type=string}, list={type=string}}}] [attachment : {properties={source={type=binary}}}] [mbox_source : {_all={enabled=false}, properties={message-id={index=not_analyzed, type=string}, mid={type=string}, source={type=binary}}}] [mbox : {properties={cc={type=string}, date={format=yyyy/MM/dd HH:mm:ss, index=not_analyzed, store=true, type=date}, in-reply-to={index=not_analyzed, type=string}, private={type=boolean}, attachments={properties={filename={index=not_analyzed, type=string}, content_type={index=not_analyzed, type=string}, size={type=long}, hash={index=not_analyzed, type=string}}}, references={type=string}, from_raw={index=not_analyzed, type=string}, subject={fielddata=true, type=string}, mid={type=string}, @import_timestamp={format=yyyy/MM/dd HH:mm:ss||yyyy/MM/dd, type=date}, epoch={index=not_analyzed, type=long}, body={type=string}, list={type=string}, message-id={index=not_analyzed, type=string}, from={type=string}, to={type=string}, list_raw={index=not_analyzed, type=string}}}] [account : {_all={enabled=false}, properties={internal={properties={cookie={index=not_analyzed, type=string}, ip={index=not_analyzed, type=string}, oauth_used={index=not_analyzed, type=string}}}, credentials={properties={uid={index=not_analyzed, type=string}, altemail={type=object}, fullname={index=not_analyzed, type=string}, email={index=not_analyzed, type=string}}}, request_id={index=not_analyzed, type=string}, cid={index=not_analyzed, type=string}}}] [notifications : {_all={enabled=false}, properties={date={format=yyyy/MM/dd HH:mm:ss, store=true, type=date}, in-reply-to={index=not_analyzed, type=string}, private={type=boolean}, subject={fielddata=true, type=string}, mid={type=string}, epoch={type=long}, list={type=string}, type={index=not_analyzed, type=string}, seen={type=long}, recipient={index=not_analyzed, type=string}, message-id={index=not_analyzed, type=string}, from={type=string}, to={type=string}}}]')
```
This has to do with the [removal of mapping types in ES 7.X](https://www.elastic.co/guide/en/elasticsearch/reference/current/removal-of-types.html)

I propose to make necessary upgrades to ES 7.X. I will start working on this issue.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/528/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/528,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDc4MDA4NjkwMg==,incubator-ponymail,780086902,528,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2021-02-16T20:07:31Z,2021-02-16T20:07:31Z,"https://github.com/apache/incubator-ponymail-foal works with 7.x and 8.x, and is the focus at the moment.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDc4MDA4NjkwMg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/528,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDc4MDI2MTkxNw==,incubator-ponymail,780261917,528,NA,lewismc,1165719,Lewis John McGibbney,lewis.mcgibbney@gmail.com,NA,2021-02-17T02:55:00Z,2021-02-17T02:55:00Z,"Hi @Humbedooh thanks for dropping that bombshell. This wasn't obvious to me... I just spent the last 4 hours upgrading this codebase to use ES7. No worries, I'll send a one line README PR to notify others as well. Thanks","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDc4MDI2MTkxNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/529,https://api.github.com/repos/apache/incubator-ponymail/issues/529,incubator-ponymail,809808992,529,Update README with new ponymail-foal project reference ,lewismc,1165719,Lewis John McGibbney,lewis.mcgibbney@gmail.com,CLOSED,2021-02-17T02:56:23Z,2022-02-07T11:21:17Z,A simple notice in the README is required such that people don't waste any time on this codebase. I'll go ahead and do that.,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/529/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/531,https://api.github.com/repos/apache/incubator-ponymail/issues/531,incubator-ponymail,873959786,531,Bug: stats.lua option &dfrom=nnn&dto=mmm does not work,sebbASF,16689231,Sebb,,OPEN,2021-05-02T14:44:31Z,2021-05-02T14:47:18Z,"The following section:

https://github.com/apache/incubator-ponymail/blob/3cf690f6ab23e473542e08c56960fa2117da9e29/site/api/stats.lua#L190-L192

means that the previous section which processes &dfrom=nnn&dto=mmm no longer works; the daterange values will always be overridden","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/531/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/532,https://api.github.com/repos/apache/incubator-ponymail/issues/532,incubator-ponymail,874030856,532,Enh: stats.lua could return monthly stats to show in calendar,sebbASF,16689231,Sebb,,CLOSED,2021-05-02T20:02:21Z,2021-05-03T14:42:44Z,"stats.lua currently returns the first and last month details which are used to build the calendar display.

It would be useful to show the number of messages in each month, and not show calendar entries where this is zero.
For example as is done by mod_mbox.

This can be done by an ES aggregation using the date_histogram function on the message date.
Given that all emails in scope need to be scanned anyway to determine the first/last dates, it should not increase the load unduly.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/532/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/533,https://api.github.com/repos/apache/incubator-ponymail/issues/533,incubator-ponymail,882377538,533,Bug: chardet licence is not compatible with AL2.0,sebbASF,16689231,Sebb,,OPEN,2021-05-09T14:23:47Z,2021-05-14T15:25:28Z,"As the subject says.

This means that PonyMail cannot depend on it if it is to be AL2.0 licensed","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/533/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/533,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDgzNTgyMDQ3NQ==,incubator-ponymail,835820475,533,NA,sebbASF,16689231,Sebb,,NA,2021-05-09T14:43:10Z,2021-05-09T14:43:10Z,"It might be possible to use PyICU instead: https://gitlab.pyicu.org/main/pyicu

The Python interface appears to be compatible with AL2.0 -- it is listed as MIT
The underlying ICU code appears also to be compatible -- it uses the UNICODE Software license","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDgzNTgyMDQ3NQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/533,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDgzNTkwNjQ4Mw==,incubator-ponymail,835906483,533,NA,sebbASF,16689231,Sebb,,NA,2021-05-09T22:12:56Z,2021-05-09T22:12:56Z,A simpler alternative might be https://github.com/ousret/charset_normalizer,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDgzNTkwNjQ4Mw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/533,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTMxMzc4Ng==,incubator-ponymail,841313786,533,NA,sebbASF,16689231,Sebb,,NA,2021-05-14T15:25:28Z,2021-05-14T15:25:28Z,This needs to be resolved before graduation,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg0MTMxMzc4Ng==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/534,https://api.github.com/repos/apache/incubator-ponymail/issues/534,incubator-ponymail,902299935,534,Bug: buffering=1 not allowed with binary files,sebbASF,16689231,Sebb,,CLOSED,2021-05-26T12:16:21Z,2021-05-26T12:21:12Z,"import-mbox.py tries to use buffering=1 with binary files. This means line buffering, which obviously does not apply.
Recent versions of Python complain.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/534/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/535,https://api.github.com/repos/apache/incubator-ponymail/issues/535,incubator-ponymail,910787295,535,how can I download a particular message as plan text?,pachadotdev,10091065,"Mauricio ""Pachá"" Vargas Sepúlveda",m.sepulveda@mail.utoronto.ca,CLOSED,2021-06-03T19:23:28Z,2021-06-03T23:06:16Z,"Hi

I'm working in the Arrow project and I would like to create an archive of nightly builds results.

For example, I was trying to download this via CURL to save a TXT file
https://lists.apache.org/api/source.lua/rf80afab606bb6de300be490633f0a135ac26b139148bbb2c4ec25328@%3Cdev.arrow.apache.org%3E

But, I would like to know how ""rf80afab606bb6de300be490633f0a135ac26b139148bbb2c4ec25328"" is created there, as I would like to download for a search and create a function that
1. Gets a string such as ""[NIGHTLY] Arrow Build Report for Job nightly-2021-05-24-0""
2. Based on the string, it gives me the URL with the form `/api/source.lua` and the TXT file with the contents","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/535/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/535,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg1NDI0MjE4Mg==,incubator-ponymail,854242182,535,NA,sebbASF,16689231,Sebb,,NA,2021-06-03T23:06:16Z,2021-06-03T23:06:16Z,"It looks like all the NIGHTLY build emails go to the builds@arrow list, and there are few/no other emails sent to it.
So one approach would be to download the monthly mbox files, e.g.
https://lists.apache.org/api/mbox.lua?list=builds@arrow.apache.org&date=2021-5

Otherwise, you will need to use the documented API [1] to do a search, something like 

https://lists.apache.org/api/stats.lua?list=builds&domain=arrow.apache.org&emailsOnly&header_subject=NIGHTLY

Adjust the subject and add timespan restrictions as needed.

Then parse the JSON response to extract the id entries to use in the download.

[1] ","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg1NDI0MjE4Mg==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/536,https://api.github.com/repos/apache/incubator-ponymail/issues/536,incubator-ponymail,912215111,536,Bug: PM does not support ES 7 - undocumented,sebbASF,16689231,Sebb,,CLOSED,2021-06-05T11:23:48Z,2021-06-12T11:12:00Z,"PM currently rejects attempts to use ES 7, however this is not documented.

Note that it does not work on ES 7 - see https://github.com/apache/incubator-ponymail/issues/528","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/536/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/536,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg1NTQwNjE3MQ==,incubator-ponymail,855406171,536,NA,sebbASF,16689231,Sebb,,NA,2021-06-06T14:14:56Z,2021-06-06T14:14:56Z,"Actually it appears that PM does not support ES6 either.
Looks like the latest supported version is 5.x.x","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg1NTQwNjE3MQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/536,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MDAzODAxNA==,incubator-ponymail,860038014,536,NA,sebbASF,16689231,Sebb,,NA,2021-06-12T11:05:58Z,2021-06-12T11:05:58Z,Setup.py does not work with ES6,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MDAzODAxNA==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/537,https://api.github.com/repos/apache/incubator-ponymail/issues/537,incubator-ponymail,919903112,537,Bug: &since option for stats.lua is not documented,sebbASF,16689231,Sebb,,CLOSED,2021-06-13T23:31:36Z,2021-06-15T12:19:27Z,"The &since option provided by stats.lua [1] is not documented in the API

[1] https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/stats.lua#L289","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/537/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/538,https://api.github.com/repos/apache/incubator-ponymail/issues/538,incubator-ponymail,919903526,538,Bug: atom.lua is not documented,sebbASF,16689231,Sebb,,CLOSED,2021-06-13T23:34:13Z,2021-06-15T20:40:26Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/538/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/538,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MDI4NjQyNw==,incubator-ponymail,860286427,538,NA,sebbASF,16689231,Sebb,,NA,2021-06-13T23:35:23Z,2021-06-13T23:35:23Z,Nor is compose.lua,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MDI4NjQyNw==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/538,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MTgxNjQzNQ==,incubator-ponymail,861816435,538,NA,sebbASF,16689231,Sebb,,NA,2021-06-15T20:40:26Z,2021-06-15T20:40:26Z,Raised #547 for compose.lua,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/MDEyOklzc3VlQ29tbWVudDg2MTgxNjQzNQ==/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/539,https://api.github.com/repos/apache/incubator-ponymail/issues/539,incubator-ponymail,919904403,539,Bug: notifications.lua 'seen' option is not documented,sebbASF,16689231,Sebb,,CLOSED,2021-06-13T23:40:09Z,2021-06-15T20:05:04Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/notifications.lua#L37,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/539/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/540,https://api.github.com/repos/apache/incubator-ponymail/issues/540,incubator-ponymail,919904587,540,Bug: oauth.lua is not documented in the API,sebbASF,16689231,Sebb,,OPEN,2021-06-13T23:41:27Z,2021-06-13T23:41:27Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/oauth.lua#L28,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/540/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/541,https://api.github.com/repos/apache/incubator-ponymail/issues/541,incubator-ponymail,919904769,541,Bug: pminfo.lua is not documented in the API,sebbASF,16689231,Sebb,,OPEN,2021-06-13T23:42:37Z,2021-06-13T23:42:37Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/pminfo.lua#L25,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/541/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/542,https://api.github.com/repos/apache/incubator-ponymail/issues/542,incubator-ponymail,919905235,542,Bug: source.lua is not documented in the API,sebbASF,16689231,Sebb,,OPEN,2021-06-13T23:45:45Z,2021-06-13T23:45:45Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/source.lua#L26,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/542/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/543,https://api.github.com/repos/apache/incubator-ponymail/issues/543,incubator-ponymail,919905728,543,Bug: static.lua is not documented in the API,sebbASF,16689231,Sebb,,OPEN,2021-06-13T23:48:48Z,2021-06-13T23:58:41Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/static.lua#L57,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/543/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/544,https://api.github.com/repos/apache/incubator-ponymail/issues/544,incubator-ponymail,919906247,544,Bug: stats.lua dfrom and dto parameters are not documented in API,sebbASF,16689231,Sebb,,CLOSED,2021-06-13T23:52:24Z,2021-06-15T20:48:16Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/stats.lua#L190,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/544/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/545,https://api.github.com/repos/apache/incubator-ponymail/issues/545,incubator-ponymail,919906823,545,Bug: thread.lua not mentioned in API,sebbASF,16689231,Sebb,,OPEN,2021-06-13T23:56:17Z,2021-06-13T23:56:17Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/thread.lua#L72,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/545/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/546,https://api.github.com/repos/apache/incubator-ponymail/issues/546,incubator-ponymail,919907371,546,Bug: websearch.lua not mentioned in API,sebbASF,16689231,Sebb,,OPEN,2021-06-13T23:59:41Z,2021-06-13T23:59:41Z,https://github.com/apache/incubator-ponymail/blob/6aad371c8ee683bf50bdf83b626367c46ca90b73/site/api/websearch.lua#L21,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/546/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/547,https://api.github.com/repos/apache/incubator-ponymail/issues/547,incubator-ponymail,921781239,547,Bug: compose.lua is not documented,sebbASF,16689231,Sebb,,OPEN,2021-06-15T20:39:42Z,2021-06-15T20:39:42Z,,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/547/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/548,https://api.github.com/repos/apache/incubator-ponymail/issues/548,incubator-ponymail,957442222,548,Serach does not return existing results,rvernica,241185,,,CLOSED,2021-08-01T09:26:58Z,2021-08-03T10:56:05Z,"If I set a search filter with _Less than 1 month ago_ I get six results:
https://lists.apache.org/list.html?dev@arrow.apache.org:lte=1M:copy
![image](https://user-images.githubusercontent.com/241185/127766057-113ce8b0-985a-4da2-b341-8838332bb454.png)
If I set the filter with _Less than 1 year ago_ I get *no results*:
https://lists.apache.org/list.html?dev@arrow.apache.org:lte=1y:copy
![image](https://user-images.githubusercontent.com/241185/127766074-1ba3901e-e15b-48de-82d3-f2dd9e75f95c.png)
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/548/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/548,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41E7nK,incubator-ponymail,890485194,548,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2021-08-01T09:35:06Z,2021-08-01T09:35:06Z,"I've tried this with and without authenticating, and I get 253 emails in both cases.
Can you share the stats.lua URL that gets called during your search? It should be available in your browser inspector tool (shift+ctrl+i)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41E7nK/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/548,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41E7rl,incubator-ponymail,890485477,548,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2021-08-01T09:37:26Z,2021-08-01T09:37:26Z,Does the same thing happen with the next gen interface? ( https://lists.apache.org/x/list.html?dev@arrow.apache.org:lte=1y:copy ),"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41E7rl/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/548,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41FF1d,incubator-ponymail,890527069,548,NA,sebbASF,16689231,Sebb,,NA,2021-08-01T14:06:31Z,2021-08-01T14:06:31Z,"I've also tried it and I get 253 results (at present: the number will likely change as time moves on).

The screenshot does not show the full URL: are you sure there is nothing else after the 'lte=' that could be causing the search to fail? For example the following returns nothing:

https://lists.apache.org/list.html?dev@arrow.apache.org:lte=1y:copyy
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41FF1d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/548,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41FJ_g,incubator-ponymail,890544096,548,NA,rvernica,241185,,,NA,2021-08-01T15:58:46Z,2021-08-01T15:58:46Z,"The screenshots corresponds to the URL included before the screenshot.

Now the 1y filter seems to work as expected. Maybe it is a transient issue. The next get UI works as well.

I've seen this issue before but only got to report it now. I'll report back if I see this again.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41FJ_g/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/548,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41Jv4y,incubator-ponymail,891747890,548,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2021-08-03T10:56:05Z,2021-08-03T10:56:05Z,"Closing as Cannot Reproduce for now. If the error occurs again, we'll take another look.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M41Jv4y/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/549,https://api.github.com/repos/apache/incubator-ponymail/issues/549,incubator-ponymail,1014125070,549,Search Engine Optimization,bkmgit,1679477,Benson Muite,,OPEN,2021-10-02T18:00:36Z,2021-10-04T10:25:29Z,"It would be helpful to make mailing list archives easy to index by search engines as some projects use this service to archive conversations in which people get help, thereby preventing repeated requests on the same topic.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/549/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/549,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43oceO,incubator-ponymail,933349262,549,NA,sebbASF,16689231,Sebb,,NA,2021-10-04T10:25:29Z,2021-10-04T10:25:29Z,What changes would need to be made?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M43oceO/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/550,https://api.github.com/repos/apache/incubator-ponymail/issues/550,incubator-ponymail,1021724523,550,Cannot build dockerfile - ES version hard to find and EOL,chibenwa,6928740,Benoit TELLIER,btellier@linagora.com,OPEN,2021-10-09T14:37:55Z,2021-10-09T14:37:55Z,"```
cd dockerfiles/debian/
```

```
$ docker build .
Sending build context to Docker daemon  3.072kB
Step 1/13 : FROM debian
latest: Pulling from library/debian
df5590a8898b: Pull complete 
Digest: sha256:b6a47ddbc1de53e0024d19908f5ef7b3d870686f1234fdb2d19770e097db1575
Status: Downloaded newer image for debian:latest
 ---> a178460bae57
Step 2/13 : FROM elasticsearch
manifest for elasticsearch:latest not found: manifest unknown: manifest unknown
```

https://hub.docker.com/_/elasticsearch?tab=tags&page=1&name=latest shouws that the tag latest do not exists and that the dockerfile is broken. 

Note that specifying `7.14.1` explicitly also failed:

```
Step 4/13 : RUN apt-get update
 ---> Running in 09f091f378a4
/bin/sh: apt-get: command not found
The command '/bin/sh -c apt-get update' returned a non-zero code: 127
```

To be fair, I would expect, if non trivial setup is required to build this docker (dockerbuild not enough) to have a documentation of how to do it.

BTW using `latest` (a mutable tag) is a poor practice - making the builds non - reproducible...

Not to mention that the ElasticSearch version that is supported should be documented: there are subtle differences in APIs across ES versions that might affect applicative behaviours, and sometime be strictly incompatible. Edit - reading `requirements.txt` felt non-obvious to me. Trying again with 5.6.

```
Okay, I got all I need, setting up Pony Mail...
Traceback (most recent call last):
  File ""setup.py"", line 482, in <module>
    DB_VERSION=es.info()['version']['number']
  File ""/usr/local/lib/python3.5/dist-packages/elasticsearch/client/utils.py"", line 301, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
  File ""/usr/local/lib/python3.5/dist-packages/elasticsearch/client/__init__.py"", line 292, in info
    ""GET"", ""/"", params=params, headers=headers
  File ""/usr/local/lib/python3.5/dist-packages/elasticsearch/transport.py"", line 413, in perform_request
    _ProductChecker.raise_error(self._verified_elasticsearch)
  File ""/usr/local/lib/python3.5/dist-packages/elasticsearch/transport.py"", line 630, in raise_error
    raise UnsupportedProductError(message)
elasticsearch.exceptions.UnsupportedProductError: The client noticed that the server is not Elasticsearch and we do not support this unknown product
```

The maintainer mention of the dockerfile should IMO be removed or modified to be Apache Pony Mail incubating - and not be an individual. I would expect the Pony mail project to feel responsible for the docker distribution, not just that just one guy.

I'm giving up. I was just interested in the ElasticSearch schemas, which I found in setup.py (I wanted to see how headers are made searchable because it is a problem I struggle with on Apache James - Pony mail only store specific headers but skips the generic  case - search by `name+value`).

I could be considering PonyMail for displaying mailing lists archives, but using an ELasticSearch release that went end of life on `2019-03-11` -over 2 years - is definitly a stopper to me. Do the project have a plan to upgrade to newer ElasticSearch versions?","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/550/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/551,https://api.github.com/repos/apache/incubator-ponymail/issues/551,incubator-ponymail,1161303484,551,Cannot login by OAuth,tisonkun,18818196,tison,wander4096@gmail.com,CLOSED,2022-03-07T11:38:11Z,2022-03-08T12:12:31Z,"I'm trying to login from the website UI and successfully sign in with my Apache account (`tison`). However, when I jump back to the original page I'm still in state no login.

<img width=""1792"" alt=""image"" src=""https://user-images.githubusercontent.com/18818196/157024247-c22037fb-22f2-497d-aaaf-5277658d4462.png"">
","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/551/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/551,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M4_SFru,incubator-ponymail,1061706478,551,NA,tisonkun,18818196,tison,wander4096@gmail.com,NA,2022-03-08T12:04:06Z,2022-03-08T12:04:06Z,"UPDATE: it happens only in Chrome and when I use Incognito mode, the problem vanished.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M4_SFru/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/551,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M4_SHXC,incubator-ponymail,1061713346,551,NA,sebbASF,16689231,Sebb,,NA,2022-03-08T12:12:30Z,2022-03-08T12:12:30Z,That suggests that it is a cookie issue. Clear all the relevant cookies and try again,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M4_SHXC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/552,https://api.github.com/repos/apache/incubator-ponymail/issues/552,incubator-ponymail,1225675452,552,Cannot link to date range searches in JIRA,madrob,1592330,Mike Drob,,OPEN,2022-05-04T17:32:04Z,2022-05-04T17:32:04Z,"When trying to share a search that includes a date range it will have the `|` character, which does not play nice with JIRA. For example, `https://lists.apache.org/list?builds@solr.apache.org:dfr=2022-5-4|dto=2022-5-31:ZKEventListenerThread` will break the link on the `|` character.

Would be nice to support an alternative character there.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/552/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/553,https://api.github.com/repos/apache/incubator-ponymail/issues/553,incubator-ponymail,1226173741,553,Bug: missing email from dev list,shazron,36107,Shazron Abdullah,,CLOSED,2022-05-05T03:58:38Z,2022-05-05T04:00:20Z,"Apologies if this is not the right place for this, let me know where to redirect if so.

This thread: https://lists.apache.org/thread/k6gfkg1dtohwc96wkn7yj5krb1p44ofd is missing the parent email (nor the April 2022 summary page at: https://lists.apache.org/list?dev@openwhisk.apache.org:2022-4)
The parent email was sent on `Date: Wed, 27 Apr 2022 18:12:12 -0700 (PDT)`

I received the parent email via the Openwhisk dev list, it just doesn't show up in Ponymail Archives.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/553/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/553,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5CpXZo,incubator-ponymail,1118140008,553,NA,shazron,36107,Shazron Abdullah,,NA,2022-05-05T04:00:20Z,2022-05-05T04:00:20Z,Closing: posted at https://github.com/apache/incubator-ponymail-foal/issues/240,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5CpXZo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/554,https://api.github.com/repos/apache/incubator-ponymail/issues/554,incubator-ponymail,1401850311,554,The font size is not reactive.,yx91490,8814185,CenterCode,,OPEN,2022-10-08T07:05:03Z,2025-02-04T10:27:50Z,"environment:
macbook pro (13-inch).
google chrome 104.0.5112.101, set the font size to 16px, and the min font size to 14px.

recurrence:
Open https://lists.apache.org/list?dev@impala.apache.org:lte=1M:board%20report, the text on top of each other like this:
<img width=""265"" alt=""image"" src=""https://user-images.githubusercontent.com/8814185/194694693-334fd355-225b-4f26-aed9-93a413be6374.png"">

It seems that the web page designed for large screen, the default font size is too small on small screen. I'm used to zoom in the font size, and then the page can not be properly rendered.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/554/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/554,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M6c98_t,incubator-ponymail,2633486317,554,NA,krishna-dave206,184682148,Krishna Dave,krishna.dave2024@nst.rishihood.edu.in,NA,2025-02-04T10:27:49Z,2025-02-04T10:27:49Z,@yx91490 I'd like to work on this issue. Can you please assign this to me?,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M6c98_t/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/555,https://api.github.com/repos/apache/incubator-ponymail/issues/555,incubator-ponymail,1401945218,555,Search does not ignore punctuation characters,clr-apache,16305988,Craig L Russell,apache.clr@gmail.com,OPEN,2022-10-08T13:19:45Z,2022-10-08T13:19:45Z,"When searching for ""First Last"" no results.
When searching for ""alias"" no results.
The message I'm looking for has ""[RESULT][VOTE] New committer for Project: First Last(id:alias)"" which clearly should match but it does not.
Could the search or indexing be changed to ignore the ""("" and "")"" and "":"" and perhaps other punctuation characters?
Specific problematic messages available if you DM me. Thanks.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/555/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/556,https://api.github.com/repos/apache/incubator-ponymail/issues/556,incubator-ponymail,1658677967,556,[Question] Announce email is not displayed,casionone,7869972,Casion,,CLOSED,2023-04-07T11:03:24Z,2023-04-07T13:47:54Z,"After our project was released, we sent an email to announce@apache.org, but it was not shown in the mailing list of  https://lists.apache.org/list.html?announce@apache.org . May I ask why?

","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/556/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/556,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5ZbNdd,incubator-ponymail,1500305245,556,NA,sebbASF,16689231,Sebb,,NA,2023-04-07T13:47:54Z,2023-04-07T13:47:54Z,This is nothing to do with PonyMail,"{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5ZbNdd/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/557,https://api.github.com/repos/apache/incubator-ponymail/issues/557,incubator-ponymail,1987785667,557,Wrong link highlighting,kwin,185025,Konrad Windszus,,OPEN,2023-11-10T14:56:15Z,2023-11-10T18:58:54Z,"When the mail contains a plain text like this

`https://hc.apache.org/httpcomponents-client-4.5.x/current/fluent-hc/apidocs/org/apache/http/client/fluent/Executor.html#execute(org.apache.http.client.fluent.Request)`

the link is only rendered for the first part up to the `(` and also is pointing to a URI with the corrupt/shortened fragment part.

In general a URI does not end at the first ""("" but should only end at the first character which is invalid for URIs (https://www.rfc-editor.org/rfc/rfc3986#section-2).

An incorrect link can for example be seen in https://lists.apache.org/thread/fymw1f33t7pct5qgh4qdrgc368nts9x1","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/557/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/incubator-ponymail/issues/557,https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5rqawR,incubator-ponymail,1806281745,557,NA,Humbedooh,496607,Daniel Gruno,humbedooh@apache.org,NA,2023-11-10T18:58:54Z,2023-11-10T18:58:54Z,"The link you provide (lists.apache.org) does not use this specific version of Pony Mail, but rather the newer Foal suite (found here: https://github.com/apache/incubator-ponymail-foal ), so I'd appreciate the issue being opened there. 
The pattern for links can be found at https://github.com/apache/incubator-ponymail-foal/blob/master/webui/js/source/body-fixups.js#L18 - and while patches are very much welcome, I will advise some slight caution, as URLs in isolation are often a very different subject matter from URLs within a text body context, especially with characters like parentheses.

For instance, you may see someone put a link inside parentheses such as:
> This did not work (for more info, see https://foo.bar)

In such a case, if parentheses are assumed to be part of the URL, the link will become invalid as well.","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/comments/IC_kwDOAoLO9M5rqawR/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/incubator-ponymail/issues/558,https://api.github.com/repos/apache/incubator-ponymail/issues/558,incubator-ponymail,2180100945,558,How do I get to the trends/statistics page?,kennknowles,575353,Kenn Knowles,kenn@apache.org,OPEN,2024-03-11T19:57:42Z,2024-03-11T19:57:42Z,"In the past, I had memorized the URL to get to the stats, but I have forgotten it and failed to Google it up. I also could not find any place in the main UI for a list to switch to the statistics view. Would love a discoverable UI but would also be grateful for just a concise answer :-)","{""url"": ""https://api.github.com/repos/apache/incubator-ponymail/issues/558/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
