type,issue_url,comment_url,repo_name,id,issue_num,title,user_login,user_id,user_name,user_email,issue_state,created_at,updated_at,body,reactions
issue,https://api.github.com/repos/apache/celeborn/issues/1,https://api.github.com/repos/apache/celeborn/issues/1,celeborn,1089726284,1,[FEATURE] RSS support AQE,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:09:59Z,2022-04-01T12:54:18Z,"A precise design should be described in future

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ADiHo,celeborn,1074668008,1,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-22T02:46:21Z,2022-03-22T02:46:21Z,#67 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ADiHo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2,https://api.github.com/repos/apache/celeborn/issues/2,celeborn,1089726901,2,[FEATURE]Worker-Wise Current-Limiting,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:10:54Z,2022-01-28T11:00:39Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vxbs,celeborn,1002378988,2,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2021-12-29T03:24:56Z,2021-12-29T03:24:56Z,#27 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vxbs/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49CptS,celeborn,1024105298,2,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-01-28T11:00:33Z,2022-01-28T11:00:33Z,pull request merged.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49CptS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/3,https://api.github.com/repos/apache/celeborn/issues/3,celeborn,1089727210,3,[BUG] ShuffleClinet limitMaxInFlight does not take effect strictly,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:11:24Z,2021-12-28T09:33:43Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/4,https://api.github.com/repos/apache/celeborn/issues/4,celeborn,1089727481,4,[FEATURE] Handle heartbeat from unknown worker,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:11:48Z,2022-11-01T10:31:01Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/5,https://api.github.com/repos/apache/celeborn/issues/5,celeborn,1089727843,5,[FEATURE] Add worker slots and buffer avaliable usage to monitor metrics,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:12:21Z,2022-11-01T10:31:26Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/5/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/5,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYuiu,celeborn,1298327726,5,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:31:26Z,2022-11-01T10:31:26Z,Done.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYuiu/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/6,https://api.github.com/repos/apache/celeborn/issues/6,celeborn,1089728134,6,[FEATURE] Handle ha nodes topology changes,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:12:48Z,2022-03-18T08:57:59Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/7,https://api.github.com/repos/apache/celeborn/issues/7,celeborn,1089728412,7,[FEATURE] Redesign the blacklist,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:13:16Z,2024-02-07T05:29:07Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/8,https://api.github.com/repos/apache/celeborn/issues/8,celeborn,1089729630,8,[FEATURE] Multi-version client support.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:15:18Z,2022-01-30T01:08:20Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/9,https://api.github.com/repos/apache/celeborn/issues/9,celeborn,1089729802,9,[FEATURE] Disk status check should conside that IO-Hang may cause thread does not response to interrupt signal,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:15:34Z,2024-02-07T05:29:15Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/9/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/10,https://api.github.com/repos/apache/celeborn/issues/10,celeborn,1089729885,10,[FEATURE] Refine monitor metrics,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:15:42Z,2022-11-01T10:32:21Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/10/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/11,https://api.github.com/repos/apache/celeborn/issues/11,celeborn,1089730027,11,[FEATURE] Stage rerun,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:15:56Z,2024-02-07T05:29:21Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/11/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/12,https://api.github.com/repos/apache/celeborn/issues/12,celeborn,1089730130,12,[FEATURE] shuffle data compression,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:16:07Z,2022-11-01T10:32:17Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/12/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/12,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4-nJuI,celeborn,1050450824,12,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-02-25T02:17:33Z,2022-02-25T02:17:33Z,Any plan for this?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4-nJuI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/12,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYuwL,celeborn,1298328587,12,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:32:17Z,2022-11-01T10:32:17Z,A zip algorithm has been added.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYuwL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/13,https://api.github.com/repos/apache/celeborn/issues/13,celeborn,1089730208,13,"[FEATURE] Java serializer, refer magnet",FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:16:16Z,2024-02-07T05:29:43Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/13/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/14,https://api.github.com/repos/apache/celeborn/issues/14,celeborn,1089730258,14,[FEATURE] job priority,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:16:22Z,2024-02-07T05:29:50Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/14/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/15,https://api.github.com/repos/apache/celeborn/issues/15,celeborn,1089732148,15,[Feature] Add templates and CI.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:19:22Z,2022-01-29T14:36:27Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/15/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/17,https://api.github.com/repos/apache/celeborn/issues/17,celeborn,1089740604,17,[BUG] ClusterLoadFallbackPolicy is not strictness when a shuffle with big partitions to register,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:33:33Z,2022-01-30T03:20:05Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/17/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/18,https://api.github.com/repos/apache/celeborn/issues/18,celeborn,1089740785,18,[BUG] ShuffleClinet limitMaxInFlight does not take effect strictly #3,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-28T09:33:52Z,2024-02-07T05:29:56Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/18/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/19,https://api.github.com/repos/apache/celeborn/issues/19,celeborn,1089770307,19,[BUG] Fix reserve slots with retry allocate duplicate PartitionLocations,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,CLOSED,2021-12-28T10:18:55Z,2021-12-28T11:06:33Z,"### What is the bug?
Reserve buffer retry, avoid allocating both master and slave peer

### How to reproduce the bug?

### Could you share logs or screenshots?
If allocate duplicate PartitionLocations will cause client read hang

/cc @waitinfuture @FMX 

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/19/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/23,https://api.github.com/repos/apache/celeborn/issues/23,celeborn,1089958398,23,[QUESTION] Spark job exec failed,CCweixiao,27730211,weixiao,leojie@apache.org,CLOSED,2021-12-28T15:09:50Z,2021-12-29T03:01:31Z,"软件版本：
spark2.4.5 
hadoop2.6.0-cdh5.13.1 

spark作业提交核心配置参数：

$SPARK_HOME/bin/spark-submit  \
--master yarn   \
--queue low.bigdata_online \
--executor-memory 10G \
--executor-cores 4 \
--driver-memory 5g  \
--conf spark.ui.port=$port \
--conf spark.executor.memoryOverhead=4g \
--conf spark.dynamicAllocation.minExecutors=1 \
--conf spark.dynamicAllocation.maxExecutors=24 \
--conf spark.yarn.maxAppAttempts=1 \
--conf spark.speculation=true \
--conf spark.dynamicAllocation.enabled=true \
--conf spark.shuffle.service.enabled=false \
--conf spark.shuffle.manager=org.apache.spark.shuffle.rss.RssShuffleManager \
--conf spark.serializer=org.apache.spark.serializer.KryoSerializer \
--conf spark.rss.master.address=master-ip:9097 \
--conf spark.rss.shuffle.writer.mode=hash \
--conf spark.rss.push.data.replicate=true \
--conf spark.yarn.archive=hdfs:///data/spark2.4.5_rss_jars \
......

问题描述：
RSS 服务运行正常，Spark作业运行时抛如下异常，（Spark Jars目录下是存在rss-shuffle-manager-1.0.0-shaded.jar的）


: java.lang.NoClassDefFoundError: com/aliyun/emr/rss/client/write/LifecycleManager
	at org.apache.spark.shuffle.rss.RssShuffleManager.org$apache$spark$shuffle$rss$RssShuffleManager$$initializeLifecycleManager(RssShuffleManager.scala:60)
	at org.apache.spark.shuffle.rss.RssShuffleManager$$anonfun$registerShuffle$2.apply(RssShuffleManager.scala:76)
	at org.apache.spark.shuffle.rss.RssShuffleManager$$anonfun$registerShuffle$2.apply(RssShuffleManager.scala:76)
	at scala.Option.foreach(Option.scala:257)
	at org.apache.spark.shuffle.rss.RssShuffleManager.registerShuffle(RssShuffleManager.scala:76)
	at org.apache.spark.ShuffleDependency.<init>(Dependency.scala:93)
	at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec$.prepareShuffleDependency(ShuffleExchangeExec.scala:323)
	at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.prepareShuffleDependency(ShuffleExchangeExec.scala:91)
	at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec$$anonfun$doExecute$1.apply(ShuffleExchangeExec.scala:128)
	at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec$$anonfun$doExecute$1.apply(ShuffleExchangeExec.scala:119)
	at org.apache.spark.sql.catalyst.errors.package$.attachTree(package.scala:52)
	at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.doExecute(ShuffleExchangeExec.scala:119)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)
	at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)
	at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)
	at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)
	at org.apache.spark.sql.execution.InputAdapter.inputRDDs(WholeStageCodegenExec.scala:391)
	at org.apache.spark.sql.execution.aggregate.HashAggregateExec.inputRDDs(HashAggregateExec.scala:151)
	at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:627)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)
	at org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)
	at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)
	at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)
	at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)
	at org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:247)
	at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:296)
	at org.apache.spark.sql.Dataset$$anonfun$count$1.apply(Dataset.scala:2836)
	at org.apache.spark.sql.Dataset$$anonfun$count$1.apply(Dataset.scala:2835)
	at org.apache.spark.sql.Dataset$$anonfun$52.apply(Dataset.scala:3370)
	at org.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:80)
	at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:127)
	at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:75)
	at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3369)
	at org.apache.spark.sql.Dataset.count(Dataset.scala:2835)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)
	at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)
	at py4j.Gateway.invoke(Gateway.java:282)
	at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)
	at py4j.commands.CallCommand.execute(CallCommand.java:79)
	at py4j.GatewayConnection.run(GatewayConnection.java:238)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: com.aliyun.emr.rss.client.write.LifecycleManager
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 48 more
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/23/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/23,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vtM0,celeborn,1002361652,23,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2021-12-29T02:09:51Z,2021-12-29T02:09:51Z,消息收到。。。,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vtM0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/23,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vt-j,celeborn,1002364835,23,NA,CCweixiao,27730211,weixiao,leojie@apache.org,NA,2021-12-29T02:22:57Z,2021-12-29T02:22:57Z,--jars 引入 或者把rss jar放到Spark的jars目录下，都不行，一直报上述异常,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vt-j/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/23,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vu2o,celeborn,1002368424,23,NA,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,NA,2021-12-29T02:40:20Z,2021-12-29T02:40:20Z,"> --jars 引入 或者把rss jar放到Spark的jars目录下，都不行，一直报上述异常

We have fixed this issue a moment ago, could you git pull the new code and rebuild? Thanks for report this issue, @CCweixiao.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vu2o/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/23,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vv3I,celeborn,1002372552,23,NA,CCweixiao,27730211,weixiao,leojie@apache.org,NA,2021-12-29T03:01:28Z,2021-12-29T03:01:28Z,"> > --jars 引入 或者把rss jar放到Spark的jars目录下，都不行，一直报上述异常
> 
> We have fixed this issue a moment ago, could you git pull the new code and rebuild? Thanks for report this issue, @CCweixiao.

是打包的问题，已经跑通了，感谢","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vv3I/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/24,celeborn,1089961226,24,[QUESTION] HA模式下，指定Master服务IP和端口的地方只能配置一个IP,CCweixiao,27730211,weixiao,leojie@apache.org,CLOSED,2021-12-28T15:14:04Z,2022-03-24T14:34:16Z," HA模式下，指定Master服务IP和端口的地方只能配置一个IP
 如：启动worker时：
sh /opt/ali_rss/rss-1.0.0-bin-release/sbin/start-worker.sh rss://master-ip:9097
如果用类似如下命令则会报错：
sh /opt/ali_rss/rss-1.0.0-bin-release/sbin/start-worker.sh rss://master1-ip:9097,rss://master2-ip:9097,rss://master3-ip:9097

我想配置多个master IP该怎样配置呢，因为，如果某一个master进程挂掉，脚本是无法运行成功的","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/24/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vtKS,celeborn,1002361490,24,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2021-12-29T02:09:13Z,2021-12-29T02:09:13Z,"HA 模式下，启动是不需要 rss://master-ip:9097 的。因为配置文件里面已经写了所有的地址。
@CCweixiao ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vtKS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vtsp,celeborn,1002363689,24,NA,CCweixiao,27730211,weixiao,leojie@apache.org,NA,2021-12-29T02:18:19Z,2021-12-29T02:18:19Z,Spark作业中呢，地址spark.rss.master.address好像这里也只能配置一个,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vtsp/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vuHw,celeborn,1002365424,24,NA,CCweixiao,27730211,weixiao,leojie@apache.org,NA,2021-12-29T02:25:14Z,2021-12-29T02:25:14Z,"> HA 模式下，启动是不需要 rss://master-ip:9097 的。因为配置文件里面已经写了所有的地址。 @CCweixiao

嗯嗯 已经尝试，可以啦","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vuHw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vuaW,celeborn,1002366614,24,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2021-12-29T02:30:42Z,2021-12-29T02:30:42Z,"> Spark作业中呢，地址spark.rss.master.address好像这里也只能配置一个

这里会考虑变成支持配置多个节点的形式，只能配置一个确实存在节点宕机后不能使用的问题。 ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vuaW/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vubd,celeborn,1002366685,24,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2021-12-29T02:31:02Z,2021-12-29T02:31:02Z,">  HA 模式下，启动是不需要 rss://master-ip:9097 的。因为配置文件里面已经写了所有的地址。 @CCweixiao

> 

这里确实可以改进， 开个issue吧 @FMX 


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vubd/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vu1_,celeborn,1002368383,24,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2021-12-29T02:40:09Z,2021-12-29T02:40:09Z,#26 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vu1_/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vv5O,celeborn,1002372686,24,NA,CCweixiao,27730211,weixiao,leojie@apache.org,NA,2021-12-29T03:02:06Z,2021-12-29T03:02:06Z,"> #26

收到 感谢感谢","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47vv5O/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49CT5Y,celeborn,1024015960,24,NA,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,NA,2022-01-28T09:02:59Z,2022-01-28T09:02:59Z,"@CCweixiao hello，我提交了个pr #43 ，初步解决了这个问题，可以试试。

其实，我们最开始的的想法是：
1、引导大家区别配置Ha和non-ha的配置(虽然修复了客户端可以指定rss.master.address多个节点)
2、启动时，尽量使用rss-default.conf来解决问题

例如ha场景下：
     客户端配置：
        spark.rss.ha.master.hosts master1,master2,master3
        spark.rss.master.port 9097
     服务端配置：
         rss.ha.master.hosts master1,master2,master3
        rss.master.port 9097

non-ha场景下：
     客户端配置：
        spark.rss.master.address master:9097
     服务端配置：
         rss.master.address master:9097

这样我们启动master时就不用使用 sh start-master.sh rss://master1:9097[,rss://master2:9097]
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49CT5Y/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49_wuP,celeborn,1040124815,24,NA,CCweixiao,27730211,weixiao,leojie@apache.org,NA,2022-02-15T10:48:01Z,2022-02-15T10:48:01Z,"感谢您的回复

目前我们master的配置就是这样的，
rss.ha.master.hosts master1,master2,master3
spark.rss.master.port 9097
启动master时没有指定master的地址，
只是，客户端之前只能指定一个master的IP和端口","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49_wuP/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/24,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_ReMF,celeborn,1061544709,24,NA,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,NA,2022-03-08T08:52:05Z,2022-03-08T08:52:05Z,"> 感谢您的回复
> 
> 目前我们master的配置就是这样的， rss.ha.master.hosts master1,master2,master3 spark.rss.master.port 9097 启动master时没有指定master的地址， 只是，客户端之前只能指定一个master的IP和端口

不好意思，回复有些迟，之前的服务端配置有些错误，spark.rss.master.port 9097，spark前缀印象中可以去掉。
咱们客户端也可以配置多个host，只是目前只能统一一个port，配置加个spark.前缀就好","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_ReMF/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/26,https://api.github.com/repos/apache/celeborn/issues/26,celeborn,1090230240,26,[FEATURE] RSS client supports multiple master addresses.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-29T02:39:13Z,2022-03-18T08:56:55Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture @wangshengjie123 

/assign @FMX 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/26/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/26,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49vqAu,celeborn,1035903022,26,NA,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,NA,2022-02-11T05:51:53Z,2022-02-11T05:51:53Z,issue resolved by #43 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49vqAu/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/26,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4-nJot,celeborn,1050450477,26,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-02-25T02:17:01Z,2022-02-25T02:17:01Z,Shall we close this one?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4-nJot/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/28,https://api.github.com/repos/apache/celeborn/issues/28,celeborn,1090245734,28,[FEATURE] Multiple version cluster compability.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2021-12-29T03:31:53Z,2022-01-29T14:37:07Z,"### Is your feature request related to a problem? Please describe.
We need different RSS clusters for Spark2 or Spark3. We should be able to run the different clients on a single RSS cluster.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/28/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/29,https://api.github.com/repos/apache/celeborn/issues/29,celeborn,1090309044,29,"[FEATURE] Worker has many indicators, and Prometheus has been connected. Is there any plan to analyze the indicators in detail",CCweixiao,27730211,weixiao,leojie@apache.org,CLOSED,2021-12-29T06:52:52Z,2022-11-01T10:36:16Z,"我们已经采集指标到普罗米修斯，但是面对这么多指标，比较困扰，是否有计划对指标进行较为详细的剖析，我们也好有针对性地关注这些指标的不同表现，然后去优化RSS服务，或进行隐患诊断。

另外 是否有计划提供grafana的监控模版。

非常感谢！

We have collected indicators to Prometheus, but in the face of so many indicators, it is difficult to know whether there is a plan to carry out a detailed analysis of indicators, so that we can focus on the different performance of these indicators, and then optimize RSS service or carry out hidden trouble diagnosis. 
In addition, is there any plan to provide the monitoring template of Grafana? 
Thanks very much!

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/29/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/29,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47wkDi,celeborn,1002586338,29,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2021-12-29T13:08:22Z,2021-12-29T13:08:22Z,我们有计划优化监控模块，增加指标说明和补文档；grafana监控模板这块还没有详细讨论过。关于监控你们有好的想法欢迎讨论和提pr。,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc47wkDi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/29,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYvvK,celeborn,1298332618,29,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:36:16Z,2022-11-01T10:36:16Z,Done and we have provide grafana dashboard.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYvvK/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/32,https://api.github.com/repos/apache/celeborn/issues/32,celeborn,1095094371,32,[BUG] Do not report node failure if PushData fail because shuffle already committed,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-01-06T08:43:52Z,2022-01-07T04:18:56Z,"### What is the bug?
Stage end -> shuffle file committed -> speculation task still push data -> handle pushdata fail -> lifecycle report node failure

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @CCweixiao

/assign @FMX 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/32/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/33,https://api.github.com/repos/apache/celeborn/issues/33,celeborn,1095118249,33,[BUG] metric timer will trigger integer overflow . ,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-01-06T09:16:00Z,2022-01-07T06:23:17Z,"### What is the bug?
RssWorker metric system has a bug that will cause an integer overflow when runs long enough.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

> 22/01/06 10:24:53,820 ERROR [push-server-6-10] TransportRequestHandler: Error while invoking RpcHandler#receive() on PushData PushData{requestId=702699486, mode=1, shuffleKey=application_1640695558204_38730_1-2, partitionUniqueId=151-0, body size=15066}
java.lang.ArrayIndexOutOfBoundsException: -4095
	at com.aliyun.emr.rss.server.common.metrics.ResettableSlidingWindowReservoir.update(ResettableSlidingWindowReservoir.scala:35)
	at com.codahale.metrics.Histogram.update(Histogram.java:39)
	at com.codahale.metrics.Timer.update(Timer.java:164)
	at com.codahale.metrics.Timer.update(Timer.java:86)
	at com.aliyun.emr.rss.server.common.metrics.source.AbstractSource.doStopTimer(AbstractSource.scala:148)
	at com.aliyun.emr.rss.server.common.metrics.source.AbstractSource.stopTimer(AbstractSource.scala:131)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$$anon$7.onSuccess(Worker.scala:587)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.handlePushData(Worker.scala:660)
	at com.aliyun.emr.rss.service.deploy.worker.PushDataRpcHandler.receivePushData(PushDataRpcHandler.java:56)

> 22/01/06 10:25:31,123 WARN [nioEventLoopGroup-11-1] DefaultChannelPipeline: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NegativeArraySizeException
	at com.aliyun.emr.rss.server.common.metrics.ResettableSlidingWindowReservoir.getSnapshot(ResettableSlidingWindowReservoir.scala:40)
	at com.codahale.metrics.Histogram.getSnapshot(Histogram.java:54)
	at com.codahale.metrics.Timer.getSnapshot(Timer.java:159)
	at com.aliyun.emr.rss.server.common.metrics.source.AbstractSource.recordTimer(AbstractSource.scala:251)
	at com.aliyun.emr.rss.server.common.metrics.source.AbstractSource$$anonfun$getMetrics$4.apply(AbstractSource.scala:282)

/cc @waitinfuture 

/assign @FMX 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/33/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/33,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48CDXf,celeborn,1007171039,33,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-01-07T06:23:17Z,2022-01-07T06:23:17Z,I think it`s fixed.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48CDXf/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/36,https://api.github.com/repos/apache/celeborn/issues/36,celeborn,1105426028,36,[Question] Fail to build project ,magicsilence,823374,lithium,magicbohemian@gmail.com,CLOSED,2022-01-17T06:19:38Z,2022-01-18T12:08:06Z,"Get a error when build project as follows 
`
./dev/make-distribution.sh -Pspark-3 -Dspark.version=3.0.1 -Dmaven.test.skip=true
`

error message  :
`
[INFO] Aliyun E-MapReduce Shuffle Service Project Parent POM SUCCESS [  0.344 s]
[INFO] Aliyun E-MapReduce Shuffle Service Common .......... SUCCESS [ 16.039 s]
[INFO] Aliyun E-MapReduce Shuffle Service Java Client ..... SUCCESS [ 14.089 s]
[INFO] Aliyun E-MapReduce Shuffle Service Shuffle Manager for Spark FAILURE [  1.814 s]
[INFO] Aliyun E-MapReduce Shuffle Service Shuffle Manager for Spark SKIPPED
[INFO] Aliyun E-MapReduce Shuffle Service Common .......... SUCCESS [ 13.077 s]
[INFO] Aliyun E-MapReduce Shuffle Service Service Master Module SKIPPED
[INFO] Aliyun E-MapReduce Shuffle Service Service Worker Module SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  32.997 s (Wall Clock)
[INFO] Finished at: 2022-01-17T14:14:59+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project shuffle-manager-common: Could not resolve dependencies for project com.aliyun.emr:shuffle-manager-common:jar:1.0.0: Could not find artifact com.aliyun.emr:client:jar:tests:1.0.0 in  XXXX  -> [Help 1]
[ERROR] 
`


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/36/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/36,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48c72K,celeborn,1014218122,36,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-01-17T07:29:36Z,2022-01-17T07:29:36Z,"Hi @magicsilence , as the doc says currently RSS supports Spark version higher than 3.1.0, I suggest to upgrade your spark version since there have been a lot improvement in Spark3.2.0. If it's hard to upgrade spark version, we will consider whether to support 3.0.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48c72K/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/36,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48ghev,celeborn,1015158703,36,NA,magicsilence,823374,lithium,magicbohemian@gmail.com,NA,2022-01-18T08:04:42Z,2022-01-18T08:04:42Z,"@waitinfuture   
I found it meet error when  the build cmd add ` -Dmaven.test.skip=true` .
Back to normal when remove it.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48ghev/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/36,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48hP4v,celeborn,1015348783,36,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-01-18T12:07:53Z,2022-01-18T12:07:53Z,"> @waitinfuture I found it meet error when the build cmd add ` -Dmaven.test.skip=true` . Back to normal when remove it.

RSS supports spark3.0 now","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48hP4v/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/37,https://api.github.com/repos/apache/celeborn/issues/37,celeborn,1105443816,37,[FEATURE] Support checksum,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-01-17T06:47:54Z,2024-02-07T05:30:39Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/37/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/38,https://api.github.com/repos/apache/celeborn/issues/38,celeborn,1105474998,38,[BUG] Compile error with Spark3.2,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-01-17T07:27:02Z,2022-01-17T07:27:57Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/38/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/40,https://api.github.com/repos/apache/celeborn/issues/40,celeborn,1105658519,40,[FEATURE] Load balance improvements.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-01-17T10:17:33Z,2022-11-01T10:35:21Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/40/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/40,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48sZgj,celeborn,1018271779,40,NA,lichaojacobs,7459785,lichaojacobs,lichaojacobs@tju.edu.cn,NA,2022-01-21T08:05:08Z,2022-01-21T08:05:08Z,Is there any ability that writers can send data to multiple workers dynamically when worker found there exists skewed partitions?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48sZgj/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/40,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5AuQSx,celeborn,1085867185,40,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-04-01T12:58:02Z,2022-04-01T12:58:02Z,"> 

The newest code has overcome this issue by splitting partition files when the file is too large, regardless whether the partition is skew or not. BTW, we support AQE now.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5AuQSx/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/40,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYvgX,celeborn,1298331671,40,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:35:21Z,2022-11-01T10:35:21Z,Done.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYvgX/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/41,https://api.github.com/repos/apache/celeborn/issues/41,celeborn,1106468997,41,[FEATURE] Support Spark3.0 and higher,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-01-18T04:37:47Z,2022-01-19T09:24:23Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/41/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/46,celeborn,1110409338,46,[BUG] NullPointerException for worker on LVM format,kettlelinna,58110598,Gavin Mo,,CLOSED,2022-01-21T12:19:43Z,2022-11-01T08:00:55Z,"### What is the bug?
Throw NullPointerException when I start worker on node which use LVM.
The way I see it, com.aliyun.emr.rss.service.deploy.worker.DeviceInfo#getDeviceAndMountInfos not support LVM format, it can't get correct mount information.

### How to reproduce the bug?
start worker by `$RSS_HOME/sbin/start-worker.sh rss://node01:9097` on node wich use LVM format  

### Could you share logs or screenshots?
![image](https://user-images.githubusercontent.com/58110598/150525792-ab525e9a-e1af-428b-8925-7f4a5e4c5e39.png)

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/46/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48tH4D,celeborn,1018461699,46,NA,kettlelinna,58110598,Gavin Mo,,NA,2022-01-21T12:25:04Z,2022-01-21T12:25:04Z,"Some information of my env maybe help u
![image](https://user-images.githubusercontent.com/58110598/150526614-959cd835-c635-48d5-b6c7-494e3a6add72.png)
![image](https://user-images.githubusercontent.com/58110598/150526672-7a38a586-e7fe-4576-976f-e5f194e506b2.png)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48tH4D/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48tIKK,celeborn,1018462858,46,NA,kettlelinna,58110598,Gavin Mo,,NA,2022-01-21T12:26:45Z,2022-01-21T12:26:45Z,"By the way, when I limit below information, the worker can work
![image](https://user-images.githubusercontent.com/58110598/150526884-4d8c3625-9122-4abb-aad1-437f88e09665.png)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48tIKK/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48v_On,celeborn,1019212711,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-01-22T11:54:50Z,2022-01-22T11:54:50Z,"@kettlelinna  
You can disable disk monitor by setting `rss.device.monitor.enabled=false`.
We'll fix this later.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc48v_On/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXNhC,celeborn,1297930306,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T02:18:52Z,2022-11-01T02:18:52Z,"> rss.devi
@FMX  when I set rss.device.monitor.enabled=false But 
```
22/11/01 10:17:00,788 ERROR [main] DeviceMonitor: Device monitor init failed.
java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:221)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:80)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:994)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Exception in thread ""main"" java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:221)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:80)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:994)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
```
version **0.1.1**
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXNhC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXQBz,celeborn,1297940595,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T02:35:00Z,2022-11-01T02:35:00Z,"@jiangbiao910 Hi, I think you can try the version v0.1.3. The version v0.1.1 is released at july 22.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXQBz/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXSG9,celeborn,1297949117,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T02:49:19Z,2022-11-01T02:49:19Z,"> @jiangbiao910 Hi, I think you can try the version v0.1.3. The version v0.1.1 is released at july 22.
The virtual machine is running properly and the k8s deployment is this error.
thanks ,I will try 0.1.3  immediately
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXSG9/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXS6x,celeborn,1297952433,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T02:55:15Z,2022-11-01T02:55:15Z,"@FMX HI,I mvn code  on windows ，run on centos
/root/helm-celeborn/celeborn-main/docker/rss-0.1.3-bin-release/conf/rss-env.sh: line 2: $'\r': command not found
/root/helm-celeborn/celeborn-main/docker/rss-0.1.3-bin-release/conf/rss-env.sh: line 10: $'\r': command not found
**dos2unix xxx** may can work.
Is there any other way？","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXS6x/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXVh7,celeborn,1297963131,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T03:09:42Z,2022-11-01T03:09:42Z,@jiangbiao910 I think you can use the pre-built release package or packaging it on Linux.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXVh7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXiiV,celeborn,1298016405,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T04:35:11Z,2022-11-01T04:35:11Z,"> @jiangbiao910 I think you can use the pre-built release package or packaging it on Linux.

when I try 0.1.3 on k8s 

```
root@celeborn-worker-0:/opt/celeborn/logs# tail -100f rss--com.aliyun.emr.rss.service.deploy.worker.Worker-1-celeborn-worker-0.out
Using Spark's default log4j profile: log4j-defaults.properties
22/11/01 12:32:29,081 INFO [main] Dispatcher: Dispatcher numThreads: 64
22/11/01 12:32:29,095 DEBUG [main] InternalLoggerFactory: Using SLF4J as the default logging framework
22/11/01 12:32:29,096 DEBUG [main] InternalThreadLocalMap: -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
22/11/01 12:32:29,096 DEBUG [main] InternalThreadLocalMap: -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
22/11/01 12:32:29,103 INFO [main] TransportClientFactory: mode NIO threads 64
22/11/01 12:32:29,105 DEBUG [main] MultithreadEventLoopGroup: -Dio.netty.eventLoopThreads: 2
22/11/01 12:32:29,130 DEBUG [main] PlatformDependent0: -Dio.netty.noUnsafe: false
22/11/01 12:32:29,130 DEBUG [main] PlatformDependent0: Java version: 8
22/11/01 12:32:29,131 DEBUG [main] PlatformDependent0: sun.misc.Unsafe.theUnsafe: available
22/11/01 12:32:29,131 DEBUG [main] PlatformDependent0: sun.misc.Unsafe.copyMemory: available
22/11/01 12:32:29,131 DEBUG [main] PlatformDependent0: sun.misc.Unsafe.storeFence: available
22/11/01 12:32:29,132 DEBUG [main] PlatformDependent0: java.nio.Buffer.address: available
22/11/01 12:32:29,132 DEBUG [main] PlatformDependent0: direct buffer constructor: available
22/11/01 12:32:29,132 DEBUG [main] PlatformDependent0: java.nio.Bits.unaligned: available, true
22/11/01 12:32:29,132 DEBUG [main] PlatformDependent0: jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable prior to Java9
22/11/01 12:32:29,132 DEBUG [main] PlatformDependent0: java.nio.DirectByteBuffer.<init>(long, int): available
22/11/01 12:32:29,132 DEBUG [main] PlatformDependent: sun.misc.Unsafe: available
22/11/01 12:32:29,133 DEBUG [main] PlatformDependent: -Dio.netty.tmpdir: /tmp (java.io.tmpdir)
22/11/01 12:32:29,133 DEBUG [main] PlatformDependent: -Dio.netty.bitMode: 64 (sun.arch.data.model)
22/11/01 12:32:29,134 DEBUG [main] PlatformDependent: -Dio.netty.maxDirectMemory: 1073741824 bytes
22/11/01 12:32:29,134 DEBUG [main] PlatformDependent: -Dio.netty.uninitializedArrayAllocationThreshold: -1
22/11/01 12:32:29,134 DEBUG [main] CleanerJava6: java.nio.ByteBuffer.cleaner(): available
22/11/01 12:32:29,134 DEBUG [main] PlatformDependent: -Dio.netty.noPreferDirect: false
22/11/01 12:32:29,135 DEBUG [main] NioEventLoop: -Dio.netty.noKeySetOptimization: false
22/11/01 12:32:29,135 DEBUG [main] NioEventLoop: -Dio.netty.selectorAutoRebuildThreshold: 512
22/11/01 12:32:29,139 DEBUG [main] PlatformDependent: org.jctools-core.MpscChunkedArrayQueue: available
22/11/01 12:32:29,162 DEBUG [main] ResourceLeakDetector: -Dio.netty.leakDetection.level: simple
22/11/01 12:32:29,162 DEBUG [main] ResourceLeakDetector: -Dio.netty.leakDetection.targetRecords: 4
22/11/01 12:32:29,163 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.numHeapArenas: 2
22/11/01 12:32:29,163 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.numDirectArenas: 2
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.pageSize: 8192
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.maxOrder: 9
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.chunkSize: 4194304
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.smallCacheSize: 256
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.normalCacheSize: 64
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.maxCachedBufferCapacity: 32768
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.cacheTrimInterval: 8192
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.cacheTrimIntervalMillis: 0
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.useCacheForAllThreads: false
22/11/01 12:32:29,164 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
22/11/01 12:32:29,193 DEBUG [main] DefaultChannelId: -Dio.netty.processId: 16 (auto-detected)
22/11/01 12:32:29,194 DEBUG [main] NetUtil: -Djava.net.preferIPv4Stack: false
22/11/01 12:32:29,195 DEBUG [main] NetUtil: -Djava.net.preferIPv6Addresses: false
22/11/01 12:32:29,196 DEBUG [main] NetUtilInitializations: Loopback interface: lo (lo, 127.0.0.1)
22/11/01 12:32:29,196 DEBUG [main] NetUtil: /proc/sys/net/core/somaxconn: 4096
22/11/01 12:32:29,197 DEBUG [main] DefaultChannelId: -Dio.netty.machineId: 4e:98:e4:ff:fe:6d:63:c9 (auto-detected)
22/11/01 12:32:29,206 DEBUG [main] ByteBufUtil: -Dio.netty.allocator.type: pooled
22/11/01 12:32:29,206 DEBUG [main] ByteBufUtil: -Dio.netty.threadLocalDirectBufferSize: 0
22/11/01 12:32:29,206 DEBUG [main] ByteBufUtil: -Dio.netty.maxThreadLocalCharBufferSize: 16384
22/11/01 12:32:29,221 DEBUG [main] TransportServer: Shuffle server started on port: 42007
22/11/01 12:32:29,223 INFO [main] Utils: Successfully started service 'WorkerSys' on port 42007.
22/11/01 12:32:29,332 ERROR [main] DeviceMonitor: Device monitor init failed.
java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:223)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:71)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:380)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Exception in thread ""main"" java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:223)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:71)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:380)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)

```

#rss.device.monitor.enabled false  
rss.device.monitor.enabled false this two setting both error.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXiiV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXuYV,celeborn,1298064917,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T05:59:30Z,2022-11-01T05:59:30Z,"@jiangbiao910 I think you can check your rss configuration file first. If you set rss.device.monitor.enabled = false, the device monitor will not initialize.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXuYV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXv_X,celeborn,1298071511,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T06:08:50Z,2022-11-01T06:08:50Z,"@jiangbiao910 If you have a DingTalk account, you can connect with us by joining the group below.

![IMG_0065](https://user-images.githubusercontent.com/4150993/199169821-754cdefc-71b1-4e18-be51-0c6c61bcd417.JPG)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXv_X/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXyaP,celeborn,1298081423,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T06:23:26Z,2022-11-01T06:23:26Z,"> @jiangbiao910 I think you can check your rss configuration file first. If you set rss.device.monitor.enabled = false, the device monitor will not initialize.
![image](https://user-images.githubusercontent.com/23710717/199171544-ddf7adb3-b4e6-4b95-bd10-1d63394033fb.png)

But  it still error
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXyaP/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXy6a,celeborn,1298083482,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T06:26:54Z,2022-11-01T06:26:54Z,I think you might have misconfigured. Can you share your complete worker log?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXy6a/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXz2g,celeborn,1298087328,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T06:33:03Z,2022-11-01T06:33:03Z,"> I think you might have misconfigured. Can you share your complete worker log?

```
[root@celeborn-worker-0 logs]# tail -100f rss--com.aliyun.emr.rss.service.deploy.worker.Worker-1-celeborn-worker-0.out
Using Spark's default log4j profile: log4j-defaults.properties
22/11/01 13:51:37,075 INFO [main] Dispatcher: Dispatcher numThreads: 64
22/11/01 13:51:37,123 DEBUG [main] InternalLoggerFactory: Using SLF4J as the default logging framework
22/11/01 13:51:37,124 DEBUG [main] InternalThreadLocalMap: -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
22/11/01 13:51:37,124 DEBUG [main] InternalThreadLocalMap: -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
22/11/01 13:51:37,131 INFO [main] TransportClientFactory: mode NIO threads 64
22/11/01 13:51:37,140 DEBUG [main] MultithreadEventLoopGroup: -Dio.netty.eventLoopThreads: 2
22/11/01 13:51:37,183 DEBUG [main] PlatformDependent0: -Dio.netty.noUnsafe: false
22/11/01 13:51:37,183 DEBUG [main] PlatformDependent0: Java version: 8
22/11/01 13:51:37,183 DEBUG [main] PlatformDependent0: sun.misc.Unsafe.theUnsafe: available
22/11/01 13:51:37,183 DEBUG [main] PlatformDependent0: sun.misc.Unsafe.copyMemory: available
22/11/01 13:51:37,184 DEBUG [main] PlatformDependent0: sun.misc.Unsafe.storeFence: available
22/11/01 13:51:37,184 DEBUG [main] PlatformDependent0: java.nio.Buffer.address: available
22/11/01 13:51:37,184 DEBUG [main] PlatformDependent0: direct buffer constructor: available
22/11/01 13:51:37,185 DEBUG [main] PlatformDependent0: java.nio.Bits.unaligned: available, true
22/11/01 13:51:37,185 DEBUG [main] PlatformDependent0: jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable prior to Java9
22/11/01 13:51:37,185 DEBUG [main] PlatformDependent0: java.nio.DirectByteBuffer.<init>(long, int): available
22/11/01 13:51:37,185 DEBUG [main] PlatformDependent: sun.misc.Unsafe: available
22/11/01 13:51:37,185 DEBUG [main] PlatformDependent: -Dio.netty.tmpdir: /tmp (java.io.tmpdir)
22/11/01 13:51:37,185 DEBUG [main] PlatformDependent: -Dio.netty.bitMode: 64 (sun.arch.data.model)
22/11/01 13:51:37,186 DEBUG [main] PlatformDependent: -Dio.netty.maxDirectMemory: 1073741824 bytes
22/11/01 13:51:37,186 DEBUG [main] PlatformDependent: -Dio.netty.uninitializedArrayAllocationThreshold: -1
22/11/01 13:51:37,186 DEBUG [main] CleanerJava6: java.nio.ByteBuffer.cleaner(): available
22/11/01 13:51:37,187 DEBUG [main] PlatformDependent: -Dio.netty.noPreferDirect: false
22/11/01 13:51:37,188 DEBUG [main] NioEventLoop: -Dio.netty.noKeySetOptimization: false
22/11/01 13:51:37,188 DEBUG [main] NioEventLoop: -Dio.netty.selectorAutoRebuildThreshold: 512
22/11/01 13:51:37,191 DEBUG [main] PlatformDependent: org.jctools-core.MpscChunkedArrayQueue: available
22/11/01 13:51:37,204 DEBUG [main] ResourceLeakDetector: -Dio.netty.leakDetection.level: simple
22/11/01 13:51:37,204 DEBUG [main] ResourceLeakDetector: -Dio.netty.leakDetection.targetRecords: 4
22/11/01 13:51:37,206 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.numHeapArenas: 2
22/11/01 13:51:37,206 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.numDirectArenas: 2
22/11/01 13:51:37,206 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.pageSize: 8192
22/11/01 13:51:37,207 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.maxOrder: 9
22/11/01 13:51:37,208 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.chunkSize: 4194304
22/11/01 13:51:37,209 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.smallCacheSize: 256
22/11/01 13:51:37,209 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.normalCacheSize: 64
22/11/01 13:51:37,209 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.maxCachedBufferCapacity: 32768
22/11/01 13:51:37,209 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.cacheTrimInterval: 8192
22/11/01 13:51:37,212 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.cacheTrimIntervalMillis: 0
22/11/01 13:51:37,212 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.useCacheForAllThreads: false
22/11/01 13:51:37,212 DEBUG [main] PooledByteBufAllocator: -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
22/11/01 13:51:37,247 DEBUG [main] DefaultChannelId: -Dio.netty.processId: 17 (auto-detected)
22/11/01 13:51:37,248 DEBUG [main] NetUtil: -Djava.net.preferIPv4Stack: false
22/11/01 13:51:37,249 DEBUG [main] NetUtil: -Djava.net.preferIPv6Addresses: false
22/11/01 13:51:37,250 DEBUG [main] NetUtilInitializations: Loopback interface: lo (lo, 127.0.0.1)
22/11/01 13:51:37,250 DEBUG [main] NetUtil: /proc/sys/net/core/somaxconn: 4096
22/11/01 13:51:37,251 DEBUG [main] DefaultChannelId: -Dio.netty.machineId: 1e:df:df:ff:fe:aa:fd:e2 (auto-detected)
22/11/01 13:51:37,261 DEBUG [main] ByteBufUtil: -Dio.netty.allocator.type: pooled
22/11/01 13:51:37,261 DEBUG [main] ByteBufUtil: -Dio.netty.threadLocalDirectBufferSize: 0
22/11/01 13:51:37,261 DEBUG [main] ByteBufUtil: -Dio.netty.maxThreadLocalCharBufferSize: 16384
22/11/01 13:51:37,282 DEBUG [main] TransportServer: Shuffle server started on port: 41987
22/11/01 13:51:37,288 INFO [main] Utils: Successfully started service 'WorkerSys' on port 41987.
22/11/01 13:51:37,469 ERROR [main] DeviceMonitor: Device monitor init failed.
java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:223)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:71)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:380)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Exception in thread ""main"" java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:223)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:71)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:380)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
command terminated with exit code 137
```
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NXz2g/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NX0vu,celeborn,1298090990,46,NA,bigdata-spec,23710717,,,NA,2022-11-01T06:39:03Z,2022-11-01T06:39:03Z,"```
[root@k8s01 docker]# helm install celeborn-helm helm1 -n rss --dry-run
NAME: celeborn-helm
LAST DEPLOYED: Tue Nov  1 14:37:15 2022
NAMESPACE: rss
STATUS: pending-install
REVISION: 1
TEST SUITE: None
HOOKS:
MANIFEST:
---
# Source: celeborn/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: celeborn-conf
  labels:
    helm.sh/chart: celeborn-0.1.1
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/version: ""1.16.0""
    app.kubernetes.io/managed-by: Helm
data:
  celeborn-defaults.conf: |-
    rss.master.address celeborn-master-0.celeborn-master-svc.rss.svc.cluster.local:9097
    rss.metrics.system.enabled true
    rss.worker.flush.buffer.size 256k
    rss.worker.flush.queue.capacity 4096
    rss.worker.base.dirs /data/datarss1,/data/datarss2
    # If your hosts have disk raid or use lvm, set rss.device.monitor.enabled to false
    rss.device.monitor.enabled false

  rss-env.sh: |
    CELEBORN_MASTER_JAVA_OPTS=""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-master.out -Dio.netty.leakDetectionLevel=advanced""
    CELEBORN_MASTER_MEMORY=""2g""
    CELEBORN_NO_DAEMONIZE=""yes""
    CELEBORN_WORKER_JAVA_OPTS=""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-worker.out -Dio.netty.leakDetectionLevel=advanced""
    CELEBORN_WORKER_MEMORY=""2g""
    CELEBORN_WORKER_OFFHEAP_MEMORY=""12g""
    TZ=""Asia/Shanghai""

  log4j-defaults.properties: |-
    # Set everything to be logged to the console
    log4j.rootCategory=DEBUG, console
    log4j.appender.console=org.apache.log4j.ConsoleAppender
    log4j.appender.console.target=System.err
    log4j.appender.console.layout=org.apache.log4j.PatternLayout
    log4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss,SSS} %p [%t] %c{1}: %m%n


#  metrics.properties: >-
#    *.sink.prometheusServlet.class=org.apache.celeborn.common.metrics.sink.PrometheusServlet
---
# Source: celeborn/templates/master-service.yaml
#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the ""License""); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an ""AS IS"" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

apiVersion: v1
kind: Service
metadata:
  name: celeborn-master-svc
  labels:
    helm.sh/chart: celeborn-0.1.1
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/version: ""1.16.0""
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 9097
      targetPort: 9097
      protocol: TCP
      name: celeborn-master
  clusterIP: None
  selector:
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/name: celeborn-master
    app.kubernetes.io/role: master
---
# Source: celeborn/templates/worker-service.yaml
#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the ""License""); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an ""AS IS"" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

apiVersion: v1
kind: Service
metadata:
  name: celeborn-worker-svc
  labels:
    helm.sh/chart: celeborn-0.1.1
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/version: ""1.16.0""
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  clusterIP: None
  selector:
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/name: celeborn-worker
    app.kubernetes.io/role: worker
---
# Source: celeborn/templates/master-statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: celeborn-master
  labels:
    app.kubernetes.io/name: celeborn-master
    app.kubernetes.io/role: master
    helm.sh/chart: celeborn-0.1.1
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/version: ""1.16.0""
    app.kubernetes.io/managed-by: Helm
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: celeborn-master
      app.kubernetes.io/role: master
      app.kubernetes.io/instance: celeborn-helm
  serviceName: celeborn-master-svc
  replicas: 1
  template:
    metadata:
      labels:
        app.kubernetes.io/name: celeborn-master
        app.kubernetes.io/role: master
        app.kubernetes.io/instance: celeborn-helm
    spec:
      affinity:
        podAntiAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
          - labelSelector:
              matchExpressions:
              - key: app.kubernetes.io/name
                operator: In
                values:
                - celeborn-master
            topologyKey: kubernetes.io/hostname
      containers:
      - name: celeborn
        image: ""remote-shuffle-service:0.1.1-6badd20""
        imagePullPolicy: IfNotPresent
        command:
          - ""/usr/bin/tini""
          - ""--""
          - ""/bin/sh""
          - '-c'
          - ""/opt/rss-0.1.3-bin-release/sbin/start-master.sh && sleep 200""
        resources:
            null
        ports:
          - containerPort: 9097
          - containerPort: 9098
            name: metrics
            protocol: TCP
        volumeMounts:
          - mountPath: /opt/rss-0.1.3-bin-release/conf
            name: celeborn-helm-volume
            readOnly: true
        env:
          - name: CELEBORN_MASTER_JAVA_OPTS
            value: ""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-master.out -Dio.netty.leakDetectionLevel=advanced""
          - name: CELEBORN_MASTER_MEMORY
            value: ""2g""
          - name: CELEBORN_NO_DAEMONIZE
            value: ""yes""
          - name: CELEBORN_WORKER_JAVA_OPTS
            value: ""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-worker.out -Dio.netty.leakDetectionLevel=advanced""
          - name: CELEBORN_WORKER_MEMORY
            value: ""2g""
          - name: CELEBORN_WORKER_OFFHEAP_MEMORY
            value: ""12g""
          - name: TZ
            value: ""Asia/Shanghai""
      terminationGracePeriodSeconds: 30
      volumes:
        - configMap:
            name: celeborn-conf
          name: celeborn-helm-volume
---
# Source: celeborn/templates/worker-statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: celeborn-worker
  labels:
    app.kubernetes.io/name: celeborn-worker
    app.kubernetes.io/role: worker
    helm.sh/chart: celeborn-0.1.1
    app.kubernetes.io/instance: celeborn-helm
    app.kubernetes.io/version: ""1.16.0""
    app.kubernetes.io/managed-by: Helm
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: celeborn-worker
      app.kubernetes.io/role: worker
      app.kubernetes.io/instance: celeborn-helm
  serviceName: celeborn-worker
  replicas: 2
  template:
    metadata:
      labels:
        app.kubernetes.io/name: celeborn-worker
        app.kubernetes.io/role: worker
        app.kubernetes.io/instance: celeborn-helm
    spec:
      affinity:
        podAntiAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
          - labelSelector:
              matchExpressions:
              - key: app.kubernetes.io/name
                operator: In
                values:
                - celeborn-worker
            topologyKey: ""kubernetes.io/hostname""
      containers:
      - name: celeborn
        image: ""remote-shuffle-service:0.1.1-6badd20""
        imagePullPolicy: IfNotPresent
        command:
          - ""/usr/bin/tini""
          - ""--""
          - ""/bin/sh""
          - '-c'
          - ""/opt/rss-0.1.3-bin-release/sbin/start-worker.sh && sleep 200""
        resources:
            null
        ports:
          - containerPort: 9098
            name: metrics
            protocol: TCP
        volumeMounts:
          - mountPath: /opt/rss-0.1.3-bin-release/conf
            name: celeborn-helm-volume
            readOnly: true
          - mountPath: /data/datarss1
            name: vol-0
          - mountPath: /data/datarss2
            name: vol-1
        env:
          - name: CELEBORN_MASTER_JAVA_OPTS
            value: ""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-master.out -Dio.netty.leakDetectionLevel=advanced""
          - name: CELEBORN_MASTER_MEMORY
            value: ""2g""
          - name: CELEBORN_NO_DAEMONIZE
            value: ""yes""
          - name: CELEBORN_WORKER_JAVA_OPTS
            value: ""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-worker.out -Dio.netty.leakDetectionLevel=advanced""
          - name: CELEBORN_WORKER_MEMORY
            value: ""2g""
          - name: CELEBORN_WORKER_OFFHEAP_MEMORY
            value: ""12g""
          - name: TZ
            value: ""Asia/Shanghai""
      terminationGracePeriodSeconds: 30
      volumes:
        - configMap:
            name: celeborn-conf
          name: celeborn-helm-volume
        - hostPath:
            path: /data/datarss1/worker
            type: DirectoryOrCreate
          name: vol-0
        - hostPath:
            path: /data/datarss2/worker
            type: DirectoryOrCreate
          name: vol-1

NOTES:
#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the ""License""); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an ""AS IS"" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

Celeborn
[root@k8s01 docker]#

```","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NX0vu/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/46,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NX3vQ,celeborn,1298103248,46,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T06:58:19Z,2022-11-01T06:58:19Z,"@jiangbiao910  If you want to use the helm, checkout the main branch commit hash(7a858bd7). The helm is configured with the branch 0.1.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NX3vQ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/50,https://api.github.com/repos/apache/celeborn/issues/50,celeborn,1117051927,50,[BUG] Filechannel close takes a long time.,packageman,12949466,Byron Zhang,,CLOSED,2022-01-28T06:34:46Z,2022-03-18T09:22:50Z,"### What is the bug?
When committing files, channel.close() sometimes takes a long time.

### How to reproduce the bug?

- shuffle write data size: 14.5G
- shuffle partition num: 200

![image](https://user-images.githubusercontent.com/12949466/151497792-8f117f93-f496-4afd-9f9d-61171933e118.png)

sparkProperties:

```
spark.executor.instances: 5
spark.kubernetes.executor.request.cores: 6
spark.executor.memory: 30g
spark.shuffle.manager: org.apache.spark.shuffle.rss.RssShuffleManager
spark.rss.master.address: 192.168.x.xx:9097
spark.shuffle.service.enabled: false
spark.rss.push.data.replicate: false
spark.sql.adaptive.enabled: false
spark.sql.adaptive.localShuffleReader.enabled: false
spark.sql.adaptive.skewJoin.enabled: false
```

rss-defaults.conf

```
rss.master.address 192.168.5.19:9097
rss.metrics.system.enable true
rss.remove.shuffle.delay 300s
rss.worker.flush.buffer.size 256k
rss.worker.flush.queue.capacity 512
rss.worker.base.dirs /mnt/disk1
```

ECS as virtual macheine:

16c64g(ecs.g7.4xlarge) x 3 workers, each worker has ESSD 100G PL1 disk.

### Could you share logs or screenshots?

The first read took 28s because it was waiting for the completion of the previous stage commit file, and the subsequent shuffle read took a short time (within 0.1s), and the commit file was slow because it was slow when executing [`channel.close()`](https://github.com/alibaba/RemoteShuffleService/blob/main/server-worker/src/main/java/com/aliyun/emr/rss/service/deploy/worker/FileWriter.java#L229).

![image](https://user-images.githubusercontent.com/12949466/151498308-0f5d9a74-e282-4bea-9b20-8e8da6c05ebc.png)

When I changed [`FileChannel.write()`](https://github.com/alibaba/RemoteShuffleService/blob/main/server-worker/src/main/scala/com/aliyun/emr/rss/service/deploy/worker/LocalStorageManager.scala#L75) to `DataOutputStream.write()`, the above problem disappeared.

![image](https://user-images.githubusercontent.com/12949466/151498504-2bcaa887-1b51-4c3c-86f3-7e4490754fdf.png)

Note: I added `channel.force()` methoed before `channel.close()` and found that the time-consuming is mainly caused by `channel.force()`.

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/50/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/50,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49CJ9e,celeborn,1023975262,50,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-01-28T08:04:34Z,2022-01-28T08:04:34Z,"Hi, can you share your disk metrics like disk bandwidth or ""%iowait"" data?
I think this means you need more disks, can you try to add more disks to ""rss.worker.base.dirs"" ? 
@packageman ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49CJ9e/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/50,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49iLj1,celeborn,1032370421,50,NA,packageman,12949466,Byron Zhang,,NA,2022-02-08T09:04:09Z,2022-02-08T09:04:09Z,"The IO metrics command I am using is `iostat -x 2`

- IO metrics when writing files using FileChannel(ESSD 100G PL1 disk):
    
    ![image](https://user-images.githubusercontent.com/12949466/152946820-500e717b-531f-4c38-8fbd-b9799813d4f1.png)

- IO metrics when writing files using DataOutputStream(ESSD 100G PL1 disk):

    ![image](https://user-images.githubusercontent.com/12949466/152947418-c961f7ad-08a8-4ca7-9f48-96c322bc1960.png)

When using FileChannel, `%iowait` is almost 100%, and when using DataOutputStream, only 32% max, and it takes less time to complete the writing of DataOutputStream.

I upgraded the disk to ESSD 500G PL2 and re-tested the FileChannel, and the IO metrics are as follows:

![image](https://user-images.githubusercontent.com/12949466/152951036-3a532bee-c257-419c-b56c-4d75d3497a08.png)

`%iowait` has dropped to about %20, `w/s` and `wKB/s` have been improved, and the writing time has been shortened a lot.

Through the above tests, it is found that the writing speed can be improved by improving disk performance or changing FileChannel to DataOutputStream(which may bring additional CPU and memory overhead for data copying).","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc49iLj1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/50,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_aEHQ,celeborn,1063797200,50,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-10T08:32:50Z,2022-03-10T08:32:50Z,"Thanks for your concentration. You are always welcome to discuss your idea here.

I think you might misunderstand the meaning of %iowait.
IOWait (usually labeled %wa in top) is a sub-category of idle (%idle is usually expressed as all idle except defined subcategories), meaning the CPU is not doing anything. Therefore, as long as there is another process that the CPU could be processing, it will do so. Additionally, idle, user, system, iowait, etc are measurements for the CPU. In other words, you can think of iowait as the idle caused by waiting for io.
So high iowait value means efficient CPU usage and, higher disk performance means lower iowait.

FileChannel vs DataOutputStream, there is some existing reference.
http://web.archive.org/web/20120815094827/http://geekomatic.ch/2008/09.html
http://web.archive.org/web/20120815094827/http://geekomatic.ch/2008/09.html
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_aEHQ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/52,https://api.github.com/repos/apache/celeborn/issues/52,celeborn,1127123113,52,"[BUG] Reserve slots takes long time, cause executor register shuffle timeout",wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,CLOSED,2022-02-08T11:20:27Z,2022-11-01T10:37:56Z,"### What is the bug?
Current logic, we reserve slots in serial, if cluster have hundreds and thousands workers, the action will take long time, it will cause register shuffle timeout.

### How to reproduce the bug?
large cluster and shot rpc timeout

### Could you share logs or screenshots?
![image](https://user-images.githubusercontent.com/45991044/152976561-e4aa7cb0-59e4-4f98-83fc-80df579b8151.png)

`2022-02-08,17:33:10,318 INFO com.aliyun.emr.ess.common.meta.EssMetaSystem: OfferSlots for application_1642533366533_495641_1-16 Success!

2022-02-08,17:41:12,963 INFO com.aliyun.emr.ess.common.meta.EssMetaSystem: Destroyed peer partitions for reserve buffer failed workers application_1642533366533_495641_1-16, {

2022-02-08,17:41:13,169 INFO com.aliyun.emr.ess.common.meta.EssMetaSystem: Reserve buffer success for application_1642533366533_495641_1-16

2022-02-08,17:41:13,169 INFO com.aliyun.emr.ess.common.meta.EssMetaSystem: ReserveBuffer for application_1642533366533_495641_1-16 success!
`

/cc @FMX @TonyDoen 

/assign @wangshengjie123 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/52/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/53,https://api.github.com/repos/apache/celeborn/issues/53,celeborn,1138262267,53,[FEATURE] Remove the dependency on active shuffle for dynamic allocation for spark 3,packageman,12949466,Byron Zhang,,CLOSED,2022-02-15T06:51:57Z,2022-06-23T07:16:35Z,"### Is your feature request related to a problem? Please describe.
Only enabling shuffle tracking for spark 3 to support dynamic allocation will cause the executor to shut down late while waiting for the active shuffle to be consumed. Because the shuffle data is stored in the remote shuffle service, this wait is unnecessary.
 

### Describe the solution you'd like
Add a spark patch like spark 2.x to support dynamic allocation.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/53/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/53,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4-XvRi,celeborn,1046410338,53,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-02-21T02:25:50Z,2022-02-21T02:25:50Z,This feature will need a little time.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4-XvRi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/55,https://api.github.com/repos/apache/celeborn/issues/55,celeborn,1138290825,55,[BUG] Worker cannot send hearbeat to Master successfully,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,CLOSED,2022-02-15T07:26:15Z,2022-02-15T09:47:58Z,"### What is the bug?
Worker send hearbeat to master, but the rpc message is illegal

### How to reproduce the bug?
Set up rss cluster using current code

### Could you share logs or screenshots?
![image](https://user-images.githubusercontent.com/45991044/154034675-65f8ba6b-b735-4f38-9eb1-3ab78bc472a2.png)

/cc @FMX @TonyDoen 

/assign @wangshengjie123 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/55/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/58,https://api.github.com/repos/apache/celeborn/issues/58,celeborn,1139511959,58,[BUG] LifecycleManager.handleGetBlacklist NPE,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-02-16T04:15:34Z,2022-02-16T04:18:07Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/58/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/60,https://api.github.com/repos/apache/celeborn/issues/60,celeborn,1139856749,60,[BUG] Getblacklist will cause NPE on LifecycleManager.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-02-16T10:57:03Z,2022-02-16T11:11:43Z,"### What is the bug?
<img width=""1437"" alt=""截屏2022-02-16 17 37 32"" src=""https://user-images.githubusercontent.com/4150993/154250400-d5633e37-32cb-4aaa-9881-8b864ea225a0.png"">


### How to reproduce the bug?
The latest code can reproduce this bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @waitinfuture 

/assign @FMX 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/60/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/63,https://api.github.com/repos/apache/celeborn/issues/63,celeborn,1158051048,63,[BUG] Master HttpServlet  `workInfo` but,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-03-03T07:09:42Z,2022-03-07T01:53:19Z,"### What is the bug?
```
22/03/03 15:06:34,901 WARN [nioEventLoopGroup-6-1] DefaultChannelPipeline: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.ClassCastException: scala.collection.immutable.$colon$colon cannot be cast to java.util.List
	at com.aliyun.emr.rss.service.deploy.master.Master.$anonfun$getWorkerInfos$1(Master.scala:464)
	at scala.collection.Iterator.foreach(Iterator.scala:943)
	at scala.collection.Iterator.foreach$(Iterator.scala:943)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)
	at scala.collection.IterableLike.foreach(IterableLike.scala:74)
	at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
	at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
	at com.aliyun.emr.rss.service.deploy.master.Master.getWorkerInfos(Master.scala:460)
	at com.aliyun.emr.rss.service.deploy.master.http.HttpRequestHandler.handleRequest(HttpRequestHandler.scala:66)
	at com.aliyun.emr.rss.service.deploy.master.http.HttpRequestHandler.channelRead0(HttpRequestHandler.scala:43)
	at com.aliyun.emr.rss.service.deploy.master.http.HttpRequestHandler.channelRead0(HttpRequestHandler.scala:31)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:138)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
```

### How to reproduce the bug?
 curl -get http://host:{rss.master.prometheus.metric.port}/workerInfo  
### Could you share logs or screenshots?
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/63/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/63,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_L_42,celeborn,1060109878,63,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-07T01:53:18Z,2022-03-07T01:53:18Z,Thanks.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_L_42/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/66,https://api.github.com/repos/apache/celeborn/issues/66,celeborn,1159355317,66,[Feature] Support k8s.,fishcus,13731531,Feng Zhu,,CLOSED,2022-03-04T07:59:56Z,2022-08-10T08:00:44Z,Any plans to support run on K8s？,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/66/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/66,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_MBrE,celeborn,1060117188,66,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-07T02:09:04Z,2022-03-07T02:09:04Z,RSS can run on K8S now if you write your own K8S pods attached with storage.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_MBrE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/66,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_MMuo,celeborn,1060162472,66,NA,fishcus,13731531,Feng Zhu,,NA,2022-03-07T03:55:01Z,2022-03-07T03:55:01Z,"> RSS can run on K8S now if you write your own K8S pods attached with storage.
yeah,  it works with some extra work, and what i really want to know is when will you release an official version ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_MMuo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/66,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_RWtM,celeborn,1061514060,66,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-08T08:12:03Z,2022-03-08T08:12:03Z,"@fishcus 
We had a plan to support the K8s operator. The official K8s support will be announced this autumn or earlier. So you'll have to wait a couple of months.
You are welcome to contribute this feature if you want. ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_RWtM/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/68,https://api.github.com/repos/apache/celeborn/issues/68,celeborn,1162687381,68,[BUG] duplicated tcp_nodelay flag,lichaojacobs,7459785,lichaojacobs,lichaojacobs@tju.edu.cn,CLOSED,2022-03-08T13:55:09Z,2022-03-10T07:56:26Z,"### What is the bug?
there is duplicated tcp_nodelay flag set by sever side
![image](https://user-images.githubusercontent.com/7459785/157251686-3d2e6b19-f0c8-48f3-a5b8-086dfbae130f.png)


### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/68/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/68,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_Z7oK,celeborn,1063762442,68,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-10T07:56:26Z,2022-03-10T07:56:26Z,Thanks. Merged.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_Z7oK/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/70,https://api.github.com/repos/apache/celeborn/issues/70,celeborn,1164879433,70,[FEATURE] Rss shuffle reader choose proper replica to read.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-03-10T07:58:36Z,2024-02-07T05:30:03Z,"### Is your feature request related to a problem? Please describe.
If a disk went wrong, the RSS worker read can take a lot of time. 

### Describe the solution you'd like
We can optimize the RSS Shuffle reader to pick the faster replica if data replication is active.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture @wangshengjie123 

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/70/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/71,https://api.github.com/repos/apache/celeborn/issues/71,celeborn,1164966776,71,[FEATURE] Optimize shuffle file split,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-03-10T09:25:29Z,2022-04-01T11:18:25Z,"### Is your feature request related to a problem? Please describe.


### Describe the solution you'd like


### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture @wangshengjie123 @TonyDoen 

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/71/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/73,https://api.github.com/repos/apache/celeborn/issues/73,celeborn,1166296802,73,[FEATURE] Add rest api to isolate disk.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-03-11T11:16:11Z,2024-02-07T05:30:18Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture @wangshengjie123 

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/73/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/74,https://api.github.com/repos/apache/celeborn/issues/74,celeborn,1169799686,74,[FEATURE] Support DFS as the shuffle data storage,Gustfh,4916765,Gus Nie,,CLOSED,2022-03-15T15:05:20Z,2022-11-01T10:36:57Z,"Add support DFS for the shuffle data storage, such as HDFS, Alluxio. so rss will not care about the disk healthy, the replication. and  also the DFS could take the pressure of shuffle read. 


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/74/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/74,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_xcuh,celeborn,1069927329,74,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-17T02:36:22Z,2022-03-17T02:36:22Z,"@Gustfh  Hi, thanks for your advice.
We had supported HDFS before and found that performance on HDFS is unacceptable.
We are working on supporting AliLFS now.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_xcuh/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/74,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_yifw,celeborn,1070213104,74,NA,Gustfh,4916765,Gus Nie,,NA,2022-03-17T03:31:21Z,2022-03-17T03:31:21Z,"i think we should open an abstract for dfs storage or compose storage, so other people could implement different storage as their requirement. ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_yifw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/74,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_6N1h,celeborn,1072225633,74,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-18T09:21:54Z,2022-03-18T09:21:54Z,"OK, I think you are right. Let me propose a draft. ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc4_6N1h/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/74,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYv54,celeborn,1298333304,74,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:36:56Z,2022-11-01T10:36:56Z,Check #146  and I'll close this pr.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYv54/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/76,https://api.github.com/repos/apache/celeborn/issues/76,celeborn,1171889398,76,[FEATURE] Optimize shuffle file sort.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-03-17T03:31:52Z,2022-03-22T02:46:07Z,"### Is your feature request related to a problem? Please describe.


### Describe the solution you'd like
1. Use java off-heap.
2. Support zero-copy.

### Describe alternatives you've considered


/cc @waitinfuture @wangshengjie123 

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/76/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/76,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ADiF4,celeborn,1074667896,76,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-03-22T02:46:04Z,2022-03-22T02:46:04Z,#67 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ADiF4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/78,https://api.github.com/repos/apache/celeborn/issues/78,celeborn,1176192242,78,[FEATURE] Add metrics about shuffle fetch send data time.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-03-22T02:42:56Z,2022-11-01T11:09:50Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture  @wangshengjie123 

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/78/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/78,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Awz_V,celeborn,1086537685,78,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-04-02T03:51:16Z,2022-04-02T03:51:16Z,#85 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Awz_V/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/80,https://api.github.com/repos/apache/celeborn/issues/80,celeborn,1184448147,80,[BUG] WorkRefer can be null cause throw NPE,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-03-29T07:43:19Z,2022-03-30T02:32:32Z,"### What is the bug?

Worker in blacklist and WorkerRef is null
```
22/03/29 15:01:46 WARN LifecycleManager: [reserve buffer] failed due to blacklist:
Host: xxx.xxx.xxx.xx
RpcPort: 45149
PushPort: 46795
FetchPort: 38947
TotalSlots: -1
SlotsUsed: 0
SlotsAvailable: -1
LastHeartBeat: 0
WorkerRef: null

```

Cause task throw NPE when reserveSlot 
```

22/03/29 15:01:46 ERROR Inbox: Ignoring error
java.lang.NullPointerException
	at com.aliyun.emr.rss.client.write.LifecycleManager.$anonfun$reserveSlotsWithRetry$2(LifecycleManager.scala:803)
	at com.aliyun.emr.rss.client.write.LifecycleManager.$anonfun$reserveSlotsWithRetry$2$adapted(LifecycleManager.scala:787)
	at scala.collection.Iterator.foreach(Iterator.scala:943)
	at scala.collection.Iterator.foreach$(Iterator.scala:943)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)
	at scala.collection.IterableLike.foreach(IterableLike.scala:74)
	at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
	at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
	at com.aliyun.emr.rss.client.write.LifecycleManager.reserveSlotsWithRetry(LifecycleManager.scala:787)
	at com.aliyun.emr.rss.client.write.LifecycleManager.handleRegisterShuffle(LifecycleManager.scala:287)
	at com.aliyun.emr.rss.client.write.LifecycleManager$$anonfun$receiveAndReply$1.applyOrElse(LifecycleManager.scala:180)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
	at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


```

### How to reproduce the bug?
Close and restart a worker when  running application

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/80/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/80,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5AdwrI,celeborn,1081543368,80,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-03-29T07:51:00Z,2022-03-29T07:51:00Z,Raise a pr soon,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5AdwrI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/80,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Ahn0t,celeborn,1082555693,80,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-03-30T02:32:29Z,2022-03-30T02:32:29Z,Resolved in #81 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Ahn0t/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/82,https://api.github.com/repos/apache/celeborn/issues/82,celeborn,1185779049,82,[BUG] Register shuffle with configurable retry times and retry wait time,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-03-30T02:33:12Z,2022-04-11T09:04:58Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/82/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/84,https://api.github.com/repos/apache/celeborn/issues/84,celeborn,1185820210,84,[FEATURE] Stage Re-Run when data lost,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-03-30T03:34:42Z,2022-04-01T12:55:20Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/84/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/86,https://api.github.com/repos/apache/celeborn/issues/86,celeborn,1190576654,86,[FEATURE] update netty version .,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-04-02T09:27:42Z,2022-11-01T10:38:18Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture 

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/86/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/86,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYwOd,celeborn,1298334621,86,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:38:18Z,2022-11-01T10:38:18Z,done.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYwOd/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/87,https://api.github.com/repos/apache/celeborn/issues/87,celeborn,1190795395,87,[FEATURE] Client buffer 64k compressed data before push,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-04-03T02:26:14Z,2024-02-07T05:35:14Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/assign @FMX 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/87/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/92,https://api.github.com/repos/apache/celeborn/issues/92,celeborn,1197828863,92,[BUG] Offer Slot Issue,kettlelinna,58110598,Gavin Mo,,CLOSED,2022-04-08T21:04:33Z,2022-04-24T03:02:50Z,"### What is the bug?
master log appear Offer slots for 1 reducer of application, and I review the code found it seems worker not normal,
but I can't get log from woker log file

### How to reproduce the bug?
I am not sure how to trigger it
this is my conf
for rss-default.conf
rss.master.address 192.168.xx.xx:9097
rss.metrics.system.enable true
rss.remove.shuffle.delay 300s
rss.worker.flush.buffer.size 256k
rss.worker.flush.queue.capacity 512
rss.worker.base.dirs /tmp/clm/rss

for client:
spark.shuffle.manager org.apache.spark.shuffle.rss.RssShuffleManager
spark.serializer org.apache.spark.serializer.KryoSerializer
spark.rss.master.address rss-master-host:9097
spark.shuffle.service.enabled false
spark.rss.shuffle.writer.mode hash
spark.rss.push.data.replicate true
spark.sql.adaptive.localShuffleReader.enabled false
spark.sql.adaptive.enabled true
spark.sql.adaptive.skewJoin.enabled true 

btw, when I setup spark.rss.push.data.replicate=false
it can run and just need few mins to be finish but the result is 0 

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.
![693023cf710f5bd37510a9d32df80be](https://user-images.githubusercontent.com/58110598/162528946-e616b09f-6799-46dc-b119-e5c2278adcb0.jpg)

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/92/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/92,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5BWidY,celeborn,1096427352,92,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-04-12T09:18:05Z,2022-04-12T09:18:05Z,"@kettlelinna Hi, thanks for your reply.
Can you share your spark version and RSS commit hash?
And how many RSS workers do you have?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5BWidY/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/92,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Bt7SQ,celeborn,1102558352,92,NA,kettlelinna,58110598,Gavin Mo,,NA,2022-04-19T12:05:39Z,2022-04-19T12:05:39Z,"Hi @FMX, 
the spark version is 3.1.1
the commit hash is `2ea136f`
only one works and one master for RSS now","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Bt7SQ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/92,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5CBhBb,celeborn,1107693659,92,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-04-24T03:01:30Z,2022-04-24T03:01:30Z,"@kettlelinna If you have only one worker. 
You should set spark.rss.push.data.replicate to false.
Replication will require at least two workers.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5CBhBb/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/93,https://api.github.com/repos/apache/celeborn/issues/93,celeborn,1199088141,93,[QUESTION] worker数据目录对磁盘有什么要求么？,fuhaiq,5200755,,fuhaiq@gmail.com,CLOSED,2022-04-10T16:16:10Z,2022-05-11T04:35:43Z,"我在公司虚拟机上启动worker时报错如下：
```
[11:57:43.240] INFO  com.aliyun.emr.rss.common.internal.Logging 54 logInfo - Dispatcher numThreads: 64
[11:57:43.274] DEBUG io.netty.util.internal.logging.InternalLoggerFactory 63 useSlf4JLoggerFactory - Using SLF4J as the default logging framework
[11:57:43.279] DEBUG io.netty.util.internal.InternalThreadLocalMap 86 <clinit> - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[11:57:43.279] DEBUG io.netty.util.internal.InternalThreadLocalMap 89 <clinit> - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[11:57:43.286] INFO  com.aliyun.emr.rss.common.network.client.TransportClientFactory 98 <init> - mode NIO threads 64
[11:57:43.291] DEBUG io.netty.channel.MultithreadEventLoopGroup 44 <clinit> - -Dio.netty.eventLoopThreads: 24
[11:57:43.375] DEBUG io.netty.util.internal.PlatformDependent0 460 explicitNoUnsafeCause0 - -Dio.netty.noUnsafe: false
[11:57:43.376] DEBUG io.netty.util.internal.PlatformDependent0 954 javaVersion0 - Java version: 8
[11:57:43.377] DEBUG io.netty.util.internal.PlatformDependent0 135 <clinit> - sun.misc.Unsafe.theUnsafe: available
[11:57:43.377] DEBUG io.netty.util.internal.PlatformDependent0 159 <clinit> - sun.misc.Unsafe.copyMemory: available
[11:57:43.378] DEBUG io.netty.util.internal.PlatformDependent0 202 <clinit> - java.nio.Buffer.address: available
[11:57:43.379] DEBUG io.netty.util.internal.PlatformDependent0 272 <clinit> - direct buffer constructor: available
[11:57:43.379] DEBUG io.netty.util.internal.PlatformDependent0 350 <clinit> - java.nio.Bits.unaligned: available, true
[11:57:43.380] DEBUG io.netty.util.internal.PlatformDependent0 424 <clinit> - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable prior to Java9
[11:57:43.380] DEBUG io.netty.util.internal.PlatformDependent0 446 <clinit> - java.nio.DirectByteBuffer.<init>(long, int): available
[11:57:43.380] DEBUG io.netty.util.internal.PlatformDependent 1116 unsafeUnavailabilityCause0 - sun.misc.Unsafe: available
[11:57:43.381] DEBUG io.netty.util.internal.PlatformDependent 1237 tmpdir0 - -Dio.netty.tmpdir: /tmp (java.io.tmpdir)
[11:57:43.381] DEBUG io.netty.util.internal.PlatformDependent 1316 bitMode0 - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[11:57:43.382] DEBUG io.netty.util.internal.PlatformDependent 178 <clinit> - -Dio.netty.maxDirectMemory: 4294967296 bytes
[11:57:43.382] DEBUG io.netty.util.internal.PlatformDependent 185 <clinit> - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[11:57:43.384] DEBUG io.netty.util.internal.CleanerJava6 92 <clinit> - java.nio.ByteBuffer.cleaner(): available
[11:57:43.384] DEBUG io.netty.util.internal.PlatformDependent 205 <clinit> - -Dio.netty.noPreferDirect: false
[11:57:43.385] DEBUG io.netty.channel.nio.NioEventLoop 109 <clinit> - -Dio.netty.noKeySetOptimization: false
[11:57:43.386] DEBUG io.netty.channel.nio.NioEventLoop 110 <clinit> - -Dio.netty.selectorAutoRebuildThreshold: 512
[11:57:43.393] DEBUG io.netty.util.internal.PlatformDependent$Mpsc 967 <clinit> - org.jctools-core.MpscChunkedArrayQueue: available
[11:57:43.418] DEBUG io.netty.util.ResourceLeakDetector 129 <clinit> - -Dio.netty.leakDetection.level: simple
[11:57:43.418] DEBUG io.netty.util.ResourceLeakDetector 130 <clinit> - -Dio.netty.leakDetection.targetRecords: 4
[11:57:43.422] DEBUG io.netty.buffer.PooledByteBufAllocator 155 <clinit> - -Dio.netty.allocator.numHeapArenas: 18
[11:57:43.423] DEBUG io.netty.buffer.PooledByteBufAllocator 156 <clinit> - -Dio.netty.allocator.numDirectArenas: 24
[11:57:43.423] DEBUG io.netty.buffer.PooledByteBufAllocator 158 <clinit> - -Dio.netty.allocator.pageSize: 8192
[11:57:43.423] DEBUG io.netty.buffer.PooledByteBufAllocator 163 <clinit> - -Dio.netty.allocator.maxOrder: 11
[11:57:43.423] DEBUG io.netty.buffer.PooledByteBufAllocator 167 <clinit> - -Dio.netty.allocator.chunkSize: 16777216
[11:57:43.423] DEBUG io.netty.buffer.PooledByteBufAllocator 168 <clinit> - -Dio.netty.allocator.smallCacheSize: 256
[11:57:43.423] DEBUG io.netty.buffer.PooledByteBufAllocator 169 <clinit> - -Dio.netty.allocator.normalCacheSize: 64
[11:57:43.424] DEBUG io.netty.buffer.PooledByteBufAllocator 170 <clinit> - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[11:57:43.424] DEBUG io.netty.buffer.PooledByteBufAllocator 171 <clinit> - -Dio.netty.allocator.cacheTrimInterval: 8192
[11:57:43.424] DEBUG io.netty.buffer.PooledByteBufAllocator 172 <clinit> - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[11:57:43.424] DEBUG io.netty.buffer.PooledByteBufAllocator 173 <clinit> - -Dio.netty.allocator.useCacheForAllThreads: true
[11:57:43.424] DEBUG io.netty.buffer.PooledByteBufAllocator 174 <clinit> - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[11:57:43.469] DEBUG io.netty.channel.DefaultChannelId 79 <clinit> - -Dio.netty.processId: 1071549 (auto-detected)
[11:57:43.471] DEBUG io.netty.util.NetUtil 135 <clinit> - -Djava.net.preferIPv4Stack: false
[11:57:43.471] DEBUG io.netty.util.NetUtil 136 <clinit> - -Djava.net.preferIPv6Addresses: false
[11:57:43.474] DEBUG io.netty.util.NetUtilInitializations 129 determineLoopback - Loopback interface: lo (lo, 0:0:0:0:0:0:0:1%lo)
[11:57:43.475] DEBUG io.netty.util.NetUtil$1 169 run - /proc/sys/net/core/somaxconn: 128
[11:57:43.476] DEBUG io.netty.channel.DefaultChannelId 101 <clinit> - -Dio.netty.machineId: 02:93:a0:ff:fe:cb:76:96 (auto-detected)
[11:57:43.500] DEBUG io.netty.buffer.ByteBufUtil 87 <clinit> - -Dio.netty.allocator.type: pooled
[11:57:43.500] DEBUG io.netty.buffer.ByteBufUtil 96 <clinit> - -Dio.netty.threadLocalDirectBufferSize: 0
[11:57:43.500] DEBUG io.netty.buffer.ByteBufUtil 99 <clinit> - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[11:57:43.513] DEBUG com.aliyun.emr.rss.common.network.server.TransportServer 154 init - Shuffle server started on port: 46046
[11:57:43.518] INFO  com.aliyun.emr.rss.common.internal.Logging 54 logInfo - Successfully started service 'WorkerSys' on port 46046.
[11:57:43.535] INFO  com.aliyun.emr.rss.common.network.server.MemoryTracker 101 <init> - Memory tracker initialized with :  
 max direct memory : 4294967296 (4096.0 MB)
 direct memory critical : 3865470566 (3686.3999996185303 MB)
[11:57:43.603] ERROR com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$ 274 createDeviceMonitor - Device monitor init failed. java.lang.NullPointerException: null
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123) ~[worker-1.0.0-shaded.jar:?]
        at scala.collection.Iterator.foreach(Iterator.scala:941) ~[worker-1.0.0-shaded.jar:?]
        at scala.collection.Iterator.foreach$(Iterator.scala:941) ~[worker-1.0.0-shaded.jar:?]
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429) ~[worker-1.0.0-shaded.jar:?]
        at scala.collection.IterableLike.foreach(IterableLike.scala:74) ~[worker-1.0.0-shaded.jar:?]
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73) ~[worker-1.0.0-shaded.jar:?]
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56) ~[worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120) ~[worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174) ~[worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266) [worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:199) [worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:74) [worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:960) [worker-1.0.0-shaded.jar:?]
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala) [worker-1.0.0-shaded.jar:?]

Exception in thread ""main"" java.lang.NullPointerException
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.$anonfun$getDeviceAndMountInfos$4(DeviceInfo.scala:123)
        at scala.collection.Iterator.foreach(Iterator.scala:941)
        at scala.collection.Iterator.foreach$(Iterator.scala:941)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceInfo$.getDeviceAndMountInfos(DeviceInfo.scala:120)
        at com.aliyun.emr.rss.service.deploy.worker.LocalDeviceMonitor.init(DeviceMonitor.scala:174)
        at com.aliyun.emr.rss.service.deploy.worker.DeviceMonitor$.createDeviceMonitor(DeviceMonitor.scala:266)
        at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.<init>(LocalStorageManager.scala:199)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.<init>(Worker.scala:74)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:960)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
```
尝试了很多目录（rss.worker.base.dirs），包括/dev/shm，获取设备信息报错。但是在阿里云ECS上没有问题，感觉是公司虚拟机磁盘的问题，有简单的检测办法么？

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/93/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/93,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5BWhG6,celeborn,1096421818,93,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-04-12T09:14:10Z,2022-04-12T09:14:10Z," @fuhaiq  你好，RSS 会使用 rss.worker.base.dirs 配置的目录作为base，默认会加上 16 个子目录。
这里会检查磁盘状态，通过 /sys/block/ 目录下同名的 device Name 检查。
对于非标准环境来说，你可以考虑先配置 rss.device.monitor.enabled 为 false。

详情参见 DeviceInfo 类中的代码，可能是这里不支持你的虚拟机磁盘配置。

同时你可以考虑把 df 命令的结果贴上来。","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5BWhG6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/94,https://api.github.com/repos/apache/celeborn/issues/94,celeborn,1204281196,94,[FEATURE] change logger from console to file,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-04-14T09:30:28Z,2024-02-07T05:33:27Z,"### Is your feature request related to a problem? Please describe.
https://log4j-dev.logging.apache.narkive.com/Nv7N2v1F/do-not-reply-bug-50614-new-lock-in-callappenders-causing-all-thread-to-wait-forever

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture @wangshengjie123 

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/94/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/97,https://api.github.com/repos/apache/celeborn/issues/97,celeborn,1206625303,97,"[FEATURE] shade guava, netty packages .",FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-04-18T03:49:47Z,2022-04-18T09:16:55Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @waitinfuture @wangshengjie123 

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/97/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/99,https://api.github.com/repos/apache/celeborn/issues/99,celeborn,1207815210,99,[FEATURE] change default active profile.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-04-19T06:31:37Z,2022-04-24T03:02:19Z,"### Is your feature request related to a problem? Please describe.
we`ll deactivate all profiles by default to make sure there will be no undesired dependencies.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/99/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/102,https://api.github.com/repos/apache/celeborn/issues/102,celeborn,1216741727,102,[QUESTION] How to determine the value of `rss.worker.flush.queue.capacity`？,xunxunmimi5577,52647492,,,CLOSED,2022-04-27T03:39:57Z,2022-04-27T12:01:18Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/102/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/102,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5CM0Vo,celeborn,1110656360,102,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-04-27T07:40:31Z,2022-04-27T07:40:31Z,"@xunxunmimi5577 
The value `rss.worker.flush.queue.capacity` is calculated by the worker`s direct memory size.
```math
rss.worker.flush.queue.capacity = (worker direct memory size)/(rss.worker.flush.buffer.size)/2/(worker's disk count)
```

The worker's flush queue is designed to hold shuffle data to merge write requests.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5CM0Vo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/102,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5CNzt_,celeborn,1110915967,102,NA,xunxunmimi5577,52647492,,,NA,2022-04-27T12:01:11Z,2022-04-27T12:01:11Z,ok，Thank you,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5CNzt_/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/103,https://api.github.com/repos/apache/celeborn/issues/103,celeborn,1228791602,103,[FEATURE] Submit RetryPushData immediately encountering DIRECT_MEMORY exceeding of worker,xuefeimiaoao,76927591,Xuefei Miao,,CLOSED,2022-05-08T04:43:34Z,2022-11-01T10:38:58Z,"### Is your feature request related to a problem? Please describe.
I'm always frustrated when DIRECT_MEMORY_COUNTER of netty exceeds the offheapMemoryCriticalThreshold, worker will set AutoRead from true to false in GlobalChannelLimiter, which will not fire ChannelRead, and, in turn, worker won't reply any message to executor, so shuffle writer will wait until timeout without reviving and requesting for new slots to submit RetryPushData.

### Describe the solution you'd like
Shall we reply some specific message to executor when worker finds the exceeding of DIRECT_MEMORY, so executor can  submit RetryPushData immediately?

### Describe alternatives you've considered
I just expand RSS_WORKER_OFFHEAP_MEMORY of worker for now.

/cc @who-need-to-know
@FMX 
/assign @who-can-help-you","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/103/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/103,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Cyk_2,celeborn,1120554998,103,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-09T02:01:10Z,2022-05-09T02:01:10Z,"@miaoxf 
The worker`s minimum direct memory should be larger than 2 * (num of cores) * 16(MB). Because we use pooled memory allocator.
Can you share your host information and configurations?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Cyk_2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/103,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Cz5Dk,celeborn,1120899300,103,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-05-09T10:03:08Z,2022-05-09T10:03:08Z,"Seems like a bug, I think we should add more test cases @FMX ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Cz5Dk/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/103,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C0Jo4,celeborn,1120967224,103,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-09T11:15:56Z,2022-05-09T11:15:56Z,"@miaoxf  
If you are convenient, you can join the chat . [![Gitter](https://badges.gitter.im/RemoteShuffleServiceCommunity/community.svg)](https://gitter.im/RemoteShuffleServiceCommunity/community?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge)
I think there is an alternative solution rather than changing RSS_WORKER_OFFHEAP_MEMORY.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C0Jo4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/103,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C_V0T,celeborn,1123900691,103,NA,xuefeimiaoao,76927591,Xuefei Miao,,NA,2022-05-11T15:04:07Z,2022-05-11T15:04:07Z,with pleasure,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C_V0T/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/106,https://api.github.com/repos/apache/celeborn/issues/106,celeborn,1230528022,106,[BUG] DiskMonitor is not working on K8S environment.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-05-10T03:03:58Z,2022-11-01T11:09:50Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/106/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/107,https://api.github.com/repos/apache/celeborn/issues/107,celeborn,1231990499,107,[QUESTION] Executor在shuffle write/read 过程中是否落本地盘？,fuhaiq,5200755,,fuhaiq@gmail.com,CLOSED,2022-05-11T04:27:20Z,2022-05-11T13:51:47Z,"请教下：

- 在shuffle write时，executor直接将shuffle数据传至rss？还是落本地盘后再传？
- 在shuffle read时，executor从rss获取数据后，直接算？还是先落本地盘后再算？

我们每个节点就一块盘，且性能很差，如果shuffle阶段存在落盘，会导致大量随机I/O

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/107/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/107,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C8-5O,celeborn,1123282510,107,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-11T07:25:26Z,2022-05-11T07:25:26Z,"@fuhaiq 
你好，针对你问到的两个问题，
第一个问题：shuffle write 过程中，executor 会直接将数据传到 rss ，不会落盘。
第二个问题：shuffle read 过程中，executor 会将直接从 rss 中取数据，不会落盘。
请注意，尽管shuffle read 或者 writer 过程是不会落盘的，但是在 executor 处理的数据过多发生 spill 的时候，executor 还是会写本地磁盘。
其次，在触发 rdd persist 的时候，如果配置为 DISK ，也会写本地盘。","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C8-5O/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/107,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C9ZKu,celeborn,1123390126,107,NA,fuhaiq,5200755,,fuhaiq@gmail.com,NA,2022-05-11T08:57:35Z,2022-05-11T08:57:35Z,"> @fuhaiq 你好，针对你问到的两个问题， 第一个问题：shuffle write 过程中，executor 会直接将数据传到 rss ，不会落盘。 第二个问题：shuffle read 过程中，executor 会将直接从 rss 中取数据，不会落盘。 请注意，尽管shuffle read 或者 writer 过程是不会落盘的，但是在 executor 处理的数据过多发生 spill 的时候，executor 还是会写本地磁盘。 其次，在触发 rdd persist 的时候，如果配置为 DISK ，也会写本地盘。

非常感谢～理解了。您说的 “但是在 executor 处理的数据过多发生 spill 的时候，executor 还是会写本地磁盘” 比如有聚合、排序操作时，数据量大时需要spill到本地磁盘进行外部排序吧？比如 ExternalSorter 的行为","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C9ZKu/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/107,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C-0wL,celeborn,1123765259,107,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-05-11T13:29:51Z,2022-05-11T13:29:51Z,"> > @fuhaiq 你好，针对你问到的两个问题， 第一个问题：shuffle write 过程中，executor 会直接将数据传到 rss ，不会落盘。 第二个问题：shuffle read 过程中，executor 会将直接从 rss 中取数据，不会落盘。 请注意，尽管shuffle read 或者 writer 过程是不会落盘的，但是在 executor 处理的数据过多发生 spill 的时候，executor 还是会写本地磁盘。 其次，在触发 rdd persist 的时候，如果配置为 DISK ，也会写本地盘。
> 
> 非常感谢～理解了。您说的 “但是在 executor 处理的数据过多发生 spill 的时候，executor 还是会写本地磁盘” 比如有聚合、排序操作时，数据量大时需要spill到本地磁盘进行外部排序吧？比如 ExternalSorter 的行为

对的，主要是排序，不管是sort算子还是sortagg的sort过程","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C-0wL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/107,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C-6-o,celeborn,1123790760,107,NA,fuhaiq,5200755,,fuhaiq@gmail.com,NA,2022-05-11T13:51:46Z,2022-05-11T13:51:46Z,非常感谢～！理解了,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5C-6-o/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/109,https://api.github.com/repos/apache/celeborn/issues/109,celeborn,1234165064,109,[BUG] compile error,leoyy0316,105328124,,,CLOSED,2022-05-12T15:34:06Z,2022-05-13T05:55:31Z,"when i complie rss use [mvn install -DskipTests -Dcheckstyle.skip=true -Dscalastyle.skip=true  -Pspark-2 -Plog4j-1]
occur this error:
{[ERROR] D:\code\RemoteShuffleService\client\src\main\java\com\aliyun\emr\rss\client\write\LifecycleManager.scala:31: error: object netty is not a member of package io
[ERROR] import io.netty.util.internal.ConcurrentSet
[ERROR]           ^
[ERROR] D:\code\RemoteShuffleService\client\src\main\java\com\aliyun\emr\rss\client\write\LifecycleManager.scala:52: error: not found: type ConcurrentSet
[ERROR]   private val registeredShuffle = new ConcurrentSet[Int]()
[ERROR]                                       ^
[ERROR] D:\code\RemoteShuffleService\client\src\main\java\com\aliyun\emr\rss\client\write\LifecycleManager.scala:56: error: not found: type ConcurrentSet
[ERROR]   private val dataLostShuffleSet = new ConcurrentSet[Int]()
[ERROR]                                        ^
[ERROR] D:\code\RemoteShuffleService\client\src\main\java\com\aliyun\emr\rss\client\write\LifecycleManager.scala:57: error: not found: type ConcurrentSet
[ERROR]   private val stageEndShuffleSet = new ConcurrentSet[Int]()}

what should i do?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/109/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/109,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5DGBGi,celeborn,1125650850,109,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-13T04:40:40Z,2022-05-13T04:40:40Z,"@leoyy0316
Hello. I think we had solved this problem on gitter.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5DGBGi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/109,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5DGBO9,celeborn,1125651389,109,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-13T04:42:00Z,2022-05-13T04:42:00Z,"<img width=""1085"" alt=""540DDD97-CF84-4BCB-93D1-D4F975D4CB0D"" src=""https://user-images.githubusercontent.com/4150993/168212469-72ace46c-dd57-465e-a248-aacb6275bc6d.png"">

If someone found this issue, try to avoid using maven 3.8.5.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5DGBO9/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/110,https://api.github.com/repos/apache/celeborn/issues/110,celeborn,1234876335,110,[BUG] ShuffleWriteTime should include pushMergeData,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-05-13T07:59:47Z,2022-05-14T04:15:11Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/110/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/114,https://api.github.com/repos/apache/celeborn/issues/114,celeborn,1239422966,114,[FEATURE] Disk monitor support LVM .,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-05-18T04:45:19Z,2024-02-07T05:30:33Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/114/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/118,https://api.github.com/repos/apache/celeborn/issues/118,celeborn,1242580718,118,[FEATURE] Sort Pusher should also split,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-05-20T04:08:10Z,2022-05-20T07:44:31Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/118/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/119,https://api.github.com/repos/apache/celeborn/issues/119,celeborn,1242585048,119,[FEATURE] Add metrics documentation and grafana dashboard,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-05-20T04:15:28Z,2022-05-20T04:15:56Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/119/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/119,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Df6tk,celeborn,1132440420,119,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-20T04:15:53Z,2022-05-20T04:15:53Z,This issue solved. #117 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Df6tk/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/120,https://api.github.com/repos/apache/celeborn/issues/120,celeborn,1244959511,120,[BUG] Master‘s metrics of WorkerSlotsCount / WorkerSlotsUsed/  OverloadWorkerCount not update,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-05-23T10:39:37Z,2022-05-23T11:20:31Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/120/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/120,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Dn85Z,celeborn,1134546521,120,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-23T11:20:30Z,2022-05-23T11:20:30Z,"Thank @AngersZhuuuu for fixing this.  #121 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Dn85Z/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/123,https://api.github.com/repos/apache/celeborn/issues/123,celeborn,1247754796,123,[BUG] Device monitor check thread null pointer exception.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-05-25T08:35:39Z,2022-11-01T11:09:51Z,"### What is the bug?
The device monitor encountered a bug that led to unrecoverable disk isolation.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.
<img width=""1160"" alt=""截屏2022-05-25 16 35 24"" src=""https://user-images.githubusercontent.com/4150993/170219009-a65d304f-c1b6-4e0b-a87a-ee4d1f895e37.png"">


/cc @waitinfuture 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/123/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/124,https://api.github.com/repos/apache/celeborn/issues/124,celeborn,1250461110,124,[FEATURE] Add jvm related metrics and cpu related metrics,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-05-27T07:57:24Z,2022-05-30T05:27:14Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/124/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/124,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5D_erU,celeborn,1140714196,124,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-05-30T05:27:14Z,2022-05-30T05:27:14Z,Merged. Thanks.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5D_erU/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/126,https://api.github.com/repos/apache/celeborn/issues/126,celeborn,1252060644,126,[FEATURE] Remove dependency on spark-tags from common module,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-05-30T01:21:01Z,2022-05-31T07:24:08Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/126/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/127,https://api.github.com/repos/apache/celeborn/issues/127,celeborn,1252310444,127,[FEATURE] Add some spark rules to avoid local shuffle reader caused performance drop.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-05-30T07:25:47Z,2024-02-07T05:35:15Z,"### Is your feature request related to a problem? Please describe.
If a spark stage has a massive quantity of tasks and Spark adaptive execution is enabled, the spark might choose a local shuffle reader which causes a performance drop. 

### Describe the solution you'd like
Let's provide a spark extension to avoid situations that are not suitable for RSS.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/127/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/129,https://api.github.com/repos/apache/celeborn/issues/129,celeborn,1253443586,129,[FEATURE] Flexible multi-level storage,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-05-31T07:25:43Z,2022-11-01T10:39:13Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/129/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/129,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYwdw,celeborn,1298335600,129,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-01T10:39:13Z,2022-11-01T10:39:13Z,Check #146 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NYwdw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/130,https://api.github.com/repos/apache/celeborn/issues/130,celeborn,1253443818,130,[FEATURE] Remote Riffle,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-05-31T07:25:58Z,2024-02-07T05:35:15Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/130/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/132,https://api.github.com/repos/apache/celeborn/issues/132,celeborn,1258245582,132,[FEATURE] Optimize HashBasedShuffleWriter by reusing send buffers across tasks in an executor.,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-02T14:13:30Z,2022-06-03T03:26:30Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/132/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/133,https://api.github.com/repos/apache/celeborn/issues/133,celeborn,1260705750,133,[FEATURE]  Maybe we should consider connection bottleneck on rss worker side,lichaojacobs,7459785,lichaojacobs,lichaojacobs@tju.edu.cn,CLOSED,2022-06-04T10:14:03Z,2024-02-07T05:35:16Z,"When there are 10w or even 100w MapTask running, Each task should send partition data to different worker. And if is RSS Cluster,  we schedule by partition slot load balance, then each worker has one partition of job. Then, the situation is connection is deflated by rss worker number (M(mapNum)*N(rss instance)). 
How can we handle 100w connection in a single RSS worker?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/133/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/134,https://api.github.com/repos/apache/celeborn/issues/134,celeborn,1261617142,134,[FEATURE] Speculation,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-06T09:52:23Z,2022-11-01T07:58:22Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/134/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/135,https://api.github.com/repos/apache/celeborn/issues/135,celeborn,1261617151,135,[FEATURE] Speculation task can try at new worker and copy corresponding pushed data by other task,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-06T09:52:24Z,2024-02-07T05:35:16Z,"### Is your feature request related to a problem? Please describe.
There is a case that one machine have problem,  task speculation rerun failed on same worker for 4 times. Is there possible that  speculation task can run in new worker to increase the tolerance

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/135/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/136,https://api.github.com/repos/apache/celeborn/issues/136,celeborn,1262890163,136,[FEATURE] Disable high load worker,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-07T08:04:18Z,2022-11-01T07:59:39Z,"### Is your feature request related to a problem? Please describe.


### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/136/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/138,celeborn,1265502973,138,[QUESTION] net.jpountz.lz4.LZ4Exception: Error decoding offset 219424 of input buffer,xunxunmimi5577,52647492,,,CLOSED,2022-06-09T02:15:32Z,2022-06-13T02:20:07Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/138/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElLak,celeborn,1150596772,138,NA,xunxunmimi5577,52647492,,,NA,2022-06-09T02:16:41Z,2022-06-09T02:16:41Z,请问怎么解决这个错误？,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElLak/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElNkt,celeborn,1150605613,138,NA,xunxunmimi5577,52647492,,,NA,2022-06-09T02:36:45Z,2022-06-09T02:36:45Z,"我的配置
Spark
`spark.shuffle.manager org.apache.spark.shuffle.rss.RssShuffleManager
spark.serializer org.apache.spark.serializer.KryoSerializer

spark.rss.ha.master.hosts xxx
spark.shuffle.service.enabled false

spark.rss.shuffle.writer.mode hash

spark.rss.push.data.replicate false

spark.sql.adaptive.enabled false
spark.sql.adaptive.localShuffleReader.enabled false
spark.sql.adaptive.skewJoin.enabled false

spark.rss.push.data.buffer.size 4m
spark.rss.push.data.maxReqsInFlight 98300
spark.rss.push.data.replicate false
spark.rss.push.data.queue.capacity 128`

env
`RSS_MASTER_MEMORY=2g
RSS_WORKER_MEMORY=4g
RSS_WORKER_OFFHEAP_MEMORY=32g
RSS_WORKER_JAVA_OPTS=""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-worker.out -Dio.netty.leakDetectionLevel=advanced""
RSS_MASTER_JAVA_OPTS=""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-master.out -Dio.netty.leakDetectionLevel=advanced""
RSS_PID_DIR=""$RSS_HOME/pids""
RSS_LOG_DIR=""$RSS_HOME/logs""`

master&worker
`rss.metrics.system.enabled true
rss.worker.flush.buffer.size 5m
rss.worker.flush.queue.capacity 4096
rss.worker.base.dirs /mnt/disk1/,/mnt/disk2


rss.master.port 9097
rss.ha.enabled true
rss.ha.service.id dev-cluster
rss.ha.nodes.dev-cluster node1,node2,node3

rss.ha.address.dev-cluster.node1 host1
rss.ha.address.dev-cluster.node2 host2
rss.ha.address.dev-cluster.node3 host3

rss.ha.port 9872
rss.ha.master.hosts host1,host2,host3


rss.rpc.io.mode NIO
rss.rpc.io.clientThreads 8
rss.rpc.io.serverThreads 8
rss.rpc.io.numConnectionsPerPeer 8

rss.push.data.maxReqsInFlight 98300
rss.push.data.buffer.size 4m
rss.push.data.queue.capacity 128`","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElNkt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElTaT,celeborn,1150629523,138,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-06-09T03:30:04Z,2022-06-09T03:30:04Z,正在尝试复现,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElTaT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Elisf,celeborn,1150692127,138,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-09T05:39:20Z,2022-06-09T05:39:20Z,"@xunxunmimi5577 
我认为你需要需要修改一下你的配置，rss.push.data.buffer.size 4m 这对于绝大多数任务来说，都太大了。默认值是 64KB。
这个配置是 一个 map task 对于 所有 reduce task 预先申请的内存大小，如果一个 stage 有  200 map task ，200 reduce ，64 M 的配置下，一个 map task 会需要 800 MB 堆内内存。
rss.push.data.maxReqsInFlight 这个选项回归默认值就好。","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Elisf/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElnAz,celeborn,1150709811,138,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-09T06:07:54Z,2022-06-09T06:07:54Z,@xunxunmimi5577   出现问题的 rss 的 commit id 是什么？,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElnAz/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElpeS,celeborn,1150719890,138,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-09T06:23:30Z,2022-06-09T06:23:30Z,"@xunxunmimi5577 
https://gitter.im/RemoteShuffleServiceCommunity/Issue-138

方便的话，可以用上面这个 IM 直接联系
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ElpeS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/138,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Ev1eX,celeborn,1153390487,138,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-13T02:20:07Z,2022-06-13T02:20:07Z,"I think we have solved this problem. I'll close this issue. 
Reopen if you encounter any related problems. @xunxunmimi5577 ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Ev1eX/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/139,https://api.github.com/repos/apache/celeborn/issues/139,celeborn,1265664155,139,[FEATURE] Make rss.worker.fetch.chunk.size a client-side configuration,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-09T06:37:32Z,2024-02-07T05:35:17Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/139/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/140,https://api.github.com/repos/apache/celeborn/issues/140,celeborn,1267342603,140,[FEATURE] Add metrics about registered worker.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T10:09:58Z,2022-11-01T11:09:51Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/140/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/141,https://api.github.com/repos/apache/celeborn/issues/141,celeborn,1267461207,141,[FEATURE] Add storage info into partition location.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T12:13:00Z,2022-06-10T12:19:00Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/141/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/142,https://api.github.com/repos/apache/celeborn/issues/142,celeborn,1267461786,142,[FEATURE] Update worker`s slots by disk usage. ,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T12:13:31Z,2022-06-10T12:19:01Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/142/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/143,https://api.github.com/repos/apache/celeborn/issues/143,celeborn,1267462372,143,[FEATURE] Flush disk buffer to memory storage area.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T12:14:05Z,2022-06-10T12:19:01Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/143/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/144,https://api.github.com/repos/apache/celeborn/issues/144,celeborn,1267463071,144,[FEATURE] Read shuffle from memory storage area.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T12:14:47Z,2022-06-10T12:19:01Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/144/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/145,https://api.github.com/repos/apache/celeborn/issues/145,celeborn,1267463790,145,[FEATURE] Flush data from memory storage to local storage.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T12:15:27Z,2022-06-10T12:19:02Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/145/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/146,https://api.github.com/repos/apache/celeborn/issues/146,celeborn,1267475363,146,[FEATURE] Support layered storage.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-10T12:26:11Z,2024-02-07T05:35:17Z,"### Support layered storage.

## PREMISE.
- [x] Add storage info to partition location.
- [x] #157
- [x] #371 
 
## HDFS 
- [x] #391
- [x] #332
- [x] #333
- [x] #440
- [x] #476
- [x] #334
- [ ] hdfs verification

## MEMORY
- [x] #341
- [x] #342
- [x] #343

## EVICT 
- [x] #335
- [x] #336
- [x] #337

## OSS 
- [x] #338
- [x] #339
- [x] #340



/cc @waitinfuture 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/146/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/148,https://api.github.com/repos/apache/celeborn/issues/148,celeborn,1268999417,148,[BUG] Mapend but speculation task's inFlightBatch not cleaned,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-13T07:06:22Z,2022-09-05T07:04:45Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/148/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/148,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JtT3G,celeborn,1236614598,148,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-09-05T07:04:45Z,2022-09-05T07:04:45Z,This problem is fixed at #149.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JtT3G/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/150,https://api.github.com/repos/apache/celeborn/issues/150,celeborn,1270368857,150,[BUG] Rss fallback may cause read stage read empty shuffle.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-14T07:21:08Z,2022-06-14T08:08:10Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/150/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/152,https://api.github.com/repos/apache/celeborn/issues/152,celeborn,1273286966,152,[FEATURE] Print target location when push data call back is onFailure,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-16T09:17:29Z,2022-06-17T14:09:50Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/152/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/154,https://api.github.com/repos/apache/celeborn/issues/154,celeborn,1274875131,154,[BUG] Worker lost in HA mode due to incorrect default configurations. ,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-17T10:42:59Z,2022-06-17T14:07:42Z,"### What is the bug?

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/154/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/156,https://api.github.com/repos/apache/celeborn/issues/156,celeborn,1275080454,156,[FEATURE] Support elasticity to better support K8S environment,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-17T14:11:15Z,2024-02-07T05:35:17Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/156/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/157,https://api.github.com/repos/apache/celeborn/issues/157,celeborn,1281904307,157,Update worker`s slots by disk usage.,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-23T06:53:17Z,2022-08-12T15:38:20Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/157/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/158,https://api.github.com/repos/apache/celeborn/issues/158,celeborn,1281931009,158,"[BUG] When revive meet reserve slot filed, will throw ArrayBoundOutOfIndex exception",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-23T07:17:14Z,2022-06-23T08:15:39Z,"### What is the bug?
```
22/06/23 02:21:15 ERROR LifecycleManager: [reserveSlots] Failed to reserve buffers for application_1655794079700_241721_1-1 from worker Host:10.169.21.29:RpcPort:28295:PushPort:21395:FetchPort:26315:ReplicatePort:32247. Reason: Exception when askSync Res
erveSlots for application_1655794079700_241721_1-1, Exception thrown in awaitResult:
22/06/23 02:21:15 ERROR Inbox: Ignoring error
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
        at java.util.LinkedList.checkElementIndex(LinkedList.java:555)
        at java.util.LinkedList.get(LinkedList.java:476)
        at com.aliyun.emr.rss.client.write.LifecycleManager.handleChangePartitionLocation(LifecycleManager.scala:466)
        at com.aliyun.emr.rss.client.write.LifecycleManager.com$aliyun$emr$rss$client$write$LifecycleManager$$handleRevive(LifecycleManager.scala:425)
        at com.aliyun.emr.rss.client.write.LifecycleManager$$anonfun$receiveAndReply$1.applyOrElse(LifecycleManager.scala:195)
        at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
        at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
        at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
        at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)

22/06/23 02:21:15 ERROR ShuffleClientImpl: Exception raised while reviving for shuffle 1 reduce 76 epoch 17.
com.aliyun.emr.rss.common.exception.RssException: Exception thrown in awaitResult: 
        at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:224)
        at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
        at com.aliyun.emr.rss.common.rpc.RpcEndpointRef.askSync(RpcEndpointRef.scala:92)
        at com.aliyun.emr.rss.common.rpc.RpcEndpointRef.askSync(RpcEndpointRef.scala:76)
        at com.aliyun.emr.rss.client.ShuffleClientImpl.revive(ShuffleClientImpl.java:363)
        at com.aliyun.emr.rss.client.ShuffleClientImpl.submitRetryPushMergedData(ShuffleClientImpl.java:212)
        at com.aliyun.emr.rss.client.ShuffleClientImpl.access$800(ShuffleClientImpl.java:73)
        at com.aliyun.emr.rss.client.ShuffleClientImpl$5.lambda$onFailure$0(ShuffleClientImpl.java:745)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
        at java.util.LinkedList.checkElementIndex(LinkedList.java:555)
        at java.util.LinkedList.get(LinkedList.java:476)
        at com.aliyun.emr.rss.client.write.LifecycleManager.handleChangePartitionLocation(LifecycleManager.scala:466)
        at com.aliyun.emr.rss.client.write.LifecycleManager.com$aliyun$emr$rss$client$write$LifecycleManager$$handleRevive(LifecycleManager.scala:425)
        at com.aliyun.emr.rss.client.write.LifecycleManager$$anonfun$receiveAndReply$1.applyOrElse(LifecycleManager.scala:195)
        at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
        at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
        at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
        at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
        ... 3 more
22/06/23 02:21:15 ERROR Executor: Exception in task 19645.0 in stage 5.0 (TID 199882)
java.io.IOException: Revive Failed in retry push merged data for location: PartitionLocation[76-17 10.169.28.150:26667:25771:32131:33033 Mode: Master peer: 10.169.28.100:37055:24485:22787]
        at com.aliyun.emr.rss.client.ShuffleClientImpl.submitRetryPushMergedData(ShuffleClientImpl.java:214)
        at com.aliyun.emr.rss.client.ShuffleClientImpl.access$800(ShuffleClientImpl.java:73)
        at com.aliyun.emr.rss.client.ShuffleClientImpl$5.lambda$onFailure$0(ShuffleClientImpl.java:745)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)```

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/158/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/160,https://api.github.com/repos/apache/celeborn/issues/160,celeborn,1281970792,160,[BUG] requestReserveSlot failed loss root cause,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-23T07:51:10Z,2022-06-23T08:33:41Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/160/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/164,https://api.github.com/repos/apache/celeborn/issues/164,celeborn,1285286050,164,[BUG] Failed to register worker with master,,,,,CLOSED,2022-06-27T06:00:08Z,2022-06-27T07:54:39Z,"### What is the bug?
When the worker specifies rss.pushserver.port Configuration item, the worker starts an error and cannot register with master

### How to reproduce the bug?
Configure the rss.pushserver.port configuration item in the worker's rss-defaults.conf

### Could you share logs or screenshots?
2022-06-27 13:19:32,081 [myid:] - INFO  [main:TransportClientFactory@97] - mode NIO threads 2
Exception in thread ""main"" java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:461)
	at sun.nio.ch.Net.bind(Net.java:453)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:222)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)



","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/164/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/166,https://api.github.com/repos/apache/celeborn/issues/166,celeborn,1285399798,166,[BUG] ArithmeticException,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-27T07:55:34Z,2022-06-27T09:01:56Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?

> 22/06/27 12:29:15,819 WARN [nioEventLoopGroup-6-2] DefaultChannelPipeline: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
> java.lang.ArithmeticException: / by zero
> 	at com.aliyun.emr.rss.service.deploy.master.Master.$anonfun$masterSource$9(Master.scala:97)
> 	at com.aliyun.emr.rss.service.deploy.master.Master.$anonfun$masterSource$9$adapted(Master.scala:96)
> 	at scala.collection.TraversableOnce.$anonfun$count$1(TraversableOnce.scala:119)
> 	at scala.collection.TraversableOnce.$anonfun$count$1$adapted(TraversableOnce.scala:118)
> 	at scala.collection.Iterator.foreach(Iterator.scala:941)
> 	at scala.collection.Iterator.foreach$(Iterator.scala:941)
> 	at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
> 	at scala.collection.IterableLike.foreach(IterableLike.scala:74)
> 	at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
> 	at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
> 	at scala.collection.TraversableOnce.count(TraversableOnce.scala:118)
> 	at scala.collection.TraversableOnce.count$(TraversableOnce.scala:116)
> 	at scala.collection.AbstractTraversable.count(Traversable.scala:108)
> 	at com.aliyun.emr.rss.service.deploy.master.Master.$anonfun$masterSource$8(Master.scala:96)
> 	at com.aliyun.emr.rss.service.deploy.master.Master.$anonfun$masterSource$8$adapted(Master.scala:96)
> 	at com.aliyun.emr.rss.common.metrics.source.GaugeSupplier$$anon$2.getValue(AbstractSource.scala:326)
> 	at com.aliyun.emr.rss.common.metrics.source.AbstractSource.recordGauge(AbstractSource.scala:225)
> 	at com.aliyun.emr.rss.common.metrics.source.AbstractSource.$anonfun$getMetrics$2(AbstractSource.scala:284)
> 	at com.aliyun.emr.rss.common.metrics.source.AbstractSource.$anonfun$getMetrics$2$adapted(AbstractSource.scala:284)
> 	at scala.collection.immutable.List.foreach(List.scala:392)
> 	at com.aliyun.emr.rss.common.metrics.source.AbstractSource.getMetrics(AbstractSource.scala:284)
> 	at com.aliyun.emr.rss.common.metrics.sink.PrometheusServlet.$anonfun$getMetricsSnapshot$1(PrometheusServlet.scala:42)
> 	at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)
> 	at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)
> 	at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)
> 	at com.aliyun.emr.rss.common.metrics.sink.PrometheusServlet.getMetricsSnapshot(PrometheusServlet.scala:42)
> 	at com.aliyun.emr.rss.common.metrics.sink.PrometheusHttpRequestHandler.handleRequest(PrometheusServlet.scala:60)
> 	at com.aliyun.emr.rss.service.deploy.master.http.HttpRequestHandler.channelRead0(HttpRequestHandler.scala:47)
> 	at com.aliyun.emr.rss.service.deploy.master.http.HttpRequestHandler.channelRead0(HttpRequestHandler.scala:31)
> 	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
> 	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
> 	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
> 	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
> 	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
> 	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
> 	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
> 	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
> 	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
> 	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
> 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
> 	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
> 	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
> 	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
> 	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
> 	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
> 	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
> 	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
> 	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
> 	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
> 	at java.lang.Thread.run(Thread.java:748)



/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/166/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/168,https://api.github.com/repos/apache/celeborn/issues/168,celeborn,1285491620,168,[FEATURE] Add leader info into metrics.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-27T09:10:48Z,2024-02-07T05:35:18Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/168/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/168,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IJXO0,celeborn,1210414004,168,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-08-10T09:33:11Z,2022-08-10T09:33:11Z,Can close this,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IJXO0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/169,https://api.github.com/repos/apache/celeborn/issues/169,celeborn,1285503620,169,[FEATURE] Make app heartbeat interval can be customized,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-27T09:19:07Z,2022-06-27T12:59:17Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/169/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/169,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Fk-sT,celeborn,1167321875,169,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-27T12:59:17Z,2022-06-27T12:59:17Z,Merged.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Fk-sT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/171,https://api.github.com/repos/apache/celeborn/issues/171,celeborn,1285748087,171,[BUG]  LifeCycleManager throw cala.collection.immutable.HashMap$HashTrieMap cannot be cast to java.util.HashMap when handle destroyBuffersWithRetry,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-27T12:40:35Z,2022-06-28T02:46:40Z,"### What is the bug?
```
22/06/27 16:37:53 ERROR Inbox: Ignoring error
java.lang.ClassCastException: scala.collection.immutable.HashMap$HashTrieMap cannot be cast to java.util.HashMap
	at com.aliyun.emr.rss.client.write.LifecycleManager.reserveSlotsWithRetry(LifecycleManager.scala:948)
	at com.aliyun.emr.rss.client.write.LifecycleManager.handleRegisterShuffle(LifecycleManager.scala:302)
	at com.aliyun.emr.rss.client.write.LifecycleManager$$anonfun$receiveAndReply$1.applyOrElse(LifecycleManager.scala:188)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
	at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
```

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/171/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/171,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5FoJu8,celeborn,1168153532,171,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-28T02:46:40Z,2022-06-28T02:46:40Z,Fixed and merged.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5FoJu8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/173,https://api.github.com/repos/apache/celeborn/issues/173,celeborn,1286703390,173,[FEATURE] RPC message log change to INFO level,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-28T03:10:16Z,2022-08-10T09:32:57Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/173/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/174,https://api.github.com/repos/apache/celeborn/issues/174,celeborn,1286711346,174,"when push big UnsafeRow,  throw an error : net.jpountz.lz4.LZ4Exception: Error decoding offset XXXX of input buffer",942011334,26920583,DonJ,,CLOSED,2022-06-28T03:22:57Z,2022-09-01T08:01:07Z,"<img width=""980"" alt=""企业微信截图_3f7a42a7-4593-4990-b997-1d3b13de8fe7"" src=""https://user-images.githubusercontent.com/26920583/176085235-0512706f-d6da-4968-aa0e-2ad01dd64191.png"">



when push a big  UnsafeRow  to worker , then reduces fetch and decompress the big unsaferow,   throw an error : net.jpountz.lz4.LZ4Exception: Error decoding offset XXXX of input buffer

INFO HashBasedShuffleWriter: Push giant record, size 101248036.

![image](https://user-images.githubusercontent.com/26920583/176085304-398593e2-62a6-4bd0-acd4-c7e9b86c3b36.png)


we use default settings，the following show:
rss.push.data.buffer.size 64k
rss.worker.flush.buffer.size 256K","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/174/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/174,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5FpqYr,celeborn,1168549419,174,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-06-28T10:36:12Z,2022-06-28T10:36:12Z,This problem might be caused by chunk read mechanism.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5FpqYr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/174,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JipAo,celeborn,1233817640,174,NA,942011334,26920583,DonJ,,NA,2022-09-01T06:44:02Z,2022-09-01T06:44:02Z,"https://github.com/alibaba/RemoteShuffleService/pull/495
@FMX cc","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JipAo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/176,https://api.github.com/repos/apache/celeborn/issues/176,celeborn,1286743321,176,[BUG] Handle RegisterWorker use wrong worker info when trigger lost event,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-28T04:13:53Z,2022-07-09T09:40:11Z,"### What is the bug?
A clear and concise description of what the bug is.
<img width=""900"" alt=""截屏2022-06-28 下午12 12 21"" src=""https://user-images.githubusercontent.com/46485123/176090784-5e06091f-c734-47f6-90b8-23802bb0c305.png"">


### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/176/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/178,https://api.github.com/repos/apache/celeborn/issues/178,celeborn,1287079926,178,[BUG] RSS should not limit rpc server io.numConnectionsPerPeer,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-28T09:44:05Z,2022-11-01T07:59:30Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/178/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/180,https://api.github.com/repos/apache/celeborn/issues/180,celeborn,1287131330,180,[FEATURE] Disable rss.worker.closeIdleConnections by default,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-28T10:26:47Z,2022-08-10T09:33:37Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/180/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/183,https://api.github.com/repos/apache/celeborn/issues/183,celeborn,1287179995,183,[FEATURE] Add metrics about network connection count.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-28T11:10:19Z,2024-02-07T05:35:18Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/183/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/184,https://api.github.com/repos/apache/celeborn/issues/184,celeborn,1287462608,184,[FUSION][FEATURE] Initial skeleton,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-28T14:44:38Z,2022-06-29T09:49:46Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/184/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/186,https://api.github.com/repos/apache/celeborn/issues/186,celeborn,1288087135,186,[FEATURE] multi thread disk flusher.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-29T02:15:10Z,2022-06-29T07:03:03Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/186/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/188,https://api.github.com/repos/apache/celeborn/issues/188,celeborn,1288309724,188,[FEATURE] Add instructions about restart cluster.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-06-29T07:47:05Z,2022-06-29T09:20:50Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/188/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/190,https://api.github.com/repos/apache/celeborn/issues/190,celeborn,1288453826,190,"[FEATURE] After worker lost, worker's RPC don't have response",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-06-29T09:47:38Z,2022-06-29T14:25:29Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/190/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/191,https://api.github.com/repos/apache/celeborn/issues/191,celeborn,1288457229,191,[FUSION][FEATURE] Metrics subsystem,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T09:50:32Z,2022-07-01T06:58:23Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/191/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/195,https://api.github.com/repos/apache/celeborn/issues/195,celeborn,1288815748,195,[FUSION][FEATURE] Add java check style rules.,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:27:53Z,2024-02-07T05:35:19Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/195/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/196,https://api.github.com/repos/apache/celeborn/issues/196,celeborn,1288816723,196,[FUSION][FEATURE] Heartbeat feature,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:28:29Z,2024-02-07T05:35:19Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/196/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/197,https://api.github.com/repos/apache/celeborn/issues/197,celeborn,1288818191,197,[FUSION][FEATURE] Network module,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:29:19Z,2024-02-07T05:35:20Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/197/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/198,https://api.github.com/repos/apache/celeborn/issues/198,celeborn,1288818805,198,[FUSION][FEATURE] RPC module,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:29:41Z,2024-02-07T05:35:20Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/198/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/199,https://api.github.com/repos/apache/celeborn/issues/199,celeborn,1288819547,199,[FUSION][FEATURE] Protocol,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:30:08Z,2024-02-07T05:35:20Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/199/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/200,https://api.github.com/repos/apache/celeborn/issues/200,celeborn,1288820198,200,[FUSION][FEATURE] lz4,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:30:36Z,2024-02-07T05:35:21Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/200/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/201,https://api.github.com/repos/apache/celeborn/issues/201,celeborn,1288820891,201,[FUSION][FEATURE] REST,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-29T14:31:02Z,2024-02-07T05:35:21Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/201/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/203,https://api.github.com/repos/apache/celeborn/issues/203,celeborn,1289941450,203,[BUG] rss.master.address  not work in rss-worker's configuration file,,,,,CLOSED,2022-06-30T10:40:50Z,2022-06-30T15:00:34Z,"### What is the bug?
The rss.master.address configuration item in the rss worker configuration file does not take effect，will be overwrited by localHostName:9097 or localIp:9097

### How to reproduce the bug?
##### 1. my rss conf

log4j.properties:
```
# Set everything to be logged to the console
log4j.rootCategory=INFO, console
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.target=System.err
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss,SSS} %p [%t] %c{1}: %m%n
```

rss-defaults.conf:
```
rss.worker.base.dirs   /tmp/rrr
rss.master.address    dummyhost:9999
```
##### 2. start rss-worker:

```
cd $RSS_HOME
sbin/start-worker.sh
```


### Could you share logs or screenshots?
here is my rss worker log
![image](https://user-images.githubusercontent.com/8604206/176644103-555ce57a-cdb4-4c74-8cd4-9d171925ee8d.png)



/cc @who-need-to-know

/assign @who-can-solve-this-bug","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/203/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/205,https://api.github.com/repos/apache/celeborn/issues/205,celeborn,1290348026,205,[FEATURE] Cleanup unused code in network,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-06-30T16:00:03Z,2022-07-01T06:39:17Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/205/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/208,https://api.github.com/repos/apache/celeborn/issues/208,celeborn,1290882966,208,[FEATURE] Refine log level,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-01T04:09:27Z,2022-07-01T06:57:55Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/208/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/211,https://api.github.com/repos/apache/celeborn/issues/211,celeborn,1290990351,211,[FEATURE] Support set component's RPC port by config ,nafiyAix,30563796,nafiy,,CLOSED,2022-07-01T06:53:13Z,2022-07-02T12:54:49Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/211/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/213,https://api.github.com/repos/apache/celeborn/issues/213,celeborn,1291530692,213,[FEATURE] Cleanup unused code in RPC module,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-01T15:10:06Z,2022-07-02T05:16:26Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/213/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/216,https://api.github.com/repos/apache/celeborn/issues/216,celeborn,1293728724,216,[FEATURE] Support sized chunk fetch request,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-05T03:07:24Z,2022-07-08T06:10:08Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/216/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/217,https://api.github.com/repos/apache/celeborn/issues/217,celeborn,1293751034,217,[BUG] Support register lost worker agan,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-05T03:52:32Z,2022-07-05T12:51:12Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/217/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/220,https://api.github.com/repos/apache/celeborn/issues/220,celeborn,1293972078,220,[FEATURE] Support columnar shuffle on Spark3,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-07-05T08:33:13Z,2024-02-07T05:35:22Z,"### Support columnar shuffle on Spark3.

## Spark3 Patch
- [x] #517
 
## Shuffle Write 
- [x] #518
- [x] #519
- [x] #520

## Shuffle Read
- [x] #521
- [x] #522

## Serializer
- [x] #664 

## Encoding And Decoding
- [x] #523
- [x] #524

## Code Generation
- [x] #525
- [x] #526



/cc @waitinfuture ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/220/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/222,https://api.github.com/repos/apache/celeborn/issues/222,celeborn,1295092855,222,[FEATURE] Remove response array size > 0 check and reduce null check,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-06T04:05:36Z,2022-07-12T06:17:53Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/222/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/227,https://api.github.com/repos/apache/celeborn/issues/227,celeborn,1296930555,227,[FEATURE] Refactor RSS conf,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-07T07:03:37Z,2022-11-01T07:58:55Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/227/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/228,https://api.github.com/repos/apache/celeborn/issues/228,celeborn,1297088177,228,[BUG] Unexpected connection closed exceptions occurred while committing files,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-07T09:24:55Z,2022-07-07T14:15:17Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/228/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/228,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5GMCKs,celeborn,1177559724,228,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-07-07T12:48:25Z,2022-07-07T12:48:25Z,Bug`s confirmed.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5GMCKs/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/229,https://api.github.com/repos/apache/celeborn/issues/229,celeborn,1297119853,229,[BUG][README] Fix README.md use fixed port 9097 for spark configuration example,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-07-07T09:50:47Z,2022-07-07T14:02:30Z,"### What is the bug?
README.md use fixed port 9097 for spark configuration example.

Because this is a user configuration, it can cause misunderstanding.

Therefore, it is more appropriate to use `rss-master-port` instead of fixed `9097`

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/229/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/233,https://api.github.com/repos/apache/celeborn/issues/233,celeborn,1297739703,233,[REFACTOR] Remove unused FlushBuffer and MinimalByteBuf,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-07T16:32:44Z,2022-07-09T04:09:11Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/233/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/239,https://api.github.com/repos/apache/celeborn/issues/239,celeborn,1298698223,239,[REFACTOR] Move prcessFetchChunks into ChunkFetchHandler,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-08T08:49:50Z,2022-07-09T06:21:19Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/239/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/240,https://api.github.com/repos/apache/celeborn/issues/240,celeborn,1299060803,240,[REFACTOR] Revert pom modification,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-08T13:57:55Z,2022-07-08T14:02:08Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/240/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/244,https://api.github.com/repos/apache/celeborn/issues/244,celeborn,1299593413,244,[REFACTOR] Make OpenBlocks an AbstractMessage,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-09T07:10:27Z,2022-07-12T09:29:11Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/244/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/244,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5GbNB_,celeborn,1181536383,244,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-07-12T09:29:11Z,2022-07-12T09:29:11Z,Looks like this issue has already been processed.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5GbNB_/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/246,https://api.github.com/repos/apache/celeborn/issues/246,celeborn,1299630974,246,[REFACTOR] Refactor client module,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-09T09:41:25Z,2022-07-13T08:57:30Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/246/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/247,https://api.github.com/repos/apache/celeborn/issues/247,celeborn,1299685073,247,"[REFACTOR] Extract PushHandler, FetchHandler, RpcHandler from Worker; Make OpenBlocks an AbstractMessage",waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-09T13:39:28Z,2022-07-12T03:40:43Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/247/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/249,https://api.github.com/repos/apache/celeborn/issues/249,celeborn,1299879290,249,[BUG] OutOfBounds when shuffle has no data(q24b),waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-10T10:01:59Z,2022-07-10T10:03:55Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/249/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/253,https://api.github.com/repos/apache/celeborn/issues/253,celeborn,1301585937,253,[BUG] netty memory leaks in TransportResponseHandler,,,,,CLOSED,2022-07-12T06:11:43Z,2022-07-12T06:41:20Z,"### What is the bug?
In early testing (May 2022), I found that there are memory leaks in some cases

### How to reproduce the bug?

### Could you share logs or screenshots?
```
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86763 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86771 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86790 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86793 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86808 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86818 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86826 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86836 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86844 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86859 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86867 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86876 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86886 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86892 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86904 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86929 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86938 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86948 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86949 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86967 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86971 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86983 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 86991 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 87008 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 WARN TransportResponseHandler: Ignoring response for RPC 87017 from /[10.70.0.72:41015](http://10.70.0.72:41015/) (0 bytes) since it is not outstanding
22/05/05 14:42:39 ERROR ResourceLeakDetector: LEAK: ByteBuf.release() was not called before it's garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.
Recent access records: 
Created at:
        com.aliyun.emr.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:401)
        com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)
        com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)
        com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:140)
        com.aliyun.emr.io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:120)
        com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:150)
        com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
        com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
        com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
        com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
        com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)
        com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
        com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
        java.lang.Thread.run(Thread.java:750)
22/05/05 14:42:40 INFO Executor: Finished task 0.0 in stage 13.0 (TID 58). 5377 bytes result sent to driver
22/05/05 14:42:40 INFO YarnCoarseGrainedExecutorBackend: Got assigned task 76
22/05/05 14:42:40 INFO Executor: Running task 18.0 in stage 13.0 (TID 76)
22/05/05 14:42:40 INFO RssInputStream: Moved to next partition PartitionLocation[118-0 [10.70.0.68:42876](http://10.70.0.68:42876/):46843:46214:42803 Mode: Master peer: ],startMapIndex 0 endMapIndex 2147483647 , 0/1 read , get chunks size 1
22/05/05 14:42:40 INFO RssInputStream: Moved to next partition PartitionLocation[119-0 [10.70.0.72:32821](http://10.70.0.72:32821/):41015:33491:46135 Mode: Master peer: ],startMapIndex 0 endMapIndex 2147483647 , 0/1 read , get chunks size 1
22/05/05 14:42:40 INFO RssInputStream: Moved to next partition PartitionLocation[120-0 [10.70.0.71:39065](http://10.70.0.71:39065/):33606:41873:39543 Mode: Master peer: ],startMapIndex 0 endMapIndex 2147483647 , 0/1 read , get chunks size 1
22/05/05 14:42:40 INFO RssInputStream: Moved to next partition PartitionLocation[121-0 [10.70.0.68:42876](http://10.70.0.68:42876/):46843:46214:42803 Mode: Master peer: ],startMapIndex 0 endMapIndex 2147483647 , 0/1 read , get chunks size 1
22/05/05 14:42:40 INFO TransportClientFactory: Successfully created connection to /[10.70.0.72:33491](http://10.70.0.72:33491/) after 0 ms (0 ms spent in bootstraps)
```


/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/253/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/256,https://api.github.com/repos/apache/celeborn/issues/256,celeborn,1301798324,256,[FEATURE] Convert data messages to protocol buffer to ensure compatibility between client and server.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-07-12T09:32:04Z,2024-02-07T05:35:22Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/256/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/257,https://api.github.com/repos/apache/celeborn/issues/257,celeborn,1302861831,257,[FEATURE] ReserveSlots support customized retry times,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-13T03:41:41Z,2022-08-02T07:28:03Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/257/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/259,https://api.github.com/repos/apache/celeborn/issues/259,celeborn,1303297515,259,[BUG] Build Failed on M1 Macbook Pro / Air,,,,,CLOSED,2022-07-13T11:26:01Z,2022-07-14T12:54:58Z,"### What is the bug?
Due to protobuf3.5 does not support osx-aarch_64 architecture, rss build Failed on M1 Macbook Pro / Air

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
![image](https://user-images.githubusercontent.com/8604206/178723065-64819d7b-8d16-4bc0-ba94-fd588bb33582.png)


/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/259/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/261,https://api.github.com/repos/apache/celeborn/issues/261,celeborn,1306017849,261,[REFACTOR] Refine message class hierarchy,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-15T13:08:00Z,2022-07-16T09:00:10Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/261/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/262,https://api.github.com/repos/apache/celeborn/issues/262,celeborn,1306127683,262,[REFACTOR] Remove unused boostrap,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-15T14:48:15Z,2022-07-16T03:01:44Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/262/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/264,https://api.github.com/repos/apache/celeborn/issues/264,celeborn,1306717037,264,[REFACTOR] Refine network code,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-16T05:46:50Z,2022-07-16T08:02:36Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/264/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/267,https://api.github.com/repos/apache/celeborn/issues/267,celeborn,1306994151,267,"[FEATURE] Extend API to support more partition types: MapPartition, MapGroupPartition",waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-17T05:32:43Z,2022-07-17T08:28:37Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/267/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/269,https://api.github.com/repos/apache/celeborn/issues/269,celeborn,1307035331,269,[REFACTOR] Remove unused inceptor in TransportFrameDecoder,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-17T08:55:47Z,2022-07-17T09:15:35Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/269/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/272,https://api.github.com/repos/apache/celeborn/issues/272,celeborn,1307653445,272,[FEATURE] Support passed-in buffer supplier for FrameDecoder,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-18T09:28:13Z,2022-07-25T08:46:30Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/272/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/274,https://api.github.com/repos/apache/celeborn/issues/274,celeborn,1314063336,274,[BUG] Multi-thread flusher causes data inconsistent with chunk offsets.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-07-22T02:36:10Z,2022-07-23T03:17:39Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
This problem happens randomly. There are no clear procedures to reproduce.

### Could you share logs or screenshots?

> Caused by: java.lang.IndexOutOfBoundsException: readerIndex(25350231) + length(30480) exceeds writerIndex(25358446): UnpooledDuplicatedByteBuf(ridx: 25350231, widx: 25358446, cap: 25358446, unwrapped: CompositeByteBuf(ridx: 13, widx: 25358446, cap: 25358446, components=454))
>   at com.aliyun.emr.io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1442)

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/274/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/279,https://api.github.com/repos/apache/celeborn/issues/279,celeborn,1316762762,279,[FEATURE] Add UT for TransportFrameDecoder and TransportFrameDecoderWithBufferSupplier,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-25T12:24:58Z,2024-02-07T05:35:23Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/279/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/280,https://api.github.com/repos/apache/celeborn/issues/280,celeborn,1317651720,280,[BUG] Reserve slots failed due to take buffer stuck.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-07-26T03:37:06Z,2022-07-26T10:20:40Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?

> Exception when askSync ReserveSlots for sparkapp-77039902-0001-0.
> 22/07/26 00:23:24.785 ERROR LifecycleManager: [reserveSlots] Failed to reserve buffers for sparkapp-77039902-0001-0 from worker Host:33.143.86.120:RpcPort:9095:PushPort:37075:FetchPort:34273:ReplicatePort:39393. Reason: Exception when askSync ReserveSlots for sparkapp-77039902-0001-0. Exception thrown in awaitResult:

jstack trace:

> ""dispatcher-event-loop-3"" #14 daemon prio=5 os_prio=0 tid=0x00007f91620d2000 nid=0x26e waiting on condition [0x00007f913c177000]
>    java.lang.Thread.State: TIMED_WAITING (parking)
> 	at sun.misc.Unsafe.park0(Native Method)
> 	- parking to wait for  <0x00000000abb84cf0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
> 	at sun.misc.Unsafe.park(Unsafe.java:1025)
> 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:216)
> 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
> 	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:471)
> 	at com.aliyun.emr.rss.service.deploy.worker.DiskFlusher.takeBuffer(LocalStorageManager.scala:129)
> 	at com.aliyun.emr.rss.service.deploy.worker.FileWriter.takeBuffer(FileWriter.java:320)
> 	at com.aliyun.emr.rss.service.deploy.worker.FileWriter.<init>(FileWriter.java:136)
> 	at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.createWriter(LocalStorageManager.scala:393)
> 	at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.createWriter(LocalStorageManager.scala:363)
> 	at com.aliyun.emr.rss.service.deploy.worker.Worker.$anonfun$handleReserveSlots$2(Worker.scala:331)
> 	at com.aliyun.emr.rss.service.deploy.worker.Worker$$Lambda$234/1095165280.apply$mcZI$sp(Unknown Source)
> 	at scala.runtime.java8.JFunction1$mcZI$sp.apply(JFunction1$mcZI$sp.java:23)
> 	at scala.collection.immutable.Range.foreach(Range.scala:158)
> 	at com.aliyun.emr.rss.service.deploy.worker.Worker.com$aliyun$emr$rss$service$deploy$worker$Worker$$handleReserveSlots(Worker.scala:328)
> 	at com.aliyun.emr.rss.service.deploy.worker.Worker$$anonfun$receiveAndReply$1.$anonfun$applyOrElse$1(Worker.scala:284)
> 	at com.aliyun.emr.rss.service.deploy.worker.Worker$$anonfun$receiveAndReply$1$$Lambda$232/90001073.apply$mcV$sp(Unknown Source)
> 	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
> 	at com.aliyun.emr.rss.common.metrics.source.AbstractSource.sample(AbstractSource.scala:119)
> 	at com.aliyun.emr.rss.service.deploy.worker.Worker$$anonfun$receiveAndReply$1.applyOrElse(Worker.scala:279)
> 	at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
> 	at com.aliyun.emr.rss.common.rpc.netty.Inbox$$Lambda$93/441305352.apply$mcV$sp(Unknown Source)
> 	at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
> 	at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
> 	at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)
> 	at java.lang.Thread.

run(Thread.java:882)



/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/280/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/281,https://api.github.com/repos/apache/celeborn/issues/281,celeborn,1317808904,281,[BUG] LZ4Compressor use wrong length to judge buffer size is suitable,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-26T07:20:13Z,2022-07-26T14:20:52Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/281/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/286,https://api.github.com/repos/apache/celeborn/issues/286,celeborn,1319293846,286,"The network bandwidth is full, causing a timeout 【k8s】",liugs0213,55676558,,,CLOSED,2022-07-27T09:41:11Z,2024-02-07T05:35:23Z,"### Is your feature request related to a problem? Please describe.
The RSS service is deployed on K8S. When there is a large amount of work, the network adapter bandwidth of the machine is full, resulting in batch failure, and the network bandwidth is 20Gb/s
![image](https://user-images.githubusercontent.com/55676558/181216289-c2e0f2c7-bee8-4668-af66-3461d9018cb1.png)


### Describe the solution you'd like
want to add flow limiting

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/286/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/286,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5HU9UD,celeborn,1196676355,286,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-07-27T12:40:40Z,2022-07-27T12:40:40Z,"@liugs0213 Hi,  you are welcome to discuss more details about this question at gitter(https://gitter.im/RemoteShuffleServiceCommunity/community).","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5HU9UD/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/286,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5HU-gn,celeborn,1196681255,286,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-07-27T12:45:19Z,2022-07-27T12:45:19Z,"Currently RSS‘ traffic control is based on memory pressure, I think it's reasonable to also consider bandwidth.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5HU-gn/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/286,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5HYiXZ,celeborn,1197614553,286,NA,liugs0213,55676558,,,NA,2022-07-28T03:32:02Z,2022-07-28T03:32:02Z,"> @liugs0213 Hi, you are welcome to discuss more details about this question at gitter(https://gitter.im/RemoteShuffleServiceCommunity/community).

ok好的","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5HYiXZ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/287,https://api.github.com/repos/apache/celeborn/issues/287,celeborn,1320402422,287,[FEATURE] Limit max inflight before add task to pusher,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-07-28T05:11:44Z,2024-02-07T05:35:23Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/287/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/288,https://api.github.com/repos/apache/celeborn/issues/288,celeborn,1320563221,288,[BUG] Memory leak at data channel on main latest code.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-07-28T08:14:26Z,2022-08-11T16:49:43Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Just run a ""terasort"" can reproduce the bug.

### Could you share logs or screenshots?
<img width=""1455"" alt=""截屏2022-07-28 16 12 34"" src=""https://user-images.githubusercontent.com/4150993/181456187-bc82cdd6-0b70-4674-9d3d-f265a86d567b.png"">


/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/288/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/289,https://api.github.com/repos/apache/celeborn/issues/289,celeborn,1322044122,289,[BUG] Writer throw NPE when getting value's class,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-07-29T10:20:38Z,2022-08-01T08:02:50Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/289/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/291,https://api.github.com/repos/apache/celeborn/issues/291,celeborn,1325226197,291,[REFACTOR] Init RPC failed will cause  throw NPE,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-02T03:13:41Z,2022-08-04T06:46:45Z,"### Describe the intention you'd like
```
22/08/02 07:19:11 INFO LifecycleManager: Received Blacklist from Master, blacklist: null unkown workers: null
22/08/02 07:19:26 ERROR LifecycleManager: Init rpc client for 
Host: 10.169.32.83
RpcPort: 33767
PushPort: 32305
FetchPort: 28383
ReplicatePort: 32093
TotalSlots: -1
SlotsUsed: 0
SlotsAvailable: -1
LastHeartBeat: 0
WorkerRef: null
 failed
com.aliyun.emr.rss.common.rpc.RpcTimeoutException: Futures timed out after [30 seconds]. This timeout is controlled by rss.rpc.lookupTimeout
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.com$aliyun$emr$rss$common$rpc$RpcTimeout$$createRpcTimeoutException(RpcTimeout.scala:46)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:61)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:57)
	at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
	at com.aliyun.emr.rss.client.write.LifecycleManager.$anonfun$handleRegisterShuffle$11(LifecycleManager.scala:286)
	at scala.collection.Iterator.foreach(Iterator.scala:941)
	at scala.collection.Iterator.foreach$(Iterator.scala:941)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1429)
	at scala.collection.IterableLike.foreach(IterableLike.scala:74)
	at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
	at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
	at com.aliyun.emr.rss.client.write.LifecycleManager.handleRegisterShuffle(LifecycleManager.scala:282)
	at com.aliyun.emr.rss.client.write.LifecycleManager$$anonfun$receiveAndReply$1.applyOrElse(LifecycleManager.scala:189)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
	at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException: Futures timed out after [30 seconds]
	at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)
	at scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)
	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
	... 18 more
```


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/291/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/293,https://api.github.com/repos/apache/celeborn/issues/293,celeborn,1325254358,293,[REFACTOR] Initial worker in parallism,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-02T04:05:01Z,2022-08-03T12:01:07Z,"### Describe the intention you'd like
When some worker in bad situation, setup worker timeout when initial rpc endpoint. Will cause register shuffle time > rpc timeout time then ShuffleClient make register shuffle failed .


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/293/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/296,https://api.github.com/repos/apache/celeborn/issues/296,celeborn,1325541616,296,[BUG] DiskFlusher nextWorkerIndex update incorrectly.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-02T09:11:29Z,2022-08-02T10:16:27Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/296/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/297,https://api.github.com/repos/apache/celeborn/issues/297,celeborn,1328126741,297,[BUG] NPE in TaskCompletionListener due to Spark OOM in UnsafeExternalSorter causing tasks to hang,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-04T06:23:31Z,2022-08-10T08:02:35Z,"### What is the bug?
A clear and concise description of what the bug is.
![image](https://user-images.githubusercontent.com/46485123/182777573-27386705-b67d-427a-b4bb-905fe669aaeb.png)

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/297/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/302,https://api.github.com/repos/apache/celeborn/issues/302,celeborn,1328743451,302,[DOC] Add doc describing how to deploy on k8s,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-04T14:42:05Z,2022-08-09T13:15:16Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/302/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/303,https://api.github.com/repos/apache/celeborn/issues/303,celeborn,1328765950,303,[FEATURE] Add baseic dockerfile for user to build rss images,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-08-04T14:58:42Z,2022-08-10T03:33:23Z,"### Is your feature request related to a problem? Please describe.
Now users do not have an official Dockerfile to guide the construction of the basic docker image.

### Describe the solution you'd like
Provide the corresponding Dockerfile for user.

### Describe alternatives you've considered
Provide detailed documentation guidelines

/cc @who-need-to-know

/assign @zwangsheng
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/303/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/303,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IINO6,celeborn,1210110906,303,NA,zwangsheng,52876270,Binjie Yang,,NA,2022-08-10T03:33:22Z,2022-08-10T03:33:22Z,Finish with #309 ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IINO6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/304,https://api.github.com/repos/apache/celeborn/issues/304,celeborn,1329389189,304,[BUG]  HA port occupied make the master cannot start normally,nafiyAix,30563796,nafiy,,CLOSED,2022-08-05T03:10:07Z,2022-08-16T12:57:42Z,"### What is the bug?
If HA port is occupied it it will make the master cannot be started normally and the process will not exit directly, and won't print related logs about the port occupy(will print the ratis and protobuf log which is a bit misleading)

### How to reproduce the bug?
Set the HA port as some existing port then launch HA master.

### Could you share logs or screenshots?
![image](https://user-images.githubusercontent.com/30563796/182993270-b31c8ca3-412a-4dc2-8da0-ab3b5f5c5187.png)

![image](https://user-images.githubusercontent.com/30563796/182993316-1f217325-eb10-4be2-9c31-86bdd24cc5cd.png)

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/304/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/305,https://api.github.com/repos/apache/celeborn/issues/305,celeborn,1329389867,305,[FEATURE] Add metrics to mark active master under HA,nafiyAix,30563796,nafiy,,CLOSED,2022-08-05T03:11:26Z,2022-08-08T02:58:42Z,"### Is your feature request related to a problem? Please describe.
Add metrics to mark active master under HA, currently there isn't a convenient way to check cluster's active master.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/305/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/305,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5H-i5b,celeborn,1207578203,305,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-08-08T02:18:14Z,2022-08-08T02:18:14Z,@nafiyAix  Can close this,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5H-i5b/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/306,https://api.github.com/repos/apache/celeborn/issues/306,celeborn,1329616485,306,[IMPROVEMENT] Handle change partition request in batch ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-05T08:23:42Z,2022-10-10T10:31:38Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/306/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/308,https://api.github.com/repos/apache/celeborn/issues/308,celeborn,1331253633,308,[DOC] Readme's HA cluster example doesn't cover the situation if default HA port be occupied,nafiyAix,30563796,nafiy,,CLOSED,2022-08-08T03:01:42Z,2022-08-09T13:19:18Z,"### Describe the intention you'd like
Readme's HA cluster example doesn't cover the situation if default HA port be occupied, then user needs to set specific port in config file to handle the conflict. 

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/308/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/312,https://api.github.com/repos/apache/celeborn/issues/312,celeborn,1333269295,312,[FEATURE] Support zstd compression,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-08-09T13:34:54Z,2022-09-20T07:54:26Z,"### Is your feature request related to a problem? Please describe.

Zstd is a modern compression algorithm w/ good trade-off between compression ratio and speed. In our testing, the zstd-jni:1.5.2 (level 1) could achieve the same speed and ~2x compression ratio comparing to lz4 in Spark shuffle scenario.

### Describe the solution you'd like

Implementing a zstd version of `RssLz4Trait`, some refactoring is needed.

### Describe alternatives you've considered

Use `org.apache.spark.io.CompressionCodec`, which is adopted by Spark build-in shuffle, is much much solid.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/312/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/312,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jdue4,celeborn,1232529336,312,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-08-31T06:45:34Z,2022-08-31T06:45:34Z,@waitinfuture Can close this,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jdue4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/313,https://api.github.com/repos/apache/celeborn/issues/313,celeborn,1334126406,313,[BUG] Make distribution should contains docker dir,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-08-10T06:11:03Z,2022-08-10T08:37:44Z,"### What is the bug?
use `./dev/make-distribution.sh` build tar doesn't contains docker dir.

### How to reproduce the bug?
Run  `./dev/make-distribution.sh -Pspark-3 -Plog4j-1`

### Could you share logs or screenshots?


/cc @who-need-to-know

/assign @zwangsheng 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/313/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/313,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IIkYx,celeborn,1210205745,313,NA,zwangsheng,52876270,Binjie Yang,,NA,2022-08-10T06:11:45Z,2022-08-10T06:11:45Z,I'm willing submit PR fix this.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IIkYx/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/315,https://api.github.com/repos/apache/celeborn/issues/315,celeborn,1334162679,315,[FEATURE] Dockerfile need arg indicates current rss version,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-08-10T06:52:12Z,2022-08-10T13:03:47Z,"### Is your feature request related to a problem? Please describe.
Now Dockerfile have not arg help indicate rss package version.

### Describe the solution you'd like
Dockerfile add ARG `rss_version`

### Describe alternatives you've considered

/cc @fanyilun 

/assign @zwangsheng 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/315/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/318,https://api.github.com/repos/apache/celeborn/issues/318,celeborn,1334242055,318,[FEATURE] Add clustering algorithms to support adaptive disk groups.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-10T08:08:21Z,2024-02-07T05:34:50Z,"### Is your feature request related to a problem
We should make RSS able to cluster disk groups by disk speed.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
Add some clustering algorithms to equalize the disk speed of a disk group.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/318/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/319,celeborn,1335686283,319,[QUESTION] How to enable dynamic executors allocation by using RSS to manage shuffle,brave-lee,42576980,JinYong Li,,CLOSED,2022-08-11T09:15:32Z,2022-08-15T05:38:12Z,"22/08/11 17:08:04 WARN cluster.YarnSchedulerBackend$YarnSchedulerEndpoint: Attempted to request executors before the AM has registered!
22/08/11 17:08:05 ERROR yarn.ApplicationMaster: User class threw exception: org.apache.spark.SparkException: Dynamic allocation of executors requires the external shuffle service. You may enable this through spark.shuffle.service.enabled.
org.apache.spark.SparkException: Dynamic allocation of executors requires the external shuffle service. You may enable this through spark.shuffle.service.enabled.
	at org.apache.spark.ExecutorAllocationManager.validateSettings(ExecutorAllocationManager.scala:234)
	at org.apache.spark.ExecutorAllocationManager.<init>(ExecutorAllocationManager.scala:143)
	at org.apache.spark.SparkContext.<init>(SparkContext.scala:546)
	at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2549)
	at org.apache.spark.sql.SparkSession$Builder$$anonfun$7.apply(SparkSession.scala:944)
	at org.apache.spark.sql.SparkSession$Builder$$anonfun$7.apply(SparkSession.scala:935)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/319/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR8y6,celeborn,1212665018,319,NA,brave-lee,42576980,JinYong Li,,NA,2022-08-12T02:15:56Z,2022-08-12T02:15:56Z,@FMX Can it support enable dynamic executors allocation,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR8y6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR9Gj,celeborn,1212666275,319,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-08-12T02:18:20Z,2022-08-12T02:18:20Z,"> @FMX Can it support enable dynamic executors allocation

After backport patch https://github.com/alibaba/RemoteShuffleService/tree/main/assets/spark-patch  you can enable dynamic allocation","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR9Gj/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR90l,celeborn,1212669221,319,NA,brave-lee,42576980,JinYong Li,,NA,2022-08-12T02:25:19Z,2022-08-12T02:25:19Z,Is this PR code included in version 0.1.1-release ？,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR90l/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR-b6,celeborn,1212671738,319,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-08-12T02:31:18Z,2022-08-12T02:31:18Z,"> Is this PR code included in version 0.1.1-release ？

you should backport the patch to your spark's code
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR-b6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR_Lh,celeborn,1212674785,319,NA,brave-lee,42576980,JinYong Li,,NA,2022-08-12T02:39:02Z,2022-08-12T02:39:02Z,"OK. I got it, thanks","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IR_Lh/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/319,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IZZAU,celeborn,1214615572,319,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-08-15T04:47:19Z,2022-08-15T04:47:19Z,Can close this.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IZZAU/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/320,https://api.github.com/repos/apache/celeborn/issues/320,celeborn,1335694186,320,[FEATURE] Support worker status recover after restart,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-11T09:22:51Z,2022-11-29T05:09:03Z,"### Is your feature request related to a problem? Please describe.
https://docs.google.com/document/d/1-kwoQ0DofuTG8nA9DKC5Pz0idDDHL-5n_G1TRhVwnBU/edit#heading=h.ppikr69abcj2

### Describe the solution you'd like
A clear and concise description of what you want to happen.

- [x] [[1] Worker trigger shutdown hook when run command `stop-worker.sh`](https://github.com/alibaba/RemoteShuffleService/issues/321)
- [x] [[2] After stopping worker, reject reserve slot request. ](https://github.com/alibaba/RemoteShuffleService/issues/364)
- [x] [[3] Stop worker after all PartitionLocation is removed](https://github.com/alibaba/RemoteShuffleService/issues/322)
- [x] [[4] Shutdown PartitionSorter should graceful shutdown](https://github.com/alibaba/RemoteShuffleService/issues/360)
- [x] [[5] Extract Partition's file name/length/ChunkOffset FileInfo trait from FileWriter](https://github.com/alibaba/RemoteShuffleService/issues/323)
- [x] [[6] FileInfo support recover from LevelDB](https://github.com/alibaba/RemoteShuffleService/issues/362)
- [x] [[7] Master should handle registered worker with same port](https://github.com/alibaba/RemoteShuffleService/issues/367) 
- [x] [[8] RetryingChunkClient openChunks failed should wait](https://github.com/alibaba/RemoteShuffleService/issues/385)
- [x] [[9] Refactor code](https://github.com/alibaba/RemoteShuffleService/issues/412) 
- [x] [[10] Restart scrip to quickly start worker after stop](https://github.com/alibaba/RemoteShuffleService/issues/388)
- [x] [[11] Doc about worker recover usage](https://github.com/alibaba/RemoteShuffleService/issues/387)
- [x] #901
- [x] #987
- [x] #989

Related BUG fix

- [[BUG] Add synchronization to FileInfo and workingDirWriters to fix concurrent issues](https://github.com/alibaba/RemoteShuffleService/issues/407)
- [[BUG] Worker RPC conf not work](https://github.com/alibaba/RemoteShuffleService/issues/418)
- [[BUG] Make sure before sort file, sortedFile and indexFile is empty](https://github.com/alibaba/RemoteShuffleService/issues/457)
- [[BUG] Should sync update sortingFiles and sortedFiles](https://github.com/alibaba/RemoteShuffleService/issues/493)

### Describe alternatives you've considered

A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/320/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/321,https://api.github.com/repos/apache/celeborn/issues/321,celeborn,1335695316,321,[FEATURE] Worker trigger shutdown hook when run command `stop-worker`,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-11T09:23:54Z,2022-08-15T04:50:43Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/321/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/322,https://api.github.com/repos/apache/celeborn/issues/322,celeborn,1335697256,322,[FEATURE] Stop worker after all PartitionLocation is removed,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-11T09:25:44Z,2022-08-18T04:02:39Z,"### Is your feature request related to a problem? Please describe.
Currently:

- ReserveSlot will add PartitionLocation to PartitionLocationInfo
- DestroySlot will remove corresponding PartitionLocation from PartitionLocationInfo
- CommitFile reply will remove corresponding PartitionLocation from partitionLocationInfo
- OpenStream will directory use file path from StorageInfo

So graceful shut down should only need to wait all PartitionLocation removed

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/322/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/323,https://api.github.com/repos/apache/celeborn/issues/323,celeborn,1335698371,323,[FEATURE] Extract Partition's  file name/length/ChunkOffset  FileMeta trait from FileWriter,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-11T09:26:46Z,2022-08-18T08:33:41Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/323/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/323,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IXq6w,celeborn,1214164656,323,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-08-13T14:02:09Z,2022-08-13T14:02:09Z,"For KV store, RocksDB is a more future-proof option than LevelDB, specifically, LevelDB does not work on Apple Silicon but RocksDB does(see [SPARK-35782](https://issues.apache.org/jira/browse/SPARK-35782))","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IXq6w/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/325,https://api.github.com/repos/apache/celeborn/issues/325,celeborn,1336090516,325,[REFACTOR] Refine error log for ChunkFetchFailure,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-11T15:00:05Z,2022-08-11T16:18:53Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/325/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/327,https://api.github.com/repos/apache/celeborn/issues/327,celeborn,1336682867,327,[REFACTOR] Remove unused logAvailableFlushBuffersTask,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-12T02:34:40Z,2022-08-15T04:51:04Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/327/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/329,https://api.github.com/repos/apache/celeborn/issues/329,celeborn,1336723283,329,[BUG] Should not sleep if reserve slots successfully in reserveSlotsWithRetry,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-12T04:03:43Z,2022-08-12T04:27:28Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/329/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/332,https://api.github.com/repos/apache/celeborn/issues/332,celeborn,1337405252,332,Support flush disk buffer to HDFS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:18:33Z,2022-08-23T13:04:46Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/332/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/333,https://api.github.com/repos/apache/celeborn/issues/333,celeborn,1337406408,333,Sort shuffle files to HDFS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:19:12Z,2022-08-25T09:48:10Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/333/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/334,https://api.github.com/repos/apache/celeborn/issues/334,celeborn,1337410799,334,Read directly from HDFS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:22:46Z,2022-08-31T06:51:08Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/334/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/335,https://api.github.com/repos/apache/celeborn/issues/335,celeborn,1337414279,335,Add evicting check and trigger a hard split.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:26:00Z,2024-02-07T05:34:51Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/335/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/336,https://api.github.com/repos/apache/celeborn/issues/336,celeborn,1337414646,336,Flush data when evicting.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:26:21Z,2024-02-07T05:34:51Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/336/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/337,https://api.github.com/repos/apache/celeborn/issues/337,celeborn,1337414925,337,Transfer local shuffle file to HDFS/OSS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:26:38Z,2024-02-07T05:34:52Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/337/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/338,https://api.github.com/repos/apache/celeborn/issues/338,celeborn,1337417036,338,Support flush disk buffer to OSS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:28:42Z,2024-02-07T05:34:52Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/338/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/339,https://api.github.com/repos/apache/celeborn/issues/339,celeborn,1337417125,339,Sort shuffle files to OSS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:28:47Z,2024-02-07T05:34:53Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/339/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/340,https://api.github.com/repos/apache/celeborn/issues/340,celeborn,1337417304,340,Read directly from OSS.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:28:56Z,2024-02-07T05:34:53Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/340/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/341,https://api.github.com/repos/apache/celeborn/issues/341,celeborn,1337417800,341,Flush disk buffer to memory shuffle storage.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:29:26Z,2024-02-07T05:34:54Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/341/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/342,https://api.github.com/repos/apache/celeborn/issues/342,celeborn,1337417971,342,Read from memory shuffle storage.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:29:37Z,2024-02-07T05:34:54Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/342/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/343,https://api.github.com/repos/apache/celeborn/issues/343,celeborn,1337418113,343,Flush data from memory shuffle storage to local disk.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-12T16:29:46Z,2024-02-07T05:34:54Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/343/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/350,https://api.github.com/repos/apache/celeborn/issues/350,celeborn,1338101365,350,[BUG] Failed to compile w/ Spark 3.1,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-08-14T01:04:44Z,2022-08-17T07:59:51Z,"### What is the bug?

The project claims to support Spark 3.x, but I can not compile w/ Spark 3.1.3

```
[INFO] -----------------< com.aliyun.emr:rss-shuffle-manager >-----------------
[INFO] Building Aliyun E-MapReduce Shuffle Service Shuffle Manager for Spark 0.2.0-SNAPSHOT [5/8]
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rss-shuffle-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/chengpan/Projects/remote-shuffle-service/client-spark/shuffle-manager-3/src/main/resources
[INFO]
[INFO] --- scala-maven-plugin:3.3.2:compile (scala-compile-first) @ rss-shuffle-manager ---
[WARNING]  Expected all dependencies to require Scala version: 2.12.10
[WARNING]  org.scala-lang:scala-reflect:2.12.10 requires scala version: 2.12.10
[WARNING]  com.twitter:chill_2.12:0.9.5 requires scala version: 2.12.10
[WARNING]  org.apache.spark:spark-network-common_2.12:3.1.3 requires scala version: 2.12.10
[WARNING]  org.scala-lang.modules:scala-xml_2.12:1.2.0 requires scala version: 2.12.8
[WARNING] Multiple versions of scala libraries detected!
[INFO] /Users/chengpan/Projects/remote-shuffle-service/client-spark/shuffle-manager-3/src/main/java:-1: info: compiling
[INFO] /Users/chengpan/Projects/remote-shuffle-service/client-spark/shuffle-manager-3/src/main/scala:-1: info: compiling
[INFO] Compiling 6 source files to /Users/chengpan/Projects/remote-shuffle-service/client-spark/shuffle-manager-3/target/classes at 1660438235855
[ERROR] /Users/chengpan/Projects/remote-shuffle-service/client-spark/shuffle-manager-3/src/main/scala/org/apache/spark/shuffle/rss/RssShuffleManager.scala:180: error: overriding method getReader in trait ShuffleManager of type [K, C](handle: org.apache.spark.shuffle.ShuffleHandle, startPartition: Int, endPartition: Int, context: org.apache.spark.TaskContext, metrics: org.apache.spark.shuffle.ShuffleReadMetricsReporter)org.apache.spark.shuffle.ShuffleReader[K,C];
[ERROR]  method getReader cannot override final member
[ERROR]   def getReader[K, C](
[ERROR]       ^
[ERROR] one error found
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for Aliyun E-MapReduce Shuffle Service Project Parent POM 0.2.0-SNAPSHOT:
[INFO]
[INFO] Aliyun E-MapReduce Shuffle Service Project Parent POM SUCCESS [  0.183 s]
[INFO] Aliyun E-MapReduce Shuffle Service Common .......... SUCCESS [ 12.680 s]
[INFO] Aliyun E-MapReduce Shuffle Service Java Client ..... SUCCESS [  5.030 s]
[INFO] Aliyun E-MapReduce Shuffle Service Shuffle Manager for Spark SUCCESS [  3.181 s]
[INFO] Aliyun E-MapReduce Shuffle Service Shuffle Manager for Spark FAILURE [  1.896 s]
[INFO] Aliyun E-MapReduce Shuffle Service Server Common ... SKIPPED
[INFO] Aliyun E-MapReduce Shuffle Service Service Master Module SKIPPED
[INFO] Aliyun E-MapReduce Shuffle Service Service Worker Module SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
```

### How to reproduce the bug?
Steps to reproduce the bug.

```
mvn package -DskipTests -Pspark-3 -Plog4j-1 -Dspark.version=3.1.3
```

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/350/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/351,https://api.github.com/repos/apache/celeborn/issues/351,celeborn,1338116307,351,[FEATURE] Trigger split when reaching disk space limitation,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-14T02:44:24Z,2022-08-15T06:59:26Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/351/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/353,https://api.github.com/repos/apache/celeborn/issues/353,celeborn,1338201805,353,[BUG] Only remove dirOperator for IOHang,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-14T10:42:06Z,2022-08-14T11:34:24Z,"### What is the bug?
When disk is full, DeviceMonitor will trigger ReadOrWrite error, which is criticalError, then dirOperator for the directory will be removed and shutdown, as a result the shuffle data will never be cleaned up.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/353/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/357,https://api.github.com/repos/apache/celeborn/issues/357,celeborn,1338500156,357,[REFACTOR] Remove duplicate handleStageEnd,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-15T03:46:46Z,2022-08-15T05:00:22Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.


/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/357/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/360,https://api.github.com/repos/apache/celeborn/issues/360,celeborn,1338595648,360,[FEATURE] Shutdown PartitionSorter should graceful shutdown,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-15T06:29:23Z,2022-08-19T16:26:00Z,"### Is your feature request related to a problem? Please describe.
After shutdown sorter, we should keep:

1. Reject new sort partition request
2. Finished tasks success and remain sorted file and index file(auto read index file after sort)
3. Rejected tasks remain origin files

In our prod, sorting files is always quick. 
<img width=""1378"" alt=""截屏2022-08-15 下午2 38 09"" src=""https://user-images.githubusercontent.com/46485123/184588107-caed42ab-aa4e-49c9-ac49-d1bd2fb925ed.png"">

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/360/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/362,https://api.github.com/repos/apache/celeborn/issues/362,celeborn,1338796248,362,[FEATURE] FileInfo  support recover from LevelDB,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-15T10:13:08Z,2022-08-22T08:31:48Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/362/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/363,https://api.github.com/repos/apache/celeborn/issues/363,celeborn,1339787448,363,[FEATURE] Add metrics for worker recover 's each process,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-16T04:17:12Z,2022-08-25T06:51:52Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/363/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/364,https://api.github.com/repos/apache/celeborn/issues/364,celeborn,1339881935,364,"[FEATURE] After stopping worker, reject reserve slot request.",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-16T06:35:58Z,2022-08-18T04:02:37Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/364/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/367,https://api.github.com/repos/apache/celeborn/issues/367,celeborn,1340075585,367,[FEATURE] Master should handle registered worker with same port,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-16T09:34:17Z,2022-08-18T06:53:22Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/367/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/368,https://api.github.com/repos/apache/celeborn/issues/368,celeborn,1340489835,368,[FEATURE] Not split if file size is smaller than minimum threshold,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-16T14:59:32Z,2022-08-16T15:15:44Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/368/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/371,https://api.github.com/repos/apache/celeborn/issues/371,celeborn,1341096036,371,[FEATURE] Choose usable disk while reserving slots ,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-17T02:53:00Z,2022-08-17T07:56:21Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/371/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/374,https://api.github.com/repos/apache/celeborn/issues/374,celeborn,1341123690,374,"[DOC] Update ""Load Balance"" section",waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-17T03:38:58Z,2024-02-07T05:34:55Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/374/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/375,https://api.github.com/repos/apache/celeborn/issues/375,celeborn,1341305575,375,"[BUG] After trigger pausePushData,  new added channel still can push data",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-17T07:25:49Z,2022-08-18T03:29:56Z,"### What is the bug?
When MemoryTracker trigger pausePushData
<img width=""1041"" alt=""截屏2022-08-17 下午3 14 37"" src=""https://user-images.githubusercontent.com/46485123/185057804-608fdff5-1f29-4115-9e3b-f76846565ced.png"">
ChannelLimiter call method `onPause`
```
  @Override
  public void onPause(String moduleName) {
    if (this.moduleName.equals(moduleName)) {
      logger.info(this.moduleName + "" channels pause read."");
      pauseAllChannels();
    }
  }
```

but don't paused new added 
```
  @Override
  public void handlerAdded(ChannelHandlerContext ctx) throws Exception {
    channels.add(ctx.channel());
    super.handlerAdded(ctx);
  }
```

So worker still receive PushData/PushMergedData and push server memory increased and OOM
```
22/08/17 07:41:36,633 INFO [MemoryTracker-action-thread] MemoryTracker: Trigger pausePushDataAndResumeReplicate action
22/08/17 07:41:36,634 INFO [MemoryTracker-action-thread] ChannelsLimiter: push channels pause read.
22/08/17 07:41:36,765 INFO [MemoryTracker-action-thread] ChannelsLimiter: replicate channels resume read.
22/08/17 07:41:36,766 INFO [MemoryTracker-action-thread] MemoryTracker: Trigger trim action
22/08/17 07:41:36,774 INFO [MemoryTracker-action-thread] MemoryTracker: Trigger trim action
22/08/17 07:41:36,781 INFO [MemoryTracker-action-thread] MemoryTracker: Trigger trim action
```
<img width=""873"" alt=""截屏2022-08-17 下午3 25 27"" src=""https://user-images.githubusercontent.com/46485123/185059681-85f1eb2f-7198-43db-af5a-c704f42bf3a3.png"">

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/375/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/379,https://api.github.com/repos/apache/celeborn/issues/379,celeborn,1341403930,379,[BUG] On Kubernetes RSS Master Start Fail,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-08-17T08:49:07Z,2022-08-18T07:49:11Z,"### What is the bug?
Follow On_Kubernetes.md to start RSS on Kubernetes.
Fail to Start RSS Master.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
```
starting com.aliyun.emr.rss.service.deploy.master.Master, logging to /opt/rss-0.2.0-SNAPSHOT-bin-release/logs/rss--com.aliyun.emr.rss.service.deploy.master.Master-1-shuffleservice-master-0.out
Exception in thread ""main"" java.lang.NumberFormatException: For input string: ""tcp://XXXXX:7337""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:580)
	at java.lang.Integer.parseInt(Integer.java:615)
	at scala.collection.immutable.StringLike.toInt(StringLike.scala:304)
	at scala.collection.immutable.StringLike.toInt$(StringLike.scala:304)
	at scala.collection.immutable.StringOps.toInt(StringOps.scala:33)
	at com.aliyun.emr.rss.service.deploy.master.MasterArguments.<init>(MasterArguments.scala:35)
	at com.aliyun.emr.rss.service.deploy.master.Master$.main(Master.scala:650)
	at com.aliyun.emr.rss.service.deploy.master.Master.main(Master.scala)
```

/cc @fanyilun 

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/379/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/379,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IlLYw,celeborn,1217705520,379,NA,zwangsheng,52876270,Binjie Yang,,NA,2022-08-17T08:52:53Z,2022-08-17T08:52:53Z,We can circumvent this problem by setting `RSS_MASTER_PORT: 7337` in `${RSS_HOME}/docker/helm/values.yaml`.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5IlLYw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/379,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Iqr-V,celeborn,1219149717,379,NA,zwangsheng,52876270,Binjie Yang,,NA,2022-08-18T07:48:55Z,2022-08-18T07:48:55Z,Personal circumstances cause this that do not recur after removing factors. Close this issue.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Iqr-V/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/381,https://api.github.com/repos/apache/celeborn/issues/381,celeborn,1342514025,381,[FEATURE] Optimize Docker Image size,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-08-18T03:22:35Z,2023-03-06T06:03:45Z,"### Is your feature request related to a problem? Please describe.
Now Docker construction directly uses base images `centos`, we can optimize its occupancy size. For details, see Spark's Dockerfile

### Describe the solution you'd like

### Describe alternatives you've considered
Using openjdk:jre-X-slim or openjdk:jdk-X-slim instead

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/381/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/382,https://api.github.com/repos/apache/celeborn/issues/382,celeborn,1342581918,382,[REFACTOR] Remove destroy hook in FileWriter.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-18T05:34:51Z,2022-08-18T09:04:35Z,"### Describe the intention you'd like
Remove destroy hook since it's a bad idea.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/382/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/383,https://api.github.com/repos/apache/celeborn/issues/383,celeborn,1342582435,383,[DOC] Add comment about channel limiter synchronization.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-18T05:35:44Z,2022-08-18T06:55:06Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/383/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/385,https://api.github.com/repos/apache/celeborn/issues/385,celeborn,1342714474,385,[FEATURE] RetryingChunkClient openChunks failed should wait when disable replicate,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-18T08:07:32Z,2022-08-18T09:04:39Z,"### Is your feature request related to a problem? Please describe.
When close worker open stream failed
```
22/08/18 15:25:45,764 WARN [fetch-server-11-12] TransportRequestHandler: Fail to sending result ChunkFetchSuccess{streamChunkId=StreamChunkId{streamId=1675775640085, chunkIndex=0}, buffer=FileSegmentManagedBuffer{file=/mnt/disk/0/rss-worker/shuffle_data/application_1659496226079_3301656/3/2-0-0, offset=0, length=8566516}} to /xx.xx.xx.xx:38074; closing connection
io.netty.channel.StacklessClosedChannelException
	at io.netty.channel.AbstractChannel.close(ChannelPromise)(Unknown Source)
```

RetryingChunkClient.openChunks directly failed after 4 tries
```
Caused by: java.io.IOException: Could not open chunks after 4 tries.
	at com.aliyun.emr.rss.client.read.RetryingChunkClient.openChunks(RetryingChunkClient.java:139)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl$PartitionReader.<init>(RssInputStream.java:369)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl.createReader(RssInputStream.java:191)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl.moveToNextReader(RssInputStream.java:161)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl.<init>(RssInputStream.java:153)
	at com.aliyun.emr.rss.client.read.RssInputStream.create(RssInputStream.java:63)
	at com.aliyun.emr.rss.client.ShuffleClientImpl.readPartition(ShuffleClientImpl.java:868)
	at org.apache.spark.shuffle.rss.RssShuffleReader.$anonfun$read$1(RssShuffleReader.scala:64)
	at org.apache.spark.shuffle.rss.RssShuffleReader.$anonfun$read$1$adapted(RssShuffleReader.scala:60)
	at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)
	at scala.collection.immutable.Range.foreach(Range.scala:158)
	at scala.collection.TraversableLike.map(TraversableLike.scala:238)
	at scala.collection.TraversableLike.map$(TraversableLike.scala:231)
	at scala.collection.AbstractTraversable.map(Traversable.scala:108)
	at org.apache.spark.shuffle.rss.RssShuffleReader.read(RssShuffleReader.scala:60)
	at org.apache.spark.sql.execution.ShuffledRowRDD.compute(ShuffledRowRDD.scala:212)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)
	at org.apache.spark.scheduler.Task.run(Task.scala:131)
	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1465)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
```

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/385/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/387,https://api.github.com/repos/apache/celeborn/issues/387,celeborn,1342720451,387,[DOC] Doc about worker recover usage,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-18T08:12:24Z,2022-08-31T06:44:35Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/387/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/388,https://api.github.com/repos/apache/celeborn/issues/388,celeborn,1342722679,388,[FEATURE] Restart scrip to quickly start worker after stop,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-18T08:14:28Z,2022-09-19T12:57:03Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/388/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/390,https://api.github.com/repos/apache/celeborn/issues/390,celeborn,1343028619,390,[Refactor] refactor apis for HDFS write.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-18T12:27:08Z,2022-08-19T13:58:58Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/390/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/392,https://api.github.com/repos/apache/celeborn/issues/392,celeborn,1343886741,392,[DOC] Add documentation about setting up prometheus cluster and node exporter.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-19T03:25:35Z,2022-08-19T13:47:50Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/392/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/396,https://api.github.com/repos/apache/celeborn/issues/396,celeborn,1344567959,396,[BUG] Incorrectly report Slow Flusher,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-19T15:09:08Z,2022-08-19T15:12:08Z,"### What is the bug?
22/08/19 22:09:49,057 ERROR [local-storage-scheduler] LocalDeviceMonitor: Receive report exception, ArrayBuffer(/mnt/disk2/hadoop/rss-worker/shuffle_data, /mnt/disk2/hadoop/rss-worker/shuffle_data), java.io.IOException: Slow Flusher!

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/396/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/399,https://api.github.com/repos/apache/celeborn/issues/399,celeborn,1345078735,399,[BUG] Duplicate code in notifyHealthy,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-20T07:06:05Z,2022-08-20T07:23:58Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/399/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/401,https://api.github.com/repos/apache/celeborn/issues/401,celeborn,1345082771,401,[REFACTOR] Remove DeviceObserver.reportError(),waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-20T07:27:02Z,2022-08-20T08:08:54Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/401/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/403,https://api.github.com/repos/apache/celeborn/issues/403,celeborn,1345091323,403,[REFACTOR] Refactor StorageManager,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-20T08:13:17Z,2022-08-21T15:19:17Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/403/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/405,https://api.github.com/repos/apache/celeborn/issues/405,celeborn,1345461551,405,[REFACTOR] Upgrade Resource.proto version to proto3; Deduplicate messages between Resource.proto and TransportMessages.proto,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-21T11:32:27Z,2024-02-07T05:34:55Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/405/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/407,https://api.github.com/repos/apache/celeborn/issues/407,celeborn,1345755314,407,[BUG] Add synchronization to FileInfo and workingDirWriters to fix concurrent issues,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T03:28:24Z,2022-08-22T04:04:56Z,"### What is the bug?
```
22/08/22 00:45:31,418 ERROR [worker-forward-message-scheduler] Utils: Uncaught exception in thread worker-forward-message-scheduler
java.util.ConcurrentModificationException
        at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:911)
        at java.util.ArrayList$Itr.next(ArrayList.java:861)
        at scala.collection.convert.Wrappers$JIteratorWrapper.next(Wrappers.scala:46)
        at scala.collection.Iterator.foreach(Iterator.scala:943)
        at scala.collection.Iterator.foreach$(Iterator.scala:943)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)
        at scala.collection.IterableLike.foreach(IterableLike.scala:74)
        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)
        at scala.collection.TraversableLike.map(TraversableLike.scala:286)
        at scala.collection.TraversableLike.map$(TraversableLike.scala:279)
        at scala.collection.AbstractTraversable.map(Traversable.scala:108)
        at com.aliyun.emr.rss.service.deploy.worker.StorageManager.$anonfun$updateDiskInfos$3(StorageManager.scala:574)
        at com.aliyun.emr.rss.service.deploy.worker.StorageManager.$anonfun$updateDiskInfos$3$adapted(StorageManager.scala:571)
        at scala.collection.immutable.List.map(List.scala:293)
        at com.aliyun.emr.rss.service.deploy.worker.StorageManager.$anonfun$updateDiskInfos$2(StorageManager.scala:571)
        at com.aliyun.emr.rss.service.deploy.worker.StorageManager.$anonfun$updateDiskInfos$2$adapted(StorageManager.scala:570)
        at scala.collection.immutable.List.foreach(List.scala:431)
        at com.aliyun.emr.rss.service.deploy.worker.StorageManager.updateDiskInfos(StorageManager.scala:570)
        at com.aliyun.emr.rss.service.deploy.worker.Worker.heartBeatToMaster(Worker.scala:195)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$$anon$1.$anonfun$run$1(Worker.scala:229)
        at com.aliyun.emr.rss.common.util.Utils$.tryLogNonFatalError(Utils.scala:173)
        at com.aliyun.emr.rss.service.deploy.worker.Worker$$anon$1.run(Worker.scala:229)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)

```

```
22/08/22 00:00:50,927 ERROR [push-server-6-3] PushDataHandler: Error while handlePushData PushData{requestId=377408, mode=0, shuffleKey=application_1660226621060_0175-127, partitionUniqueId=446-0, body size=35960}
java.lang.NullPointerException
        at com.aliyun.emr.rss.common.network.server.FileInfo.getFileLength(FileInfo.java:49)
        at com.aliyun.emr.rss.service.deploy.worker.PushDataHandler.handlePushData(PushDataHandler.scala:195)
        at com.aliyun.emr.rss.service.deploy.worker.PushDataHandler.receive(PushDataHandler.scala:72)
        at com.aliyun.emr.rss.common.network.server.TransportRequestHandler.handle(TransportRequestHandler.java:79)
        at com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:118)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
        at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
        at com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
        at java.lang.Thread.run(Thread.java:750)
```

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/407/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/409,https://api.github.com/repos/apache/celeborn/issues/409,celeborn,1345760112,409,[BUG] Device checker should not report error when checking process timeout,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T03:35:56Z,2022-08-22T04:00:01Z,"### What is the bug?
```
22/08/21 23:57:17,508 ERROR [worker-disk-checker] Utils: TimeoutException in thread worker-disk-checker, error message: Disk: /mnt/disk1 Usage Check Timeout
22/08/21 23:57:17,509 ERROR [worker-disk-checker] LocalDeviceMonitor: /mnt/disk1 high_disk_usage error, notify observers
```

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/409/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/411,https://api.github.com/repos/apache/celeborn/issues/411,celeborn,1345767577,411,[BUG] DiskBuffer metric leak,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-22T03:47:55Z,2022-08-25T08:50:25Z,"### What is the bug?
<img width=""870"" alt=""截屏2022-08-22 上午11 48 18"" src=""https://user-images.githubusercontent.com/46485123/185834782-7f6b44a5-1cd1-4e4a-b323-031a25e185a3.png"">
<img width=""1740"" alt=""截屏2022-08-22 上午11 48 24"" src=""https://user-images.githubusercontent.com/46485123/185834788-2324589c-cdaf-4204-b2fc-490105bd4ad2.png"">


### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/411/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/412,https://api.github.com/repos/apache/celeborn/issues/412,celeborn,1345814988,412,[REFACTOR] Refactor code related to WorkerRecover,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-22T04:58:08Z,2022-08-31T06:44:10Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/412/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/413,https://api.github.com/repos/apache/celeborn/issues/413,celeborn,1345826626,413,[BUG] disk usage not right,lichaojacobs,7459785,lichaojacobs,lichaojacobs@tju.edu.cn,CLOSED,2022-08-22T05:13:43Z,2022-08-22T06:54:07Z,"### What is the bug?

totalSpace in `checkDiskUsage` is not right, should be `usage.length - 5` not `usage.length - 1`
![image](https://user-images.githubusercontent.com/7459785/185843874-0f2c0f73-7eeb-41e7-bf9b-ba6b07863b09.png)


### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/413/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/415,https://api.github.com/repos/apache/celeborn/issues/415,celeborn,1345908384,415,[REFACTOR] Refactor StorageManager,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-22T06:51:43Z,2022-08-25T06:51:02Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/415/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/417,https://api.github.com/repos/apache/celeborn/issues/417,celeborn,1345986160,417,[BUG] handleUnregisterShuffle and StageEnd trigger double handleStageEnd,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T08:03:02Z,2022-08-22T09:13:09Z,"### What is the bug?
1. Unregister shuffle triggers handleStageEnd
```
22/08/22 12:47:00 INFO LifecycleManager: Call StageEnd before Unregister Shuffle 60.
```
2. handleStageEnd success, maybe triggered by handleUnregisterShuffle or StageEnd
```
22/08/22 12:47:51 INFO LifecycleManager: Succeed to handle stageEnd for 60.
```
3. reports data lost
```
22/08/22 12:48:28 ERROR LifecycleManager: For 60 partition 2185-0: data lost.
22/08/22 12:48:28 ERROR LifecycleManager: Failed to handle stageEnd for 60, lost file!
```
4. report unregister success
```
22/08/22 12:48:28 INFO LifecycleManager: Unregister for 60 success.
```

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/417/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/418,https://api.github.com/repos/apache/celeborn/issues/418,celeborn,1346025595,418,[BUG] Start master/worker should respect rpc port setting,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-22T08:31:26Z,2022-08-22T09:20:39Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/418/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/421,https://api.github.com/repos/apache/celeborn/issues/421,celeborn,1346072020,421,[FEATURE] There are plans to support S3?,liugs0213,55676558,,,CLOSED,2022-08-22T09:07:58Z,2022-08-26T10:13:19Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/421/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/421,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5I14oA,celeborn,1222085120,421,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-08-22T09:20:14Z,2022-08-22T09:20:14Z,"In our plan of supporting layered storage, we will support HDFS and OSS first, after that we will consider S3 according to requirements. See
https://github.com/alibaba/RemoteShuffleService/issues/146","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5I14oA/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/422,https://api.github.com/repos/apache/celeborn/issues/422,celeborn,1346072193,422,[BUG] DeviceMonitor should not trigger IoHang when device stat file unavailable,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T09:08:07Z,2022-08-22T09:13:35Z,"### What is the bug?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

### Could you share logs or screenshots?
If applicable, add logs/screenshots to help explain your problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/422/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/424,https://api.github.com/repos/apache/celeborn/issues/424,celeborn,1346117145,424,[FEATURE] Make DeviceMonitor's checklist configurable,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T09:42:12Z,2022-08-22T15:12:58Z,"### Is your feature request related to a problem? Please describe.
We can add a configuration like ""rss.device.monitor.checklist"", and possible configs include ""readwrite"", ""diskusage"" and ""iohang"".
DeviceMonitor triggers check according to the checklist.
Better default to ""readwrite"" and ""diskusage"" only, excludes ""iohang"" which may mis-report.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @liugs0213

/assign @liugs0213
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/424/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/425,https://api.github.com/repos/apache/celeborn/issues/425,celeborn,1346153500,425,[REFACTOR] Avoid trigger trim action if the same action is in process,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T10:10:44Z,2022-08-22T11:20:02Z,"### Describe the intention you'd like
![image](https://user-images.githubusercontent.com/948245/185896960-8145b679-26ca-46cf-aa59-5969968fa1f7.png)



/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/425/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/427,https://api.github.com/repos/apache/celeborn/issues/427,celeborn,1346299718,427,[DOC] Add section in README about deploying on k8s,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T12:10:11Z,2024-02-07T05:34:56Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/427/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/428,https://api.github.com/repos/apache/celeborn/issues/428,celeborn,1346344120,428,[REFACTOR] Should not check blacklist when reserveSlots to avoid ping-pang situation,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T12:35:34Z,2022-08-22T13:00:44Z,"### Describe the intention you'd like
Consider the situation that at some time LifecycleManager has local blacklist while the Master thinks all workers are healthy. At the time LifecycleManager processes handleGetBlacklist, before clear blacklist, another thread triggers reserveSlots, checks blacklist and report worker failure, then after handleGetBlacklist clears blacklist, reserveSlots adds it back.

Since reserveSlots send request to workers which are allocated by Master, which means Master thinks these workers are healthy.

```
22/08/22 20:03:39 INFO LifecycleManager: Try reserve slots for application_1660226621060_0180-549 for 1 times.
22/08/22 20:03:39 WARN LifecycleManager: [reserve buffer] failed due to blacklist:
Host: 192.168.15.9
RpcPort: 37761
PushPort: 37903
FetchPort: 37517
ReplicatePort: 38449
SlotsUsed: 0()
LastHeartBeat: 0
Disks: {}
WorkerRef: NettyRpcEndpointRef(rss://WorkerEndpoint@192.168.15.9:37761)

22/08/22 20:03:41 INFO LifecycleManager: Received Blacklist from Master, blacklist: [] unkown workers: []
22/08/22 20:03:50 INFO LifecycleManager: Report Worker Failure: Buffer(
Host: 192.168.15.9
RpcPort: 37761
PushPort: 37903
FetchPort: 37517
ReplicatePort: 38449
SlotsUsed: 0()
LastHeartBeat: 0
Disks: {}
WorkerRef: NettyRpcEndpointRef(rss://WorkerEndpoint@192.168.15.9:37761)
)
```

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/428/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/429,https://api.github.com/repos/apache/celeborn/issues/429,celeborn,1346348279,429,[BUG] blacklistPartition should add worker from workersSnapshot instead of PartitionLocation,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-22T12:37:33Z,2022-08-22T13:00:26Z,"### What is the bug(with logs or screenshots)?
PartitionLocation.getWorker returns worker whose endpoint is null, which will never be cleared from blacklist since blacklist re-adds workers with null endpoint.
```
22/08/22 18:21:03 WARN LifecycleManager: Do Revive for shuffle application_1660226621060_0180-298, oldPartition: PartitionLocation[226-0 192.168.15.9:37761:37903:37517:38449 Mode: Master peer: 192.168.15.6:37533:37413:37387 storage hint:StorageHint{type=MEMORY, mountPoint='/mnt/disk1', finalResult=false}], cause: StatusCode{value=PushDataFailMain}
22/08/22 18:21:03 INFO LifecycleManager: Report Worker Failure: Buffer(
Host: 192.168.15.9
RpcPort: 37761
PushPort: 37903
FetchPort: 37517
ReplicatePort: 38449
SlotsUsed: 0()
LastHeartBeat: 0
Disks: {}
WorkerRef: null
)
```


### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/429/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/434,https://api.github.com/repos/apache/celeborn/issues/434,celeborn,1347282843,434,[REFACTOR] Refine logs,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-23T03:40:56Z,2022-08-23T06:16:39Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/434/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/436,https://api.github.com/repos/apache/celeborn/issues/436,celeborn,1347416483,436,[REFACTOR] Refine metrics,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-23T06:36:54Z,2022-08-23T10:26:48Z,"![image](https://user-images.githubusercontent.com/948245/186087757-a29f45c9-9093-4e53-8418-13eda5e58499.png)
1. Fix metrics_RegisteredShuffleCount_Value inconsistent between master and worker
2. Delete OverloadWorkerCount
3. Change slotsUsed to SlotsAllocated in last hour

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/436/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/438,https://api.github.com/repos/apache/celeborn/issues/438,celeborn,1347538170,438,[BUG] The node IP cannot be obtained correctly when deploying the okd cluster node,lukeyan2023,108530647,Luke Yan,,CLOSED,2022-08-23T08:20:43Z,2023-12-24T01:05:30Z,"### What is the bug(with logs or screenshots)?

When RSS is deployed on the node of the okd cluster, the node IP cannot be obtained correctly after the master is started

### How to reproduce the bug?

Prerequisite: a deployed okd cluster, version 4.10
1.Select the node of the okd cluster as the RSS deployment environment, configure it according to the official guidelines, and then start the RSS master
2. Use netstat - tuanp to view the port monitored by the master. You will find that the monitored IP is not the node IP

Could you share logs or screenshots?

![19c60310bd2a77840dfead870f3d5b1](https://user-images.githubusercontent.com/108530647/186108263-e7fc8d9d-89a6-4935-8a15-37ef0d769bac.png)

![0a8415055229d201d8772c8bbe88c3c](https://user-images.githubusercontent.com/108530647/186108561-4ba273aa-7d66-429d-b94f-4ad6f18c319f.png)


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/438/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/438,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5I8OCT,celeborn,1223745683,438,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-08-23T08:38:11Z,2022-08-23T08:38:11Z,rss.master.address is for client，you can try --host xxx，or set environment variable RSS_MASTER_HOST to bind host when start master,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5I8OCT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/440,https://api.github.com/repos/apache/celeborn/issues/440,celeborn,1347896683,440,Clean expired hdfs files and keep one replication.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-23T12:46:28Z,2022-08-26T14:03:44Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/440/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/441,https://api.github.com/repos/apache/celeborn/issues/441,celeborn,1347974435,441,[REFACTOR] Refactor cluster load check to cluster alive check,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-23T13:36:31Z,2022-08-23T15:02:24Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/441/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/443,https://api.github.com/repos/apache/celeborn/issues/443,celeborn,1348764611,443,[FEATURE] Support customized working dir,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-24T02:40:19Z,2022-08-24T03:28:47Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/443/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/445,https://api.github.com/repos/apache/celeborn/issues/445,celeborn,1348783091,445,[FEATURE] HDFS writer respect working dir configuration.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-24T03:04:59Z,2022-08-24T07:25:04Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/445/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/448,https://api.github.com/repos/apache/celeborn/issues/448,celeborn,1348988394,448,[QUESTION] 采用 HA 部署时，对主节点个数有要求么？,fuhaiq,5200755,,fuhaiq@gmail.com,CLOSED,2022-08-24T07:23:23Z,2022-08-25T06:36:56Z,"在讨论区提了下，没人回复，只好丢在 issue 里面了

https://github.com/alibaba/RemoteShuffleService/discussions/395

---

我看到 HA 模式下，例子配置了3个主节点，个数有要求么？

有建议么？比如最少3个，奇数个？2个可以么？
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/448/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/448,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JCdrN,celeborn,1225382605,448,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-08-24T08:40:35Z,2022-08-24T08:40:35Z,至少3个，奇数。我们对discussions区确实关注不太够😭,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JCdrN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/450,https://api.github.com/repos/apache/celeborn/issues/450,celeborn,1349101898,450,[FEATURE] Fix performance regression,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-24T08:57:50Z,2022-08-24T11:32:43Z,"### Is your feature request related to a problem? Please describe.
When compare TPC-DS 3T between main branch and branch-0.1, we found that round-robin is slower than branch-0.1, which is unexpected because the high-level allocation algorithm are basically the same.
```
main roundrobin:   5332s
branch-0.1:        5027s
```
After digging deeper I found that's because branch-0.1 first allocates master locations round-robin, then slave locations round-robin, however in main branch it allocates (master, slave) pairs round-robin. As a result, say one worker has two disks disk1 and disk2, we find all master partitions are allocated on disk1 and all slave partitions are allocated on disk2, which is different from branch-0.1 which disk1 and disk2 have the same number of both master partitions and slave partitions.
Experiments show that when change main branch algorithm vivic to branch-0.1, we get the performance back.
Time of q74:
```
branch-0.1:          58.749s
main before fix:     70.114s
main after fix:      58.987s
```

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/450/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/453,https://api.github.com/repos/apache/celeborn/issues/453,celeborn,1349168941,453,[REFACTOR] Refine code in MasterUtils,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-24T09:51:13Z,2022-08-25T02:24:09Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/453/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/454,https://api.github.com/repos/apache/celeborn/issues/454,celeborn,1349252379,454,[FEATURE] Add Worker Service for k8s case,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-08-24T10:56:16Z,2022-08-24T13:56:27Z,"### Is your feature request related to a problem? Please describe.
On Kubernetes case, we need headless service for worker service.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/454/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/457,https://api.github.com/repos/apache/celeborn/issues/457,celeborn,1349278723,457,"[BUG] Make sure before sort file, sortedFile and indexFile is empty",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-24T11:18:22Z,2022-08-25T06:50:02Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/457/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/463,https://api.github.com/repos/apache/celeborn/issues/463,celeborn,1350479651,463,[BUG] Client can not connect to masters if master has two nodes only.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-25T07:53:55Z,2022-11-01T08:00:27Z,"### What is the bug(with logs or screenshots)?

> com.aliyun.emr.rss.common.rpc.RpcTimeoutException: Futures timed out after [30 seconds]. This timeout is controlled by rss.rpc.lookupTimeout
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout.com$aliyun$emr$rss$common$rpc$RpcTimeout$$createRpcTimeoutException(RpcTimeout.scala:46)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:61)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:57)
> 	at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)
> 	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
> 	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.setupEndpointRef(RssHARetryClient.java:247)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:225)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.lambda$send$0(RssHARetryClient.java:111)
> 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
> 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
> 	at java.lang.Thread.run(Thread.java:750)
> Caused by: java.util.concurrent.TimeoutException: Futures timed out after [30 seconds]
> 	at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)
> 	at scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)
> 	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
> 	... 11 more
> 22/08/25 15:26:10 WARN RssHARetryClient: Connect to master-1-1:9097 failed.
> com.aliyun.emr.rss.common.rpc.RpcTimeoutException: Futures timed out after [30 seconds]. This timeout is controlled by rss.rpc.lookupTimeout
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout.com$aliyun$emr$rss$common$rpc$RpcTimeout$$createRpcTimeoutException(RpcTimeout.scala:46)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:61)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:57)
> 	at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)
> 	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
> 	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.setupEndpointRef(RssHARetryClient.java:247)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:225)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
> 	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
> 	at com.aliyun.emr.rss.client.write.LifecycleManager.checkAlive(LifecycleManager.scala:1307)
> 	at org.apache.spark.shuffle.rss.RssShuffleFallbackPolicyRunner.checkAlive(RssShuffleFallbackPolicyRunner.scala:67)
> 	at org.apache.spark.shuffle.rss.RssShuffleFallbackPolicyRunner.applyAllFallbackPolicy(RssShuffleFallbackPolicyRunner.scala:32)
> 	at org.apache.spark.shuffle.rss.RssShuffleManager.registerShuffle(RssShuffleManager.java:100)
> 	at org.apache.spark.ShuffleDependency.<init>(Dependency.scala:99)
> 	at org.apache.spark.rdd.ShuffledRDD.getDependencies(ShuffledRDD.scala:87)
> 	at org.apache.spark.rdd.RDD.$anonfun$dependencies$2(RDD.scala:264)
> 	at scala.Option.getOrElse(Option.scala:189)
> 	at org.apache.spark.rdd.RDD.dependencies(RDD.scala:260)
> 	at org.apache.spark.scheduler.DAGScheduler.visit$2(DAGScheduler.scala:755)
> 	at org.apache.spark.scheduler.DAGScheduler.eagerlyComputePartitionsForRddAndAncestors(DAGScheduler.scala:762)
> 	at org.apache.spark.scheduler.DAGScheduler.submitJob(DAGScheduler.scala:880)
> 	at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:928)
> 	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2214)
> 	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2235)
> 	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2254)
> 	at org.apache.spark.SparkContext.runJob(SparkContext.scala:2279)
> 	at org.apache.spark.rdd.RDD.count(RDD.scala:1253)
> 	at $line18.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw.<init>(<console>:28)
> 	at $line18.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw.<init>(<console>:32)
> 	at $line18.$read$$iw$$iw$$iw$$iw$$iw$$iw.<init>(<console>:34)
> 	at $line18.$read$$iw$$iw$$iw$$iw$$iw.<init>(<console>:36)
> 	at $line18.$read$$iw$$iw$$iw$$iw.<init>(<console>:38)
> 	at $line18.$read$$iw$$iw$$iw.<init>(<console>:40)
> 	at $line18.$read$$iw$$iw.<init>(<console>:42)
> 	at $line18.$read$$iw.<init>(<console>:44)
> 	at $line18.$read.<init>(<console>:46)
> 	at $line18.$read$.<init>(<console>:50)
> 	at $line18.$read$.<clinit>(<console>)
> 	at $line18.$eval$.$print$lzycompute(<console>:7)
> 	at $line18.$eval$.$print(<console>:6)
> 	at $line18.$eval.$print(<console>)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:498)
> 	at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.call(IMain.scala:747)
> 	at scala.tools.nsc.interpreter.IMain$Request.loadAndRun(IMain.scala:1020)
> 	at scala.tools.nsc.interpreter.IMain.$anonfun$interpret$1(IMain.scala:568)
> 	at scala.reflect.internal.util.ScalaClassLoader.asContext(ScalaClassLoader.scala:36)
> 	at scala.reflect.internal.util.ScalaClassLoader.asContext$(ScalaClassLoader.scala:116)
> 	at scala.reflect.internal.util.AbstractFileClassLoader.asContext(AbstractFileClassLoader.scala:41)
> 	at scala.tools.nsc.interpreter.IMain.loadAndRunReq$1(IMain.scala:567)
> 	at scala.tools.nsc.interpreter.IMain.interpret(IMain.scala:594)
> 	at scala.tools.nsc.interpreter.IMain.interpret(IMain.scala:564)
> 	at scala.tools.nsc.interpreter.ILoop.interpretStartingWith(ILoop.scala:865)
> 	at scala.tools.nsc.interpreter.ILoop.command(ILoop.scala:733)
> 	at scala.tools.nsc.interpreter.ILoop.processLine(ILoop.scala:435)
> 	at scala.tools.nsc.interpreter.ILoop.loop(ILoop.scala:456)
> 	at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:239)
> 	at org.apache.spark.repl.Main$.doMain(Main.scala:78)
> 	at org.apache.spark.repl.Main$.main(Main.scala:58)
> 	at org.apache.spark.repl.Main.main(Main.scala)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:498)
> 	at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)
> 	at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:955)
> 	at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)
> 	at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)
> 	at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)
> 	at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1043)
> 	at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1052)
> 	at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
> Caused by: java.util.concurrent.TimeoutException: Futures timed out after [30 seconds]
> 	at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)
> 	at scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)
> 	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)
> 	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
> 	... 71 more

### How to reproduce the bug?
V0.1 is not affected.
The latest code has this problem.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/463/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/465,https://api.github.com/repos/apache/celeborn/issues/465,celeborn,1351165568,465,[BUG] Common module scalatest style unit test don't actually run,nafiyAix,30563796,nafiy,,CLOSED,2022-08-25T16:27:49Z,2022-08-29T02:37:00Z,"### What is the bug(with logs or screenshots)?
Some unit tests don't actually run, such as RssConfSuite, WorkerInfoSuite, UtilsSuite, both in my local mvn test and the github pipeline.
![image](https://user-images.githubusercontent.com/30563796/186719171-1c48bae6-8ed8-4920-8331-1e3f83461f86.png)
![image](https://user-images.githubusercontent.com/30563796/186719321-c5da637d-6d43-416a-8d14-55a0cad9beef.png)


### How to reproduce the bug?
1. mvn clean test -Pspark-3.1 -Plog4j-1 
2. check any PR's pipeline's unit test part log

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/465/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/467,https://api.github.com/repos/apache/celeborn/issues/467,celeborn,1351872584,467,[BUG] update partition size failed in HA mode.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-26T07:29:54Z,2022-08-26T08:16:21Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.
<img width=""1008"" alt=""DC077D69-079B-4E02-8977-851A1F0BD7A9"" src=""https://user-images.githubusercontent.com/4150993/186847371-2182faff-6682-4fbf-8d07-4c92bcc2b47e.png"">


### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/467/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/474,https://api.github.com/repos/apache/celeborn/issues/474,celeborn,1353132427,474,[BUG] Master may not start success in HA mode on K8s,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-08-27T20:02:12Z,2022-11-01T11:16:11Z,"### What is the bug(with logs or screenshots)?

```
22/08/28 03:57:34 ERROR HAMasterMetaManager: Handle update partition size failed!
com.google.protobuf.ServiceException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: node1@group-085C98AE2908 is not in [RUNNING]: current state is STARTING
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.ha.HARaftServer.submitRequest(HARaftServer.java:224)
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.ha.HAMasterMetaManager.handleUpdatePartitionSize(HAMasterMetaManager.java:273)
	at com.aliyun.emr.rss.service.deploy.master.Master$$anon$1.run(Master.scala:100)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: node1@group-085C98AE2908 is not in [RUNNING]: current state is STARTING
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.ha.HARaftServer.submitRequest(HARaftServer.java:222)
	... 9 more
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: node1@group-085C98AE2908 is not in [RUNNING]: current state is STARTING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:701)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:700)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:790)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:783)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:783)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
```

```
22/08/28 01:44:35 ERROR AbstractMetaManager: Worker register failed
com.aliyun.emr.rss.common.exception.RssException: Exception thrown in awaitResult:
	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:224)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.AbstractMetaManager.updateRegisterWorkerMeta(AbstractMetaManager.java:195)
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.ha.MetaHandler.handleWriteRequest(MetaHandler.java:196)
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.ha.StateMachine.runCommand(StateMachine.java:271)
	at com.aliyun.emr.rss.service.deploy.master.clustermeta.ha.StateMachine.lambda$applyTransaction$1(StateMachine.java:246)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: Connecting to /10.156.135.58:41983 timed out (10000 ms)
	at com.aliyun.emr.rss.common.network.client.TransportClientFactory.internalCreateClient(TransportClientFactory.java:221)
	at com.aliyun.emr.rss.common.network.client.TransportClientFactory.createClient(TransportClientFactory.java:170)
	at com.aliyun.emr.rss.common.network.client.TransportClientFactory.createClient(TransportClientFactory.java:177)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:187)
	at com.aliyun.emr.rss.common.rpc.netty.Outbox$$anon$1.call(Outbox.scala:194)
	at com.aliyun.emr.rss.common.rpc.netty.Outbox$$anon$1.call(Outbox.scala:190)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
```

### How to reproduce the bug?

Use the helm template to deploy and re-deploy rss on K8s w/ 3 masters and 3 workers, hostPath is used, so raft log is retained when re-deploy master, but pods' ip changed every time.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/474/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/474,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JSzvx,celeborn,1229667313,474,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-08-29T02:15:05Z,2022-08-29T02:15:05Z,"This was noticed, our solution is to start master nodes and wait for 60 seconds to ensure all master nodes are alive and ready. 
This problem means that the worker node starts before the master nodes are ready.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JSzvx/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/474,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS4rt,celeborn,1229687533,474,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-08-29T02:49:07Z,2022-08-29T02:49:07Z,"The failure exists consistently in dozens of minutes, do you mean the out-of-ordered startup may corrupt the master raft cluster(sounds unreasonable)?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS4rt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/474,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JZCW3,celeborn,1231300023,474,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-08-30T08:00:39Z,2022-08-30T08:00:39Z,"After using the latest codes to test, I can not reproduce this problem.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JZCW3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/474,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JdT54,celeborn,1232420472,474,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-08-31T03:35:21Z,2022-08-31T03:35:21Z,"Thanks for helping to dig out. It disappeared after I re-setup, and I found there are some other issues in our K8s infrastructure, not sure if it's related. Anyway, let's leave it now.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JdT54/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/475,https://api.github.com/repos/apache/celeborn/issues/475,celeborn,1353592123,475,[BUG] could not run select count(*) successful,xudalei1977,55309244,"Xu, DaLei",,CLOSED,2022-08-29T02:18:20Z,2022-11-01T11:15:28Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

start the spark-sql as:
spark-sql \
--master yarn \
--deploy-mode client \
--num-executors 5 \
--executor-cores 2 \
--executor-memory 8G \
--driver-cores 1 \
--driver-memory 4G \
--conf ""spark.dynamicAllocation.enabled=false"" \
--conf ""spark.sql.debug.maxToStringFields=500"" \
--conf ""spark.shuffle.manager=org.apache.spark.shuffle.rss.RssShuffleManager"" \
--conf ""spark.serializer=org.apache.spark.serializer.KryoSerializer"" \
--conf ""spark.rss.master.address=ip-10-0-0-151.ec2.internal:9097"" \
--conf ""spark.shuffle.service.enabled=false"" \
--conf ""spark.rss.push.data.replicate=true"" \
--conf ""spark.sql.adaptive.localShuffleReader.enabled=false"" \
--conf ""spark.sql.adaptive.enabled=true"" \
--conf ""spark.sql.adaptive.skewJoin.enabled=true""

spark-sql> select * from rss_1;
1
1
Time taken: 6.193 seconds, Fetched 2 row(s)
spark-sql> select count(*) from rss_1;
2305843014045532161
Time taken: 2.832 seconds, Fetched 1 row(s)

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/475/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/475,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS3e2,celeborn,1229682614,475,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-08-29T02:39:36Z,2022-08-29T02:39:36Z,"@xudalei1977  What branch do you use while running ""select count(*) ""? Can you share your build's git commit id?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS3e2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/475,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS6ls,celeborn,1229695340,475,NA,xudalei1977,55309244,"Xu, DaLei",,NA,2022-08-29T03:03:40Z,2022-08-29T03:03:40Z,"> 

the master branch, follow the readme to build.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS6ls/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/475,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS-Oi,celeborn,1229710242,475,NA,xudalei1977,55309244,"Xu, DaLei",,NA,2022-08-29T03:23:48Z,2022-08-29T03:23:48Z,"> @xudalei1977 What branch do you use while running ""select count(*) ""? Can you share your build's git commit id?

6d9b81957e3122673c2a10731e9a3b098a03900b","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JS-Oi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/475,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JTji3,celeborn,1229863095,475,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-08-29T07:03:49Z,2022-08-29T07:03:49Z,"I tested https://github.com/alibaba/RemoteShuffleService/commit/6d9b81957e3122673c2a10731e9a3b098a03900b on Spark-3.2.1 and didn't reproduce the bug.
```
spark-sql> select * from test;
22/08/29 15:06:31 WARN SessionState: METASTORE_FILTER_HOOK will be ignored, since hive.security.authorization.manager is set to instance of HiveAuthorizerFactory.
1
Time taken: 4.237 seconds, Fetched 1 row(s)
spark-sql> select count(*) from test;
1
Time taken: 4.064 seconds, Fetched 1 row(s)
```

The following log proves RSS is used
```
22/08/29 15:06:40,235 INFO [dispatcher-event-loop-32] Master: Offer slots successfully for 1 reducers of application_1661174368345_0183-0 on 1 workers.
22/08/29 15:06:40,236 INFO [dispatcher-event-loop-32] Master: Offered extra 2 slots for application_1661174368345_0183-0
22/08/29 15:06:40,459 INFO [dispatcher-event-loop-30] Master: [handleReleaseSlots] Release all slots of application_1661174368345_0183-0
```","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JTji3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/475,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JVjnt,celeborn,1230387693,475,NA,xudalei1977,55309244,"Xu, DaLei",,NA,2022-08-29T14:26:20Z,2022-08-29T14:26:20Z,"> 

i use AWS EMR 6.5.0, Spark 3.1.2,

spark-sql> select * from rss_1;
22/08/29 14:24:12 WARN SessionState: METASTORE_FILTER_HOOK will be ignored, since hive.security.authorization.manager is set to instance of HiveAuthorizerFactory.
1
1
Time taken: 10.281 seconds, Fetched 2 row(s)
spark-sql> select count(*) from rss_1;
2305843018340499456
Time taken: 11.333 seconds, Fetched 1 row(s)
spark-sql> 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JVjnt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/476,https://api.github.com/repos/apache/celeborn/issues/476,celeborn,1353815138,476,refactor read apis to support read from hdfs.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-29T07:11:18Z,2022-08-30T03:03:32Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/476/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/479,https://api.github.com/repos/apache/celeborn/issues/479,celeborn,1354211243,479,[REFACTOR] Merge HDD and SSD to LOCAL in StorageInfo.Type,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-08-29T12:28:32Z,2024-02-07T05:34:56Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/479/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/480,https://api.github.com/repos/apache/celeborn/issues/480,celeborn,1354456054,480,RSS with spark dynamic allocation,fhalde,7455872,Faiz Halde,haldefaiz@gmail.com,CLOSED,2022-08-29T15:04:25Z,2022-11-01T11:15:41Z,"The docs don't mention this but if i were to setup an RSS for my spark setup, does it mean i can leverage sparks dynamic allocation? currently according to spark documentation, if i want to set dynamic allocation I need to be able to set `spark.shuffle.service.enabled` which defeats the point of having a RSS setup

There also seems to be an option of `spark.dynamicAllocation.shuffleTracking.enabled`","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/480/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/480,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JYLXt,celeborn,1231074797,480,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-08-30T02:40:23Z,2022-08-30T02:40:23Z,"Hi, RSS supports spark's dynamic allocation, see the following section in README:
```
Support Spark Dynamic Allocation
We provide a patch to enable users to use Spark with both dynamic allocation and Remote Shuffle Service. For Spark2.x check [Spark2 Patch](https://github.com/alibaba/RemoteShuffleService/blob/main/assets/spark-patch/RSS_RDA_spark2.patch).
For Spark3.x check [Spark3 Patch](https://github.com/alibaba/RemoteShuffleService/blob/main/assets/spark-patch/RSS_RDA_spark3.patch).
```
To enable DRA with RSS, after applying the above patches, spark.shuffle.service.enabled should be set to false, and there is no need to set spark.dynamicAllocation.shuffleTracking.enabled","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JYLXt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/482,https://api.github.com/repos/apache/celeborn/issues/482,celeborn,1355679002,482,[REFACTOR] RetryingChunkClient should show clear error message,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-30T12:19:25Z,2022-08-31T02:11:53Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/482/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/484,https://api.github.com/repos/apache/celeborn/issues/484,celeborn,1355695848,484,[FEATURE] Worker RPC message metrics,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-30T12:32:05Z,2022-09-01T08:47:32Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/484/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/485,https://api.github.com/repos/apache/celeborn/issues/485,celeborn,1355712627,485,[BUG] Remove unused NetWorkResource,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-30T12:44:27Z,2022-08-30T13:05:36Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/485/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/487,https://api.github.com/repos/apache/celeborn/issues/487,celeborn,1356642953,487,[REFACTOR] Refactor device monitor related logs,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-31T02:06:19Z,2022-08-31T02:11:07Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/487/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/489,https://api.github.com/repos/apache/celeborn/issues/489,celeborn,1356941679,489,[FEATURE] Implement more info for restful metrics,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-08-31T07:47:50Z,2022-09-19T12:56:53Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/489/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/491,https://api.github.com/repos/apache/celeborn/issues/491,celeborn,1357166162,491,[FEATURE] Remove shuffle files immediately if shuffle writes failed.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-08-31T10:58:58Z,2024-02-07T05:34:56Z,"### [FEATURE] Remove shuffle files immediately if shuffle writes failed.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/491/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/493,https://api.github.com/repos/apache/celeborn/issues/493,celeborn,1358204218,493,[BUG] Should sync update sortingFiles and sortedFiles,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-01T03:43:29Z,2022-09-01T03:57:48Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/493/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/496,https://api.github.com/repos/apache/celeborn/issues/496,celeborn,1358419846,496,[BUG] Ensure all file channels write whole buffer.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-01T08:00:13Z,2022-09-07T04:33:18Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/496/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/498,https://api.github.com/repos/apache/celeborn/issues/498,celeborn,1358870822,498,[FEATURE] Worker should clean shuffle data if not enable graceful shutdown,nafiyAix,30563796,nafiy,,CLOSED,2022-09-01T13:40:50Z,2022-09-04T07:54:12Z,"### Is your feature request related to a problem? Please describe.
If enable `rss.worker.graceful.shutdown`, worker will wait for the cleaner thread to clean up all expired shuffle's data before it stop. But if not enable this config, and shutdown the worker before the cleaner thread next round's execution such as the worker stop before receive the response about expired application or worker just directly shutdown during application shuffle, then worker will leave those uncleaned application's shuffle data dir on local disk. Then when next time restarting worker, it may make the master add this worker into blacklist because of no enough disk space.

![image](https://user-images.githubusercontent.com/30563796/187928844-5362ef0b-bf29-49ad-8e24-d9ad990e4f77.png)


22/09/01 21:38:07,912 WARN [device-check-thread-1] DeviceMonitor: /mnt/ssd/xxx usage:{total:/mnt/ssd/xxx GB, free:73 GB, used_percent:92%}
22/09/01 21:38:07,912 ERROR [worker-disk-checker] LocalDeviceMonitor: /mnt/ssd/xxx high_disk_usage error, notify observers
22/09/01 21:38:07,914 ERROR [worker-disk-checker] LocalStorageManager: LocalStorageManager is notified high disk usage,dirs ListBuffer(/mnt/ssd/xxx/rss-worker/shuffle_data), updated numSlots: 0
22/09/01 21:38:08,073 WARN [Master-Meta-StateMachine] AbstractMetaManager: Worker:
Host: xxx.xxx.xxx.xxx
RpcPort: 22247
PushPort: 29881
FetchPort: 27025
ReplicatePort: 31341
TotalSlots: 0
SlotsUsed: 0
SlotsAvailable: 0
LastHeartBeat: 0
WorkerRef: null
 num total slots is 0, add to blacklist

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/498/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/504,https://api.github.com/repos/apache/celeborn/issues/504,celeborn,1359277189,504,[IMPROVE] Print log only when blacklist changes,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-09-01T19:00:55Z,2024-02-07T05:34:57Z,"Enhance `LifecycleManager#handleGetBlacklist` to print log only when blacklist changes
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/504/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/505,https://api.github.com/repos/apache/celeborn/issues/505,celeborn,1359624533,505,[REFACTOR] Remove module server-common,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-02T02:21:21Z,2022-09-02T03:11:44Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/505/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/508,https://api.github.com/repos/apache/celeborn/issues/508,celeborn,1359730334,508,[REFACTOR] Switch docker base image to Eclipse Temurin,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-09-02T05:44:19Z,2022-09-07T13:22:59Z,"It's ubuntu-based.

Adopted by Apache Spark: https://github.com/apache/spark/pull/37705

Adopted by Apache Flink: https://www.mail-archive.com/dev@flink.apache.org/msg59881.html","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/508/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/510,https://api.github.com/repos/apache/celeborn/issues/510,celeborn,1359896263,510,[IMPROVEMENT] RSS master's raft meta file size is too large after a long running.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-02T08:50:08Z,2022-09-02T10:27:16Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/510/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/511,https://api.github.com/repos/apache/celeborn/issues/511,celeborn,1359964924,511,[DOC] Keep `rss.ha.ratis.snapshot.auto.trigger.enabled` 's default value same in code and doc,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-02T09:51:33Z,2022-09-02T10:26:30Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/511/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/513,https://api.github.com/repos/apache/celeborn/issues/513,celeborn,1360052105,513,[REFACTOR] Unify thread name prefix in Spark Client,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-09-02T11:15:08Z,2024-02-07T05:34:57Z,"Use unified thread name prefix `rss-`(or something) for threads created by RSS 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/513/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/516,https://api.github.com/repos/apache/celeborn/issues/516,celeborn,1360770847,516,[FEATURE] Worker should clean remaining directory when start before registering to Master,nafiyAix,30563796,nafiy,,CLOSED,2022-09-03T06:14:00Z,2022-09-08T07:16:49Z,"### Is your feature request related to a problem? Please describe.
#498  and the discussion mentioned in https://github.com/alibaba/RemoteShuffleService/pull/515#issuecomment-1236036634

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/516/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/517,https://api.github.com/repos/apache/celeborn/issues/517,celeborn,1360895439,517,Spark3 patch to support columnar shuffle,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T15:55:22Z,2022-09-05T07:26:44Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/517/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/518,https://api.github.com/repos/apache/celeborn/issues/518,celeborn,1360896756,518,Get schema from shuffle dependency,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:00:31Z,2022-09-07T03:04:26Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/518/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/519,https://api.github.com/repos/apache/celeborn/issues/519,celeborn,1360905501,519,Support row to columnar for shuffle writer,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:18:44Z,2022-09-14T06:39:25Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/519/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/520,https://api.github.com/repos/apache/celeborn/issues/520,celeborn,1360905914,520,[FEATURE] Support columnar shuffle for RSS shuffle writer,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:20:15Z,2024-02-07T05:34:58Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/520/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/521,https://api.github.com/repos/apache/celeborn/issues/521,celeborn,1360906254,521,Support columnar to row for shuffle reader,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:21:43Z,2022-09-23T08:47:28Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/521/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/522,https://api.github.com/repos/apache/celeborn/issues/522,celeborn,1360906360,522,Support columnar shuffle for RSS shuffle reader,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:22:07Z,2022-11-01T11:13:05Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/522/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/523,https://api.github.com/repos/apache/celeborn/issues/523,celeborn,1360907717,523,Support encoding for shuffle writer,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:28:17Z,2022-09-19T08:08:23Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/523/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/524,https://api.github.com/repos/apache/celeborn/issues/524,celeborn,1360907832,524,Support decoding for shuffle reader,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:28:48Z,2024-02-07T05:34:58Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/524/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/525,https://api.github.com/repos/apache/celeborn/issues/525,celeborn,1360910063,525, Support code generation in the process of row to columnar,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:34:05Z,2024-02-07T05:29:32Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/525/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/526,https://api.github.com/repos/apache/celeborn/issues/526,celeborn,1360910166,526,[ISSUE-526][FEATURE]Support code generation in the process of columnar to row,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-03T16:34:37Z,2024-02-07T05:34:59Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/526/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/531,https://api.github.com/repos/apache/celeborn/issues/531,celeborn,1361456539,531,[REFACTOR] Fix wrong MetricSystem.WORKER_ROLE,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-05T06:20:08Z,2022-09-05T07:10:49Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/531/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/533,https://api.github.com/repos/apache/celeborn/issues/533,celeborn,1361516150,533,[FEATURE] Add metrics for client-side (both driver and task),waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-05T07:25:35Z,2024-02-07T05:34:59Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/533/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/534,https://api.github.com/repos/apache/celeborn/issues/534,celeborn,1361554553,534,[REFACTOR] Too much log for  `[handleGetReducerFileGroup] Wait for handleStageEnd complete`,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-05T08:01:40Z,2022-09-05T12:08:16Z,"### Describe the intention you'd like
```
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:51 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 0ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
22/09/05 15:58:52 INFO LifecycleManager: [handleGetReducerFileGroup] Wait for handleStageEnd complete cost 100ms
```
/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/534/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/537,https://api.github.com/repos/apache/celeborn/issues/537,celeborn,1361650880,537,[FEATURE] RPCSource implement Master RPC,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-05T09:23:46Z,2022-09-05T16:42:35Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/537/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/539,https://api.github.com/repos/apache/celeborn/issues/539,celeborn,1361675334,539,[BUG] Spotless with scalafmt not support remove unused import ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-05T09:44:29Z,2022-11-01T08:01:10Z,"### What is the bug(with logs or screenshots)?
https://github.com/diffplug/spotless/issues/892

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/539/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/543,https://api.github.com/repos/apache/celeborn/issues/543,celeborn,1361798095,543,[FEATURE] Worker should enable HttpServer even not enable metric system,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-05T11:33:04Z,2022-09-05T12:08:03Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/543/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/548,https://api.github.com/repos/apache/celeborn/issues/548,celeborn,1362097458,548,[Refactor] Unify code about master/worker's startup and HttpServer,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-05T14:36:35Z,2022-09-07T16:40:00Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/548/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/551,https://api.github.com/repos/apache/celeborn/issues/551,celeborn,1362195563,551,[BUG] CompressionMethod and checksum are not consistent when zstd level is negative,nafiyAix,30563796,nafiy,,CLOSED,2022-09-05T15:38:54Z,2022-09-11T05:51:27Z,"`[ERROR]   ClusterReadWriteTest.testMiniCluster:35->$anonfun$testMiniCluster$1$adapted:35->$anonfun$testMiniCluster$1:80 Checksum not equal! expected: -48877264, actual: 1814018951`

``` java
clientConf.set(""rss.client.compression.zstd.level"", ""-1"")
```
when zstd level less than 0, test failed. So do our product cluster.

_Originally posted by @zy-jordan in https://github.com/alibaba/RemoteShuffleService/pull/451#discussion_r962982555_","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/551/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/551,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5J3vo1,celeborn,1239349813,551,NA,zy-jordan,82567833,zy.jordan,,NA,2022-09-07T12:51:40Z,2022-09-07T12:51:40Z,"I think it most likely goes wrong on bit operations when **compressedLength >= length**
for example
### compress
``` java
// compressMethod: 16(COMPRESSION_METHOD_RAW)
// compressionLevel: -1
compressedBuffer[MAGIC_LENGTH] = (byte) (compressMethod | compressionLevel); // -1
```
### decompress
``` java
    int token = src[MAGIC_LENGTH] & 0xFF; // -1 & 0xFF : 255
    int compressionMethod = token & 0xF0; // 255 & 0xF0 : 240
```
In fact, the right _compressMethod_ is 16(COMPRESSION_METHOD_RAW) rather than ~~240~~","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5J3vo1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/551,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5J7M5F,celeborn,1240256069,551,NA,nafiyAix,30563796,nafiy,,NA,2022-09-08T05:58:11Z,2022-09-08T05:58:11Z,"Yes it is, I think it may be because the level is a negative number, then when calculating the token, its result will not be the same as the expectation, the normal result should be like the result of using a non-negative number level whose high bit corresponds to the compression method and the low bit corresponds to the compressor level. Maybe we can do some transformation on it to make it be a positive integer that won't collide with other level.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5J7M5F/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/552,https://api.github.com/repos/apache/celeborn/issues/552,celeborn,1362640779,552,[FEATURE] Dynamic configration,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-06T03:04:15Z,2024-02-07T05:35:00Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/552/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/555,https://api.github.com/repos/apache/celeborn/issues/555,celeborn,1362680045,555,[REFACTOR] Delete epoch from PushData,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-06T04:15:52Z,2022-11-01T11:12:14Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/555/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/556,celeborn,1362752823,556,[BUG] v0.1.2 compile faild,thomasg19930417,20243868,xu.guo,,CLOSED,2022-09-06T06:06:09Z,2022-09-07T03:20:45Z,"using command  ./dev/make-distribution.sh  -Pspark-3.2
![image](https://user-images.githubusercontent.com/20243868/188558776-ace6138b-7dae-4fed-ae28-da2915112d7c.png)

./dev/make-distribution.sh  -Pspark-3
![image](https://user-images.githubusercontent.com/20243868/188558864-7651c0b0-1cda-44cb-9cce-d6fbd2793afc.png)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/556/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxeUW,celeborn,1237706006,556,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-06T06:20:28Z,2022-09-06T06:20:28Z,ping @FMX ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxeUW/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxejE,celeborn,1237706948,556,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-09-06T06:21:55Z,2022-09-06T06:21:55Z,@thomasg19930417  branch-0.1 needs log4j profile.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxejE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxfE1,celeborn,1237709109,556,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-09-06T06:24:51Z,2022-09-06T06:24:51Z,"Using ""./dev/make-distribution.sh  -Pspark-3.2,log4j-1"" or  ""./dev/make-distribution.sh  -Pspark-3.2,log4j-2"".","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxfE1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jxn4H,celeborn,1237745159,556,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-06T07:10:15Z,2022-09-06T07:10:15Z,"> Using ""./dev/make-distribution.sh -Pspark-3.2,log4j-1"" or ""./dev/make-distribution.sh -Pspark-3.2,log4j-2"".
这里貌似只能指定到spark3版本，无法区分 3.2 、3.3.
![image](https://user-images.githubusercontent.com/20243868/188569150-495466f1-ceb7-489a-b764-1c50d04ca3a1.png)
修改pom spark-3 profile中spark 版本到3.2后编译报错
![image](https://user-images.githubusercontent.com/20243868/188569604-f72c2cd0-2937-4844-8092-9ce4b82369a3.png)




","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jxn4H/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JyBwY,celeborn,1237851160,556,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-06T08:49:08Z,2022-09-06T08:49:08Z,"3.2中getreader代码
![image](https://user-images.githubusercontent.com/20243868/188590832-df9efd0d-579a-4ee2-9601-dc3c04528174.png)
根据这个是不是直接把子类的这个实现去除就可以了
 def getReader[K, C](
      handle: ShuffleHandle,
      startPartition: Int,
      endPartition: Int,
      context: TaskContext,
      metrics: ShuffleReadMetricsReporter): ShuffleReader[K, C] = {
    handle match {","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JyBwY/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JyUa_,celeborn,1237927615,556,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-06T09:53:06Z,2022-09-06T09:53:06Z,"```
Build for Spark 2
./dev/make-distribution.sh -Pspark-2 -Plog4j-1/-Plog4j-2

Build for Spark 3
./dev/make-distribution.sh -Pspark-3 -Plog4j-1/-Plog4j-2
```
v0.1.2不需要指定具体的spark版本，直接指定spark-3就可以了，参考这个分支的README。main分支支持指定具体spark版本","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JyUa_/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/556,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jyj7T,celeborn,1237991123,556,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-06T10:54:36Z,2022-09-06T10:54:36Z,"> ```
> Build for Spark 2
> ./dev/make-distribution.sh -Pspark-2 -Plog4j-1/-Plog4j-2
> 
> Build for Spark 3
> ./dev/make-distribution.sh -Pspark-3 -Plog4j-1/-Plog4j-2
> ```
> 
> v0.1.2不需要指定具体的spark版本，直接指定spark-3就可以了，参考这个分支的README。main分支支持指定具体spark版本

好的 多谢","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jyj7T/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/557,celeborn,1362766883,557,[Question] SparkOutOfMemory caused by netty memory leak,thomasg19930417,20243868,xu.guo,,CLOSED,2022-09-06T06:23:56Z,2022-09-13T11:08:50Z,"Rss Version：v0.1.1
Exception：
![image](https://user-images.githubusercontent.com/20243868/188559124-3e3ab2d2-c17b-440d-8a9b-111fba1c404c.png)

参数信息:
spark.executor.memoryOverhead=3072
executor.cores=3
executor.memory=9G 
spark.rss.shuffle.writer.mode sort
spark.sql.shuffle.partitions=7200

shuffle reade阶段数据量有6T多
![image](https://user-images.githubusercontent.com/20243868/188560419-d698be91-92c1-43c6-8f4b-fbbdda863882.png)

这种情况下只能增加executor 的内存么 ，相同参数下在ess中是没有oom发生的







","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/557/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxfCg,celeborn,1237708960,557,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-06T06:24:37Z,2022-09-06T06:24:37Z,"辛苦哪位大佬指导一下
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxfCg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxfJQ,celeborn,1237709392,557,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-06T06:25:16Z,2022-09-06T06:25:16Z,看上去有内存泄漏 @FMX ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxfJQ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxhVj,celeborn,1237718371,557,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-06T06:37:13Z,2022-09-06T06:37:13Z,"我们内部复现一下，方便的话可以加一下微信群
![image](https://user-images.githubusercontent.com/948245/188563780-febb06cd-3d81-4a2a-8ae4-6a5cbe4407e3.png)

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JxhVj/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jyheq,celeborn,1237981098,557,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-06T10:44:13Z,2022-09-06T10:44:13Z,"> 辛苦哪位大佬指导一下

要不你用v0.1.2分支测一下？0.1.2进了修复memory leak的一个patch，不确定跟你的问题是不是同一个","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jyheq/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JyjiG,celeborn,1237989510,557,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-06T10:52:57Z,2022-09-06T10:52:57Z,"> > 辛苦哪位大佬指导一下
> 
> 要不你用v0.1.2分支测一下？0.1.2进了修复memory leak的一个patch，不确定跟你的问题是不是同一个

好的

尝试在executor 中加了下netty 的内存检测，不过没看到有打印相关代码，这个配置方式是有啥问题么
--conf ""spark.executor.extraJavaOptions=-XX:+UseG1GC -Dlog4j.configuration=log4j_spark3.properties -Dio.netty.leakDetectionLevel=advanced  -Dio.netty.leakDetection.level=advanced""","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5JyjiG/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jyxv8,celeborn,1238047740,557,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-06T11:58:09Z,2022-09-06T11:58:09Z,"> > > 辛苦哪位大佬指导一下
> > 
> > 
> > 要不你用v0.1.2分支测一下？0.1.2进了修复memory leak的一个patch，不确定跟你的问题是不是同一个
> 
> 好的
> 
> 尝试在executor 中加了下netty 的内存检测，不过没看到有打印相关代码，这个配置方式是有啥问题么 --conf ""spark.executor.extraJavaOptions=-XX:+UseG1GC -Dlog4j.configuration=log4j_spark3.properties -Dio.netty.leakDetectionLevel=advanced -Dio.netty.leakDetection.level=advanced""

看上去没啥问题","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Jyxv8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KAB2G,celeborn,1241521542,557,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-09T05:42:22Z,2022-09-09T05:42:22Z,"branche1 分支下，采用maven shade打包，替换了原有的netty包路径因此在使用原始netty leak参数时无法生效，这里需要使用替换后的路径：
--conf ""spark.driver.extraJavaOptions=-Dcom.aliyun.emr.io.netty.leakDetection.level=advanced"" \
--conf ""spark.executor.extraJavaOptions=-Dcom.aliyun.emr.io.netty.leakDetection.level=advanced"" ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KAB2G/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KAB-r,celeborn,1241522091,557,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-09T05:43:15Z,2022-09-09T05:43:15Z,"> branche1 分支下，采用maven shade打包，替换了原有的netty包路径因此在使用原始netty leak参数时无法生效，这里需要使用替换后的路径： --conf ""spark.driver.extraJavaOptions=-Dcom.aliyun.emr.io.netty.leakDetection.level=advanced"" --conf ""spark.executor.extraJavaOptions=-Dcom.aliyun.emr.io.netty.leakDetection.level=advanced""

main分支代码已经去除shade 方式","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KAB-r/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KACJ3,celeborn,1241522807,557,NA,thomasg19930417,20243868,xu.guo,,NA,2022-09-09T05:44:22Z,2022-09-09T05:44:22Z,"更换leak参数后，日志中打印的leak相关的代码信息

![1662693214707_5416B57C-36BB-4018-87D0-8F3DBAEEC7AD](https://user-images.githubusercontent.com/20243868/189279516-9ce30a36-faef-41a0-98ae-00581f3b317c.png)
![1662693237908_D7CECB36-0172-482f-B961-BF7487B2602F](https://user-images.githubusercontent.com/20243868/189279534-5447c8ad-5176-45b0-becd-f27db8450b11.png)

![1662693252862_9A48F82E-57FF-4950-A5FB-97465C5B80F7](https://user-images.githubusercontent.com/20243868/189279570-b3184b67-ce0e-440a-bdd6-73cf9ee607f5.png)

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KACJ3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/557,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KORaD,celeborn,1245255299,557,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-13T11:08:44Z,2022-09-13T11:08:44Z,Fixed in https://github.com/alibaba/RemoteShuffleService/pull/589 and https://github.com/alibaba/RemoteShuffleService/pull/590,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KORaD/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/559,https://api.github.com/repos/apache/celeborn/issues/559,celeborn,1363275747,559,[BUG] Netty memory metric is lower than actual memory usage.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-06T13:18:31Z,2024-02-07T05:35:00Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

v0.1.1
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/559/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/563,https://api.github.com/repos/apache/celeborn/issues/563,celeborn,1364357014,563,[FEATURE] Should update written size when commit file without limit,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-07T09:19:05Z,2022-11-01T07:59:17Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/563/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/565,https://api.github.com/repos/apache/celeborn/issues/565,celeborn,1364368082,565,[REFACTOR] Unify RPC name HeartbeatXxxxx,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-07T09:27:48Z,2022-09-07T13:33:54Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/565/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/567,https://api.github.com/repos/apache/celeborn/issues/567,celeborn,1364591013,567,[FEATURE] Optimize LifecycleManager.getLatestPartition,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-07T12:29:15Z,2022-09-07T13:06:50Z,"### Is your feature request related to a problem? Please describe.
Our users report cases that LifecycleManager blocks on getLatestPartition
![image](https://user-images.githubusercontent.com/948245/188878280-8d285ffe-3669-4d1c-84ec-7ce1e33855c4.png)
![image](https://user-images.githubusercontent.com/948245/188878377-71544d16-c80a-476f-8956-2437e7332f3d.png)



### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/567/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/568,https://api.github.com/repos/apache/celeborn/issues/568,celeborn,1364603932,568,[BUG] `MiniClusterFeature.createWorker` should use correct RpcEnv ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-07T12:39:06Z,2022-09-07T13:33:43Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/568/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/573,https://api.github.com/repos/apache/celeborn/issues/573,celeborn,1365448294,573,[BUG] CI failed because of running out of disk.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-08T03:01:15Z,2022-09-08T03:17:43Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/573/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/578,https://api.github.com/repos/apache/celeborn/issues/578,celeborn,1365771860,578,[FEATURE] Add unit test for codec,nafiyAix,30563796,nafiy,,CLOSED,2022-09-08T08:21:48Z,2022-09-11T10:14:58Z,"### Is your feature request related to a problem? Please describe.
To prevent similar issue like the #577 by unit test

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/578/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/580,https://api.github.com/repos/apache/celeborn/issues/580,celeborn,1367199758,580,[FEATURE] Add Metric sortedFiles count,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-09T02:29:10Z,2022-09-09T16:47:57Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/580/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/582,https://api.github.com/repos/apache/celeborn/issues/582,celeborn,1367210113,582,[REFACTOR] Refactor metrics name,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-09T02:48:47Z,2022-11-01T08:00:15Z,"### Describe the intention you'd like
https://prometheus.io/docs/practices/naming/

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/582/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/584,https://api.github.com/repos/apache/celeborn/issues/584,celeborn,1367584564,584,[BUG] Create Writer failed  should show clear file path,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-09T09:56:24Z,2022-09-09T16:47:46Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/584/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/588,https://api.github.com/repos/apache/celeborn/issues/588,celeborn,1368620427,588,[BUG] Memory leak in shuffle read,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-10T13:20:43Z,2022-09-10T14:16:50Z,"### What is the bug(with logs or screenshots)?
```
22/09/10 19:07:35 ERROR ResourceLeakDetector: LEAK: ByteBuf.release() was not called before it's garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.
Recent access records: 
#1:
	com.aliyun.emr.rss.common.network.buffer.NettyManagedBuffer.release(NettyManagedBuffer.java:65)
	com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:142)
	com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:119)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#2:
	com.aliyun.emr.rss.client.read.WorkerPartitionReader$1.onSuccess(WorkerPartitionReader.java:70)
	com.aliyun.emr.rss.client.read.RetryingChunkClient$RetryingChunkReceiveCallback.onSuccess(RetryingChunkClient.java:251)
	com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:141)
	com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:119)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#3:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareCompositeByteBuf.duplicate(AdvancedLeakAwareCompositeByteBuf.java:74)
	com.aliyun.emr.rss.common.network.buffer.NettyManagedBuffer.getBuf(NettyManagedBuffer.java:39)
	com.aliyun.emr.rss.client.read.WorkerPartitionReader$1.onSuccess(WorkerPartitionReader.java:68)
	com.aliyun.emr.rss.client.read.RetryingChunkClient$RetryingChunkReceiveCallback.onSuccess(RetryingChunkClient.java:251)
	com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:141)
	com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:119)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#4:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareCompositeByteBuf.readInt(AdvancedLeakAwareCompositeByteBuf.java:416)
	com.aliyun.emr.rss.common.network.protocol.StreamChunkSlice.decode(StreamChunkSlice.java:63)
	com.aliyun.emr.rss.common.network.protocol.ChunkFetchSuccess.decode(ChunkFetchSuccess.java:67)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:150)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:141)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:71)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#5:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareCompositeByteBuf.readInt(AdvancedLeakAwareCompositeByteBuf.java:416)
	com.aliyun.emr.rss.common.network.protocol.StreamChunkSlice.decode(StreamChunkSlice.java:62)
	com.aliyun.emr.rss.common.network.protocol.ChunkFetchSuccess.decode(ChunkFetchSuccess.java:67)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:150)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:141)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:71)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#6:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareCompositeByteBuf.readInt(AdvancedLeakAwareCompositeByteBuf.java:416)
	com.aliyun.emr.rss.common.network.protocol.StreamChunkSlice.decode(StreamChunkSlice.java:61)
	com.aliyun.emr.rss.common.network.protocol.ChunkFetchSuccess.decode(ChunkFetchSuccess.java:67)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:150)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:141)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:71)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#7:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareCompositeByteBuf.readLong(AdvancedLeakAwareCompositeByteBuf.java:428)
	com.aliyun.emr.rss.common.network.protocol.StreamChunkSlice.decode(StreamChunkSlice.java:60)
	com.aliyun.emr.rss.common.network.protocol.ChunkFetchSuccess.decode(ChunkFetchSuccess.java:67)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:150)
	com.aliyun.emr.rss.common.network.protocol.Message.decode(Message.java:141)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:71)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#8:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareCompositeByteBuf.addComponent(AdvancedLeakAwareCompositeByteBuf.java:884)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:149)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
Created at:
	com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.compositeDirectBuffer(AbstractByteBufAllocator.java:224)
	com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.compositeBuffer(AbstractByteBufAllocator.java:202)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:145)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
: 2 leak records were discarded because they were duplicates
```
```
22/09/10 18:57:17 ERROR ResourceLeakDetector: LEAK: ByteBuf.release() was not called before it's garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.
Recent access records: 
#1:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareByteBuf.order(AdvancedLeakAwareByteBuf.java:71)
	com.aliyun.emr.io.netty.buffer.CompositeByteBuf.newComponent(CompositeByteBuf.java:346)
	com.aliyun.emr.io.netty.buffer.CompositeByteBuf.addComponent0(CompositeByteBuf.java:287)
	com.aliyun.emr.io.netty.buffer.CompositeByteBuf.addComponent(CompositeByteBuf.java:265)
	com.aliyun.emr.io.netty.buffer.CompositeByteBuf.addComponent(CompositeByteBuf.java:222)
	com.aliyun.emr.io.netty.buffer.CompositeByteBuf.addComponent(CompositeByteBuf.java:165)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:149)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#2:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareByteBuf.readInt(AdvancedLeakAwareByteBuf.java:437)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeFrameSize(TransportFrameDecoder.java:100)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:127)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#3:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareByteBuf.readByte(AdvancedLeakAwareByteBuf.java:401)
	com.aliyun.emr.rss.common.network.protocol.Message$Type.decode(Message.java:108)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeFrameSize(TransportFrameDecoder.java:99)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:127)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#4:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareByteBuf.readInt(AdvancedLeakAwareByteBuf.java:437)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeFrameSize(TransportFrameDecoder.java:98)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:127)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#5:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareByteBuf.readSlice(AdvancedLeakAwareByteBuf.java:119)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.nextBufferForFrame(TransportFrameDecoder.java:164)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:147)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#6:
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.nextBufferForFrame(TransportFrameDecoder.java:164)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.decodeNext(TransportFrameDecoder.java:147)
	com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:67)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#7:
	Hint: 'frameDecoder' will handle the message from this point.
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.touch(DefaultChannelPipeline.java:116)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#8:
	Hint: 'DefaultChannelPipeline$HeadContext#0' will handle the message from this point.
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.touch(DefaultChannelPipeline.java:116)
	com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
#9:
	com.aliyun.emr.io.netty.buffer.AdvancedLeakAwareByteBuf.writeBytes(AdvancedLeakAwareByteBuf.java:635)
	com.aliyun.emr.io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
Created at:
	com.aliyun.emr.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:403)
	com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)
	com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)
	com.aliyun.emr.io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:140)
	com.aliyun.emr.io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:120)
	com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:150)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.Thread.run(Thread.java:750)
: 1 leak records were discarded because they were duplicates
```

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/588/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/591,https://api.github.com/repos/apache/celeborn/issues/591,celeborn,1368649777,591,[BUG] Incorrect result when revive and split happen concurrently,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-10T15:13:11Z,2022-09-10T15:30:40Z,"### What is the bug(with logs or screenshots)?
When revive and split happen concurrently, then getLatestPartition returns the same in handleRevive and handlePartitionSplitRequest, then the returned partition locations will have the same epochId. However, in handleStageEnd the masterPartMap's and slavePartMap's key are partitionId-epochId, so one of the partition location will be omitted, causing incorrectness.

![image](https://user-images.githubusercontent.com/948245/189489620-cd23ca88-89db-4a24-b728-7110c07d7086.png)


### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/591/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/597,https://api.github.com/repos/apache/celeborn/issues/597,celeborn,1370972199,597,[REFACTOR] Enum use upper case ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-13T07:14:08Z,2022-09-13T11:08:01Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/597/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/600,https://api.github.com/repos/apache/celeborn/issues/600,celeborn,1372144120,600,[REFACTOR]Translate Chinese comments to English,nafiyAix,30563796,nafiy,,CLOSED,2022-09-14T00:07:24Z,2022-09-16T01:50:49Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/600/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/601,https://api.github.com/repos/apache/celeborn/issues/601,celeborn,1372292231,601,[FEATURE] limit the max workers while offerSlots,jxysoft,1910567,,,CLOSED,2022-09-14T03:57:29Z,2024-02-07T05:35:00Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/601/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/606,https://api.github.com/repos/apache/celeborn/issues/606,celeborn,1374237808,606,[BUG] RSS HA MasterEndpoint not find,vajaw,43877620,,,CLOSED,2022-09-15T09:41:31Z,2022-09-19T02:22:16Z,"### What is the bug(with logs or screenshots)?
rss-root-com.aliyun.emr.rss.service.deploy.worker.Worker-1-optimus30a209.out
```22/09/15 17:06:25,177 INFO [main] Dispatcher: Dispatcher numThreads: 64
22/09/15 17:06:25,206 INFO [main] TransportClientFactory: mode NIO threads 8
22/09/15 17:06:25,355 INFO [main] Utils: Successfully started service 'WorkerSys' on port 45801.
22/09/15 17:06:25,477 INFO [main] DeviceInfo: Device Infos:
{sdb=DeviceName: sdb	Mount Infos: 	MountPont: /opt/data1	Dirs: /opt/data1/emr-rss/emr-rss_worker_data/hadoop/rss-worker/shuffle_data}
22/09/15 17:06:25,481 INFO [main] DeviceMonitor: Device monitor init success
22/09/15 17:06:25,505 INFO [main] MemoryTracker: Memory tracker initialized with :  
 max direct memory : 4294967296 (4096.0 MB)
 pause pushdata memory : 3650722201 (3481.5999994277954 MB)
 pause replication memory : 4080218931 (3891.199999809265 MB)
 resume memory : 2147483648 (2048.0 MB)
22/09/15 17:06:25,514 INFO [main] TransportClientFactory: mode NIO threads 8
22/09/15 17:06:25,531 INFO [main] Worker: Starting Worker 10.50.30.209:41173:32821:33589 with 4096 slots.
22/09/15 17:06:25,588 WARN [main] RssHARetryClient: Connect to optimus30a208:9097 failed.
com.aliyun.emr.rss.common.exception.RssException: Exception thrown in awaitResult: 
	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:224)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.setupEndpointRef(RssHARetryClient.java:247)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:225)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.registerWithMaster(Worker.scala:323)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.init(Worker.scala:216)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:381)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Caused by: java.io.IOException: Failed to connect to optimus30a208/10.50.30.208:9097
	at com.aliyun.emr.rss.common.network.client.TransportClientFactory.internalCreateClient(TransportClientFactory.java:223)
	at com.aliyun.emr.rss.common.network.client.TransportClientFactory.createClient(TransportClientFactory.java:170)
	at com.aliyun.emr.rss.common.network.client.TransportClientFactory.createClient(TransportClientFactory.java:177)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:187)
	at com.aliyun.emr.rss.common.rpc.netty.Outbox$$anon$1.call(Outbox.scala:194)
	at com.aliyun.emr.rss.common.rpc.netty.Outbox$$anon$1.call(Outbox.scala:190)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: 拒绝连接: optimus30a208/10.50.30.208:9097
Caused by: java.net.ConnectException: 拒绝连接
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:710)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
22/09/15 17:06:25,715 WARN [main] RssHARetryClient: Connect to optimus30a209:9097 failed.
com.aliyun.emr.rss.common.exception.RssException: Exception thrown in awaitResult: 
	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:224)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.setupEndpointRef(RssHARetryClient.java:247)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:225)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.registerWithMaster(Worker.scala:323)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.init(Worker.scala:216)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:381)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Caused by: com.aliyun.emr.rss.common.rpc.RpcEndpointNotFoundException: Cannot find endpoint: rss://MasterEndpoint@optimus30a209:9097
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$asyncSetupEndpointRefByURI$1(NettyRpcEnv.scala:131)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$asyncSetupEndpointRefByURI$1$adapted(NettyRpcEnv.scala:127)
	at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307)
	at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at scala.concurrent.BatchingExecutor$Batch.processBatch$1(BatchingExecutor.scala:67)
	at scala.concurrent.BatchingExecutor$Batch.$anonfun$run$1(BatchingExecutor.scala:82)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
	at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:85)
	at scala.concurrent.BatchingExecutor$Batch.run(BatchingExecutor.scala:59)
	at scala.concurrent.Future$InternalCallbackExecutor$.unbatchedExecute(Future.scala:875)
	at scala.concurrent.BatchingExecutor.execute(BatchingExecutor.scala:110)
	at scala.concurrent.BatchingExecutor.execute$(BatchingExecutor.scala:107)
	at scala.concurrent.Future$InternalCallbackExecutor$.execute(Future.scala:873)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.trySuccess(Promise.scala:94)
	at scala.concurrent.Promise.trySuccess$(Promise.scala:94)
	at scala.concurrent.impl.Promise$DefaultPromise.trySuccess(Promise.scala:187)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.onSuccess$1(NettyRpcEnv.scala:206)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$ask$6(NettyRpcEnv.scala:222)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$ask$6$adapted(NettyRpcEnv.scala:222)
	at com.aliyun.emr.rss.common.rpc.netty.RpcOutboxMessage.onSuccess(Outbox.scala:82)
	at com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:167)
	at com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:120)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
22/09/15 17:06:25,815 WARN [main] RssHARetryClient: Connect to optimus30a210:9097 failed.
com.aliyun.emr.rss.common.exception.RssException: Exception thrown in awaitResult: 
	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:224)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.setupEndpointRef(RssHARetryClient.java:247)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:225)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.registerWithMaster(Worker.scala:323)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.init(Worker.scala:216)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:381)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Caused by: com.aliyun.emr.rss.common.rpc.RpcEndpointNotFoundException: Cannot find endpoint: rss://MasterEndpoint@optimus30a210:9097
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$asyncSetupEndpointRefByURI$1(NettyRpcEnv.scala:131)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$asyncSetupEndpointRefByURI$1$adapted(NettyRpcEnv.scala:127)
	at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307)
	at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at scala.concurrent.BatchingExecutor$Batch.processBatch$1(BatchingExecutor.scala:67)
	at scala.concurrent.BatchingExecutor$Batch.$anonfun$run$1(BatchingExecutor.scala:82)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
	at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:85)
	at scala.concurrent.BatchingExecutor$Batch.run(BatchingExecutor.scala:59)
	at scala.concurrent.Future$InternalCallbackExecutor$.unbatchedExecute(Future.scala:875)
	at scala.concurrent.BatchingExecutor.execute(BatchingExecutor.scala:110)
	at scala.concurrent.BatchingExecutor.execute$(BatchingExecutor.scala:107)
	at scala.concurrent.Future$InternalCallbackExecutor$.execute(Future.scala:873)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.trySuccess(Promise.scala:94)
	at scala.concurrent.Promise.trySuccess$(Promise.scala:94)
	at scala.concurrent.impl.Promise$DefaultPromise.trySuccess(Promise.scala:187)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.onSuccess$1(NettyRpcEnv.scala:206)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$ask$6(NettyRpcEnv.scala:222)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$ask$6$adapted(NettyRpcEnv.scala:222)
	at com.aliyun.emr.rss.common.rpc.netty.RpcOutboxMessage.onSuccess(Outbox.scala:82)
	at com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:167)
	at com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:120)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
22/09/15 17:06:25,817 ERROR [main] RssHARetryClient: Send rpc with failure, has tried 0, max try 15!
java.lang.IllegalStateException: After trying all the available Master Addresses, an usable link still couldn't be created.
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:235)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.registerWithMaster(Worker.scala:323)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.init(Worker.scala:216)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:381)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
22/09/15 17:06:25,817 WARN [main] Worker: Register worker to master failed, will retry after 2s, exception: 
java.lang.IllegalStateException: After trying all the available Master Addresses, an usable link still couldn't be created.
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:235)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.registerWithMaster(Worker.scala:323)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.init(Worker.scala:216)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:381)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
22/09/15 17:06:27,872 WARN [main] RssHARetryClient: Connect to optimus30a208:9097 failed.
com.aliyun.emr.rss.common.exception.RssException: Exception thrown in awaitResult: 
	at com.aliyun.emr.rss.common.util.ThreadUtils$.awaitResult(ThreadUtils.scala:224)
	at com.aliyun.emr.rss.common.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:74)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:95)
	at com.aliyun.emr.rss.common.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:103)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.setupEndpointRef(RssHARetryClient.java:247)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.getOrSetupRpcEndpointRef(RssHARetryClient.java:225)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.sendMessageInner(RssHARetryClient.java:146)
	at com.aliyun.emr.rss.common.haclient.RssHARetryClient.askSync(RssHARetryClient.java:120)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.registerWithMaster(Worker.scala:323)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.init(Worker.scala:216)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$.main(Worker.scala:381)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.main(Worker.scala)
Caused by: com.aliyun.emr.rss.common.rpc.RpcEndpointNotFoundException: Cannot find endpoint: rss://MasterEndpoint@optimus30a208:9097
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$asyncSetupEndpointRefByURI$1(NettyRpcEnv.scala:131)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$asyncSetupEndpointRefByURI$1$adapted(NettyRpcEnv.scala:127)
	at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307)
	at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at scala.concurrent.BatchingExecutor$Batch.processBatch$1(BatchingExecutor.scala:67)
	at scala.concurrent.BatchingExecutor$Batch.$anonfun$run$1(BatchingExecutor.scala:82)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
	at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:85)
	at scala.concurrent.BatchingExecutor$Batch.run(BatchingExecutor.scala:59)
	at scala.concurrent.Future$InternalCallbackExecutor$.unbatchedExecute(Future.scala:875)
	at scala.concurrent.BatchingExecutor.execute(BatchingExecutor.scala:110)
	at scala.concurrent.BatchingExecutor.execute$(BatchingExecutor.scala:107)
	at scala.concurrent.Future$InternalCallbackExecutor$.execute(Future.scala:873)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.trySuccess(Promise.scala:94)
	at scala.concurrent.Promise.trySuccess$(Promise.scala:94)
	at scala.concurrent.impl.Promise$DefaultPromise.trySuccess(Promise.scala:187)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.onSuccess$1(NettyRpcEnv.scala:206)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$ask$6(NettyRpcEnv.scala:222)
	at com.aliyun.emr.rss.common.rpc.netty.NettyRpcEnv.$anonfun$ask$6$adapted(NettyRpcEnv.scala:222)
	at com.aliyun.emr.rss.common.rpc.netty.RpcOutboxMessage.onSuccess(Outbox.scala:82)
	at com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:167)
	at com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:120)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:75)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
22/09/15 17:06:27,876 INFO [main] RssHARetryClient: connect to master optimus30a209:9097.
22/09/15 17:06:27,917 WARN [main] RssHARetryClient: Master leader is not present currently, please check masters' status!
22/09/15 17:06:28,022 WARN [main] RssHARetryClient: Master leader is not present currently, please check masters' status!
22/09/15 17:06:28,228 WARN [main] RssHARetryClient: Master leader is not present currently, please check masters' status!
22/09/15 17:06:28,532 WARN [main] RssHARetryClient: Master leader is not present currently, please check masters' status!
22/09/15 17:06:28,939 WARN [main] RssHARetryClient: Master leader is not present currently, please check masters' status!
22/09/15 17:06:29,446 WARN [main] RssHARetryClient: Master leader is not present currently, please check masters' status!
22/09/15 17:06:30,056 INFO [main] RssHARetryClient: Fail over to master optimus30a210.
22/09/15 17:06:30,991 INFO [main] Worker: Register worker successfully.
22/09/15 17:06:30,992 INFO [main] Worker: Metrics system enabled!
22/09/15 17:06:31,002 INFO [main] HttpServer: HttpServer started on port 9096.
22/09/15 17:06:35,504 INFO [MemoryTracker-report-thread] MemoryTracker: Track all direct memory usage :24.0/4096.0,disk buffer size:0.0, sort memory size : 0.0
22/09/15 17:06:45,505 INFO [MemoryTracker-report-thread] MemoryTracker: Track all direct memory usage :24.0/4096.0,disk buffer size:0.0, sort memory size : 0.0
22/09/15 17:06:55,505 INFO [MemoryTracker-report-thread] MemoryTracker: Track all direct memory usage :24.0/4096.0,disk buffer size:0.0, sort memory size : 0.0
22/09/15 17:07:05,505 INFO [MemoryTracker-report-thread] MemoryTracker: Track all direct memory usage 
```

### How to reproduce the bug?
1. Unzip the rss-0.1.2-bin-release-spark3.tgz to $RSS_HOME
2. Modify environment variables in $RSS_HOME/conf/rss-env.sh
```properties
#!/usr/bin/env bash

# - RSS_MASTER_MEMORY, to set how much total memory of rss master (e.g. 1000m, 2g)
# - RSS_WORKER_MEMORY, to set how much total memory of rss workers (e.g. 1000m, 2g)
# - RSS_WORKER_OFFHEAP_MEMORY, to set how much total off-heap memory of rss workers (e.g. 1000m, 2g)
# - RSS_MASTER_JAVA_OPTS
# - RSS_WORKER_JAVA_OPTS
# - RSS_PID_DIR
# - RSS_LOG_DIR

# Example:
 RSS_MASTER_MEMORY=2g
 RSS_WORKER_MEMORY=2g
 RSS_WORKER_OFFHEAP_MEMORY=4g
# RSS_WORKER_JAVA_OPTS=""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-worker.out -Dio.netty.leakDetectionLevel=advanced""
# RSS_MASTER_JAVA_OPTS=""-XX:-PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xloggc:gc-master.out -Dio.netty.leakDetectionLevel=advanced""
# RSS_PID_DIR=""$RSS_HOME/pids""
# RSS_LOG_DIR=""$RSS_HOME/logs""
```
3. Modify configurations in $RSS_HOME/conf/rss-defaults.conf
EXAMPLE: HA cluster
```properties
rss.rpc.io.mode                                  NIO
rss.rpc.io.clientThreads                         8
rss.rpc.io.serverThreads                         8
rss.rpc.io.numConnectionsPerPeer                 8

rss.push.io.numConnectionsPerPeer                8
rss.push.io.threads                              8

rss.worker.flush.buffer.size                     256k
rss.worker.flush.queue.capacity                  4096
rss.push.data.replicate                          true
rss.metrics.system.enabled                       true
rss.worker.prometheus.metric.port                9096
rss.master.prometheus.metric.port                9098
# 测试环境只有一挂载盘
rss.worker.base.dirs                             /opt/data1/emr-rss/emr-rss_worker_data

rss.master.port                                  9097
rss.ha.enabled                                    true
rss.ha.master.hosts                             optimus30a208,optimus30a209,optimus30a210
rss.ha.service.id                             rss
rss.ha.nodes.rss                              node1,node2,node3
rss.ha.address.rss.node1                      optimus30a208
rss.ha.address.rss.node2                      optimus30a209
rss.ha.address.rss.node3                      optimus30a210
rss.ha.port                                   9872
rss.ha.storage.dir                              /opt/data1/emr-rss/emr-rss_worker_data/ha_dir
rss.ha.ratis.snapshot.auto.trigger.enabled            true
rss.ha.ratis.snapshot.auto.trigger.threshold        200000
```
4. Modify configurations in $RSS_HOME/conf/hosts
```properties
[master]
optimus30a208
optimus30a209
optimus30a210

[worker]
optimus30a208
optimus30a209
optimus30a210
optimus30a211
optimus30a212
```
5. Copy RSS and configurations to all nodes
6. Start RSS All Server
```
$RSS_HOME/sbin/start-all.sh
```

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/606/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/606,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KiMj5,celeborn,1250478329,606,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-09-19T02:22:16Z,2022-09-19T02:22:16Z,"@vajaw Hi, sorry for the delayed reply. Is this problem existing, or is it gone?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5KiMj5/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/607,https://api.github.com/repos/apache/celeborn/issues/607,celeborn,1374348823,607,[FEATURE][OPTIMIZE] Add map ids info for each PartitionLocation to enable filtering for map range reading,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-15T11:07:17Z,2022-09-23T07:21:43Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/607/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/609,https://api.github.com/repos/apache/celeborn/issues/609,celeborn,1375485461,609,[REFACTOR] Change SortBasedShuffleWriter log level,nafiyAix,30563796,nafiy,,CLOSED,2022-09-16T06:36:16Z,2022-09-18T04:23:33Z,"### Describe the intention you'd like
Too many log when enable INFO level
![image](https://user-images.githubusercontent.com/30563796/190572491-02d0cb86-4e72-4e35-ae18-7394aafb3a7c.png)

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/609/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/610,https://api.github.com/repos/apache/celeborn/issues/610,celeborn,1375493328,610,[BUG] PartitionFilesSorter sorting pendingBuffer not enough cause job failed,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-16T06:45:02Z,2022-09-19T12:56:36Z,"### What is the bug(with logs or screenshots)?
![SeaTalk_IMG_1663310065的副本](https://user-images.githubusercontent.com/46485123/190573927-d460b0ae-59bb-4d41-b7f8-e03c158eee02.png)

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug

@nafiyAix 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/610/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/611,https://api.github.com/repos/apache/celeborn/issues/611,celeborn,1375494470,611,[BUG] RetryingChunkClient should retry when sort failed and handle null value of handleOpenStream,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-16T06:46:17Z,2022-09-19T06:51:48Z,"### What is the bug(with logs or screenshots)?
```
22/09/16 11:35:58 INFO CodeGenerator: Code generated in 2.934736 ms
22/09/16 11:35:58 WARN RetryingChunkClient: Exception raised while sending open chunks message to 10.169.29.31:9093.
java.lang.RuntimeException: java.io.FileNotFoundException
	at com.aliyun.emr.rss.service.deploy.worker.ChunkFetchRpcHandler.receive(ChunkFetchRpcHandler.java:102)
	at com.aliyun.emr.rss.common.network.server.TransportRequestHandler.processRpcRequest(TransportRequestHandler.java:198)
	at com.aliyun.emr.rss.common.network.server.TransportRequestHandler.handle(TransportRequestHandler.java:120)
	at com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:118)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:85)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

	at com.aliyun.emr.rss.common.network.client.TransportResponseHandler.handle(TransportResponseHandler.java:173)
	at com.aliyun.emr.rss.common.network.server.TransportChannelHandler.channelRead(TransportChannelHandler.java:120)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.rss.common.network.util.TransportFrameDecoder.channelRead(TransportFrameDecoder.java:85)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at com.aliyun.emr.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at com.aliyun.emr.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at com.aliyun.emr.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at com.aliyun.emr.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at com.aliyun.emr.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at com.aliyun.emr.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at com.aliyun.emr.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at com.aliyun.emr.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at com.aliyun.emr.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
22/09/16 11:35:58 ERROR Executor: Exception in task 420.0 in stage 225.0 (TID 520116)
java.io.IOException: Could not open chunks after 0 tries.
	at com.aliyun.emr.rss.client.read.RetryingChunkClient.openChunks(RetryingChunkClient.java:139)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl$PartitionReader.<init>(RssInputStream.java:369)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl.createReader(RssInputStream.java:191)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl.moveToNextReader(RssInputStream.java:161)
	at com.aliyun.emr.rss.client.read.RssInputStream$RssInputStreamImpl.<init>(RssInputStream.java:153)
	at com.aliyun.emr.rss.client.read.RssInputStream.create(RssInputStream.java:63)
	at com.aliyun.emr.rss.client.ShuffleClientImpl.readPartition(ShuffleClientImpl.java:868)
	at org.apache.spark.shuffle.rss.RssShuffleReader.$anonfun$read$1(RssShuffleReader.scala:64)
	at org.apache.spark.shuffle.rss.RssShuffleReader.$anonfun$read$1$adapted(RssShuffleReader.scala:60)
	at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)
	at scala.collection.immutable.Range.foreach(Range.scala:158)
	at scala.collection.TraversableLike.map(TraversableLike.scala:238)
	at scala.collection.TraversableLike.map$(TraversableLike.scala:231)
	at scala.collection.AbstractTraversable.map(Traversable.scala:108)
	at org.apache.spark.shuffle.rss.RssShuffleReader.read(RssShuffleReader.scala:60)
	at org.apache.spark.sql.execution.ShuffledRowRDD.compute(ShuffledRowRDD.scala:212)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.rdd.ZippedPartitionsRDD2.compute(ZippedPartitionsRDD.scala:89)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)
	at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
	at org.apache.spark.scheduler.Task.run(Task.scala:131)
	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1465)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
```

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/611/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/612,https://api.github.com/repos/apache/celeborn/issues/612,celeborn,1375495017,612,[BUG] Refactor PartitionFileSorter log message,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-16T06:46:53Z,2022-09-18T04:25:47Z,"### What is the bug(with logs or screenshots)?

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/612/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/617,https://api.github.com/repos/apache/celeborn/issues/617,celeborn,1376927768,617,[BUG] File writer failed to create fail will cause relative normal file writers to shutdown.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-18T02:51:36Z,2024-02-07T05:34:25Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/617/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/625,https://api.github.com/repos/apache/celeborn/issues/625,celeborn,1378159719,625,[BUG] Incorrect result when kill worker while pushMergedData,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-19T15:42:49Z,2022-09-19T16:05:16Z,"### What is the bug(with logs or screenshots)?
Test Terasort 30G, enable replication, and kill an RSS worker while pushing data, then there is possibility that the application succeeds with incorrect result.
![image](https://user-images.githubusercontent.com/948245/191056488-f54fde0f-3856-4e47-862a-63ed0589f561.png)

The reason is as follows:
In HashBasedShuffleWriter.close(), mapperEnd() is called after pushMergedData() in the same thread. When RSS worker is killed at this time, wrappedCallback.onFailure will be called in doPushMergedData, which will delete the groupedBatchId from inFlightBatches and submit submitRetryPushMergedData to pushDataRetryPool. At this time, before new groupedBatchId is put to inFlightBatches, inFlightBatches will be empty and limitMaxInFlight will incorrectly return true, as a result mapperEnd will be called before the re-submitted pushMergedData is finished.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/625/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/630,https://api.github.com/repos/apache/celeborn/issues/630,celeborn,1378773135,630,[FEATURE] Support Multi-tenant storage usage quota,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T03:42:36Z,2022-12-22T02:57:45Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

- [x] [[FEATURE] Add UserIdentifier proto class](https://github.com/alibaba/RemoteShuffleService/issues/631)
- [x] [[FEATURE] Support user provider plugin to set user](https://github.com/alibaba/RemoteShuffleService/issues/633)
- [x] [[FEATURE] LifecycleManager side ReserveSlots & RequestSlots RPC with UserIdentifier](https://github.com/alibaba/RemoteShuffleService/issues/632)
- [x] [[FEATURE] Worker StorageManger store user to shuffkeKey relation and recover from levelDB](https://github.com/alibaba/RemoteShuffleService/issues/642)
- [x] [[FEATURE] Add resource class and support in proto](https://github.com/alibaba/RemoteShuffleService/issues/634)
- [x] [[FEATURE] Worker collect user-level resource usage](https://github.com/alibaba/RemoteShuffleService/issues/635)
- [x] [[FEATURE] Worker sent user usage to master through heart beat and register](https://github.com/alibaba/RemoteShuffleService/issues/636)
- [x] [[FEATURE] Change CheckAlive to CheckAvailable and reply checkQuota result](https://github.com/alibaba/RemoteShuffleService/issues/637)
- [x] [[FEATURE] Support get user quota from rssConf setting](https://github.com/alibaba/RemoteShuffleService/issues/656)
- [x] [[FEATURE] Master check quota when LifecycleManager request CheckQuota](https://github.com/alibaba/celeborn/issues/704)
- [x] [[REFACTOR] Minor change of storage resource quota, include code style, comment unused code etc](https://github.com/apache/incubator-celeborn/pull/728)
- [x] [[DOC] Doc about quota](https://github.com/alibaba/RemoteShuffleService/issues/690)
- [x] [[Refactor] Add UserIdentifier as a field of FileInfo](https://github.com/apache/incubator-celeborn/issues/750)
- [x] [[REFACTOR] Move userResourceConsumption to WorkerInfo's parameter and format WorkerInfo's toString()](https://github.com/apache/incubator-celeborn/issues/751)
- [x] [[Refactor] Add cache to avoid redundant UserIdentifier object when recover fileinfo](https://github.com/apache/incubator-celeborn/issues/774)
- [x] [[REFACTOR] Replace userResourceConsumption of WorkerInfo with empty value for unnecessary ControlMessages](https://github.com/apache/incubator-celeborn/issues/948)
- [x] [Add reason in CheckQuotaResponse](https://issues.apache.org/jira/browse/CELEBORN-145)
- [ ] [Add disk usage metrics for Master and Worker](https://issues.apache.org/jira/browse/CELEBORN-164)
### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/630/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/631,https://api.github.com/repos/apache/celeborn/issues/631,celeborn,1378779965,631,[FEATURE] Add UserIdentifier proto class,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T03:54:28Z,2022-10-08T06:51:03Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/631/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/632,https://api.github.com/repos/apache/celeborn/issues/632,celeborn,1378780696,632,[FEATURE] LifecycleManager side ReserveSlots & RequestSlots RPC with UserIdentifier,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T03:55:52Z,2022-10-08T06:51:00Z,"### Is your feature request related to a problem? Please describe.
`ReserveSlots` `ReserveSlots`

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/632/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/633,https://api.github.com/repos/apache/celeborn/issues/633,celeborn,1378781390,633,[FEATURE] Support user provider plugin to set user,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T03:57:12Z,2022-10-08T06:50:48Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/633/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/634,https://api.github.com/repos/apache/celeborn/issues/634,celeborn,1378783530,634,[FEATURE]  Add Resource class and support in proto,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T04:01:20Z,2022-10-08T06:50:45Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/634/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/635,https://api.github.com/repos/apache/celeborn/issues/635,celeborn,1378784012,635,[FEATURE] Worker collect user level resource usage,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T04:02:02Z,2022-10-08T06:50:37Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/635/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/636,https://api.github.com/repos/apache/celeborn/issues/636,celeborn,1378784442,636,[FEATURE] Worker sent user usage to master through RegisterWorker/HeartbeatFromWorker,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T04:02:46Z,2022-09-30T09:16:44Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/636/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/637,https://api.github.com/repos/apache/celeborn/issues/637,celeborn,1378786420,637,[FEATURE] Change CheckAlive to CheckAvailable and reply checkQuota result.,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-20T04:06:01Z,2022-09-22T15:20:11Z,"### Is your feature request related to a problem? Please describe.
Change `CheckAlive` to `CheckAvailable(userIdentifier)`

When LifecycleManager checks fallback, send `CheckAvailable` to Master, then Master check current user's quota with quota configuration

If Master check quota return true, keep going on RSS
Otherwise fallback to ESS

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/637/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/639,https://api.github.com/repos/apache/celeborn/issues/639,celeborn,1379308862,639,[FEATURE] Support checksum,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-20T12:04:06Z,2024-02-07T05:34:25Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/639/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/640,https://api.github.com/repos/apache/celeborn/issues/640,celeborn,1379362742,640,[REFACTOR] Refactor Protobuf related name format,nafiyAix,30563796,nafiy,,CLOSED,2022-09-20T12:44:55Z,2022-09-24T06:50:00Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.
![image](https://user-images.githubusercontent.com/30563796/191260646-a4871f67-6d94-411a-a113-cc7876068f82.png)

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/640/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/642,https://api.github.com/repos/apache/celeborn/issues/642,celeborn,1380277334,642,[FEATURE] Worker StorageManger store user to shuffkeKey relation and recover from levelDB,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-21T04:02:45Z,2022-10-10T11:13:57Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/642/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/643,https://api.github.com/repos/apache/celeborn/issues/643,celeborn,1380301642,643,[REFACTOR] Should not respond immediately when worker detects SOFT_SPLIT,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-21T04:33:21Z,2022-09-21T06:47:13Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/643/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/644,https://api.github.com/repos/apache/celeborn/issues/644,celeborn,1380315297,644,[BUG] Worker replied ack at the wrong time when a soft split is triggered,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-21T04:53:40Z,2022-09-21T07:07:22Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/644/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/649,https://api.github.com/repos/apache/celeborn/issues/649,celeborn,1380694684,649,[REFACTOR] Rewrite Spark2's RSSShuffleManager to keep consistent,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-21T10:25:00Z,2022-09-30T09:16:28Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/649/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/656,https://api.github.com/repos/apache/celeborn/issues/656,celeborn,1382123401,656,[FEATURE] Support get user quota from rssConf setting,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-22T09:22:12Z,2022-09-30T09:17:31Z,"### Is your feature request related to a problem? Please describe.


```
rss.quota.{user-identifier}.diskBytesWritten    -1
rss.quota.{user-identifier}.disk.diskFileCount  -1
rss.quota.{user-identifier}.hdfs.hdfsBytesWritten     -1
rss.quota.{user-identifier}.hdfs.hdfsFileCount    -1
```


`case class Quota(diskBytesWritten, diskFileCount, hdfsBytesWritten , hdfsFileCount)`, default is -1

```
class QuotaManager {
   
 userQuotas: ConcurrentHashMap[UserIdentifier, Quota]

}
```

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/656/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/660,https://api.github.com/repos/apache/celeborn/issues/660,celeborn,1383399709,660,"[FEATURE] Add metrics about fetch chunk size, commit files time and get reducer file time.",FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-23T07:26:03Z,2022-09-23T08:05:30Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/660/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/662,https://api.github.com/repos/apache/celeborn/issues/662,celeborn,1383413689,662,[FEATURE] Add a configuration to enable map id filter mechanism.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-23T07:40:26Z,2022-09-23T10:38:53Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/662/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/664,https://api.github.com/repos/apache/celeborn/issues/664,celeborn,1383489167,664,[FEATURE] Add serializer for shuffle read and write,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-23T08:51:33Z,2022-11-01T10:40:03Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/664/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/666,https://api.github.com/repos/apache/celeborn/issues/666,celeborn,1383777800,666,[BUG] Flusher default thread count setting is not effective.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-23T13:03:19Z,2022-09-23T13:16:11Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/666/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/668,https://api.github.com/repos/apache/celeborn/issues/668,celeborn,1383884124,668,[FEATURE] Add columnar shuffle configuration for RSS,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-23T14:23:12Z,2022-09-24T09:57:35Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/668/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/670,https://api.github.com/repos/apache/celeborn/issues/670,celeborn,1384514407,670,[FEATURE] Add configuration for columnar shuffle,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-24T04:32:01Z,2022-09-24T09:57:41Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/670/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/672,https://api.github.com/repos/apache/celeborn/issues/672,celeborn,1384615313,672,[FEATURE] Do not update stats for each record in columnar shuffle write,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-09-24T09:59:32Z,2024-02-07T05:33:34Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @kerwin-zk 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/672/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/673,https://api.github.com/repos/apache/celeborn/issues/673,celeborn,1384641067,673,[REFACTOR] Unify control messages,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-09-24T11:29:34Z,2024-02-07T05:33:16Z,"### Describe the intention you'd like

Currently, there are three control message systems in the project:

1. `common/proto/TransportMessages.proto`, defined in proto3 syntax, used for client/server rpc serialization
2. `com.aliyun.emr.rss.common.protocol.message.Message` and subclasses, scala case class wrapper for 1
3. `server-master/proto/Resource.proto`, defined in proto2 syntax, used for master ratis rpc serialization

Three control message systems introduce redundant transformation and make the code complex, so I propose to drop 2 and 3, and unify all control messages to 1.

In detail, I'm going to remove 2 first, the refactoring should be safe since it does not use for serialization.

And then, replace 3 w/ 1, but keep the decode be compatibility w/ 3, because 3 is used for serialization.

Finally, remove 3 totally after the next release.

### Sub tasks

- #678
- #680
- #716
- #718
- #719
- #720

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/673/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/673,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5K65AI,celeborn,1256951816,673,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-09-24T11:53:59Z,2022-09-24T11:53:59Z,"This work is important, thanks!","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5K65AI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/681,https://api.github.com/repos/apache/celeborn/issues/681,celeborn,1385179375,681,[REFACTOR] Structured configuration system,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-09-25T22:08:35Z,2022-11-01T10:39:48Z,"### Describe the intention you'd like

Introduce `ConfigEntry` and we can define configuration like Spark

```
val NETWORK_TIMEOUT =
    ConfigBuilder(""spark.network.timeout"")
      .version(""1.3.0"")
      .timeConf(TimeUnit.SECONDS)
      .createWithDefaultString(""120s"")
```

Then we can auto-generate configuration docs.

Example: 

- [Configuration definition](https://github.com/housepower/spark-clickhouse-connector/blob/master/spark-3.3/clickhouse-spark/src/main/scala/org/apache/spark/sql/clickhouse/ClickHouseSQLConf.scala)

- [Auto-generate configuration docs suite](https://github.com/housepower/spark-clickhouse-connector/blob/master/spark-3.3/clickhouse-spark/src/test/scala/org/apache/spark/sql/clickhouse/ConfigurationSuite.scala)

- [Generated Markdown](https://github.com/housepower/spark-clickhouse-connector/blob/master/docs/configurations/02_sql_configurations.md)

- [HTML Preview](https://housepower.github.io/spark-clickhouse-connector/configurations/)

### Subtasks

- #682

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/681/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/685,https://api.github.com/repos/apache/celeborn/issues/685,celeborn,1385455929,685,[REFACTOR][PB] Simplify disks representation,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-09-26T05:41:58Z,2022-09-30T15:18:35Z,"### Describe the intention you'd like

`map<string, PbDiskInfo> disks` could be simplified to `repeated PbDiskInfo disks` since `PbDiskInfo` already has `mountPoint`field.

The `PbDiskInfo` is a new feature in the main branch, the change does not break compatibility.

```
message PbDiskInfo {
  string mountPoint = 1;
  int64 usableSpace = 2;
  int64 avgFlushTime = 3;
  int64 usedSlots = 4;
  int32 status = 5;
}
```
/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/685/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/688,https://api.github.com/repos/apache/celeborn/issues/688,celeborn,1385796444,688,[BUG] Query metrics cause NPE when there are no chunk fetch data.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-26T10:09:34Z,2022-09-26T10:34:32Z,"### What is the bug(with logs or screenshots)?

> 22/09/26 15:53:51,390 WARN [nioEventLoopGroup-13-1] DefaultChannelPipeline: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
> java.lang.NullPointerException
>         at com.aliyun.emr.rss.common.metrics.source.AbstractSource.recordGauge(AbstractSource.scala:225)
>         at com.aliyun.emr.rss.common.metrics.source.AbstractSource.$anonfun$getMetrics$2(AbstractSource.scala:284)
>         at com.aliyun.emr.rss.common.metrics.source.AbstractSource.$anonfun$getMetrics$2$adapted(AbstractSource.scala:284)
>         at scala.collection.immutable.List.foreach(List.scala:392)
>         at com.aliyun.emr.rss.common.metrics.source.AbstractSource.getMetrics(AbstractSource.scala:284)
>         at com.aliyun.emr.rss.common.metrics.sink.PrometheusServlet.$anonfun$getMetricsSnapshot$1(PrometheusServlet.scala:42)
>         at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)
>         at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)
>         at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)
>         at com.aliyun.emr.rss.common.metrics.sink.PrometheusServlet.getMetricsSnapshot(PrometheusServlet.scala:42)
>         at com.aliyun.emr.rss.common.metrics.sink.PrometheusHttpRequestHandler.handleRequest(PrometheusServlet.scala:60)
>         at com.aliyun.emr.rss.service.deploy.worker.http.HttpRequestHandler.channelRead0(HttpRequestHandler.scala:41)
>         at com.aliyun.emr.rss.service.deploy.worker.http.HttpRequestHandler.channelRead0(HttpRequestHandler.scala:30)
>         at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
>         at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
>         at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
>         at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
>         at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
>         at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
>         at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
>         at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
>         at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
>         at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
>         at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
>         at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
>         at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
>         at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
>         at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
>         at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
>         at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
>         at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
>         at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
>         at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
>         at java.lang.Thread.run(Thread.java:750)


### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/688/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/690,https://api.github.com/repos/apache/celeborn/issues/690,celeborn,1386993063,690,[DOC] Doc about quota,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-27T02:50:46Z,2022-10-10T11:13:22Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/690/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/691,https://api.github.com/repos/apache/celeborn/issues/691,celeborn,1387037198,691,[BUG] SortBasedPusher pass 0 to allocateArray when calling growPointerArrayIfNecessary,nafiyAix,30563796,nafiy,,CLOSED,2022-09-27T03:51:54Z,2022-09-30T06:54:32Z,"### What is the bug(with logs or screenshots)?
java.lang.AssertionError: assertion failed: invalid number of bytes requested: 0
	at scala.Predef$.assert(Predef.scala:223)
	at org.apache.spark.memory.ExecutionMemoryPool.acquireMemory(ExecutionMemoryPool.scala:96)
	at org.apache.spark.memory.UnifiedMemoryManager.acquireExecutionMemory(UnifiedMemoryManager.scala:148)
	at org.apache.spark.memory.TaskMemoryManager.acquireExecutionMemory(TaskMemoryManager.java:147)
	at org.apache.spark.memory.TaskMemoryManager.allocatePage(TaskMemoryManager.java:289)
	at org.apache.spark.memory.MemoryConsumer.allocateArray(MemoryConsumer.java:95)
	at org.apache.spark.shuffle.rss.SortBasedPusher.growPointerArrayIfNecessary(SortBasedPusher.java:227)
	at org.apache.spark.shuffle.rss.SortBasedPusher.insertRecord(SortBasedPusher.java:190)
	at org.apache.spark.shuffle.rss.SortBasedShuffleWriter.fastWrite0(SortBasedShuffleWriter.java:200)
	at org.apache.spark.shuffle.rss.SortBasedShuffleWriter.write(SortBasedShuffleWriter.java:156)
	at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
	at org.apache.spark.scheduler.Task.run(Task.scala:131)
	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1465)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/691/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/691,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LCdAX,celeborn,1258934295,691,NA,nafiyAix,30563796,nafiy,,NA,2022-09-27T03:52:10Z,2022-09-27T03:52:10Z,ping @AngersZhuuuu ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LCdAX/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/694,https://api.github.com/repos/apache/celeborn/issues/694,celeborn,1387996832,694,[REFACTOR] Convert pbRegisterWorker from method to case class,nafiyAix,30563796,nafiy,,CLOSED,2022-09-27T15:56:04Z,2022-09-29T06:33:32Z,"### Describe the intention you'd like
Convert 
```
def pbRegisterWorker(
      host: String,
      rpcPort: Int,
      pushPort: Int,
      fetchPort: Int,
      replicatePort: Int,
      disks: Map[String, DiskInfo],
      userResourceUsage: Map[UserIdentifier, ResourceConsumption],
      requestId: String): PbRegisterWorker = {
```
to be a case class like other RPC request

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/694/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/694,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNPXs,celeborn,1261762028,694,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-09-29T05:15:44Z,2022-09-29T05:15:44Z,"It's by design, see https://github.com/alibaba/RemoteShuffleService/issues/673","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNPXs/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/694,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNW-O,celeborn,1261793166,694,NA,nafiyAix,30563796,nafiy,,NA,2022-09-29T05:41:20Z,2022-09-29T05:41:20Z,"@pan3793 Thanks. I see this method is under ControlMessage and PbRegisterWorker belongs to the TransportMessages.proto, so i'm a bit confused about do we need to close this issue or continue to refactor it? ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNW-O/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/694,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNXuA,celeborn,1261796224,694,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-09-29T05:46:10Z,2022-09-29T05:46:10Z,"The overall goal is to remove ControlMessage, for implementation, please send PR if you have a better idea.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNXuA/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/694,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNfwx,celeborn,1261829169,694,NA,nafiyAix,30563796,nafiy,,NA,2022-09-29T06:33:30Z,2022-09-29T06:33:30Z,"Oh i see, will close it","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5LNfwx/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/697,https://api.github.com/repos/apache/celeborn/issues/697,celeborn,1388646513,697,[FEATURE] support histogram metrics.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-09-28T03:01:03Z,2024-02-07T05:33:08Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/697/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/701,https://api.github.com/repos/apache/celeborn/issues/701,celeborn,1391988940,701,[DOC] Update the calculation method of the worker's slot count,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-09-30T07:39:22Z,2022-09-30T08:03:01Z,"### Describe the intention you'd like

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/701/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/704,https://api.github.com/repos/apache/celeborn/issues/704,celeborn,1392171248,704,[FEATURE] Master check quota when LifecycleManager request CheckQuota,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-09-30T09:47:39Z,2022-10-01T08:39:38Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/704/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/709,https://api.github.com/repos/apache/celeborn/issues/709,celeborn,1393635019,709,[REFACTOR] Change package name to org.apache.celeborn,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-10-02T04:11:27Z,2022-10-02T10:10:30Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/709/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/712,https://api.github.com/repos/apache/celeborn/issues/712,celeborn,1397538218,712,[DOC] Update columnar shuffle config,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-05T09:55:12Z,2022-11-01T10:39:37Z,"### Describe the intention you'd like

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/712/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/725,https://api.github.com/repos/apache/celeborn/issues/725,celeborn,1401798662,725,[K8S] Support custom uid on creating docker image,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-08T02:56:48Z,2024-02-07T05:34:25Z,"### Is your feature request related to a problem? Please describe.

We should avoid using root to `run` celeborn in the container, for security purpose.

### Describe the solution you'd like

Introduce a build arg `ARG celeborn_uid=185` in Dockerfile, 185 is chosen as default because of https://github.com/apache/spark/pull/23017

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/725/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/726,https://api.github.com/repos/apache/celeborn/issues/726,celeborn,1401805534,726,"[BUG] In a certain scenario, the worker will still use HA when HA is turned off",kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-08T03:27:42Z,2022-11-01T11:10:30Z,"### What is the bug(with logs or screenshots)?
ERROR [main] RssHARetryClient: Send rpc with failure, has tried 0, max try 15!
java.lang.IllegalStateException: After trying all the available Master Addresses, an usable link still couldn't be created.

### How to reproduce the bug?
rss.ha.enabled  false
rss.ha.master.hosts  localhost

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/726/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/729,https://api.github.com/repos/apache/celeborn/issues/729,celeborn,1401870235,729,[REFACTOR] Rename helm item while renamed to celeborn,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-10-08T08:25:38Z,2023-03-06T06:03:24Z,"### Describe the intention you'd like
- [x] replace remote-shuffle-service or rss with celeborn
- [ ] replace celeborn configurations after refactor config 

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/729/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/734,https://api.github.com/repos/apache/celeborn/issues/734,celeborn,1401919654,734,[BUG] Lifecycle manager stuck when a worker is lost.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-08T11:41:23Z,2022-10-08T12:11:43Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/734/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/735,https://api.github.com/repos/apache/celeborn/issues/735,celeborn,1401919862,735,[REFACTOR] Update scripts for new name.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-08T11:42:18Z,2022-10-09T06:56:07Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/735/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/736,https://api.github.com/repos/apache/celeborn/issues/736,celeborn,1401933181,736,[BUG] Heartbeat worker should update disk info into WorkInfo too,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-08T12:35:46Z,2022-10-10T11:13:46Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/736/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/738,https://api.github.com/repos/apache/celeborn/issues/738,celeborn,1401951818,738,"[K8S] worker starts,File does not exist",liugs0213,55676558,,,CLOSED,2022-10-08T13:43:36Z,2022-10-09T10:07:05Z,"### What is the bug(with logs or screenshots)?
Multiple workers using the same machine checkDiskReadAndWrite has the following exception.
![image](https://user-images.githubusercontent.com/55676558/194710333-ce1c3a22-edb3-44dd-8858-3f39a91e59af.png)
In checkDiskReadAndWrite, different workers may operate on the same file in the same timestamp. Temporarily changing the timestamp to uuid will not cause this exception.
![image](https://user-images.githubusercontent.com/55676558/194710569-3090098d-5d52-4b61-9531-429bd12a8a15.png)

### How to reproduce the bug?
k8s environment, one machine multiple workers.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/738/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/738,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2B_z,celeborn,1272455155,738,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-10-09T04:51:43Z,2022-10-09T04:51:43Z,"Hi @liugs0213 , A worker can write multiple data dirs. So there is no need to start multiple workers on the same node. 
Can you share your scenario of deploying multiple workers on the same node?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2B_z/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/738,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2Ghb,celeborn,1272473691,738,NA,liugs0213,55676558,,,NA,2022-10-09T07:07:57Z,2022-10-09T07:07:57Z,"> Hi @liugs0213 , A worker can write multiple data dirs. So there is no need to start multiple workers on the same node. Can you share your scenario of deploying multiple workers on the same node?

In the k8s environment, for fear of the impact of rss workers on other services, some machines are used to deploy rss workers independently. Currently, one machine is deployed with 3-5 workers","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2Ghb/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/738,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2G2v,celeborn,1272475055,738,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-10-09T07:15:54Z,2022-10-09T07:15:54Z,I think you can refer to our solution for K8S by adding persistent volume claims to isolate disks. ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2G2v/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/738,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2OdT,celeborn,1272506195,738,NA,liugs0213,55676558,,,NA,2022-10-09T10:07:05Z,2022-10-09T10:07:05Z,"> I think you can refer to our solution for K8S by adding persistent volume claims to isolate disks.

ok, thank you.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5L2OdT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/739,https://api.github.com/repos/apache/celeborn/issues/739,celeborn,1402130867,739,[REFACTOR] Use object wrap pb message,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-09T03:02:14Z,2022-10-09T03:53:49Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/739/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/741,https://api.github.com/repos/apache/celeborn/issues/741,celeborn,1402183226,741,[BUG] Scala match exception in columnar shuffle writer,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-09T07:29:25Z,2022-11-01T03:56:31Z,"### What is the bug(with logs or screenshots)?

### How to reproduce the bug?

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/741/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/743,https://api.github.com/repos/apache/celeborn/issues/743,celeborn,1402184723,743,[FEATURE] Support dictionary decoding for columnar shuffle reader,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-09T07:35:46Z,2022-11-01T03:56:07Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/743/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/745,https://api.github.com/repos/apache/celeborn/issues/745,celeborn,1402212088,745,[FEATURE] Change ShuffleClient to scala code,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-09T09:21:08Z,2022-11-01T08:50:45Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/745/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/747,https://api.github.com/repos/apache/celeborn/issues/747,celeborn,1402215119,747,[FEATURE] Add workflow to perform e2e tests and benchmarks.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-09T09:31:46Z,2022-11-01T03:55:53Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/747/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/750,https://api.github.com/repos/apache/celeborn/issues/750,celeborn,1402924200,750,[Refactor] Add UserIdentifier as a field of FileInfo,nafiyAix,30563796,nafiy,,CLOSED,2022-10-10T10:12:58Z,2022-10-13T15:15:46Z,"        > BTW, do we need the userShuffleKeys? Can we add UserIdentifier into FileInfo instead?

Do we need to create a new issue for this change? Because seems like there will be many chain reactions if we put UserIdentifier into FileInfo as its field, especially those logic related with PartitionFileSorter.openStream() cc: @waitinfuture 
```
public FileInfo openStream(
      String shuffleKey, String fileName, FileInfo fileInfo, int startMapIndex, int endMapIndex)
      throws IOException {
```

_Originally posted by @nafiyAix in https://github.com/alibaba/celeborn/issues/706#issuecomment-1273075725_
      ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/750/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/751,https://api.github.com/repos/apache/celeborn/issues/751,celeborn,1403014902,751,[REFACTOR] Move userResourceConsumption to WorkerInfo's parameter and format WorkerInfo's toString(),nafiyAix,30563796,nafiy,,CLOSED,2022-10-10T11:24:09Z,2022-10-17T15:06:08Z,"### Describe the intention you'd like
<img width=""350"" alt=""image"" src=""https://user-images.githubusercontent.com/30563796/194855641-662f8d47-d3a8-474a-a909-1363f5c23026.png"">

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/751/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/753,https://api.github.com/repos/apache/celeborn/issues/753,celeborn,1403924380,753,[FEATURE] Add common parent class for columnar shuffle writer codegen,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-11T02:50:32Z,2022-11-01T03:55:22Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/753/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/756,https://api.github.com/repos/apache/celeborn/issues/756,celeborn,1403957755,756,[FEATURE] Keep one copy of roaring bitmap to reduce memory usage.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-11T03:49:30Z,2022-10-18T05:26:50Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/756/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/757,https://api.github.com/repos/apache/celeborn/issues/757,celeborn,1403958681,757,[FEATURE] Optimize lifecyclemanager to cache GetReducerFileGroup binary data to reduce driver memory pressure.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-11T03:51:09Z,2022-10-25T08:16:46Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/757/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/760,https://api.github.com/repos/apache/celeborn/issues/760,celeborn,1405495476,760,[FEATURE] Optimize ColumnarBatchbuilder to make it compatible with codegen logic,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-12T03:22:27Z,2024-02-07T05:32:49Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/760/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/764,https://api.github.com/repos/apache/celeborn/issues/764,celeborn,1405895169,764,[FEATURE] Add CIs for regression and benchmark.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-12T09:38:40Z,2022-10-17T08:46:29Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/764/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/765,https://api.github.com/repos/apache/celeborn/issues/765,celeborn,1406792663,765,[BUILD] Reduce binary tarball size by sharing jars across master and worker,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-12T20:47:10Z,2022-12-16T06:30:18Z,"### Is your feature request related to a problem? Please describe.

Currently, the master and worker store jars in different folders, and there are lots of duplicated jars, eventually causing the final tarball exceeds 150MB.

### Describe the solution you'd like

Enhance the `dev/make-distribution.sh` to 

1. create a `common-jars` folder
2. then find and copy all duplicated jars to `common-jars`
3. finally, replace the duplicated jars in `master-jars` and `worker-jars` w/ relative soft links.

### Describe alternatives you've considered

alternative for 3, change shell script to combine `common-jars` into the classpath

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/765/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/768,https://api.github.com/repos/apache/celeborn/issues/768,celeborn,1408669043,768,[REFACTOR]  Shuffle data lost should show more clear about lost data in which worker ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-14T02:38:24Z,2022-10-14T03:41:16Z,"### Describe the intention you'd like
```
22/10/14 03:14:24 INFO LifecycleManager: Last MapperEnd, call StageEnd with shuffleKey:application_1665646136650_68159_1-1.
22/10/14 03:14:32 ERROR LifecycleManager: For 1 partition 928-8: data lost.
```

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/768/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/770,https://api.github.com/repos/apache/celeborn/issues/770,celeborn,1408715754,770,[REFACTOR] Batch handle change partition should ignore empty seq,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-14T03:45:18Z,2022-10-24T06:32:44Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/770/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/773,https://api.github.com/repos/apache/celeborn/issues/773,celeborn,1409511568,773,[BUG] WorkerInfos hashCode() should match with equals(),nafiyAix,30563796,nafiy,,CLOSED,2022-10-14T15:21:26Z,2022-10-18T08:43:15Z,"### What is the bug(with logs or screenshots)?
WorkerInfos's hashCode can't match with equals
<img width=""524"" alt=""image"" src=""https://user-images.githubusercontent.com/30563796/195882852-25e96ab2-58ad-4c8e-923e-15f7d8ee397a.png"">


### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/773/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/774,https://api.github.com/repos/apache/celeborn/issues/774,celeborn,1409515065,774,[Refactor] Add cache to avoid redundant UserIdentifier object when recover fileinfo,nafiyAix,30563796,nafiy,,CLOSED,2022-10-14T15:24:18Z,2022-10-17T15:05:57Z,"        I think we can cache UserIdentifiers in the process of reloading from leveldb to  avoid too many duplicate objects of the same user.

_Originally posted by @waitinfuture in https://github.com/alibaba/celeborn/issues/759#issuecomment-1277866421_
      ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/774/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/776,https://api.github.com/repos/apache/celeborn/issues/776,celeborn,1410728666,776,"[BUG] RSS worker ignores rpc address like ""rss://""",FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-17T01:26:38Z,2022-10-17T01:50:05Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/776/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/778,https://api.github.com/repos/apache/celeborn/issues/778,celeborn,1410793086,778,[FEATURE] Add new ColumnBuilder types to support columnar shuffle codegen,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-17T02:43:22Z,2024-02-07T05:32:43Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/778/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/780,https://api.github.com/repos/apache/celeborn/issues/780,celeborn,1410990175,780,[REFACTOR] Refactor PartitionLocation's methods,nafiyAix,30563796,nafiy,,CLOSED,2022-10-17T06:33:44Z,2022-10-22T14:46:46Z,"### Describe the intention you'd like
1. current toString() miss the field `mapIdBitMap`'s info, and the legibility of output string is not friendly.
```
public String toString() {
    String peerAddr = """";
    if (peer != null) {
      peerAddr = peer.hostAndPorts();
    }
    return ""PartitionLocation[""
        + id
        + ""-""
        + epoch
        + "" ""
        + host
        + "":""
        + rpcPort
        + "":""
        + pushPort
        + "":""
        + fetchPort
        + "":""
        + replicatePort
        + "" Mode: ""
        + mode
        + "" peer: ""
        + peerAddr
        + "" storage hint:""
        + storageInfo
        + ""]"";
  }
```
Current toString output Example:
<img width=""1468"" alt=""image"" src=""https://user-images.githubusercontent.com/30563796/196105130-dd6d327f-987d-46df-83b2-a3e907ffae4b.png"">

2. redundant initializer
<img width=""473"" alt=""image"" src=""https://user-images.githubusercontent.com/30563796/196144570-075e16b6-b516-438f-a1cc-bd7394752022.png"">

3. Constructor miss field mapIdBitMap
<img width=""503"" alt=""image"" src=""https://user-images.githubusercontent.com/30563796/196144712-1f06b133-1d89-4feb-b15c-aa23118abbae.png"">

4. Move fromPbPartitionLocation() and toPbPartitionLocation() to PbSerDeUtils.
5. equals() and hashCode() also need update
  
<img width=""642"" alt=""image"" src=""https://user-images.githubusercontent.com/30563796/196382308-2c1cc7b3-bcc7-49be-a6c7-bf6d645813f8.png"">

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/780/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/782,https://api.github.com/repos/apache/celeborn/issues/782,celeborn,1411135349,782,[FEATURE] Remove lock related to change partition request,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-17T08:28:49Z,2022-10-19T02:12:11Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/782/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/784,https://api.github.com/repos/apache/celeborn/issues/784,celeborn,1411346789,784,[BUG]Dependency common-lang3 conflicts with spark 3.3.0.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-17T10:44:27Z,2022-10-17T12:20:56Z,"### What is the bug(with logs or screenshots)?
![rss-spark-conflicts](https://user-images.githubusercontent.com/4150993/196158072-a89a7d70-61b0-4389-8e2e-143f3a6f10f2.png)


### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/784/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/795,https://api.github.com/repos/apache/celeborn/issues/795,celeborn,1414140257,795,[BUG] Batch handle change partition throw NPE,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-19T02:12:38Z,2022-10-19T02:54:10Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/795/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/797,https://api.github.com/repos/apache/celeborn/issues/797,celeborn,1414175916,797,[Umbrella] Migrate Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-19T02:45:03Z,2022-11-01T07:59:59Z,"### Describe the intention you'd like

Please don't forget to update docs when changing `ConfigEntry`s, see more details at https://github.com/alibaba/celeborn/pull/794

The docs golden files can be generated by

```
UPDATE=1 build/mvn test -pl common -am -Pspark-3.3 -Dtest=none -DwildcardSuites=org.apache.celeborn.ConfigurationSuite
```

Preview docs site on local: https://alibaba.github.io/celeborn/contrib/docs_and_website/


Can be split into these parts

- https://github.com/alibaba/celeborn/pull/749
- https://github.com/alibaba/celeborn/pull/752
- https://github.com/alibaba/celeborn/pull/763
- https://github.com/alibaba/celeborn/pull/775
- https://github.com/alibaba/celeborn/pull/786
- https://github.com/alibaba/celeborn/pull/794
- https://github.com/alibaba/celeborn/pull/838
- #798
- #847
- #869
- #845
- #801
- #871
- #812
- #841 
- #828
- #818
- #820
- #849
- https://github.com/alibaba/celeborn/pull/843
- https://github.com/alibaba/celeborn/pull/844
- https://github.com/alibaba/celeborn/pull/875
- #887

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/797/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/797,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MfhHS,celeborn,1283330514,797,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-10-19T02:47:15Z,2022-10-19T02:47:15Z,I will take worker recover first,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MfhHS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/798,https://api.github.com/repos/apache/celeborn/issues/798,celeborn,1414178673,798,[REFACTOR] Migrate worker-recover related conf to ConfigEntry,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-19T02:47:49Z,2022-10-19T08:42:01Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/798/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/801,https://api.github.com/repos/apache/celeborn/issues/801,celeborn,1414264048,801,flusher + file writer,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-19T04:25:34Z,2022-10-20T07:23:19Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/801/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/805,https://api.github.com/repos/apache/celeborn/issues/805,celeborn,1414356048,805,[REFACTOR] Remove UserIdentifier out of ControlMessage,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-19T06:11:22Z,2022-10-19T07:38:08Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/805/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/805,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MgaeO,celeborn,1283565454,805,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-10-19T07:38:07Z,2022-10-19T07:38:07Z,Fixed in #808,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MgaeO/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/806,https://api.github.com/repos/apache/celeborn/issues/806,celeborn,1414356996,806,[REFACTOR] Remove ResourceConsumption out of ControlMessage ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-19T06:12:11Z,2022-10-19T09:14:53Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/806/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/811,https://api.github.com/repos/apache/celeborn/issues/811,celeborn,1414615969,811,Master: Offer slots for 160 reducers ,bigdata-spec,23710717,,,CLOSED,2022-10-19T09:23:41Z,2022-10-19T10:45:14Z,"Hello，Master Error log：

```
 17:21:49,324 ERROR [dispatcher-event-loop-0] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,325 ERROR [dispatcher-event-loop-1] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,502 ERROR [dispatcher-event-loop-3] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,503 ERROR [dispatcher-event-loop-2] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,548 ERROR [dispatcher-event-loop-4] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,549 ERROR [dispatcher-event-loop-5] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,601 ERROR [dispatcher-event-loop-7] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,602 ERROR [dispatcher-event-loop-8] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,649 ERROR [dispatcher-event-loop-6] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,651 ERROR [dispatcher-event-loop-9] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,674 ERROR [dispatcher-event-loop-10] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,676 ERROR [dispatcher-event-loop-11] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,804 ERROR [dispatcher-event-loop-13] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,805 ERROR [dispatcher-event-loop-14] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,830 ERROR [dispatcher-event-loop-12] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,831 ERROR [dispatcher-event-loop-16] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
22/10/19 17:21:49,838 ERROR [dispatcher-event-loop-15] Master: Offer slots for 160 reducers of application_1666145842085_0027_2
```

How to solve？","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/811/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/811,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Mg8Um,celeborn,1283704102,811,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-10-19T09:28:33Z,2022-10-19T09:28:33Z,"I think this log means that your workers are gone or you have only one worker but set “spark.rss.push.data.replicate” to true.

The main branch is changing rapidly, so there might be some problem.

If you want to test Celeborn, Please use the branch-0.1 or the release package.
在 2022年10月19日 +0800 17:23，jiangbiao910 ***@***.***>，写道：
> Hello，Master Error log：
> 17:21:49,324 ERROR [dispatcher-event-loop-0] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,325 ERROR [dispatcher-event-loop-1] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,502 ERROR [dispatcher-event-loop-3] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,503 ERROR [dispatcher-event-loop-2] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,548 ERROR [dispatcher-event-loop-4] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,549 ERROR [dispatcher-event-loop-5] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,601 ERROR [dispatcher-event-loop-7] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,602 ERROR [dispatcher-event-loop-8] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,649 ERROR [dispatcher-event-loop-6] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,651 ERROR [dispatcher-event-loop-9] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,674 ERROR [dispatcher-event-loop-10] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,676 ERROR [dispatcher-event-loop-11] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,804 ERROR [dispatcher-event-loop-13] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,805 ERROR [dispatcher-event-loop-14] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,830 ERROR [dispatcher-event-loop-12] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,831 ERROR [dispatcher-event-loop-16] Master: Offer slots for 160 reducers of application_1666145842085_0027_2-0 failed!
>
> 22/10/19 17:21:49,838 ERROR [dispatcher-event-loop-15] Master: Offer slots for 160 reducers of application_1666145842085_0027_2
>
> How to solve？
> —
> Reply to this email directly, view it on GitHub, or unsubscribe.
> You are receiving this because you are subscribed to this thread.Message ID: ***@***.***>
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Mg8Um/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/811,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MhUWi,celeborn,1283802530,811,NA,bigdata-spec,23710717,,,NA,2022-10-19T10:45:14Z,2022-10-19T10:45:14Z,"@FMX Thank you very much, I have only one work ,you are right!","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MhUWi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/812,https://api.github.com/repos/apache/celeborn/issues/812,celeborn,1414682939,812,[Refactor] Migrate metrics system related configs to ConfigEntry,nafiyAix,30563796,nafiy,,CLOSED,2022-10-19T10:06:44Z,2022-10-21T05:58:00Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/812/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/815,https://api.github.com/repos/apache/celeborn/issues/815,celeborn,1415888105,815,[BUG] Cluster read writer unit test is unstable.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-20T03:42:00Z,2022-10-24T07:36:07Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/815/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/818,https://api.github.com/repos/apache/celeborn/issues/818,celeborn,1416109002,818,[REFACTOR] Move RssConf.xxx conf method to RssConf class,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-20T07:25:31Z,2022-10-20T10:11:01Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/818/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/820,https://api.github.com/repos/apache/celeborn/issues/820,celeborn,1416129953,820,rename RssConf to CelebornConf,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-20T07:41:57Z,2022-10-20T12:13:15Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/820/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/824,https://api.github.com/repos/apache/celeborn/issues/824,celeborn,1416252263,824,[REFACTOR] Use config to control more metrics that may affect performance when collecting,nafiyAix,30563796,nafiy,,CLOSED,2022-10-20T09:06:49Z,2024-02-07T05:32:34Z,"### Describe the intention you'd like
use `celeborn.metrics.system.sample.perf.critical` to control, just like below
```
  val samplePerfCritical: Boolean = conf.metricsSamplePerfCritical
...
...
...
    if (source.samplePerfCritical()) {
      metricsName = WorkerSource.TakeBufferTime();
      fileAbsPath = fileInfo.getFilePath();
      source.startTimer(metricsName, fileAbsPath);
    }

    // real action
    flushBuffer = flusher.takeBuffer();

    // metrics end
    if (source.samplePerfCritical()) {
      source.stopTimer(metricsName, fileAbsPath);
    }
```
/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/824/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/824,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Mqwep,celeborn,1286277033,824,NA,selectbook,8454350,Luke023434,,NA,2022-10-20T23:39:33Z,2022-10-20T23:39:33Z,"Hello, I'm interested in contributing to this issue. can I hava a try?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Mqwep/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/824,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MrNxL,celeborn,1286397003,824,NA,nafiyAix,30563796,nafiy,,NA,2022-10-21T03:04:02Z,2022-10-21T03:04:02Z,"> Hello, I'm interested in contributing to this issue. can I hava a try?

no problem, thanks","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5MrNxL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/827,https://api.github.com/repos/apache/celeborn/issues/827,celeborn,1417742315,827,[REFACTOR] Collect all PbSerDe methods into PbSerDeUtils and change PbSerDeUtils to scala code,nafiyAix,30563796,nafiy,,CLOSED,2022-10-21T04:59:59Z,2022-10-31T07:05:33Z,"BTW, do we need to transform PbSerDeUtils to scala code, seems it will be convenient to handle the transformation.

_Originally posted by @nafiyAix in https://github.com/alibaba/celeborn/pull/791#discussion_r998929924_
      ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/827/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/828,https://api.github.com/repos/apache/celeborn/issues/828,celeborn,1417902605,828,[REFACTOR] Migrate memory tracker related configs to ConfigEntry,nafiyAix,30563796,nafiy,,CLOSED,2022-10-21T07:41:48Z,2022-10-25T13:16:55Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/828/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/829,https://api.github.com/repos/apache/celeborn/issues/829,celeborn,1417919297,829,[REFACTOR] Unify name of PUSH_DATA_FAIL_MAIN,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-21T07:54:38Z,2022-10-21T11:06:35Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/829/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/832,https://api.github.com/repos/apache/celeborn/issues/832,celeborn,1419374455,832,[BUG] RegisterShuffle should not increase epoch,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-10-22T15:52:39Z,2022-10-24T06:29:47Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/832/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/835,https://api.github.com/repos/apache/celeborn/issues/835,celeborn,1419695658,835,"[BUG] If all workers are lost ,register shuffle will stuck.",FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-23T08:01:23Z,2024-02-07T05:32:27Z,"### What is the bug(with logs or screenshots)?

Executor log:

```
22/10/23 15:21:59 WARN ShuffleClientImpl: LifecycleManager request slots return StatusCode{value=SLOT_NOT_AVAILABLE}, retry again, remain retry times 2
```


Here is a thread dump.
```
java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1674)
org.apache.celeborn.client.ShuffleClientImpl.pushOrMergeData(ShuffleClientImpl.java:466)
org.apache.celeborn.client.ShuffleClientImpl.mergeData(ShuffleClientImpl.java:780)
org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.closeRowWrite(HashBasedShuffleWriter.java:397)
org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.close(HashBasedShuffleWriter.java:427)
org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.write(HashBasedShuffleWriter.java:187)
org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
org.apache.spark.scheduler.Task.run(Task.scala:131)
org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)
org.apache.spark.executor.Executor$TaskRunner$$Lambda$623/101919060.apply(Unknown Source)
org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)
org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
java.lang.Thread.run(Thread.java:750)
```

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/835/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/839,https://api.github.com/repos/apache/celeborn/issues/839,celeborn,1420137181,839,[FEATURE] Add new ColumnarBatchBuild for columnar shuffle codegen,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-10-24T03:10:03Z,2022-10-24T14:17:48Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/839/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/839,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M1jn-,celeborn,1289107966,839,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-10-24T14:17:47Z,2022-10-24T14:17:47Z,completed in https://github.com/alibaba/celeborn/pull/840,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M1jn-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/841,https://api.github.com/repos/apache/celeborn/issues/841,celeborn,1420304395,841,[REFACTOR] Migrate shuffle client side conf to  Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-24T06:42:20Z,2022-10-24T12:48:50Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/841/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/845,https://api.github.com/repos/apache/celeborn/issues/845,celeborn,1420957902,845,[REFACTOR] Migrate partition split Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-24T14:47:22Z,2022-10-25T02:54:47Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/845/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/847,https://api.github.com/repos/apache/celeborn/issues/847,celeborn,1420999389,847,[REFACTOR] Migrate codec conf to  Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-24T15:14:59Z,2022-10-25T01:16:47Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/847/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/849,https://api.github.com/repos/apache/celeborn/issues/849,celeborn,1421764220,849,[REFACTOR] Migrate master and common Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-25T02:58:26Z,2022-10-26T09:09:28Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/849/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/851,https://api.github.com/repos/apache/celeborn/issues/851,celeborn,1421921261,851,[REFACTOR] Migrate quota configruation to Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-25T06:19:09Z,2022-11-01T03:54:14Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/851/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/855,https://api.github.com/repos/apache/celeborn/issues/855,celeborn,1422481250,855,[IMPROVEMENT] Delete unnecessary JDK files from image ,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-25T13:36:32Z,2024-02-07T05:32:20Z,"### Describe the intention you'd like

```
root@0aa025e708fe:/opt/java/openjdk# ls -lh
total 51M
-r--r--r--  1 root root 1.5K Oct 19  2021 ASSEMBLY_EXCEPTION
drwxr-xr-x  2 root root 4.0K Oct 19  2021 bin
drwxr-xr-x  3 root root 4.0K Oct 19  2021 include
drwxr-xr-x  4 root root 4.0K Oct 19  2021 jre
drwxr-xr-x  3 root root 4.0K Oct 19  2021 lib
-r--r--r--  1 root root  19K Oct 19  2021 LICENSE
drwxr-xr-x  4 root root 4.0K Oct 19  2021 man
-rw-r--r--  1 root root 2.4K Oct 19  2021 NOTICE
-rw-r--r--  1 root root  455 Oct 19  2021 release
drwxr-xr-x 10 root root 4.0K Oct 19  2021 sample
-rw-r--r--  1 root root  51M Oct 19  2021 src.zip
-r--r--r--  1 root root 154K Oct 19  2021 THIRD_PARTY_README
```
```
root@0aa025e708fe:/opt/java/openjdk# du -hd1
104M	./jre
696K	./bin
1.8M	./sample
224K	./include
38M	./lib
2.0M	./man
197M	.
```

Obviously, `sample/` and `src.zip` could be delete.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/855/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/856,https://api.github.com/repos/apache/celeborn/issues/856,celeborn,1422794322,856,Bump Spark 3.3.1,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-25T17:04:47Z,2022-11-01T08:02:49Z,"### Describe the intention you'd like

Spark 3.3.1 was released a few days ago, and Celeborn currently supports 2.4/3.0/3.1/3.2/3.3, we should always test against the latest patched version.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/856/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/857,https://api.github.com/repos/apache/celeborn/issues/857,celeborn,1422816693,857,[Umbrella] Prepare for the first Apache Podling Release,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-25T17:24:52Z,2024-02-07T05:32:11Z,"### Describe the intention you'd like

I'm willing to get the first release ASAP after Celeborn enters the Apache Incubator, to get a baseline version. And the following released versions should respect the semantic version policy, Basically, we must make sure

1. the patch version should not introduce incompatible changes. e.g. client-0.2.0 should work w/ server-0.2.1; master-0.2.0 should work w/ worker 0.2.1

2. there is no major incompatible change between the two minor versions before 1.0.0. e.g. client-0.2.0 should work w/ server-0.3.0; any component can upgrade from 0.2.0 to 0.3.0 w/o changing configurations(if we rename/remove some configurations, we should keep deprecating warning at least one minor version rather than dropping immediately).

3. Starting from 1.0.0, the breaking changes are only allowed on major version changes.

There is some guidance on how to do Apache Release.

https://incubator.apache.org/cookbook/#podling_releases
https://youtu.be/I0-lp1t9ee0

The infrastructure and RPC/Configuration migration work can be done concurrently.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/857/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/858,celeborn,1422830374,858,[Improvement] Generate patch to each Spark minor version,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-25T17:36:12Z,2024-02-07T05:32:03Z,"### Describe the intention you'd like

The current Spark3 DRA patch is based on a version nearby Spark 3.2.2, some conflict will occur if we apply it to Spark 3.1.3 or Spark 3.3.1.

We should generate the patch for each Spark minor version(latest patch version), to make sure the user can apply the patch easily.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/858/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M80Kz,celeborn,1291010739,858,NA,ishu-thakur,45738614,Ishu Thakur,,NA,2022-10-25T19:02:07Z,2022-10-25T19:02:07Z,Hi @pan3793 I would like to contribute but before that i want to ask abit more information about requirement as do we have to make a patch Api ? and how the URL would look like and what are the field we can update while doing patch :),"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M80Kz/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M-SfS,celeborn,1291397074,858,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-10-26T02:11:18Z,2022-10-26T02:11:18Z,"Hi @ishu-thakur, it's not something about HTTP. The ""patch"" means https://github.com/alibaba/celeborn/tree/main/assets/spark-patch","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M-SfS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYI5c,celeborn,1801490012,858,NA,lukeyan2023,108530647,Luke Yan,,NA,2023-11-08T10:02:38Z,2023-11-08T10:02:38Z,@pan3793 I can contribute this，please assign to me thank you,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYI5c/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYJz7,celeborn,1801493755,858,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-11-08T10:04:08Z,2023-11-08T10:04:08Z,"@lukeyan2023 assigned. Go head, please","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYJz7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYLxe,celeborn,1801501790,858,NA,lukeyan2023,108530647,Luke Yan,,NA,2023-11-08T10:07:23Z,2023-11-08T10:07:23Z,I will test and generate patches from 3.1.3 to 3.3.3. Do I need more versions,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYLxe/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYY6d,celeborn,1801555613,858,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-11-08T10:24:57Z,2023-11-08T10:24:57Z,"Spark use semantic version `<major>.<minor>.<patch>`.

I suppose we should generate the patch for each latest minor version of Spark, and verify they could be applied to all corresponding patch versions without conflicts.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rYY6d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/858,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rfOju,celeborn,1803348206,858,NA,lukeyan2023,108530647,Luke Yan,,NA,2023-11-09T08:16:16Z,2023-11-09T08:16:16Z,@pan3793 I have submitted a related PR but I don’t know how to link it to this issue,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5rfOju/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/861,https://api.github.com/repos/apache/celeborn/issues/861,celeborn,1423349817,861,[FEATURE] Support Java11,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-10-26T02:41:48Z,2024-02-07T05:31:55Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/861/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/862,celeborn,1423376500,862,[IMPROVEMENT] Get chunkSize from server instead of from conf,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-10-26T03:21:58Z,2024-02-07T05:34:26Z,"### Is your feature request related to a problem? Please describe.
Currently DfsPartitionReader gets shuffleChunkSize from client-side configuration
```
    shuffleChunkSize = (int) conf.shuffleChunkSize();
```
However it may happen that client-side config is not consistent with server-side config. We should get this config from server, possibly returned through GetReducerFileGroupResponse, like the following
```
  case class GetReducerFileGroupResponse(
      status: StatusCode,
      fileGroup: Array[Array[PartitionLocation]],
      attempts: Array[Int],
      shuffleChunkSize: Int)
```

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/862/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4eg0,celeborn,1491200052,862,NA,tobehardest,88612778,Yikun Chen,,NA,2023-03-31T02:27:35Z,2023-03-31T02:27:35Z,"Or maybe I can try it, can you assign it to me?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4eg0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4fQp,celeborn,1491203113,862,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-31T02:31:25Z,2023-03-31T02:31:25Z,"> Or maybe I can try it, can you assign it to me?

Sure, assigned, thanks! BTW, do you have a jira account? Currently Celeborn uses jira for issue tracking, I'd like to create an issue there and assign to you.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4fQp/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4gzP,celeborn,1491209423,862,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-31T02:33:37Z,2023-03-31T02:33:37Z,"> Or maybe I can try it, can you assign it to me?

@tobehardest https://issues.apache.org/jira/browse/CELEBORN-498","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4gzP/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4h19,celeborn,1491213693,862,NA,tobehardest,88612778,Yikun Chen,,NA,2023-03-31T02:42:06Z,2023-03-31T02:42:06Z,"> > Or maybe I can try it, can you assign it to me?
> 
> Sure, assigned, thanks! BTW, do you have a jira account? Currently Celeborn uses jira for issue tracking, I'd like to create an issue there and assign to you.

Oh, I don't have a jira account yet, I'm new here, and the system tells me that I need to contact the administrator to apply for an account.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4h19/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4iZt,celeborn,1491215981,862,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-31T02:46:42Z,2023-03-31T02:46:42Z,"> 
@tobehardest 
You can request jira account here:
https://selfserve.apache.org/jira-account.html
and select ""Celeborn""","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4iZt/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4jWY,celeborn,1491219864,862,NA,tobehardest,88612778,Yikun Chen,,NA,2023-03-31T02:54:32Z,2023-03-31T02:54:32Z,"> > 
> 
> @tobehardest You can request jira account here: https://selfserve.apache.org/jira-account.html and select ""Celeborn""

ok, done.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4jWY/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4k2n,celeborn,1491226023,862,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-31T03:04:34Z,2023-03-31T03:04:34Z,"> 

Approved, you should've received the welcome email. You can assign the issue to yourself, thanks for contributing~","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Y4k2n/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kyFjS,celeborn,1690851538,862,NA,lishiyucn,5198932,shiyu li,me@lishiyu.cn,NA,2023-08-24T01:27:21Z,2023-08-24T01:27:21Z,"@waitinfuture  Only the ""celeborn.shuffle.chunk.size"" param take value from server-side config? ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kyFjS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kyLxH,celeborn,1690876999,862,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-24T02:02:04Z,2023-08-24T02:02:04Z,"> @waitinfuture Only the ""celeborn.shuffle.chunk.size"" param take value from server-side config?

@lishiyucn I'm not sure whether there are other configs that should use server-side config, but for this one it really should use server-side config rather than client-side. And we should change the categories of this config to `worker` only.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kyLxH/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kzUgh,celeborn,1691174945,862,NA,lishiyucn,5198932,shiyu li,me@lishiyu.cn,NA,2023-08-24T07:43:11Z,2023-08-24T07:43:11Z,"I have fixed the issue, please assign it to me, Thanks.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kzUgh/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/862,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kzbrF,celeborn,1691204293,862,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-24T08:03:42Z,2023-08-24T08:03:42Z,"> I have fixed the issue, please assign it to me, Thanks.

done","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kzbrF/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/863,https://api.github.com/repos/apache/celeborn/issues/863,celeborn,1423392760,863,[BUG]LifecycleManager should ignore change partition request when shuffle ended and not remove workersnapshot when commit success,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-26T03:46:26Z,2022-10-27T14:04:20Z,"### What is the bug(with logs or screenshots)?
```
22/10/25 15:09:21,828 DEBUG [dispatcher-event-loop-14] Worker: Received ReserveSlots request, application_1665646136650_2510409_1-33, master partitions: 478-1; slave partitions: .
22/10/25 15:09:21,828 INFO [dispatcher-event-loop-14] Worker: Reserved 1 master location and 0 slave location for application_1665646136650_2510409_1-33 master: [PartitionLocation[478-1 10.130.86.41:9092:9094:9093:9095 Mode: Master peer: 10.130.75.25:9092:9094:9093storage hint:MEMORY]]
22/10/25 15:25:27,728 DEBUG [dispatcher-event-loop-43] Worker: Received CommitFiles request, application_1665646136650_2510409_1-33, master files 64-1,833-0,1345-1,164-1,584-2,1161-1,1129-2,1131-0,237-0,818-1,819-1,1429-0,535-0,733-1,478-1; slave files 832-0,672-1,130-1,134-1,1130-0,1034-1,236-0,268-1,883-1,1428-0,564-1,534-0,508-1,221-1.
22/10/25 15:25:31,807 DEBUG [dispatcher-event-loop-32] Worker: Received ReserveSlots request, application_1665646136650_2510409_1-33, master partitions: 478-1; slave partitions: .
22/10/25 15:25:32,130 INFO [dispatcher-event-loop-32] Worker: Reserved 1 master location and 0 slave location for application_1665646136650_2510409_1-33 master: [PartitionLocation[478-1 10.130.86.41:9092:9094:9093:9095 Mode: Master peer: 10.130.75.25:9092:9094:9093storage hint:MEMORY]]
22/10/25 15:09:21 WARN LifecycleManager: Batch handle change partition for application_1665646136650_2510409_1 of [33-478-0]
22/10/25 15:09:21 INFO LifecycleManager: Reserve buffer success for application_1665646136650_2510409_1-33
22/10/25 15:09:21 WARN LifecycleManager: Renew 33 [(478 0 -> 1)]  success.
22/10/25 15:25:31 INFO LifecycleManager: Succeed to handle stageEnd for 33.
22/10/25 15:25:31 WARN LifecycleManager: New partition not found, old partition 33 478-0
22/10/25 15:25:31 WARN LifecycleManager: Batch handle change partition for application_1665646136650_2510409_1 of [33-478-0]
22/10/25 15:25:31 WARN LifecycleManager: Renew 33 []  success. 
```

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/863/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/865,https://api.github.com/repos/apache/celeborn/issues/865,celeborn,1423435071,865,[REFACTOR] Create file twice cause Worker stuck and trimFlush not work,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-26T04:52:02Z,2022-11-07T07:15:20Z,"### Describe the intention you'd like

1. Same partition and epoch twice caused by #863 
2. Create file throw exception and report an device error since file already exists
3. device related directories 's file writer attach a exception
4. device error cause flush interrupt and disk io slow, memory increase
5. Memory increase cause pause push data and pause replicate data
6. during pausing receiving data trim `onTrim` and flush all file writers to memory
7. FileWriter with exception also in the flush behavior and throw exception, flush behavior stoped.
8. Memory can't drop

<img width=""1732"" alt=""截屏2022-10-27 下午6 32 14"" src=""https://user-images.githubusercontent.com/46485123/198262305-61078dd5-119a-4664-be6b-2702cc29a25a.png"">


- [x] #863 
- [x] #866
- [x] #867
- [x] #879
- [x] #880
- [x] #921
- [x] #932

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/865/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/865,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M-rQh,celeborn,1291498529,865,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-10-26T04:53:42Z,2022-10-26T04:53:42Z,cc @nafiyAix ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5M-rQh/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/865,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NJZOc,celeborn,1294308252,865,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-10-28T01:40:47Z,2022-10-28T01:40:47Z,Could you please describe more detail about the problem?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NJZOc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/866,https://api.github.com/repos/apache/celeborn/issues/866,celeborn,1423435472,866,[BUG] Create File twice should show clear log,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-26T04:52:42Z,2022-10-27T06:52:47Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/866/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/867,https://api.github.com/repos/apache/celeborn/issues/867,celeborn,1423435892,867,"[BUG] Create Writer failed should not report critical error, should report non-critical error",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-26T04:53:22Z,2022-10-31T13:23:18Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/867/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/868,https://api.github.com/repos/apache/celeborn/issues/868,celeborn,1423446228,868,[Umbrella] Build Apache Celeborn (Incubating) website,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-26T05:09:09Z,2024-02-07T05:31:39Z,"### Describe the intention you'd like

https://whimsy.apache.org/pods/project

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/868/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/869,https://api.github.com/repos/apache/celeborn/issues/869,celeborn,1423796313,869,[REFACTOR] Migrate partition size/sorter related conf to Celeborn ConfigEntity,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-26T10:28:04Z,2022-10-27T08:49:56Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/869/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/871,https://api.github.com/repos/apache/celeborn/issues/871,celeborn,1423829688,871,[REFACTOR] Migrate Worker conf to Celeborn Configuration System,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-26T10:56:30Z,2022-10-27T07:35:30Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/871/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/872,https://api.github.com/repos/apache/celeborn/issues/872,celeborn,1423859396,872,[FEATURE] Avoid running celeborn as root user in container,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-10-26T11:21:41Z,2024-02-07T05:34:26Z,"### Is your feature request related to a problem? Please describe.

Our infrastructure team forbids the container which runs as root user, since it may have potential security issues.

### Describe the solution you'd like

Always run as celeborn user, but allow the user to custom uid on building images.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/872/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/879,https://api.github.com/repos/apache/celeborn/issues/879,celeborn,1425361831,879,"[BUG] When notifyError, should destroy corresponding  file writers",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-27T09:55:31Z,2022-11-07T06:03:48Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/879/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/880,https://api.github.com/repos/apache/celeborn/issues/880,celeborn,1425361917,880,"[BUG] onTrim when `flushFileWriters()` should catch each file writer's exception, avoid block flush all file writers",AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-27T09:55:34Z,2022-10-31T07:18:33Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/880/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/881,https://api.github.com/repos/apache/celeborn/issues/881,celeborn,1425769539,881,"[REFACTOR] Rename ""Spark"" to ""Celeborn"" in docs in CelebornConf.scala",waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-10-27T14:51:06Z,2022-10-28T12:17:23Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/881/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/881,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NLwit,celeborn,1294928045,881,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-10-28T12:17:23Z,2022-10-28T12:17:23Z,"Have searched on `CelebornConf.scala`, and I think there is no missed ""Spark"", close this ticket then.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NLwit/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/882,https://api.github.com/repos/apache/celeborn/issues/882,celeborn,1426485662,882,[REFACTOR] Celeborn should COPY dirs into image instead of ADD fixed tar file,zwangsheng,52876270,Binjie Yang,,CLOSED,2022-10-28T01:49:19Z,2022-10-31T02:45:01Z,"### Describe the intention you'd like
In `./dev/make-distribution.sh`, user can make custom binary package with their prefer name by using `--name`, which affect final tgz name and celeborn dir name.

In `docker/Dockerfile` and `docker/helm/template/master-statefulset.yaml`, celeborn required `celeborn-{{.Values.celebornVersion }}-bin` dir exists.

This hard code and the custom name above are in conflict, we should respect the name set by the user and avoid errors caused by different folder names when building the docker image.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/882/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/886,https://api.github.com/repos/apache/celeborn/issues/886,celeborn,1426864138,886,server can't find celeborn-master-1.celeborn-master-svc: NXDOMAIN,bigdata-spec,23710717,,,CLOSED,2022-10-28T08:08:03Z,2024-02-07T05:31:47Z,"Hello，I want to  consult about RSS on K8s.
when I run **helm install celeborn-helm helm -n rss** 

```
** server can't find celeborn-master-1.celeborn-master-svc: NXDOMAIN

waiting for master
Server:         10.96.0.10
Address:        10.96.0.10#53

Name:   celeborn-master-0.celeborn-master-svc.rss.svc.cluster.local
Address: 10.244.236.151

Server:         10.96.0.10
Address:        10.96.0.10#53

** server can't find celeborn-master-1.celeborn-master-svc: NXDOMAIN

waiting for master
Server:         10.96.0.10
Address:        10.96.0.10#53

Name:   celeborn-master-0.celeborn-master-svc.rss.svc.cluster.local
Address: 10.244.236.151

Server:         10.96.0.10
Address:        10.96.0.10#53

** server can't find celeborn-master-1.celeborn-master-svc: NXDOMAIN
```
![image](https://user-images.githubusercontent.com/23710717/198537436-43896afa-0c34-4534-b1ab-cd8b8a3abf13.png)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/886/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/886,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NLxZC,celeborn,1294931522,886,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-10-28T12:20:51Z,2022-10-28T12:20:51Z,"Your pasted log will be printed until all master nodes are launched, then the issue here is why `celeborn-master-1` and `celeborn-master-2` pods launch failed.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NLxZC/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/886,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NRdlf,celeborn,1296423263,886,NA,bigdata-spec,23710717,,,NA,2022-10-31T01:18:44Z,2022-10-31T01:18:44Z,"> Your pasted log will be printed until all master nodes are launched, then the issue here is why `celeborn-master-1` and `celeborn-master-2` pods launch failed.

you are right,do you kown why `celeborn-master-1` and `celeborn-master-2` pods launch failed? Maybe network?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NRdlf/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/886,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NRpnJ,celeborn,1296472521,886,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-10-31T02:56:44Z,2022-10-31T02:56:44Z,Are there logs on the failed Pod?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NRpnJ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/887,https://api.github.com/repos/apache/celeborn/issues/887,celeborn,1426874092,887,[REFACTOR] Configuration type convert to Enum,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-10-28T08:15:54Z,2022-10-29T05:41:08Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/887/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/889,https://api.github.com/repos/apache/celeborn/issues/889,celeborn,1427533899,889,[BUG] Celeborn HA master set celeborn.ha.master.node.id will cause assertion failure.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-10-28T17:02:00Z,2024-02-07T05:34:27Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

  

> failed to launch: nice -n 0 /home/hadoop/apache-celeborn-0.2.0-SNAPSHOT-bin/bin/celeborn-class org.apache.celeborn.service.deploy.master.Master
>   	at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)
>   	at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)
>   	at scala.collection.TraversableLike.map(TraversableLike.scala:286)
>   	at scala.collection.TraversableLike.map$(TraversableLike.scala:279)
>   	at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)
>   	at org.apache.celeborn.common.CelebornConf.haMasterNodeIds(CelebornConf.scala:574)
>   	at org.apache.celeborn.service.deploy.master.clustermeta.ha.MasterClusterInfo$.loadHAConfig(MasterClusterInfo.scala:42)
>   	at org.apache.celeborn.service.deploy.master.MasterArguments.<init>(MasterArguments.scala:44)
>   	at org.apache.celeborn.service.deploy.master.Master$.main(Master.scala:759)
>   	at org.apache.celeborn.service.deploy.master.Master.main(Master.scala)
> full log in /home/hadoop/apache-celeborn-0.2.0-SNAPSHOT-bin/logs/celeborn-hadoop-org.apache

> def haMasterNodeIds: Array[String] = {
>     def extractPrefix(original: String, stop: String): String = {
>       val i = original.indexOf(stop)
>       assert(i >= 0, s""$original does not contain $stop"")
>       original.substring(0, i)
>     }
> 
>     val nodeConfPrefix = extractPrefix(HA_MASTER_NODE_HOST.key, ""<id>"")
>     getAllWithPrefix(nodeConfPrefix)
>       .map(_._1)
>       .map(k => extractPrefix(k, "".""))
>       .distinct
>   }

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/889/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/893,https://api.github.com/repos/apache/celeborn/issues/893,celeborn,1428581646,893,[IMPROVEMENT] Retry on CommitFile request,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-10-30T03:40:55Z,2024-02-07T05:34:27Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/893/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/897,https://api.github.com/repos/apache/celeborn/issues/897,celeborn,1430723868,897,Suppress error message on the master follower,pan3793,26535726,Cheng Pan,chengpan@apache.org,CLOSED,2022-11-01T01:42:42Z,2024-02-07T05:32:58Z,"### Describe the intention you'd like

It's not a real error

```
2022-11-01 09:37:44 [ERROR] [partition-size-updater] org.apache.celeborn.service.deploy.master.clustermeta.ha.HAMasterMetaManager#308 - Handle update partition size failed!
com.google.protobuf.ServiceException: Not leader!
	at org.apache.celeborn.service.deploy.master.clustermeta.ha.HARaftServer.submitRequest(HARaftServer.java:224) ~[celeborn-master_2.12-0.2.0-SNAPSHOT.jar:0.2.0-SNAPSHOT]
	at org.apache.celeborn.service.deploy.master.clustermeta.ha.HAMasterMetaManager.handleUpdatePartitionSize(HAMasterMetaManager.java:302) [celeborn-master_2.12-0.2.0-SNAPSHOT.jar:0.2.0-SNAPSHOT]
	at org.apache.celeborn.service.deploy.master.Master$$anon$1.run(Master.scala:120) [celeborn-master_2.12-0.2.0-SNAPSHOT.jar:0.2.0-SNAPSHOT]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_345]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [?:1.8.0_345]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_345]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [?:1.8.0_345]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_345]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_345]
	at java.lang.Thread.run(Thread.java:750) [?:1.8.0_345]
```

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/897/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/899,https://api.github.com/repos/apache/celeborn/issues/899,celeborn,1430941539,899,[INFRA]IP Clearance and Initial Clean Up.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-01T06:21:09Z,2022-11-01T06:30:09Z,"### IP Clearance
We checked the IP Clearance by going through the blackduck scan.

### Initial Clean Up
We checked the code with apache rat and skywalking-eyes, here are the results.

Rat result:
[rat.txt](https://github.com/alibaba/celeborn/files/9907400/rat.txt)

Skywalking-eyes result:

<img width=""810"" alt=""skywalking-eyes"" src=""https://user-images.githubusercontent.com/4150993/199169333-8a289102-e05f-49fd-b444-b12f6e093510.png"">
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/899/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/900,https://api.github.com/repos/apache/celeborn/issues/900,celeborn,1430950573,900,IP Clearance and Code Cleanup,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-11-01T06:33:21Z,2022-11-03T02:58:35Z,"#### This issue is used for describing the work of IP Clearance and Code Cleanup for [code initial import](https://incubator.apache.org/guides/transitioning_asf.html) into apache repo.

### IP Clearance
We have done blackduck scan from inner tool.
#### blackduck scan result
![image](https://user-images.githubusercontent.com/948245/199172606-077f1926-d7a0-405c-8e6f-d4b6ace52cf0.png)

### Code Cleanup
We have done skywalking-eyes scan and integrated Apache Rat check in our CI process.
#### skywalking-eyes scan result
![image](https://user-images.githubusercontent.com/948245/199172897-82676651-e524-4846-88ff-ec98427141b6.png)
#### Apache Rat check result
[rat.txt](https://github.com/alibaba/celeborn/files/9907400/rat.txt)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/900/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/901,https://api.github.com/repos/apache/celeborn/issues/901,celeborn,1431275826,901,[BUG] Master should not allocate slots in worker is shutting down,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-01T11:24:24Z,2022-11-02T08:09:59Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/901/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/902,https://api.github.com/repos/apache/celeborn/issues/902,celeborn,1431276510,902,[BUG] Blacklist should not clean worker that is shutting down to avoid retry on shutting down worker,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-01T11:24:59Z,2022-11-02T13:07:30Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/902/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/903,https://api.github.com/repos/apache/celeborn/issues/903,celeborn,1432324583,903,[Umbrella] Celeborn descentralized (temp-)filesystem to support spill and persist data,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-11-02T01:25:58Z,2024-02-07T05:34:28Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/903/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/904,https://api.github.com/repos/apache/celeborn/issues/904,celeborn,1432360184,904,[Umbrella] Celeborn Support Apache Flink,RexXiong,28799061,Shuang,lvshuang.tb@gmail.com,CLOSED,2022-11-02T02:12:12Z,2024-07-10T05:25:11Z,"### Abstract
Apache Flink is not currently supported by Celeborn. It makes sense to make Celeborn to support Apache Flink in batch scenarios as Spark，Flink or Other engine shuffle process don't need two separate shuffle clusters. At the same time Flink shuffle process will benefit from the many features provided by Celeborn.

### Features
- [x] #946
- [x] #945
- [x] #949
- [x] #947
- [ ] Flink Shuffle plugin of Celeborn

### Design Doc
 coming soon

/cc @FMX 

/assign @who-can-help-you","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/904/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/904,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NwRSa,celeborn,1304499354,904,NA,czy006,28348735,ConradJam,jam.gzczy@gmail.com,NA,2022-11-05T11:08:56Z,2022-11-05T11:08:56Z,"Now there is a [flink-remote-shuffle](https://github.com/flink-extended/flink-remote-shuffle) project in apache flink community. I think this part of function can be transplanted here based on 1.16. If there is a plan for this part, I think it is very good and I am willing to assist in this work","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NwRSa/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/904,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NwS3d,celeborn,1304505821,904,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-05T11:53:52Z,2022-11-05T11:53:52Z,@czy006 You are welcome to participate. The design doc will be available soon. We had lots of negotiations with the developers of the flink-remote-shuffle project and we'll support flink. Our goal is to support flink 1.13 and newer versions.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NwS3d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/904,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ELrLM,celeborn,2217652940,904,NA,zhisheng17,10086212,zhisheng,zhisheng2018@gmail.com,NA,2024-07-09T12:53:37Z,2024-07-09T12:53:37Z,"If we want to add support for Flink 1.16 to Celeborn's current codebase, what modifications need to be made? Why flink 1.16 version is not currently supported? 

<img width=""891"" alt=""image"" src=""https://github.com/apache/celeborn/assets/10086212/58332898-c66a-4e99-a0f3-753b14715234"">
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ELrLM/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/904,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ETD2e,celeborn,2219589022,904,NA,RexXiong,28799061,Shuang,lvshuang.tb@gmail.com,NA,2024-07-10T05:25:10Z,2024-07-10T05:25:10Z,"



> If we want to add support for Flink 1.16 to Celeborn's current codebase, what modifications need to be made? Why flink 1.16 version is not currently supported?
> 
Support for different versions of the Flink is based on community needs, and integrate with Flink1.16 is not much different from other versions. Pls go ahead and create a JIRA ticket for supporting Flink 1.16.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ETD2e/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/907,https://api.github.com/repos/apache/celeborn/issues/907,celeborn,1432604028,907,[FEATURE] Shade netty native libraries.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-02T06:58:36Z,2022-11-02T11:02:04Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
Shade netty native library and remove unused native libraries. Celeborn will keep Epoll native library only. So Linux server will be required for deployment.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/907/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/909,https://api.github.com/repos/apache/celeborn/issues/909,celeborn,1432773241,909,[FEATURE] Multi-tenant network throttling,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-02T09:17:44Z,2024-02-07T05:34:30Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

- [ ] Split maxReqsInFlight limitation into level of target worker
- [ ] Shuffle client slow start
- [ ] Shuffle client congestion control 
- [x] #917
- [ ] ShuffleClient push failed retry when return type is no available buffer
- [ ] Statistics user's window push data traffic
- [ ] ....

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/909/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/910,https://api.github.com/repos/apache/celeborn/issues/910,celeborn,1432976161,910,[BUG] Spark’s blacklist mechanism should not add executors with task failed caused by rss,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-02T11:24:17Z,2024-02-07T05:34:29Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/910/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/911,https://api.github.com/repos/apache/celeborn/issues/911,celeborn,1433096590,911,[IMPROVEMENT] Decrease celeborn.<module>.io.numConnectionsPerPeer default value to avoid too many network connections,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-11-02T12:51:46Z,2022-11-20T03:46:18Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/911/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/911,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NlG9c,celeborn,1301573468,911,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-03T02:25:14Z,2022-11-03T02:25:14Z,"I have done some tests about the effect of num connection per peer. I run the terasort with a data scale of 150GB on 4 nodes.
I get the result:
if numConnectionsPerPeer is 1, shuffle write will cost 57s.
if numConnectionsPerPeer is 2, shuffle write will cost 52s.
if numConnectionsPerPeer is 8, shuffle write will cost 51s.

So let us set the default value to 2.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5NlG9c/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/913,https://api.github.com/repos/apache/celeborn/issues/913,celeborn,1434179458,913,[FEATURE] Support columnar shuffle codegen,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-11-03T06:35:23Z,2022-11-07T08:22:34Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/913/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/917,https://api.github.com/repos/apache/celeborn/issues/917,celeborn,1435627042,917,Increase push data failed return reason type,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-04T06:33:52Z,2024-02-07T05:34:29Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/917/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/918,https://api.github.com/repos/apache/celeborn/issues/918,celeborn,1435637461,918,[BUG] Utils.toStatus code is not complete,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-04T06:47:48Z,2022-11-04T07:42:27Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/918/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/921,https://api.github.com/repos/apache/celeborn/issues/921,celeborn,1435682879,921,[BUG] Flush Error should report non critical error,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-04T07:43:13Z,2022-11-07T03:56:12Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/921/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/921,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Nq2bw,celeborn,1303078640,921,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-11-04T07:43:36Z,2022-11-04T07:43:36Z,@nafiyAix ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Nq2bw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/924,https://api.github.com/repos/apache/celeborn/issues/924,celeborn,1435995395,924,[Umbrella] Tests Requirements,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-11-04T12:22:16Z,2024-02-07T05:31:19Z,"### This issue tracks integration tests(IT) or unit tests(UT) to be added
- [ ] IT: reserve slots fail randomly to test retryReserveSlots
- [ ] IT: Graceful shutdown while running test suite
- [ ] IT: Rolling upgrade Masters && Workers while running test suite
- [ ] IT: Create file error, flush error, disk usage full, disk un-writable
- [ ] IT: Trigger shuffle read retry
- [ ] IT: Some application timeout while others running
- [ ] IT: Pressure tests
- [ ] IT: K8S regression
- [ ] IT: HDFS regression
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/924/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/925,https://api.github.com/repos/apache/celeborn/issues/925,celeborn,1436008458,925,[BUG] Client might fetch incorrect data chunk.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-04T12:34:12Z,2022-11-09T14:31:40Z,"### What is the bug(with logs or screenshots)?
The partition location has two replicas which could be regarded as two files and are not identical. Each replica will be split into many chunks and be fetched to client one to one. If a client fetch chunk from a replica and failed it will continue to read from its peer replica with the failed chunk and might cause data lost with no sign.

### How to reproduce the bug?
1. enable server-side replication.
2. trigger fetch failure to read from peer replica.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/925/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/929,https://api.github.com/repos/apache/celeborn/issues/929,celeborn,1437679090,929,[BUG] Flusher thread interrupted and won't recover,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-07T02:39:54Z,2022-11-07T02:43:56Z,"### What is the bug(with logs or screenshots)?
if working dir  `/mnt/disk/1` and `/mnt/disk/2` mount in same device, if working dir `/mnt/disk/1` failed, it will remove `/mnt/disk/1` from working dir, but' will report error for both `/mvt/disk/1` and `/mnt/disk/2` and interrupt it's flush thread.

But when notify error, since `/mnt/disk/2` is not under isolated dir, won't add new DiskFlsuher of `/mnt/disk/2` then `/mnt/disk/2`'s flush thread is all interrupted  then can't create file on `/mnt/disk/2`

```


22/11/04 15:09:59,876 ERROR [Worker-CommitFiles-45798] Worker: Commit file for application_1667459507251_83865_1-61 264-0 failed.
java.io.IOException: Take buffer timeout from DiskFlusher: DiskFlusher@977552154-/mnt/disk/2/rss-worker/shuffle_data used buffers: 0
	at com.aliyun.emr.rss.service.deploy.worker.FileWriter.takeBuffer(FileWriter.java:336)
	at com.aliyun.emr.rss.service.deploy.worker.FileWriter.<init>(FileWriter.java:137)
	at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.createWriter(LocalStorageManager.scala:442)
	at com.aliyun.emr.rss.service.deploy.worker.LocalStorageManager.createWriter(LocalStorageManager.scala:407)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.$anonfun$handleReserveSlots$7(Worker.scala:386)
	at scala.runtime.java8.JFunction1$mcZI$sp.apply(JFunction1$mcZI$sp.java:23)
	at scala.collection.immutable.Range.foreach(Range.scala:158)
	at com.aliyun.emr.rss.service.deploy.worker.Worker.com$aliyun$emr$rss$service$deploy$worker$Worker$$handleReserveSlots(Worker.scala:374)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$$anonfun$receiveAndReply$1.$anonfun$applyOrElse$1(Worker.scala:292)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
	at com.aliyun.emr.rss.common.metrics.source.AbstractSource.sample(AbstractSource.scala:119)
	at com.aliyun.emr.rss.service.deploy.worker.Worker$$anonfun$receiveAndReply$1.applyOrElse(Worker.scala:287)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:110)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.safelyCall(Inbox.scala:214)
	at com.aliyun.emr.rss.common.rpc.netty.Inbox.process(Inbox.scala:107)
	at com.aliyun.emr.rss.common.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:222)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
22/11/04 15:09:59,876 WARN [async-reply] Worker:

```

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/929/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/932,https://api.github.com/repos/apache/celeborn/issues/932,celeborn,1437824880,932,[REFACTOR] Device check should not directly reportError,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-07T06:14:17Z,2022-11-07T07:15:09Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/932/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/934,https://api.github.com/repos/apache/celeborn/issues/934,celeborn,1437838451,934,[UMBRELLA] Device check should reportError after check failed a certain number of times ,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-07T06:33:07Z,2024-02-07T05:34:30Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

- [x] #932

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/934/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Nyvek,celeborn,1305147300,934,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2022-11-07T06:33:19Z,2022-11-07T06:33:19Z,cc @nafiyAix @waitinfuture ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Nyvek/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/935,https://api.github.com/repos/apache/celeborn/issues/935,celeborn,1437959657,935,[FEATURE] Optimize columnar shuffle writer performance without encoding,kerwin-zk,107825064,Kerwin Zhang,xiyu.zk@alibaba-inc.com,CLOSED,2022-11-07T08:26:45Z,2024-02-07T05:34:30Z,"### Is your feature request related to a problem? Please describe.

### Describe the solution you'd like

### Describe alternatives you've considered

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/935/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/937,https://api.github.com/repos/apache/celeborn/issues/937,celeborn,1438179400,937,[FEATURE] List top N apps consuming the most disk space,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,CLOSED,2022-11-07T11:08:47Z,2024-02-07T05:34:34Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

- [x] #950
- [x] #951

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/937/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/939,https://api.github.com/repos/apache/celeborn/issues/939,celeborn,1439412366,939,[REFACTOR] Bump ratis to 2.4,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-08T03:33:31Z,2022-11-08T07:12:01Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/939/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/941,https://api.github.com/repos/apache/celeborn/issues/941,celeborn,1439762508,941,[BUG] Main branch regression failed.,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-08T08:57:44Z,2023-06-09T02:03:34Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.
22/11/08 16:41:36 ERROR ShuffleClientImpl: Exception raised while reviving for shuffle 89 reduce 0 epoch -1.

> java.lang.NullPointerException
> 	at org.apache.celeborn.common.util.PbSerDeUtils$.toPbPartitionLocation(PbSerDeUtils.scala:247)
> 	at org.apache.celeborn.common.protocol.message.ControlMessages$Revive$.apply(ControlMessages.scala:187)
> 	at org.apache.celeborn.client.ShuffleClientImpl.revive(ShuffleClientImpl.java:402)
> 	at org.apache.celeborn.client.ShuffleClientImpl.pushOrMergeData(ShuffleClientImpl.java:476)
> 	at org.apache.celeborn.client.ShuffleClientImpl.mergeData(ShuffleClientImpl.java:779)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.closeRowWrite(HashBasedShuffleWriter.java:400)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.close(HashBasedShuffleWriter.java:430)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.write(HashBasedShuffleWriter.java:189)
> 	at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
> 	at org.apache.spark.scheduler.Task.run(Task.scala:136)
> 	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)
> 	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)
> 	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
> 	at java.lang.Thread.run(Thread.java:750)
> 22/11/08 16:41:36 ERROR Executor: Exception in task 129.1 in stage 363.0 (TID 50541)
> java.io.IOException: Revive for shuffle application_1667784454945_0041-89 partitionId 0 failed.
> 	at org.apache.celeborn.client.ShuffleClientImpl.pushOrMergeData(ShuffleClientImpl.java:485)
> 	at org.apache.celeborn.client.ShuffleClientImpl.mergeData(ShuffleClientImpl.java:779)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.closeRowWrite(HashBasedShuffleWriter.java:400)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.close(HashBasedShuffleWriter.java:430)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.write(HashBasedShuffleWriter.java:189)
> 	at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
> 	at org.apache.spark.scheduler.Task.run(Task.scala:136)
> 	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)
> 	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)
> 	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
> 	at java.lang.Thread.run(Thread.java:750)
> 22/11/08 16:41:36 INFO YarnCoarseGrainedExecutorBackend: Got assigned task 50696

### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/941/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/941,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5N5Qm-,celeborn,1306855870,941,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-08T08:58:21Z,2022-11-08T08:58:21Z,"> 22/11/08 16:41:35 WARN ShuffleClientImpl: It should never reach here!
> 22/11/08 16:41:35 ERROR ShuffleClientImpl: Exception raised while reviving for shuffle 89 reduce 0 epoch -1.
> java.lang.NullPointerException
> 	at org.apache.celeborn.common.util.PbSerDeUtils$.toPbPartitionLocation(PbSerDeUtils.scala:247)
> 	at org.apache.celeborn.common.protocol.message.ControlMessages$Revive$.apply(ControlMessages.scala:187)
> 	at org.apache.celeborn.client.ShuffleClientImpl.revive(ShuffleClientImpl.java:402)
> 	at org.apache.celeborn.client.ShuffleClientImpl.pushOrMergeData(ShuffleClientImpl.java:476)
> 	at org.apache.celeborn.client.ShuffleClientImpl.mergeData(ShuffleClientImpl.java:779)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.closeRowWrite(HashBasedShuffleWriter.java:400)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.close(HashBasedShuffleWriter.java:430)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.write(HashBasedShuffleWriter.java:189)
> 	at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
> 	at org.apache.spark.scheduler.Task.run(Task.scala:136)
> 	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)
> 	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)
> 	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
> 	at java.lang.Thread.run(Thread.java:750)
> 22/11/08 16:41:35 ERROR Executor: Exception in task 147.0 in stage 363.0 (TID 50465)
> java.io.IOException: Revive for shuffle application_1667784454945_0041-89 partitionId 0 failed.
> 	at org.apache.celeborn.client.ShuffleClientImpl.pushOrMergeData(ShuffleClientImpl.java:485)
> 	at org.apache.celeborn.client.ShuffleClientImpl.mergeData(ShuffleClientImpl.java:779)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.closeRowWrite(HashBasedShuffleWriter.java:400)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.close(HashBasedShuffleWriter.java:430)
> 	at org.apache.spark.shuffle.celeborn.HashBasedShuffleWriter.write(HashBasedShuffleWriter.java:189)
> 	at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)
> 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
> 	at org.apache.spark.scheduler.Task.run(Task.scala:136)
> 	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)
> 	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)
> 	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
> 	at java.lang.Thread.run(Thread.java:750)
> 22/11/08 16:41:35 INFO YarnCoarseGrainedExecutorBackend: Got assigned task 50639
> 22/11/08 16:41:35 INFO Executor: Running task 126.2 in stage 363.0 (TID 50639)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5N5Qm-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/945,https://api.github.com/repos/apache/celeborn/issues/945,celeborn,1441673523,945,Support MapPartition lifecycle management in Celeborn Server,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-09T08:46:21Z,2024-02-07T05:34:31Z,"- [x] #952
- [x] #955
- [ ] Support Split Partition Location in map partition mode","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/945/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/946,https://api.github.com/repos/apache/celeborn/issues/946,celeborn,1441682672,946,Enhance Memory Manager to support read buffer,RexXiong,28799061,Shuang,lvshuang.tb@gmail.com,CLOSED,2022-11-09T08:52:27Z,2024-02-07T05:34:31Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/946/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/947,https://api.github.com/repos/apache/celeborn/issues/947,celeborn,1441685743,947,Implements MapPartition type Shuffle Read process with Credit-based Network Flow Control & IO scheduling,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-09T08:54:38Z,2024-02-07T05:34:32Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/947/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/948,https://api.github.com/repos/apache/celeborn/issues/948,celeborn,1442311158,948,[REFACTOR] Replace userResourceConsumption of WorkerInfo with empty value for unnecessary ControlMessages,nafiyAix,30563796,nafiy,,CLOSED,2022-11-09T15:33:26Z,2022-11-14T04:16:39Z,"### Describe the intention you'd like
Only pass userResourceConsumption inside WorkerInfo when sending heartbeat, the other could use null or empty map to replace.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/948/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/949,https://api.github.com/repos/apache/celeborn/issues/949,celeborn,1443107222,949,Implements MapPartition type Shuffle Write process,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-10T02:01:22Z,2023-01-05T02:22:39Z,"- [ ] flink-plugin supports shuffle write by using  celeborn 
- [ ] celeborn shuffleclientimpl support pushdata for mappartition
- [ ] celeborn network protocol add message like : RegionStart, RegionFinish
- [ ] celeborn worker  supports pushdata process , incuding replication","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/949/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/949,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Rwk8J,celeborn,1371688713,949,NA,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,NA,2023-01-05T02:22:39Z,2023-01-05T02:22:39Z,it's tracked by jira,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Rwk8J/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/950,https://api.github.com/repos/apache/celeborn/issues/950,celeborn,1443131188,950,list top N disk consuming apps for 0.1,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-10T02:27:58Z,2024-02-07T05:34:32Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/950/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/951,https://api.github.com/repos/apache/celeborn/issues/951,celeborn,1443131260,951,list top N disk consuming apps for main,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2022-11-10T02:28:02Z,2024-02-07T05:34:33Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/951/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/952,https://api.github.com/repos/apache/celeborn/issues/952,celeborn,1443153142,952,support register shuffle task in map partition mode,RexXiong,28799061,Shuang,lvshuang.tb@gmail.com,CLOSED,2022-11-10T02:57:05Z,2022-11-16T13:46:20Z,"### Abstract
Make each partition location data can be grouped by (partitionId, attemptId) as partition result group is the necessary step to support map partition, because with each map attempt task a new set of results would be generated. Then we can support register map partition task. The image below will demonstrate this
![image](https://user-images.githubusercontent.com/28799061/201915695-7b657105-871b-4289-ab99-d50c3efabd41.png)

### Implements
1. encode partitionId[Int] = (attemptId 8bit, rawPartitionId 24 bit)
2. The epoch of each group will be managed by their own partition id as before and map/reduce partition use the same way.
3. support register shuffle task in map partition mode(first time will offer and reserve all slots for attemptId=0 task)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/952/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/955,https://api.github.com/repos/apache/celeborn/issues/955,celeborn,1444807752,955,Support Register Attempt shuffle task in map partition mode,RexXiong,28799061,Shuang,lvshuang.tb@gmail.com,CLOSED,2022-11-11T01:53:37Z,2022-11-24T12:32:05Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/955/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/957,https://api.github.com/repos/apache/celeborn/issues/957,celeborn,1447690631,957,[REFACTOR] PushDataHandler code refactor,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-14T09:21:36Z,2024-02-07T05:34:35Z,"### Describe the intention you'd like
it's a PushDataHandler code refactor by reuse common code both pushData and pushMergeData

- [x] #959
- [x] #960
- [x] #961
- [x] #962
- [x] #963

/cc @who-need-to-know
@RexXiong @waitinfuture @nafiyAix 
/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/957/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/958,https://api.github.com/repos/apache/celeborn/issues/958,celeborn,1447692386,958,[REFACTOR] Add and modify log of fallback policy,nafiyAix,30563796,nafiy,,CLOSED,2022-11-14T09:22:56Z,2022-11-14T12:16:35Z,"### Describe the intention you'd like
`applyForceFallbackPolicy()` doesn't have log to notice user when enable, and if `applyShufflePartitionsFallbackPolicy()`'s log level is WARN could better catch the eyes.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/958/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/959,https://api.github.com/repos/apache/celeborn/issues/959,celeborn,1447709396,959,callback code reuse,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-14T09:35:20Z,2024-02-07T05:34:33Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/959/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/960,https://api.github.com/repos/apache/celeborn/issues/960,celeborn,1447709526,960,wrappedCallback code reuse,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-14T09:35:26Z,2024-02-07T05:34:34Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/960/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/961,https://api.github.com/repos/apache/celeborn/issues/961,celeborn,1447709629,961,location code reuse,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-14T09:35:31Z,2024-02-07T05:34:34Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/961/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/962,https://api.github.com/repos/apache/celeborn/issues/962,celeborn,1447709696,962,filewriter code reuse,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-14T09:35:34Z,2024-02-07T05:34:34Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/962/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/963,https://api.github.com/repos/apache/celeborn/issues/963,celeborn,1447709775,963,replicatask code reuse,zhongqiangczq,96606293,zhongqiangchen,zhqiangchen@163.com,CLOSED,2022-11-14T09:35:38Z,2024-02-07T05:33:40Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/963/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/980,https://api.github.com/repos/apache/celeborn/issues/980,celeborn,1453468934,980,[REFACTOR] Auto format RaftStorage when cluster upgrades,SzyWilliam,48054931,William Song,,CLOSED,2022-11-17T14:42:39Z,2024-02-07T05:31:09Z,"# Motivation
As stated in README,
> If you need to fully restart a Celeborn cluster in HA mode, you must clean ratis meta storage first because ratis meta will store expired states of the last running cluster.

Currently, Ratis provides a FORMAT option when raft storage initializes, see [1]. RaftServer will clean up and format the given storage dir if this option is chosen. Maybe this can save Celeborn from the efforts of deleting files manually. 

[1] https://github.com/apache/ratis/blob/3d546aeba9730a68bf433f166aa76c3fd68c5584/ratis-server-api/src/main/java/org/apache/ratis/server/storage/RaftStorage.java#L55
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/980/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/980,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Omm_9,celeborn,1318744061,980,NA,SzyWilliam,48054931,William Song,,NA,2022-11-17T14:45:24Z,2022-11-17T14:45:24Z,@pan3793 I would like to try on this issue. Can you assign it to me?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Omm_9/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/980,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Omn47,celeborn,1318747707,980,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2022-11-17T14:48:09Z,2022-11-17T14:48:09Z,"Thanks @SzyWilliam, welcome to Celeborn community!

@waitinfuture we should guide user create issue on JIRA instead of GitHub issue.

And cc @FMX, as you are the main author of this module.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Omn47/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/980,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5OmrlB,celeborn,1318762817,980,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2022-11-17T14:59:28Z,2022-11-17T14:59:28Z,"Hi @SzyWilliam , thanks for your interest in Celeborn, and we're very glad that you'll work on the ratis issue, which we've tried with no gain. @FMX can provide more details about the problem.
Celeborn has a [jira](https://issues.apache.org/jira/projects/CELEBORN/issues/CELEBORN-11?filter=allopenissues) where we encourage to track bugs and features. We will make it more noticeable on README and Contributing docs.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5OmrlB/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/980,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5OmtvF,celeborn,1318771653,980,NA,SzyWilliam,48054931,William Song,,NA,2022-11-17T15:05:56Z,2022-11-17T15:05:56Z,@waitinfuture Thanks for reminding me of Jira. I'll move this issue to jira later.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5OmtvF/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/980,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Omx1B,celeborn,1318788417,980,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2022-11-17T15:17:54Z,2022-11-17T15:17:54Z,"Hi @SzyWilliam Glad to see your interest.
I'll provide some details about the problems that we encountered. We recommended our users delete the raft meta storage because that we found the Celeborn master will load stats which was generated by last running. We don't want to format the raft storage whenever a master is restarting because the consensus will be lost.

We are facing two major problems in using ratis. We already enable the snapshot mechanism to reduce raft storage size.
1. We found that if we restart the master cluster one by one and the consensus stats will be broken. 
2. We found that if we upgrade a Celeborn master with the old raft storage, the server will not start normally.

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5Omx1B/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/987,https://api.github.com/repos/apache/celeborn/issues/987,celeborn,1458920062,987,[13] Worker return hard split during shutdown,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-22T02:38:19Z,2022-11-22T06:29:56Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/987/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/989,https://api.github.com/repos/apache/celeborn/issues/989,celeborn,1459037498,989,[14] LifecycleManager  batch commit hard split partitions,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,CLOSED,2022-11-22T04:25:04Z,2022-11-29T05:09:02Z,,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/989/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/992,https://api.github.com/repos/apache/celeborn/issues/992,celeborn,1459800837,992,[FEATURE] Split maxReqsInFlight limitation into level of target worker,zy-jordan,82567833,zy.jordan,,CLOSED,2022-11-22T12:42:54Z,2024-02-07T05:31:01Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.
``` bash
split maxReqsInFlight limitation to every address pair.
```
/cc @AngersZhuuuu 

/assign @AngersZhuuuu 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/992/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1053,https://api.github.com/repos/apache/celeborn/issues/1053,celeborn,1480895092,1053,Please open new issues in JIRA,pan3793,26535726,Cheng Pan,chengpan@apache.org,OPEN,2022-12-07T04:21:16Z,2024-02-07T05:35:43Z,"Apache Celeborn (Incubating) uses [JIRA](https://issues.apache.org/jira/projects/CELEBORN/issues) for Issue Management, please open new issues in [JIRA](https://issues.apache.org/jira/projects/CELEBORN/issues) instead of GitHub.

For new contributors, please [apply JIRA Account](https://selfserve.apache.org/jira-account.html) first.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1053/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1053,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5o-qO-,celeborn,1761256382,1053,NA,woshiwuxiaofei,17974050,snail_fly,woshiwuxiaofei@126.com,NA,2023-10-13T10:05:09Z,2023-10-13T10:05:09Z,如果江celeborn作为单独的remote shuffle service支持ray？当前看到的是支持spark和flink，对于这块儿是想跟你们讨论下共建需求和相关建议。,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5o-qO-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1053,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5o_Dws,celeborn,1761360940,1053,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-10-13T11:30:14Z,2023-10-13T11:30:14Z,"> 如果江celeborn作为单独的remote shuffle service支持ray？当前看到的是支持spark和flink，对于这块儿是想跟你们讨论下共建需求和相关建议。

方便先加钉钉群吗, “Celeborn用户群”群的钉钉群号： 41594456     群里at 一锤","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5o_Dws/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1155,https://api.github.com/repos/apache/celeborn/issues/1155,celeborn,1526845825,1155,Build and Run incubator-celeborn on Java 17,jameswangchen,21259595,jameswang,,CLOSED,2023-01-10T06:37:35Z,2023-06-29T06:31:52Z,"Celeborn can not work when spark3.x  running in Java17.
![image](https://user-images.githubusercontent.com/21259595/211479143-a680f261-1984-42fe-83bb-8ccb2d7ae043.png)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1155/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1155,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5gHMVb,celeborn,1612498267,1155,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-06-29T06:31:51Z,2023-06-29T06:31:51Z,"Java 17 CI is added in CELEBORN-738, please open sub-task in CELEBORN-737 if you encounter other issues about Java 17

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5gHMVb/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/1231,celeborn,1582260657,1231,[BUG] celeborn raft HA exception,conorzhao,27194698,conor,flyingzhao0628@gmail.com,CLOSED,2023-02-13T12:27:09Z,2023-05-22T09:23:40Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.
Start three master instances, two of which frequently brush exception logs
![image](https://user-images.githubusercontent.com/27194698/218457133-0c528f6a-fcef-4b28-b6c3-7e6772ce7a2a.png)
It does not affect the operation of the job, but the log volume has soared, which seems to be caused by the exception of selecting the master of the raft
### How to reproduce the bug?
Steps to reproduce the bug.
start three master

Please help me see what the problem is
/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1231/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VG83C,celeborn,1427885506,1231,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2023-02-13T12:48:57Z,2023-02-13T12:48:57Z,Can you share your celeborn cluster version? The git commit id will be very helpful.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VG83C/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLMHo,celeborn,1428996584,1231,NA,conorzhao,27194698,conor,flyingzhao0628@gmail.com,NA,2023-02-14T02:01:50Z,2023-02-14T02:01:50Z,"> Can you share your celeborn cluster version? The git commit id will be very helpful.

[v0.2.0-incubating-rc3](https://github.com/apache/incubator-celeborn/releases/tag/v0.2.0-incubating-rc3)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLMHo/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLMfT,celeborn,1428998099,1231,NA,conorzhao,27194698,conor,flyingzhao0628@gmail.com,NA,2023-02-14T02:03:05Z,2023-02-14T02:03:05Z,"> Can you share your celeborn cluster version? The git commit id will be very helpful.

Is there a celeborn discussion group? Can you add me","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLMfT/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLNHJ,celeborn,1429000649,1231,NA,conorzhao,27194698,conor,flyingzhao0628@gmail.com,NA,2023-02-14T02:05:13Z,2023-02-14T02:05:13Z,"![image](https://user-images.githubusercontent.com/27194698/218620032-da218a1e-9616-4942-b05b-7bd1b73941ef.png)
@FMX ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLNHJ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLO_d,celeborn,1429008349,1231,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2023-02-14T02:14:05Z,2023-02-14T02:14:05Z,We have slack channels and a DingTalk group. Feel free to reach us in a convenient way.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLO_d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLQoL,celeborn,1429015051,1231,NA,conorzhao,27194698,conor,flyingzhao0628@gmail.com,NA,2023-02-14T02:24:10Z,2023-02-14T02:24:10Z,"> We have slack channels and a DingTalk group. Feel free to reach us in a convenient way.

I can't find the contact information of DingTalk group, can you send me","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLQoL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLQpH,celeborn,1429015111,1231,NA,conorzhao,27194698,conor,flyingzhao0628@gmail.com,NA,2023-02-14T02:24:15Z,2023-02-14T02:24:15Z,"> We have slack channels and a DingTalk group. Feel free to reach us in a convenient way.

I can't find the contact information of DingTalk group, can you send me","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5VLQpH/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5WtII7,celeborn,1454670395,1231,NA,lianneli,19421187,Lianne Li,lmlianne@outlook.com,NA,2023-03-04T09:02:56Z,2023-03-04T09:02:56Z,I need DingTalk group information too~,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5WtII7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5WtPPg,celeborn,1454699488,1231,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-04T10:58:14Z,2023-03-04T10:58:14Z,"> I need DingTalk group information too~

Ding talk groupId: 41594456","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5WtPPg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cyux3,celeborn,1556802679,1231,NA,sunjincheng121,22488084,Jincheng Sun,sunjincheng121@gmail.com,NA,2023-05-22T08:47:01Z,2023-05-22T08:47:01Z,"What is the current state of discussion on this issue? I would greatly appreciate it if you discuss this issue here, for that all of the open source participants can well know the state of this discussion. @waitinfuture @FMX  Thank you!","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cyux3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cyyi6,celeborn,1556818106,1231,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-05-22T08:55:33Z,2023-05-22T08:55:33Z,"> What is the current state of discussion on this issue? I would greatly appreciate it if you discuss this issue here, for that all of the open source participants can well know the state of this discussion. @waitinfuture @FMX Thank you!

Hi @sunjincheng121 , thanks for paying attention, I believe this issue is fixed, @FMX could you offer more details?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cyyi6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cy-ff,celeborn,1556867039,1231,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2023-05-22T09:23:08Z,2023-05-22T09:23:08Z,"@sunjincheng121  Hi, this issue is fixed now. 
This issue is caused by a bug that prevents the master node from loading its snapshot.
Following are patch lists:
https://github.com/apache/incubator-celeborn/pull/996
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cy-ff/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1231,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cy-rR,celeborn,1556867793,1231,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2023-05-22T09:23:39Z,2023-05-22T09:23:39Z,This issue is resolved. So I'll close this issue.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5cy-rR/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1336,https://api.github.com/repos/apache/celeborn/issues/1336,celeborn,1620992496,1336,[BUG] Syntax error in helm charts file: prometheus-podmonitor.yaml,every-breaking-wave,86960423,If Wind,,CLOSED,2023-03-13T08:36:10Z,2023-03-13T12:54:13Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.
charts/celeborn/templates/prometheus-podmonitor.yaml has two syntax errors that will be reported when installed directly using helm, as follows.
![image](https://user-images.githubusercontent.com/86960423/224647325-20755aff-e365-4a3a-81c7-d3cbae03b2b2.png)
and the reason is just an extra space.
![image](https://user-images.githubusercontent.com/86960423/224647760-f29bd05b-970a-45a2-a49c-21d5d40ebc41.png)
It's easy to fix, but I don't have a jira account until now.
(btw, I am curious why the bug is ignored in test while it is  important and easy to find)
### How to reproduce the bug?
Steps to reproduce the bug.
just use helm to deploy, you will get the error
/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1336/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1336,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5XXYmi,celeborn,1465747874,1336,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-13T09:00:59Z,2023-03-13T09:00:59Z,"Hi @every-breaking-wave , thanks for your feedback, I've approved your jira request and you should received the welcome mail.
We have to admit that currently the UT coverage is relatively low, especially for k8s environment, that's one of the important things we need to improve.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5XXYmi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1357,https://api.github.com/repos/apache/celeborn/issues/1357,celeborn,1628802917,1357,Dynamic allocation of executors requires the external shuffle service,freeshow,19886680,freeshow,877646746@qq.com,CLOSED,2023-03-17T06:58:35Z,2023-05-22T09:29:00Z,"when I use celeborn, run spark-sql,  exception:
23/03/17 14:43:30 WARN YarnSchedulerBackend$YarnSchedulerEndpoint: Attempted to request executors before the AM has registered!
Exception in thread ""main"" org.apache.spark.SparkException: Dynamic allocation of executors requires the external shuffle service. You may enable this through spark.shuffle.service.enabled.
        at org.apache.spark.ExecutorAllocationManager.validateSettings(ExecutorAllocationManager.scala:215)
        at org.apache.spark.ExecutorAllocationManager.<init>(ExecutorAllocationManager.scala:135)
        at org.apache.spark.SparkContext.<init>(SparkContext.scala:632)
        at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2690)
        at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:949)
        at scala.Option.getOrElse(Option.scala:189)
        at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:943)
        at org.apache.spark.sql.hive.thriftserver.SparkSQLEnv$.init(SparkSQLEnv.scala:54)
        at org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.<init>(SparkSQLCLIDriver.scala:328)
        at org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver$.main(SparkSQLCLIDriver.scala:160)
        at org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.main(SparkSQLCLIDriver.scala)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)
        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:955)
        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)
        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)
        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)
        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1043)
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1052)
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1357/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1357,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5X0FQE,celeborn,1473270788,1357,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-03-17T07:02:08Z,2023-03-17T07:02:08Z,"Hi, to enable dra with celeborn, you should apply the [patch](https://github.com/apache/incubator-celeborn/tree/main/assets/spark-patch) to spark","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5X0FQE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1357,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5X0GTW,celeborn,1473275094,1357,NA,freeshow,19886680,freeshow,877646746@qq.com,NA,2023-03-17T07:06:50Z,2023-03-17T07:06:50Z,"> Hi, to enable dra with celeborn, you should apply the [patch](https://github.com/apache/incubator-celeborn/tree/main/assets/spark-patch) to spark

Thanks","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5X0GTW/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1380,https://api.github.com/repos/apache/celeborn/issues/1380,celeborn,1640390443,1380,"Dependency org.yaml:snakeyaml, leading to CVE problem",CVEDetect,89496918,,,CLOSED,2023-03-25T05:44:27Z,2023-03-28T02:34:30Z,"Hi, In **/common**，there is a dependency **org.yaml:snakeyaml:1.30** that calls the risk method.

[CVE-2022-25857](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-25857)

The scope of this CVE affected version is **[0,1.31)**

After further analysis, in this project, the main Api called is **org.yaml.snakeyaml.composer.Composer: composeNode(org.yaml.snakeyaml.nodes.Node)Lorg.yaml.snakeyaml.nodes.Node;**

Risk method repair link : [GitHub](https://github.com/snakeyaml/snakeyaml/commit/fc300780da21f4bb92c148bc90257201220cf174)

**CVE Bug Invocation Path--**

**Path Length : 5**

```
CVE Bug Invocation Path : 
org.apache.celeborn.common.network.client.TransportResponseHandler: failExpiredPushRequest()V /.m2/repository/io/netty/netty-codec-redis/4.1.77.Final/netty-codec-redis-4.1.77.Final.jar
org.yaml.snakeyaml.Yaml$2: next()Ljava.lang.Object; /.m2/repository/io/netty/netty-codec-redis/4.1.77.Final/netty-codec-redis-4.1.77.Final.jar
org.yaml.snakeyaml.Yaml$2: next()Lorg.yaml.snakeyaml.nodes.Node; /.m2/repository/io/netty/netty-codec-redis/4.1.77.Final/netty-codec-redis-4.1.77.Final.jar
org.yaml.snakeyaml.composer.Composer: getNode()Lorg.yaml.snakeyaml.nodes.Node; /.m2/repository/io/netty/netty-codec-redis/4.1.77.Final/netty-codec-redis-4.1.77.Final.jar
org.yaml.snakeyaml.composer.Composer: composeNode(org.yaml.snakeyaml.nodes.Node)Lorg.yaml.snakeyaml.nodes.Node;


```
**Dependency tree--**

```
[INFO] org.apache.celeborn:celeborn-common_2.12:jar:0.3.0-SNAPSHOT
[INFO] +- org.apache.ratis:ratis-common:jar:2.4.1:compile
[INFO] |  +- org.apache.ratis:ratis-thirdparty-misc:jar:1.0.3:compile
[INFO] |  \- org.apache.ratis:ratis-proto:jar:2.4.1:compile
[INFO] +- org.apache.ratis:ratis-client:jar:2.4.1:compile
[INFO] +- io.dropwizard.metrics:metrics-core:jar:3.2.6:compile
[INFO] +- io.dropwizard.metrics:metrics-graphite:jar:3.2.6:compile
[INFO] +- io.dropwizard.metrics:metrics-jvm:jar:3.2.6:compile
[INFO] +- org.yaml:snakeyaml:jar:1.30:compile
[INFO] +- org.slf4j:slf4j-api:jar:1.7.36:compile
[INFO] +- org.slf4j:jul-to-slf4j:jar:1.7.36:compile
[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.36:compile
[INFO] +- commons-io:commons-io:jar:2.8.0:compile
[INFO] +- org.apache.commons:commons-crypto:jar:1.0.0:compile
[INFO] +- org.apache.commons:commons-lang3:jar:3.10:compile
[INFO] +- io.netty:netty-all:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-buffer:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-dns:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-haproxy:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-http:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-http2:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-memcache:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-mqtt:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-redis:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-smtp:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-socks:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-stomp:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-codec-xml:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-common:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-handler:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-handler-proxy:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-resolver:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-resolver-dns:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-rxtx:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-sctp:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-udt:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-classes-epoll:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-native-unix-common:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-classes-kqueue:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-resolver-dns-classes-macos:jar:4.1.77.Final:compile
[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.77.Final:runtime
[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.77.Final:runtime
[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.77.Final:runtime
[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.77.Final:runtime
[INFO] |  +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.77.Final:runtime
[INFO] |  \- io.netty:netty-resolver-dns-native-macos:jar:osx-aarch_64:4.1.77.Final:runtime
[INFO] +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:compile
[INFO] +- com.google.code.findbugs:jsr305:jar:1.3.9:compile
[INFO] +- com.google.guava:guava:jar:14.0.1:compile
[INFO] +- com.google.protobuf:protobuf-java:jar:3.19.2:compile
[INFO] +- org.scala-lang:scala-library:jar:2.12.15:compile
[INFO] +- org.scala-lang:scala-reflect:jar:2.12.15:compile
[INFO] +- org.apache.hadoop:hadoop-client-api:jar:3.2.1:compile
[INFO] +- org.apache.hadoop:hadoop-client-runtime:jar:3.2.1:compile
[INFO] |  +- org.apache.htrace:htrace-core4:jar:4.1.0-incubating:runtime
[INFO] |  \- commons-logging:commons-logging:jar:1.1.3:runtime
[INFO] +- org.roaringbitmap:RoaringBitmap:jar:0.9.32:compile
[INFO] |  \- org.roaringbitmap:shims:jar:0.9.32:runtime
[INFO] +- org.mockito:mockito-core:jar:1.10.19:test
[INFO] |  +- org.hamcrest:hamcrest-core:jar:1.1:test
[INFO] |  \- org.objenesis:objenesis:jar:2.1:test
[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.2:test
[INFO] |  +- org.apache.logging.log4j:log4j-api:jar:2.17.2:test
[INFO] |  \- org.apache.logging.log4j:log4j-core:jar:2.17.2:test
[INFO] +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.2:test
[INFO] +- junit:junit:jar:4.12:test
[INFO] \- org.scalatest:scalatest_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-core_2.12:jar:3.2.3:test
[INFO]    |  +- org.scalatest:scalatest-compatible:jar:3.2.3:test
[INFO]    |  +- org.scalactic:scalactic_2.12:jar:3.2.3:test
[INFO]    |  \- org.scala-lang.modules:scala-xml_2.12:jar:1.2.0:test
[INFO]    +- org.scalatest:scalatest-featurespec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-flatspec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-freespec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-funsuite_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-funspec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-propspec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-refspec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-wordspec_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-diagrams_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-matchers-core_2.12:jar:3.2.3:test
[INFO]    +- org.scalatest:scalatest-shouldmatchers_2.12:jar:3.2.3:test
[INFO]    \- org.scalatest:scalatest-mustmatchers_2.12:jar:3.2.3:test
```

**_Suggested solutions:_**

Update dependency snakeyaml.version to 1.33

 Thank you very much.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1380/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1527,https://api.github.com/repos/apache/celeborn/issues/1527,celeborn,1733430986,1527,[BUG] Relax isRssEnabled condition to compatible with gluten celeborn shuffle manager,ulysses-you,12025282,Xiduo You,ulyssesyou18@gmail.com,CLOSED,2023-05-31T05:48:38Z,2023-05-31T07:32:46Z,"### What is the bug(with logs or screenshots)?
According to 
https://github.com/oap-project/gluten/blob/e012b50e3dc2f082c82b324f0be2b1d6f277511b/gluten-celeborn/src/main/java/org/apache/spark/shuffle/gluten/celeborn/CelebornShuffleManager.java#L24

The celeborn shuffle manager of gluten is not `org.apache.spark.shuffle.celeborn.RssShuffleManager`, then it breaks the result of isRssEnabled.
### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1527/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1573,https://api.github.com/repos/apache/celeborn/issues/1573,celeborn,1749924516,1573,[FEATURE]  support tez client,BsoBird,30249475,PLASH SPEED,,CLOSED,2023-06-09T13:41:36Z,2024-02-07T05:30:52Z,"### Is your feature request related to a problem? Please describe.
None.

### Describe the solution you'd like
There are still many users using HIVE ON TEZ, and we hope that celeborn will support TEZ client. This will bring the processing power of HIVE ON TEZ to a new level.

### Describe alternatives you've considered
None.


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1573/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1573,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5egKVQ,celeborn,1585489232,1573,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-06-10T05:13:17Z,2023-06-10T05:13:17Z,"Hi @BsoBird , thanks for your feedback, the community does plan to enhance Celeborn to support tez and mr. BTW, it'll be great if you can participate in the development.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5egKVQ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1698,https://api.github.com/repos/apache/celeborn/issues/1698,celeborn,1796408279,1698,"[FEATURE] In soft mode, there may be situations where individual partition files are exceptionally large ",JQ-Cao,7624181,Jiaqing,caojiaqing1991@gmail.com,CLOSED,2023-07-10T09:58:50Z,2023-07-28T04:02:28Z,"### Is your feature request related to a problem? Please describe.
None
### Describe the solution you'd like
In soft mode, there may be situations where individual partition files are exceptionally large, which can result in excessively long sort times in skewed scenarios.Add a configuration to ensure that, in soft mode, individual partition files are limited to a size smaller than the configured value
### Describe alternatives you've considered
None
/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1698/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/1712,celeborn,1802570581,1712,[BUG] Shuffle read latency is too high when automatic Broadcastjoin is triggered,thomasg19930417,20243868,xu.guo,,CLOSED,2023-07-13T09:14:27Z,2023-07-13T10:48:08Z,"**Env:**

spark 3.2.2
celeborn 0.2.1

Question desc:

   When spark3 spark.sql.adaptive.autoBroadcastJoinThreshold is turned on, it is found that when automatic Broadcastjoin is triggered, if spark.sql.shuffle.partitions is set relatively large at this time, the broadcast time will be longer

**Spark config:**

#Dynamic resource
spark.dynamicAllocation.enabled true
spark.dynamicAllocation.minExecutors 1
spark.dynamicAllocation.maxExecutors 500
spark.dynamicAllocation.initialExecutors  2
spark.dynamicAllocation.executorIdleTimeout 120

#Adaptive
spark.shuffle.minNumPartitionsToHighlyCompress 5000
spark.sql.adaptive.enabled         true
spark.sql.adaptive.coalescePartitions.enabled true
spark.sql.adaptive.skewedJoin.enabled true
spark.sql.adaptive.advisoryPartitionSizeInBytes 64M
spark.sql.adaptive.coalescePartitions.minPartitionSize  10M
spark.sql.adaptive.skewJoin.skewedPartitionFactor 2
spark.sql.adaptive.skewJoin.skewedPartitionThresholdInBytes 128M
spark.sql.optimizer.dynamicPartitionPruning.enabled   false

#celeborn
spark.shuffle.service.enabled false
celeborn.shuffle.rangeReadFilter.enabled true
celeborn.shuffle.partitionSplit.mode hard
spark.shuffle.manager org.apache.spark.shuffle.celeborn.RssShuffleManager
spark.celeborn.master.endpoints  xxxxxx
spark.rss.push.data.replicate false
spark.rss.shuffle.writer.mode hash

# kyuubi
spark.sql.optimizer.insertRepartitionBeforeWrite.enabled true
spark.sql.optimizer.finalStageConfigIsolation.enabled true
spark.sql.finalStage.adaptive.advisoryPartitionSizeInBytes 256M
spark.sql.finalStage.adaptive.coalescePartitions.minPartitionSize 50M
spark.sql.extensions org.apache.kyuubi.sql.KyuubiSparkSQLExtension,org.apache.kyuubi.plugin.spark.authz.ranger.RangerSparkExtension


**reproduce sql**


set spark.sql.adaptive.autoBroadcastJoinThreshold=10M;
set spark.sql.autoBroadcastJoinThreshold=-1;
set spark.sql.shuffle.partitions=5000;

select  a.id from 
( select id from    range(1,10000) )  a
inner join 
(select id  from  range(1,100) )  b  on a.id=b.id

I found that this will be affected by the spark.sql.shuffle.partitions parameter. When the parameter is relatively large, the broadcast process will take longer

Test case:

when spark.sql.shuffle.partitions=10;
![image](https://github.com/apache/incubator-celeborn/assets/20243868/58b7bff2-a1e5-4278-8cee-c6216d5bc723)

when set spark.sql.shuffle.partitions=1000;
![image](https://github.com/apache/incubator-celeborn/assets/20243868/5a3b9d79-8a9e-4858-b950-7364ba1d61f2)

when set 5000
![image](https://github.com/apache/incubator-celeborn/assets/20243868/f205e223-0ff5-4934-99cc-597c8c29bfb3)

I didn't find this problem when I used the native spark3 built-in shuffle
![image](https://github.com/apache/incubator-celeborn/assets/20243868/12f4adfa-0b13-401a-a379-7dcf39e91255)








","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1712/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hYw1v,celeborn,1633881455,1712,NA,thomasg19930417,20243868,xu.guo,,NA,2023-07-13T09:22:51Z,2023-07-13T09:22:51Z,"I think it should be caused by too many connections when the partition is too large. I also found a lot of connection creation process from the log as follows
![image](https://github.com/apache/incubator-celeborn/assets/20243868/cdfe62fc-92ee-4304-aeba-4f50aaed6564)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hYw1v/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hYxf1,celeborn,1633884149,1712,NA,thomasg19930417,20243868,xu.guo,,NA,2023-07-13T09:24:30Z,2023-07-13T09:24:30Z,"If the shuffle.partitions can be reduced, this problem can be solved, but in complex tasks, both large and small tasks exist. If the setting is too small, it is not very suitable for large tasks","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hYxf1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hYzT2,celeborn,1633891574,1712,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-07-13T09:29:03Z,2023-07-13T09:29:03Z,"Does increasing `celeborn.network.timeout` help? The default value is 240s.
https://celeborn.apache.org/docs/0.2.1-incubating/configuration/#network

Note: you should set it in Spark configuration with the additional prefix `spark.`, then it should be `spark.celeborn.network.timeout`","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hYzT2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hY6sG,celeborn,1633921798,1712,NA,wForget,17894939,Zhen Wang,wangzhen@apache.org,NA,2023-07-13T09:48:47Z,2023-07-13T09:48:47Z,Is it caused by not disabling `spark.sql.adaptive.localShuffleReader.enabled`?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hY6sG/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hY7i1,celeborn,1633925301,1712,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-07-13T09:50:56Z,2023-07-13T09:50:56Z,"> Is it caused by not disabling `spark.sql.adaptive.localShuffleReader.enabled`?

@wForget Right, @thomasg19930417 could you turn off ```spark.sql.adaptive.localShuffleReader.enabled``` and test again?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hY7i1/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hY8kD,celeborn,1633929475,1712,NA,thomasg19930417,20243868,xu.guo,,NA,2023-07-13T09:53:42Z,2023-07-13T09:53:42Z,"After testing, it is indeed caused by this parameter, thank you for your reply @pan3793 @wForget @waitinfuture ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hY8kD/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hZBEJ,celeborn,1633947913,1712,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-07-13T10:05:49Z,2023-07-13T10:05:49Z,"> After testing, it is indeed caused by this parameter, thank you for your reply @pan3793 @wForget @waitinfuture

![image](https://github.com/apache/incubator-celeborn/assets/948245/324b5aa5-6139-40d0-8856-c269a052f4fb)
We do added comment about this config, maybe we should highlight it more :)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hZBEJ/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1712,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hZDZO,celeborn,1633957454,1712,NA,thomasg19930417,20243868,xu.guo,,NA,2023-07-13T10:12:24Z,2023-07-13T10:12:24Z,"> > After testing, it is indeed caused by this parameter, thank you for your reply @pan3793 @wForget @waitinfuture
> 
> ![image](https://user-images.githubusercontent.com/948245/253241674-324b5aa5-6139-40d0-8856-c269a052f4fb.png) We do added comment about this config, maybe we should highlight it more :)

This parameter was commented out by my mistake, maybe it was automatically commented out when the shell was copied.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5hZDZO/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1762,https://api.github.com/repos/apache/celeborn/issues/1762,celeborn,1821927002,1762,[FEATURE] support create multiple celeborn clusters(for flink) in one kubernetes namespace,mddxhj,29112453,Jun He,xuehaijuxian@gmail.com,CLOSED,2023-07-26T09:09:22Z,2023-08-22T12:17:25Z,"### Is your feature request related to a problem? Please describe.
Currently, we can create only one celeborn cluster for flink when deploying on K8S in one namespace. In some scenarios, this is not very convenient. Supposing we have two resource pools divided by business type in the same k8s namespace，we have no way to create a celeborn cluster for both of the two resource pools.

### Describe the solution you'd like
For each celeborn cluster, we introduce a single values.yaml file that contains all the necessary configs for creating it, and we can create the cluster using the following helm command

```
helm install cluster1-celeborn --values cluster1_values.yaml .
helm install cluster2-celeborn --values cluster2_values.yaml .
```

and we can retrieve k8s pods of each celeborn  cluster by using
```
kubectl get po -l app.kubernetes.io/instance=cluster1-celeborn
kubectl get po -l app.kubernetes.io/instance=cluster2-celeborn
```

### Describe alternatives you've considered
None

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1762/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1762,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kmxL2,celeborn,1687884534,1762,NA,zwangsheng,52876270,Binjie Yang,,NA,2023-08-22T10:02:43Z,2023-08-22T10:02:43Z,"Hi @mddxhj, had raised a [PR](https://github.com/apache/incubator-celeborn/pull/1804) to accomplish this goal.

You can code review whether it meets your expectations, if you have time.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kmxL2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1815,https://api.github.com/repos/apache/celeborn/issues/1815,celeborn,1849986709,1815,[BUG] CelebornIOException: createPartitionReader failed!,zhengshubin,40193259,,,CLOSED,2023-08-14T15:11:49Z,2023-08-27T08:33:07Z,"### What is the bug(with logs or screenshots)?

```
org.apache.celeborn.common.exception.CelebornIOException: createPartitionReader failed! PartitionLocation[
  id-epoch:0-0
  host-rpcPort-pushPort-fetchPort-replicatePort:192.168.88.103-42838-46363-44110-39001
  mode:PRIMARY
  peer:(empty)
  storage hint:StorageInfo{type=HDFS, mountPoint='UNKNOWN_DISK', finalResult=true, filePath=hdfs://hadoop102:8020/celeborn/celeborn-worker/shuffle_data/application_1690699977412_0009_1/0/0-0-0}
  mapIdBitMap:null]
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.createReaderWithRetry(CelebornInputStream.java:328)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.moveToNextReader(CelebornInputStream.java:235)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.(CelebornInputStream.java:184)
	at org.apache.celeborn.client.read.CelebornInputStream.create(CelebornInputStream.java:63)
	at org.apache.celeborn.client.ShuffleClientImpl.readPartition(ShuffleClientImpl.java:1620)
	at org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1(CelebornShuffleReader.scala:89)
	at org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1$adapted(CelebornShuffleReader.scala:81)
	at scala.collection.Iterator$$anon$10.next(Iterator.scala:461)
	at scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:486)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:492)
	at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
	at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)
	at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)
	at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
	at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec.$anonfun$doExecute$1(ObjectHashAggregateExec.scala:92)
	at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec.$anonfun$doExecute$1$adapted(ObjectHashAggregateExec.scala:90)
	at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndexInternal$2(RDD.scala:875)
	at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndexInternal$2$adapted(RDD.scala:875)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:92)
	at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)
	at org.apache.spark.scheduler.Task.run(Task.scala:139)
	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:554)
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1529)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:557)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
```
### How to reproduce the bug?

celeborn version: 0.3

here is my  config:

`celeborn-defaults.conf`
```
celeborn.master.endpoints                        hadoop102:9097
celeborn.master.host                             hadoop102
celeborn.master.port                             9097
celeborn.storage.activeTypes                     HDFS
celeborn.storage.hdfs.dir                        hdfs://hadoop102:8020/celeborn
celeborn.worker.monitor.disk.enabled             false
```

spark sql 3.3.2 (use kyuubi client):
```
spark.shuffle.manager=org.apache.spark.shuffle.celeborn.SparkShuffleManager
spark.celeborn.master.endpoints=hadoop102:9097
spark.celeborn.client.push.replicate.enabled=false
spark.sql.adaptive.localShuffleReader.enabled=false
;spark.celeborn.worker.storage.hdfs.dir=hdfs://hadoop102:8020/celeborn
spark.shuffle.service.enabled=false
```

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1815/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1815,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kD6t6,celeborn,1678748538,1815,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-15T10:54:01Z,2023-08-15T10:54:01Z,"HI @zhengshubin , could you paste more logs of the exception? Especially the caused by stack. cc @FMX","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kD6t6/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1815,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kEWJp,celeborn,1678860905,1815,NA,zhengshubin,40193259,,,NA,2023-08-15T12:38:06Z,2023-08-15T12:38:06Z,"> HI @zhengshubin , could you paste more logs of the exception? Especially the caused by stack. cc @FMX

```
23/08/15 20:33:10 ERROR ShuffleClient: Celeborn initialize HDFS failed.
java.lang.IllegalArgumentException: Can not create a Path from an empty string
	at org.apache.hadoop.fs.Path.checkPathArg(Path.java:172)
	at org.apache.hadoop.fs.Path.<init>(Path.java:184)
	at org.apache.celeborn.common.util.CelebornHadoopUtils$.getHadoopFS(CelebornHadoopUtils.scala:59)
	at org.apache.celeborn.common.util.CelebornHadoopUtils.getHadoopFS(CelebornHadoopUtils.scala)
	at org.apache.celeborn.client.ShuffleClient.getHdfsFs(ShuffleClient.java:89)
	at org.apache.celeborn.client.read.DfsPartitionReader.<init>(DfsPartitionReader.java:98)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.createReader(CelebornInputStream.java:408)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.createReaderWithRetry(CelebornInputStream.java:300)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.moveToNextReader(CelebornInputStream.java:235)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.<init>(CelebornInputStream.java:184)
	at org.apache.celeborn.client.read.CelebornInputStream.create(CelebornInputStream.java:63)
	at org.apache.celeborn.client.ShuffleClientImpl.readPartition(ShuffleClientImpl.java:1620)
	at org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1(CelebornShuffleReader.scala:89)
	at org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1$adapted(CelebornShuffleReader.scala:81)
	at scala.collection.Iterator$$anon$10.next(Iterator.scala:461)
	at scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:486)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:492)
	at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
	at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)
	at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)
	at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
	at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec.$anonfun$doExecute$1(ObjectHashAggregateExec.scala:92)
	at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec.$anonfun$doExecute$1$adapted(ObjectHashAggregateExec.scala:90)
	at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndexInternal$2(RDD.scala:875)
	at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndexInternal$2$adapted(RDD.scala:875)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:92)
	at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)
	at org.apache.spark.scheduler.Task.run(Task.scala:139)
	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:554)
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1529)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:557)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
23/08/15 20:33:10 WARN CelebornInputStream: CreatePartitionReader failed 1/3 times for location PartitionLocation[
  id-epoch:0-0
  host-rpcPort-pushPort-fetchPort-replicatePort:192.168.88.104-46847-38000-45678-46197
  mode:PRIMARY
  peer:(empty)
  storage hint:StorageInfo{type=HDFS, mountPoint='UNKNOWN_DISK', finalResult=true, filePath=hdfs://hadoop102:8020/celeborn/celeborn-worker/shuffle_data/application_1690699977412_0011_1/0/0-0-0}
  mapIdBitMap:null], retry the same location
java.lang.NullPointerException
	at org.apache.celeborn.client.read.DfsPartitionReader.<init>(DfsPartitionReader.java:98)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.createReader(CelebornInputStream.java:408)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.createReaderWithRetry(CelebornInputStream.java:300)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.moveToNextReader(CelebornInputStream.java:235)
	at org.apache.celeborn.client.read.CelebornInputStream$CelebornInputStreamImpl.<init>(CelebornInputStream.java:184)
	at org.apache.celeborn.client.read.CelebornInputStream.create(CelebornInputStream.java:63)
	at org.apache.celeborn.client.ShuffleClientImpl.readPartition(ShuffleClientImpl.java:1620)
	at org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1(CelebornShuffleReader.scala:89)
	at org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1$adapted(CelebornShuffleReader.scala:81)
	at scala.collection.Iterator$$anon$10.next(Iterator.scala:461)
	at scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:486)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:492)
	at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
	at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)
	at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)
	at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
	at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec.$anonfun$doExecute$1(ObjectHashAggregateExec.scala:92)
	at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec.$anonfun$doExecute$1$adapted(ObjectHashAggregateExec.scala:90)
	at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndexInternal$2(RDD.scala:875)
	at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndexInternal$2$adapted(RDD.scala:875)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:92)
	at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)
	at org.apache.spark.scheduler.Task.run(Task.scala:139)
	at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:554)
	at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1529)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:557)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
```","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kEWJp/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1815,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kEcuq,celeborn,1678887850,1815,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-15T12:55:51Z,2023-08-15T12:55:51Z,"Could you join the DingTalk group so we can have a more efficient discussion? 
“Celeborn用户群”群的钉钉群号： 41594456","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kEcuq/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/1823,celeborn,1860673344,1823,[FEATURE] introduce jemalloc to optimize memory usage,mddxhj,29112453,Jun He,xuehaijuxian@gmail.com,CLOSED,2023-08-22T06:22:08Z,2023-09-11T08:41:00Z,"### Is your feature request related to a problem? Please describe.
I found after introducing jemalloc celeborn gains a better memory usage when deploying for flink on k8s.

### Describe the solution you'd like
Introduce jemalloc for celeborn

### Describe alternatives you've considered


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1823/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kldD3,celeborn,1687539959,1823,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-22T06:28:53Z,2023-08-22T06:28:53Z,"Hi @mddxhj , thanks for your input! BTW, are you interested in raising a PR for this?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kldD3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kle_d,celeborn,1687547869,1823,NA,mddxhj,29112453,Jun He,xuehaijuxian@gmail.com,NA,2023-08-22T06:35:07Z,2023-08-22T06:35:07Z,@waitinfuture yes，I'll raise a pr for this feature,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kle_d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5klik0,celeborn,1687562548,1823,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-22T06:44:09Z,2023-08-22T06:44:09Z,"> @waitinfuture yes，I'll raise a pr for this feature

That's great!","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5klik0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5klrwf,celeborn,1687600159,1823,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-08-22T07:09:03Z,2023-08-22T07:09:03Z,"> ... gains a better memory usage ...

Could you share more information like metrics to prove such improvements?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5klrwf/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kl8Y8,celeborn,1687668284,1823,NA,mddxhj,29112453,Jun He,xuehaijuxian@gmail.com,NA,2023-08-22T07:57:25Z,2023-08-22T07:57:25Z,"@pan3793 I have a case in our production environment, single pod work_set usage decreased from 9.3GB to 6GB approximately after enable jemalloc. see [CELEBORN-900](https://issues.apache.org/jira/browse/CELEBORN-900)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kl8Y8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kmB8N,celeborn,1687691021,1823,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-08-22T08:10:01Z,2023-08-22T08:10:01Z,@mddxhj the metrics of Pod memory looks nice! Have you observed differences between Netty memory / CPU usage on the Celeborn Grafana Dashboard?,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5kmB8N/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1823,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mIOrE,celeborn,1713433284,1823,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-09-11T08:40:56Z,2023-09-11T08:40:56Z,Closed via ada12a2c0e9762d546a891648ab42a8fca6c653c and 8b7989ad0cd9e19decdc8b772c92b924426f31a5,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mIOrE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1846,https://api.github.com/repos/apache/celeborn/issues/1846,celeborn,1869113207,1846,[FEATURE] HDFS storage  support  NameNode HA  config,zhengshubin,40193259,,,CLOSED,2023-08-28T06:59:55Z,2024-01-08T09:44:39Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]
I have a hadoop cluster with  namemode ha ,but  it make  errror when I  use  namenode ha config. 

### Describe the solution you'd like
A clear and concise description of what you want to happen.
HDFS storage  support  NameNode HA  config 
### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.
Like doris hdfs ha config :
        ""dfs.nameservices"" = ""my_hdfs"",
            ""dfs.ha.namenodes.my_hdfs"" = ""nn1,nn2"",
            ""dfs.namenode.rpc-address.my_hdfs.nn1"" = ""nanmenode01:8020"",
            ""dfs.namenode.rpc-address.my_hdfs.nn2"" = ""nanmenode02:8020"",
            ""dfs.client.failover.proxy.provider.my_hdfs"" = ""org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider"")
or  put the hdfs-site.xml to config path  and read it automatically.
/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1846/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1846,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5lCk2h,celeborn,1695174049,1846,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-08-28T07:27:36Z,2023-08-28T07:27:36Z,"Hi @zhengshubin , you can pass hadoop related configs using `celeborn.hadoop.xxx`","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5lCk2h/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1899,https://api.github.com/repos/apache/celeborn/issues/1899,celeborn,1892618979,1899,[DOC] Update Configuration for spark.shuffle.sort.io.plugin.class,a140262,30616687,Melody Yang,,CLOSED,2023-09-12T14:13:53Z,2023-09-13T04:16:12Z,"### Describe the intention you'd like
Starting from Spark 3.5, it will support Celeborn natively without patching Spark code. User just need to set `spark.shuffle.sort.io.plugin.class` to `org.apache.spark.shuffle.celeborn.CelebornShuffleDataIO` to enable this new feature.  Please update the documentation accordingly. Please refer to [CELEBORN-913](https://issues.apache.org/jira/browse/CELEBORN-913) & [SPARK-42689](https://github.com/apache/spark/pull/40307)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1899/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1899,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVhHB,celeborn,1716916673,1899,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-09-13T04:16:12Z,2023-09-13T04:16:12Z,"Already tracked via CELEBORN-954, please open JIRA instead of GitHub issue to report issues.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVhHB/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1900,https://api.github.com/repos/apache/celeborn/issues/1900,celeborn,1892663854,1900,[BUG] Make volume name dynamic in statefulset in helm chart,a140262,30616687,Melody Yang,,CLOSED,2023-09-12T14:36:43Z,2023-09-13T05:50:47Z,"### What is the bug(with logs or screenshots)?
When running multiple Celeborn clusters with different release names and Celeborn versions, helm install was failed until making the initContainers' volume name dynamic. See the error from master's statefulset :
```
>> kubectl describe statefulset.apps/clbv3-master  -n celeborn

Events:
  Type     Reason        Age                From                    Message
  ----     ------        ----               ----                    -------
  Warning  FailedCreate  5s (x14 over 46s)  statefulset-controller  create Pod clbv3-master-0 in StatefulSet clbv3-master failed error: Pod ""clbv3-master-0"" is invalid: spec.initContainers[0].volumeMounts[0].name: Not found: ""celeborn-master-vol-0""
```

### How to reproduce the bug?
Helm install Celeborn cluster twice in the same namespace with different release names.
For example:
```
helm install celeborn charts/celeborn-shuffle-service  -n celeborn
helm install clbv3 charts/celeborn-shuffle-service  -n celeborn
```
### How to fix it?
Update volumeMounts's name by a dynamic {{ $.Release.Name }} prefix .
**master-stateful.yaml**
```
initContainers:
      .....
      - name: chown-{{ $.Release.Name }}-master-volume
        .....
        securityContext:
        .....
        command:
        .....
        volumeMounts:
          - name: {{ $.Release.Name }}-master-vol-0
          .....
```
**worker-stateful.yaml**
```
 initContainers:
     .....
      - name: chown-{{ $.Release.Name }}-worker-volume
      .....
        securityContext:
          .....
        command:
         .....
        volumeMounts:
        {{- range $index, $dir := $dirs }}
        - name: {{ $.Release.Name }}-worker-vol-{{ $index }}
           .....
```","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1900/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1900,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVDh4,celeborn,1716795512,1900,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-09-13T01:23:41Z,2023-09-13T01:23:41Z,"Thanks @a140262 for reporting this bug and how-to-fix, looking forward to your PR :)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVDh4/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1900,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVf2n,celeborn,1716911527,1900,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-09-13T04:09:49Z,2023-09-13T04:09:49Z,cc @zwangsheng ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVf2n/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1900,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVyqG,celeborn,1716988550,1900,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-09-13T05:50:47Z,2023-09-13T05:50:47Z,Closed via https://github.com/apache/incubator-celeborn/pull/1901,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5mVyqG/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/1991,https://api.github.com/repos/apache/celeborn/issues/1991,celeborn,1944462988,1991,[Suggestion] Startup master/worker listen on 0.0.0.0 by default,xleoken,95013770,,,CLOSED,2023-10-16T06:26:16Z,2023-10-17T06:35:39Z,"### Is your feature request related to a problem? Please describe.

When the master/worker started, it will listen on a specific ip. It's not friendly when deploy these components on server with multiple networks.

### Describe alternatives you've considered
It seems better to let master/worker to listen on `0.0.0.0` by defalt.

### Other
Please share your idea about this topic 😃 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/1991/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1991,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5pLHq5,celeborn,1764522681,1991,NA,waitinfuture,948245,Keyong Zhou,zky.zhoukeyong@alibaba-inc.com,NA,2023-10-16T13:47:25Z,2023-10-16T13:47:25Z,"Hi @xleoken , thanks for raising this discussion! IMO it's fine for workers to listen on `0.0.0.0`, but since Master's ip:port is used by Workers and Clients, I think we can't let Master use `0.0.0.0`.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5pLHq5/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1991,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5pP0AL,celeborn,1765752843,1991,NA,xleoken,95013770,,,NA,2023-10-17T06:30:44Z,2023-10-17T06:30:44Z,Thanks @waitinfuture ,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5pP0AL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/1991,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5pP1Zc,celeborn,1765758556,1991,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-10-17T06:35:38Z,2023-10-17T06:35:38Z,"@xleoken the current behavior is to listen to the first non-loopback address if not explicitly configured, 0.0.0.0 is not a good candidate as the fallback behavior IMO, for both security purposes and service discovery mechanism.

PS: Better to use mailing list or GitHub discussion for starting such a conversation.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5pP1Zc/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2043,https://api.github.com/repos/apache/celeborn/issues/2043,celeborn,1960800902,2043,[FEATURE] support configurable checksum in Lz4Decompressor,shuai-xu,20960838,shuai.xu,chiggics@gmail.com,CLOSED,2023-10-25T08:07:01Z,2023-10-31T06:57:40Z,"### Is your feature request related to a problem? Please describe.
Now the checksum in Lz4Decompressor is set to StreamingXXHash32JNI by default, and there is no config to change it. This checksum calls C++ code, which may cause spark executor hang in Gluten. 

### Describe the solution you'd like
Make it configurable, so In gluten, they can choose to use StreamingXXHash32JavaSafe.

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2043/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2043,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qINOu,celeborn,1780536238,2043,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2023-10-26T07:08:47Z,2023-10-26T07:08:47Z,"@shuai-xu, why should it support configurable checksum in `Lz4Decompressor`? IMO, `XXHashFactory#fastestInstance` would determine to use which instance according to environment. cc @waitinfuture 
```
/**
   * Returns the fastest available {@link XXHashFactory} instance. If the class
   * loader is the system class loader and if the
   * {@link #nativeInstance() native instance} loads successfully, then the
   * {@link #nativeInstance() native instance} is returned, otherwise the
   * {@link #fastestJavaInstance() fastest Java instance} is returned.
   * <p>
   * Please read {@link #nativeInstance() javadocs of nativeInstance()} before
   * using this method.
   *
   * @return the fastest available {@link XXHashFactory} instance.
   */
  public static XXHashFactory fastestInstance() {
    if (Native.isLoaded()
        || Native.class.getClassLoader() == ClassLoader.getSystemClassLoader()) {
      try {
        return nativeInstance();
      } catch (Throwable t) {
        return fastestJavaInstance();
      }
    } else {
      return fastestJavaInstance();
    }
  }
```","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qINOu/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2043,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qI4Ze,celeborn,1780713054,2043,NA,shuai-xu,20960838,shuai.xu,chiggics@gmail.com,NA,2023-10-26T09:07:22Z,2023-10-26T09:07:22Z,"By default fastestInstance use nativeInstance, it can't change to javaInstance by config","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qI4Ze/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2043,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qI5Hl,celeborn,1780716005,2043,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-10-26T09:09:14Z,2023-10-26T09:09:14Z,"> This checksum calls C++ code, which may cause spark executor hang in Gluten.

Could u pls elaborate more? How does it happen?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qI5Hl/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2043,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qZ77H,celeborn,1785183943,2043,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2023-10-30T13:20:15Z,2023-10-30T13:20:15Z,"@shuai-xu, I have supported the configuration mentioned above in #2050. PTAL.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5qZ77H/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2066,https://api.github.com/repos/apache/celeborn/issues/2066,celeborn,1975277646,2066,[FEATURE] make affinity.master and affinity.worker optional,doki23,11144133,Jay Han,,CLOSED,2023-11-03T01:06:33Z,2024-02-07T05:28:56Z,"### Is your feature request related to a problem? Please describe.
I set `affinity` to `None` and got an error: 
```
Error: INSTALLATION FAILED: template: celeborn/templates/worker-statefulset.yaml:54:22: executing ""celeborn/templates/worker-statefulset.yaml"" at <.Values.affinity.worker>: nil pointer evaluating interface {}.worker
```
It seems that we must provide a key of `affinity.worker` in the `values.yaml` ?

### Describe the solution you'd like
make affinity.master and affinity.worker optional
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2066/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2066,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5sV-op,celeborn,1817700905,2066,NA,hemu-git-hub,79792959,,,NA,2023-11-19T00:33:57Z,2023-11-19T00:33:57Z,"@doki23 can I work on this issue ?
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5sV-op/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2066,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5sWAGV,celeborn,1817706901,2066,NA,doki23,11144133,Jay Han,,NA,2023-11-19T01:06:02Z,2023-11-19T01:06:02Z,@hemu-git-hub Feel free to do this.,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5sWAGV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2067,https://api.github.com/repos/apache/celeborn/issues/2067,celeborn,1975361727,2067,[BUG] master cannot startup,doki23,11144133,Jay Han,,CLOSED,2023-11-03T02:23:06Z,2024-03-27T07:21:02Z,"### What is the bug(with logs or screenshots)?
Here are logs of master:
<img width=""634"" alt=""截屏2023-11-03 10 21 09"" src=""https://github.com/apache/incubator-celeborn/assets/11144133/132f9453-2198-400f-9707-4f53e03e27dd"">
It also happens on worker.

### How to reproduce the bug?
Remove the `affinity` values(should have no affection).
Launch it by helm in my macbook pro m1 and it occurs.
The image is `aliyunemr/remote-shuffle-service:0.1.1-6badd20`.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2067/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2067,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc54hu6s,celeborn,2022108844,2067,NA,mircode,9445867,魏国兴,1607646162@qq.com,NA,2024-03-27T07:21:01Z,2024-03-27T07:21:01Z,需要重新打一个新的镜像，配置文件的镜像仅是一个例子,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc54hu6s/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2094,https://api.github.com/repos/apache/celeborn/issues/2094,celeborn,1990928961,2094,[FEATURE] Set resources ( cpu/memory requests and limits) for initContainers for Helm chart,marwansalem,47162862,Marwan Salem,,CLOSED,2023-11-13T15:45:26Z,2023-11-16T03:42:17Z,"### Is your feature request related to a problem? Please describe.
Worker and Master Pods did not start when installing helm chart into a namespace with resource quota.

### Describe the solution you'd like
Use the same resources values as  ""main"" container resources.
This requires modifying `master-statefulset` and `worker-statefulset` 

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you

[PR
](https://github.com/apache/incubator-celeborn/pull/2093)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2094/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2094,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5r_VrV,celeborn,1811765973,2094,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2023-11-15T03:49:52Z,2023-11-15T03:49:52Z,"@pan3793, this issue could be closed.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5r_VrV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2094,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5sG4R-,celeborn,1813742718,2094,NA,pan3793,26535726,Cheng Pan,chengpan@apache.org,NA,2023-11-16T03:42:17Z,2023-11-16T03:42:17Z,close as completed,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5sG4R-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2112,https://api.github.com/repos/apache/celeborn/issues/2112,celeborn,2006781082,2112,[QUESTION] spark reduce需要sort时，是否还需要准备很大的本地盘,jacky1193610322,16514353,,,CLOSED,2023-11-22T17:12:23Z,2023-12-12T05:49:48Z,"当前看代码实现，celeborn不会在worker侧按照key排好序，那么在reader的时候，如果reduce需要排序就需要使用内存+磁盘来进行本地排序，这个地方就会要求spark的executor有比较大的内存和磁盘，这个后续会考虑直接在celeborn服务端排好序吗？
/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2112/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2112,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uV6j-,celeborn,1851238654,2112,NA,BsoBird,30249475,PLASH SPEED,,NA,2023-12-12T03:21:46Z,2023-12-12T03:21:46Z,"实际上,如果在Celeborn端直接支持排序,可能未必是一个好的选择. Celeborn已经汇总了所有job的shuffle,此时再进行shuffle,压力是很大的. 并且由于celeborn对接的是多个spark job,如果由celeborn进行排序,那么celeborn所需的资源或许将大于spark job本身所需的资源.这样的实现真的合理么? 相比于这种诉求,我甚至更倾向远端spill.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uV6j-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2112,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWRoi,celeborn,1851333154,2112,NA,jacky1193610322,16514353,,,NA,2023-12-12T05:36:39Z,2023-12-12T05:36:39Z,但是如果不解决celeborn排序，就会要求spark的executor额外还需要大的内存和磁盘的问题，这样存算分离就不彻底，造成对资源的分离无法完全做到，在线上实际生产中，如果已经部署了celeborn，不希望再要求spark executor还要占用大内存和大存储盘。,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWRoi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2112,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWSVk,celeborn,1851336036,2112,NA,BsoBird,30249475,PLASH SPEED,,NA,2023-12-12T05:40:16Z,2023-12-12T05:40:16Z,那你或许可以考虑remote spill,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWSVk/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2112,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWTEe,celeborn,1851339038,2112,NA,jacky1193610322,16514353,,,NA,2023-12-12T05:44:00Z,2023-12-12T05:44:00Z,remote spill 是celeborn支持的吗？,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWTEe/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/2140,celeborn,2034762914,2140,Who is using Apache Celeborn?,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,OPEN,2023-12-11T03:41:12Z,2025-01-23T13:19:53Z,"### Search before asking

- [x] I searched in the [issues](https://github.com/apache/incubator-celeborn/issues) and found nothing similar.


### Motivation

## Who's using Apache Celeborn?

The Apache Celeborn community grows with the combined efforts of every user and developer and appreciates every user and developer who uses and cares about Celeborn. We are committed to listening to each one of you to make the community more prosperous.

Therefore, the purpose of this topic is to encourage you, as a user or developer, to leave your real-world scenarios so that we can subsequently explore new and better solutions, schedule the releases, and solve real-world problems based on these scenarios.

We look forward to your comments in the comments space, including but not limited to the following areas.

- Organization: e.g. Alibaba Corp.
- Region:  e.g. Hangzhou, China
- Contact: e.g. zhouky@apache.org
- Usage Scenario: e.g., we use Apache Celeborn to improve the efficiency and elasticity of different map-reduce engines and provides an elastic, high-efficient management service for intermediate data including shuffle data, spilled data, result data, etc.

Regards,

Apache Celeborn Community

### Solution

_No response_

### Anything else?

_No response_

### Are you willing to submit a PR?

- [ ] I'm willing to submit a PR!","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2140/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uOdu2,celeborn,1849285558,2140,NA,gaochao0509,150882442,,,NA,2023-12-11T03:57:44Z,2023-12-11T03:57:44Z,"Organization: New Baatur
Region: Shen zhen, China
Contact information: 1623735386@qq.com
Usage scenario: Use Apache Celeborn to improve the efficiency and resilience of the Spark/MapReduce engine, providing elastic and efficient management services for intermediate data such as Shuffle data, overflow data, and result data.
Location: Currently, 10+locations have been deployed, with significant stability improvement and performance improvement of over 30%.
![Logo](https://github.com/apache/incubator-celeborn/assets/150882442/e5e4d6f3-b883-49c8-b98b-9160a331a53a)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uOdu2/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uOrcE,celeborn,1849341700,2140,NA,carp84,6239804,Yu Li,liyu@apache.org,NA,2023-12-11T05:15:27Z,2023-12-11T05:15:27Z,"> Region: Xi'an, China Contact information: [1623735386@qq.com](mailto:1623735386@qq.com) Usage scenario: Use Apache Celeborn to improve the efficiency and resilience of the Spark/MapReduce engine, providing elastic and efficient management services for intermediate data such as Shuffle data, overflow data, and result data. Location: Currently, 10+locations have been deployed, with significant stability improvement and performance improvement of over 30%.

@gaochao0509 Thanks for sharing. Mind also share the company/organization?  :-)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uOrcE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uPD-7,celeborn,1849442235,2140,NA,cxzl25,3898450,,,NA,2023-12-11T07:06:56Z,2023-12-11T07:06:56Z,"- Organization: Trip.com Group
- Region: Shanghai, China
- Contact: sychen@trip.com
- Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.

![trip_group_logo](https://github.com/apache/incubator-celeborn/assets/3898450/ecce22e9-a1c0-4369-9c94-e4e3ca8ddb47)

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uPD-7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uPg34,celeborn,1849560568,2140,NA,big-loser,10458694,alex,this-only-one@163.com,NA,2023-12-11T08:40:09Z,2023-12-11T08:40:09Z,"Organization: inmobi Group
Region: Beijing, China
Contact: [alex.song@inmobi.com](mailto:alex.song@inmobi.com)
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.

![](https://web.inmobicdn.net/website/website/6.0.1/ui/uploads/misc/InMobi_Logo_Colour.svg)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uPg34/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uPu2Q,celeborn,1849617808,2140,NA,RuiQin7,51885730,RuiQin,,NA,2023-12-11T09:13:54Z,2023-12-11T09:13:54Z,"Organization:  zto.com Group
Region: Shanghai, China
Contact: [qr7972@gmail.com](mailto:qr7972@gmail.com)
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle

![1](https://github.com/apache/incubator-celeborn/assets/51885730/3992ec73-6174-446c-bdeb-4d73b9259bf4)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uPu2Q/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uP49z,celeborn,1849659251,2140,NA,BsoBird,30249475,PLASH SPEED,,NA,2023-12-11T09:37:46Z,2023-12-11T09:37:46Z,"Organization: shuyun Inc
Region: hangzhou, China
Contact: lisoda@yeah.net
Usage Scenario: By using apache celeborn, We realised the separation of storage and compute in HIVE-MR3/SPARK-KYUUBI, which effectively reduces the cost of the server room.
![image](https://github.com/apache/incubator-celeborn/assets/30249475/761fed8d-7e9b-456f-b81d-753994f232b6)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uP49z/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uRIfm,celeborn,1849984998,2140,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2023-12-11T12:29:46Z,2023-12-11T12:29:46Z,"- Organization: Bilibili Inc
- Region: Shanghai, China
- Contact: [jiangxiaofeng@bilibili.com](mailto:jiangxiaofeng@bilibili.com)
- Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark and Flink(Batch) engine shuffle.
![BILIBILI logo](https://github.com/apache/incubator-celeborn/assets/10048174/10524088-86c1-4d5c-9bbe-fdb2f1ee35a0)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uRIfm/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uVw7-,celeborn,1851199230,2140,NA,jiaoqingbo,14961757,jiaoqingbo,1178404354@qq.com,NA,2023-12-12T02:21:59Z,2023-12-12T02:21:59Z,"- Organization: AsiaInfo
- Region: Beijing, China
- Contact: [jiaoqb@asiainfo.com](mailto:jiaoqb@asiainfo.com)
- Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.
![image](https://github.com/apache/incubator-celeborn/assets/14961757/769a32b0-3e53-4076-a584-8b0394438d6d)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uVw7-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWRjw,celeborn,1851332848,2140,NA,lifulong,450539,moslifulong,,NA,2023-12-12T05:36:15Z,2023-12-12T05:36:15Z,"Organization: Zhihu Inc
Region: Beijing, China
Contact: [lifulong@zhihu.com](mailto:lifulong@zhihu.com)
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark engine shuffle.
![image](https://github.com/apache/incubator-celeborn/assets/450539/e25f150d-9895-481e-89a2-38151c0707ec)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWRjw/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWpaR,celeborn,1851430545,2140,NA,TongWei1105,68682646,TongWei,vvtwow@gmail.com,NA,2023-12-12T07:21:19Z,2023-12-12T07:21:19Z,"Organization: Xiaohongshu Inc
Region: Shanghai, China
Contact: paen@xiaohongshu.com
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark and Flink(Batch) engine shuffle.
![xiaohongshu](https://github.com/apache/celeborn/assets/68682646/43112f60-241e-44d1-853d-35eb064ad92c)


","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uWpaR/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uW1gk,celeborn,1851480100,2140,NA,onebox-li,19429353,Leo Li,,NA,2023-12-12T08:03:18Z,2023-12-12T08:03:18Z,"- Organization: BIGO
- Region: Guangzhou, China
- Contact: [liyihe@bigo.sg](mailto:liyihe@bigo.sg)
- Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.
![bigo_logo](https://github.com/apache/incubator-celeborn/assets/19429353/1502fff4-9434-4ce0-a36f-0a2d67eaebce)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uW1gk/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uXP8j,celeborn,1851588387,2140,NA,AngersZhuuuu,46485123,Angerszhuuuu,angers.zhu@gmail.com,NA,2023-12-12T09:12:13Z,2023-12-12T09:12:13Z,"Organization: SHOPEE
Region: Shenzhen, China
Contact: anger.zhu@gmail.com
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.
![image](https://github.com/apache/incubator-celeborn/assets/46485123/5e25ddb9-018a-40eb-bb31-3150f6e3726d)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5uXP8j/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5vL19N,celeborn,1865375565,2140,NA,lianneli,19421187,Lianne Li,lmlianne@outlook.com,NA,2023-12-21T02:07:15Z,2023-12-21T02:07:15Z,"Organization: DMALL
Region: Beijing, China
Contact: gang.huang@dmall.com, ming.li@dmall.com, ming.li2@dmall.com
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.
<img width=""655"" alt=""B端业务-横版-蓝色"" src=""https://github.com/apache/incubator-celeborn/assets/19421187/467c9baa-48eb-4c3d-82aa-184142f91212"">
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5vL19N/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5w3BGi,celeborn,1893470626,2140,NA,camper42,3177898,camper42,camper.xlii@gmail.com,NA,2024-01-16T10:31:30Z,2024-01-16T10:31:30Z,"Organization: Douban
Region: Beijing, China
Contact: [caofengyu@douban.com](mailto:caofengyu@douban.com)
Usage Scenario: we use Apache Celeborn to support better Spark dynamic resource allocation in Kubernetes.

![豆瓣logo](https://github.com/apache/incubator-celeborn/assets/3177898/48ae3f11-e061-4dfb-b06e-fa3fbb282689)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5w3BGi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc51KhEV,celeborn,1965691157,2140,NA,wfxxh,22764286,wfxxh,not-null@foxmail.com,NA,2024-02-27T02:48:05Z,2024-02-27T02:48:05Z,"Organization: WanFang Data
Region: Beijing, China
Contact: xuxinhao@wanfangdata.com.cn
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle on k8s 
![image](https://github.com/apache/incubator-celeborn/assets/22764286/5c52c627-c1b3-48c6-9c0f-8a9dcbcea7e9)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc51KhEV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc51kTo3,celeborn,1972451895,2140,NA,wxplovecc,3350718,吴祥平,408317717@qq.com,NA,2024-03-01T03:39:34Z,2024-03-01T03:39:34Z,"Organization: Tongcheng Travel（同程旅行）.
Region: Jiangsu, China
Contact: [www.ly.com](http://www.ly.com/)
Usage Scenario: we use Apache Celeborn to improve the stability and efficiency of spark shuffle.
![image](https://github.com/apache/incubator-celeborn/assets/3350718/be377bb3-2409-42ef-83c0-2eadeaa20f58)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc51kTo3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc52Xi-7,celeborn,1985884091,2140,NA,CodingCat,678008,Nan Zhu,,NA,2024-03-08T15:21:28Z,2024-03-08T15:21:28Z,"Organization: e.g. Pinterest
Region: US
Contact: @CodingCat 
Usage Scenario: we use Apache Celeborn to improve the efficiency and elasticity of Spark@K8S 


![image](https://github.com/apache/incubator-celeborn/assets/678008/3cf08056-2fcb-4616-aa37-7ff60d464838)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc52Xi-7/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc52qPwg,celeborn,1990786080,2140,NA,akpatnam25,24758726,Aravind Patnam,akpatnam25@gmail.com,NA,2024-03-12T06:15:39Z,2024-03-12T06:15:39Z,"Organization: LinkedIn
Region: US
Contact: @akpatnam25 
Usage Scenario: we use Apache Celeborn to improve the stability and efficiency of spark shuffle.
![image](https://github.com/apache/incubator-celeborn/assets/46485123/5ba292cd-e1f0-4ce7-8846-f45ca2b9cf83)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc52qPwg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc53wPic,celeborn,2009135260,2140,NA,liugs0213,55676558,,,NA,2024-03-20T09:40:15Z,2024-03-20T09:40:15Z,"Organization: BOSS Zhipin
Region: Beijing, China
Contact: @liugs0213 
Usage Scenario: we use Apache Celeborn to improve the efficiency and elasticity of Spark@K8S
![image](https://github.com/apache/incubator-celeborn/assets/55676558/cedbb0f5-3860-42c2-b999-d054b1debf1f)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc53wPic/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6HUn2e,celeborn,2270330270,2140,NA,lohitvijayarenu,466157,,,NA,2024-08-06T03:52:33Z,2024-08-06T03:52:33Z,"Organization: Stripe
Region: US
Contact: @lohitvijayarenu
Usage Scenario:  Apache Celeborn helps Spark workloads with efficient and elastic shuffle. Celeborn will also help in Storage and compute disaggregation for efficient use of resources.
![image](https://github.com/user-attachments/assets/e739cf6b-58e4-4ad8-90cd-53fbf895cf1d)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6HUn2e/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6Hwnbd,celeborn,2277668573,2140,NA,wangshengjie123,45991044,wangshengjie,soldier.sj.wang@gmail.com,NA,2024-08-09T10:44:02Z,2024-08-09T10:44:02Z,"Organization: Xiaomi
Region: Beijing, China
Contact: wangshengjie3@xiaomi.com 
Usage Scenario: We use Celeborn to improve the stability and efficiency of shuffle.
![小米办公20240809-184309](https://github.com/user-attachments/assets/31727415-3202-4336-8976-1d988206c564)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6Hwnbd/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6IGL_L,celeborn,2283323339,2140,NA,ASiegeLion,30170267,peiyue liu,,NA,2024-08-12T07:57:48Z,2024-08-12T07:57:48Z,"Organization: YY
Region: GuangZhou, China
Contact: https://www.yy.com/web/jinhong/#/connect
Usage Scenario: We use Celeborn to improve the stability and efficiency of shuffle.
![image](https://github.com/user-attachments/assets/c5209365-5626-443b-8b42-9d560ae46623)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6IGL_L/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6IjedE,celeborn,2291001156,2140,NA,jinyuchen724,22166345,,,NA,2024-08-15T09:57:58Z,2024-08-15T09:57:58Z,"Organization: WuXianShengHuo
Region: HangZhou, China
Contact: https://www.weidian.com
Usage Scenario: We use Celeborn to improve the stability and efficiency of shuffle.

<img width=""359"" alt=""image"" src=""https://github.com/user-attachments/assets/8328378d-3471-4b07-a330-e093d498ac03"">
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6IjedE/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6PH3Bm,celeborn,2401202278,2140,NA,HYBG-1126,44338121,HYBG-1126,hybg1126@gmail.com,NA,2024-10-09T03:35:58Z,2024-10-09T03:35:58Z,"Organization: 竞技世界(jjworld)
Region: Beijing, China
Contact: https://www.jj.cn/
Usage Scenario: we use Apache Celeborn to improve the efficiency and elasticity of Spark@K8S
![6e60d976-aab1-4d1c-9bf9-0c6cf82f2961](https://github.com/user-attachments/assets/1abdb32c-f69c-4e88-ade8-0776d281f2e2)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6PH3Bm/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6PV9AV,celeborn,2404896789,2140,NA,LennonChin,31773746,Lennon Chin,i@coderap.com,NA,2024-10-10T11:59:17Z,2024-10-10T11:59:17Z,"Organization: 蔚来（[www.nio.com](https://www.nio.com/)）
Region: Shanghai, China
Contact: @LennonChin 
Usage Scenario: we use Apache Celeborn to improve the efficiency and elasticity of Spark on K8S.

![Masterbrand_NIO蔚來_CN](https://github.com/user-attachments/assets/b57f034a-6e2f-463c-b3e0-b230da4760c7)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6PV9AV/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UHFM3,celeborn,2484884279,2140,NA,conorzhao,27194698,conor,flyingzhao0628@gmail.com,NA,2024-11-19T07:25:35Z,2024-11-19T07:25:35Z,"Organization: 金城银行
Region: ShenZhen, China
Contact: https://www.kcbebank.com/
Usage Scenario: we use Apache Celeborn to improve the efficiency and elasticity of Spark Shuffle
![1](https://github.com/user-attachments/assets/3cb4527c-4abc-40df-be71-9a8ea47241c9)

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UHFM3/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6U_DM-,celeborn,2499556158,2140,NA,lzw7916002,33144446,,,NA,2024-11-26T03:07:59Z,2024-11-26T03:07:59Z,"Organization: TUYA
Region: Hang zhou, China
Contact information: https://www.tuya.com/cn/
Usage scenario: Use Apache Celeborn to improve the efficiency and resilience of the Spark engine, providing elastic and efficient management services for intermediate data such as Shuffle data, overflow data, and result data.
Location: Currently, 3+locations have been deployed, with significant stability improvement and performance improvement of over 20%.
![285367595845279744](https://github.com/user-attachments/assets/e42fa4ce-e0a9-458a-ac4c-26630e6cb171)

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6U_DM-/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6VK3Qr,celeborn,2502652971,2140,NA,lukaizj,92360203,,,NA,2024-11-27T03:48:57Z,2024-11-27T03:48:57Z,"Organization: 企查查
Region: Suzhou, China
Contact: https://www.qcc.com
Usage Scenario: we use Apache Celeborn to improve the efficiency and elasticity of Kyuubi+Spark on K8S.
![1732679349798_82BD2322-B1E4-4759-B794-EF4196039F5F](https://github.com/user-attachments/assets/21b99e79-895b-4a25-80da-51272e88ce31)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6VK3Qr/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6YAYXM,celeborn,2550236620,2140,NA,zhisheng17,10086212,zhisheng,zhisheng2018@gmail.com,NA,2024-12-18T03:29:24Z,2024-12-18T03:29:24Z,"Organization: 哈啰
Region: Shanghai, China
Contact: https://www.hello-inc.com/
Usage Scenario: We use Apache Celeborn in the Flink/Spark On K8s hybrid deployment scenario in the production environment to improve the stability of tasks and clusters, improve efficiency and ensure stability.

![image](https://github.com/user-attachments/assets/68dfc6b0-db42-4530-ad59-da2809b5b490)","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6YAYXM/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6YsteS,celeborn,2561857426,2140,NA,Z1Wu,21239012,z1wu,2682731305@qq.com,NA,2024-12-25T11:53:56Z,2024-12-25T11:53:56Z,"Organization: 网易游戏
Region: Guangzhou, China
Contact: whke@corp.netease.com, wuziyi02@corp.netease.com
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle. 
![image](https://github.com/user-attachments/assets/90712c0c-3232-4ac8-83b8-fa5b6723e0b0)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6YsteS/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ZG7Ix,celeborn,2568729137,2140,NA,dh20,65940415,Graceful,,NA,2025-01-03T06:00:44Z,2025-01-03T06:00:44Z,"Organization: 奇富科技
Region: ShenZhen, China
Contact: https://www.qifu.tech/
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.
![qifu](https://github.com/user-attachments/assets/b35abae4-4521-4bc0-99b9-ec384eb99da5)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ZG7Ix/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ZeyoH,celeborn,2574985735,2140,NA,zhaostu4,44028061,ZHAO ZHAO,zhaostu4@gmail.com,NA,2025-01-07T10:54:33Z,2025-01-07T10:54:33Z,"Organization: 字节跳动
Region: Beijing, China
Contact: [yuhaiyang.zy@bytedance.com](yuhaiyang.zy@bytedance.com),[zhangzhao.08@bytedance.com](zhangzhao.08@bytedance.com),[hongguangwei@bytedance.com](hongguangwei@bytedance.com),[zhaocheng.zhch@bytedance.com](zhaocheng.zhch@bytedance.com)
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle.
![image](https://github.com/user-attachments/assets/69da34b9-d0b5-4f6b-b777-b3f7aeba7ac9)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6ZeyoH/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2140,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6Z5zcL,celeborn,2582066955,2140,NA,JuniverseCoder,16131756,JuniverseCoder,,NA,2025-01-10T08:40:24Z,2025-01-10T08:40:24Z,"Organization: 招联
Region: ShenZhen, China
Contact: huangjunjie@mucfc.com
Usage Scenario: We use Apache Celeborn to improve the stability and efficiency of Spark shuffle and provide support for Spark on Kubernetes (Spark on K8s).
![image](https://github.com/user-attachments/assets/60b4e7d7-e6ba-46bf-88ea-7b5ad5b998ed)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6Z5zcL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2270,https://api.github.com/repos/apache/celeborn/issues/2270,celeborn,2106915538,2270,[DOC] Disable dynamic allocation shuffle tracking in spark 3.5,wForget,17894939,Zhen Wang,wangzhen@apache.org,CLOSED,2024-01-30T04:11:39Z,2024-02-02T06:06:44Z,"### Describe the intention you'd like

Similar to https://github.com/apache/incubator-uniffle/issues/1490, we should also recommend users to disable dynamic allocation shuffle tracking by default in spark 3.5.

```
spark.dynamicAllocation.shuffleTracking.enabled false
```


/cc @pan3793 

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2270/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2270,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ynPyU,celeborn,1922890900,2270,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2024-02-02T05:59:15Z,2024-02-02T05:59:15Z,"@wForget, the `SparkShuffleManager` of Spark 3.X would log `Detected {} (default is {}) is enabled, it's highly recommended to disable it when use Celeborn as Remote Shuffle Service to avoid performance degradation.` when setting `spark.dynamicAllocation.shuffleTracking.enabled` to true.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ynPyU/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2270,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ynRAj,celeborn,1922895907,2270,NA,wForget,17894939,Zhen Wang,wangzhen@apache.org,NA,2024-02-02T06:05:16Z,2024-02-02T06:05:16Z,"> @wForget, the `SparkShuffleManager` of Spark 3.X would log `Detected {} (default is {}) is enabled, it's highly recommended to disable it when use Celeborn as Remote Shuffle Service to avoid performance degradation.` when setting `spark.dynamicAllocation.shuffleTracking.enabled` to true.

Got it, thanks. ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5ynRAj/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2275,https://api.github.com/repos/apache/celeborn/issues/2275,celeborn,2111808104,2275,[BUG] spark procedure  occur  Shuffle data lost for shuffle xx partitionId xx frequently,zhengshubin,40193259,,,CLOSED,2024-02-01T08:07:41Z,2024-02-07T05:28:14Z,"### What is the bug(with logs or screenshots)?
A clear and concise description of what the bug is.
celeborn 0.3.2 spark 3.3.3
log:
org.apache.kyuubi.KyuubiSQLException:
 Error operating ExecuteStatement: org.apache.spark.SparkException: Job aborted due to stage failure: Task 8 in stage 8.0 failed 4 times,
org.apache.celeborn.common.exception.CelebornIOException: 
 Shuffle data lost for shuffle 1 partitionId 9!
 org.apache.celeborn.client.ShuffleClientImpl.loadFileGroup(ShuffleClientImpl.java:1603)
 org.apache.celeborn.client.ShuffleClientImpl.readPartition(ShuffleClientImpl.java:1612)
 org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1(CelebornShuffleReader.scala:89)
 org.apache.spark.shuffle.celeborn.CelebornShuffleReader.$anonfun$read$1$adapted(CelebornShuffleReader.scala:81)
 scala.collection.Iterator$$anon$10.next(Iterator.scala:461)
 scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:486)
 scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:492)
 scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
 org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)
 org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)
 scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
 scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
 scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)
 scala.collection.Iterator.foreach(Iterator.scala:943)
 scala.collection.Iterator.foreach$(Iterator.scala:943)
 scala.collection.AbstractIterator.foreach(Iterator.scala:1431)
 org.apache.paimon.spark.commands.WriteIntoPaimonTable.$anonfun$run$6(WriteIntoPaimonTable.scala:141)
 org.apache.spark.sql.execution.MapPartitionsExec.$anonfun$doExecute$3(objects.scala:201)
 org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)
 org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)
 org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
 org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)
 org.apache.spark.rdd.RDD.iterator(RDD.scala:329)
 org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
 org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)
 org.apache.spark.rdd.RDD.iterator(RDD.scala:329)
 org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)
 org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)
 org.apache.spark.rdd.RDD.iterator(RDD.scala:329)
### How to reproduce the bug?
Steps to reproduce the bug.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2275/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2275,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5yfBfi,celeborn,1920735202,2275,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-02-01T08:12:06Z,2024-02-01T08:12:06Z,"Hi @zhengshubin, Can you provide more details like your Celeborn cluster's scale and workload info?
This error looks like there is a shuffle lost. Shuffle lost in Celeborn occasionally happens when the Celeborn cluster is on high load.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc5yfBfi/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2295,https://api.github.com/repos/apache/celeborn/issues/2295,celeborn,2139860445,2295,Please add tag for 0.4.0 version,donan92,70442029,DongHwan Jung,,CLOSED,2024-02-17T06:37:30Z,2024-02-17T14:55:32Z,"Hi admin, Celeborn v0.4.0 has been released from 4th Feb, but in this repo, there is no tags for v0.4.0.
Could you add a new tag for v0.4.0?

https://celeborn.apache.org/community/release_notes/release_note_0.4.0/","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2295/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2295,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc50OJ0d,celeborn,1949867293,2295,NA,turboFei,6757692,Fei Wang,feiwang@apache.org,NA,2024-02-17T07:05:51Z,2024-02-17T07:05:51Z,See [v0.4.0-incubating](https://github.com/apache/incubator-celeborn/tree/v0.4.0-incubating),"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc50OJ0d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2295,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc50ONP8,celeborn,1949881340,2295,NA,donan92,70442029,DongHwan Jung,,NA,2024-02-17T07:16:32Z,2024-02-17T07:16:32Z,"ah! I confused ""release"" to ""tag"" 😀 ","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc50ONP8/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2295,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc50PiJI,celeborn,1950229064,2295,NA,donan92,70442029,DongHwan Jung,,NA,2024-02-17T14:55:31Z,2024-02-17T14:55:31Z,"Hi @pan3793, it still has not made a release of v0.4.0-incubating, is it intent?
The latest release is v0.3.2-incubating yet.
![image](https://github.com/apache/incubator-celeborn/assets/70442029/1f971d67-2b53-4c90-964f-9dd73967a5c8)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc50PiJI/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2415,https://api.github.com/repos/apache/celeborn/issues/2415,celeborn,2205591242,2415,[Umbrella] Apache Celeborn Graduation Tasks,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,CLOSED,2024-03-25T12:02:37Z,2024-03-27T11:31:58Z,"### Describe the proposal
The ASF board has approved a resolution to graduate Celeborn into a full Top Level Project. Thanks to everyone for your help to get to this point.

To transition from the Apache Incubator to a new TLP, there's a few action items we need to do to complete the transition. These are identified by https://incubator.apache.org/guides/transferring.html#life_after_graduation.

### Task list

- Update Incubator status records
  - [x] Update the incubator status file (in svn)
    https://svn.apache.org/repos/asf/incubator/public/trunk/content/projects/celeborn.xml
  - [x] Update podling status page
    https://incubator.apache.org/projects/
    https://incubator.apache.org/projects/celeborn.html
    https://svn.apache.org/repos/asf/incubator/public/trunk/content/podlings.xml
- Source repo changes
  - [x] Create JIRA ticket INFRA-25635 to request ASF Infra remove ""incubator-"" prefix of git repos
    https://github.com/apache/incubator-celeborn
    https://github.com/apache/incubator-celeborn-website
  - [x] Create JIRA ticket INFRA-25636 to request ASF Infra move dist folder in SVN repositories from the incubator to other locations
    old: https://dist.apache.org/repos/dist/release/incubator/celeborn
    new: https://dist.apache.org/repos/dist/release/celeborn
  - [x] Post announcement to dev list telling everyone the repo is about repos renaming
  - [x] Post an announcement containing instructions for developers describing how to change their git remotes
    https://lists.apache.org/thread/5yhb6z8g1bvy5kptkf7b8loy28my8hnc
  - [x] Update website, pom.xml, and other resources to point to the new repository location
 Post an announcement containing instructions for developers describing how to change their git remotes.

 Update website, pom.xml, and other resources to point to the new repository location
- Source code
  - [x] Remove ""Incubating"" from source code
  - [x] Remove DISCLAIMER from git repo
  - [x] Update Release scripts and template

- Websites
  - [x] Remove incubating/podling related resources from the website
  - [x] Update the process for becoming a committer or joining PMC
 
- Ecosystem
  - [x] Remove Incubating from third party projects including Gluten.
     - [x] Gluten: https://github.com/apache/incubator-gluten/issues/5142.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2415/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2519,https://api.github.com/repos/apache/celeborn/issues/2519,celeborn,2301938882,2519,Performance is not improved for too complex query,njalan,8622340,,,CLOSED,2024-05-17T06:38:06Z,2024-05-17T06:39:40Z,"In my testing most of the jobs are improved compared without celeborn But there is no improve on my most slow and complex query.

Any other information required for  it?
How to troubleshoot it ?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2519/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2522,https://api.github.com/repos/apache/celeborn/issues/2522,celeborn,2304943564,2522,[FEATURE] why celeborn not support flink 1.16,y0908105023,8789291,,yangshuo3@kingsoft.com,CLOSED,2024-05-20T02:27:07Z,2024-05-20T02:30:38Z,"celeborn support 1.14/1.15/1.17/1.18/1.19, why is 1.16 not support.
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2522/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2537,https://api.github.com/repos/apache/celeborn/issues/2537,celeborn,2328134811,2537,[FEATURE] Support HPA settings for worker nodes,tcodehuber,5411862,tcodehuber,tcodehuber028@apache.org,CLOSED,2024-05-31T15:52:12Z,2024-06-05T08:56:50Z,"### Is your feature request related to a problem? Please describe.
I wonder whether we can enable HPA feature for worker nodes. From the official docs, I could not find details about it.

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2537/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2537,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6AGq-v,celeborn,2149232559,2537,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2024-06-05T08:45:24Z,2024-06-05T08:45:24Z,"@tcodehuber, please create JIRA ticket instead of issue.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6AGq-v/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2537,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6AGwxy,celeborn,2149256306,2537,NA,tcodehuber,5411862,tcodehuber,tcodehuber028@apache.org,NA,2024-06-05T08:56:49Z,2024-06-05T08:56:49Z,"> I wonder whether we can enable HPA feature for worker nodes. From the official docs, I could not find details about it.

OK, refer to https://issues.apache.org/jira/browse/CELEBORN-1451","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6AGwxy/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2724,https://api.github.com/repos/apache/celeborn/issues/2724,celeborn,2504737229,2724,[DOC] how to config and use web ui,RaoZhiRou-Z,100585690,,,CLOSED,2024-09-04T09:06:29Z,2024-09-18T06:29:34Z,"### Describe the intention you'd like
A clear and concise description of what you want to do.

/cc @who-need-to-know

/assign @who-can-solve-this-bug
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2724/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2724,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6Mhky0,celeborn,2357611700,2724,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2024-09-18T06:29:33Z,2024-09-18T06:29:33Z,"@RaoZhiRou-Z, the dashboard cannot be used at present. Please pay attention to the progress of dashboard.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6Mhky0/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2743,https://api.github.com/repos/apache/celeborn/issues/2743,celeborn,2533574781,2743,[DOC] Build docker image error,aagumin,60981750,Arsen Gumin,,CLOSED,2024-09-18T12:14:39Z,2024-09-18T18:36:43Z,"### Describe the intention you'd like
[Build docker image ](https://github.com/apache/celeborn/blob/main/docker/DEPLOY_ON_K8S.md)

Flow:
1. Clone celebron repo
2. git checkout tags/v0.5.1
3. Run docker build command

get error
```
 > [ 9/11] COPY RELEASE /opt/celeborn/RELEASE:
------
Dockerfile:45
--------------------
  43 |     COPY master-jars /opt/celeborn/master-jars
  44 |     COPY worker-jars /opt/celeborn/worker-jars
  45 | >>> COPY RELEASE /opt/celeborn/RELEASE
  46 |
  47 |     RUN chown -R celeborn:celeborn ${CELEBORN_HOME} && \
--------------------
ERROR: failed to solve: failed to compute cache key: failed to calculate checksum of ref f4b26043-b8d0-494b-9925-ebb5
3098e7a1::ml7vpdvtl3x60imjphsm3u6ry: ""/RELEASE"": not found
```

where to find this file? it's not in the release branch(tag)
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2743/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2744,https://api.github.com/repos/apache/celeborn/issues/2744,celeborn,2533749099,2744,[BUG] default chart image doesn't work,aagumin,60981750,Arsen Gumin,,CLOSED,2024-09-18T13:26:05Z,2024-09-23T08:37:46Z,"### What is the bug(with logs or screenshots)?
default image for helm chart invalid

### How to reproduce the bug?
1. [Install helm chart in k8s](https://celeborn.apache.org/docs/latest/deploy_on_k8s/) with default config
get error 
```
/bin/sh: line 3: /opt/celeborn/sbin/start-master.sh: No such file or directory
```

","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2744/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2744,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6MqRub,celeborn,2359892891,2744,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-09-19T03:16:13Z,2024-09-19T03:16:13Z,"You need to change the image to your latest image rather than use the default value. 
Celeborn doesn't have an official image repository.
I don't think this is a BUG, but I think it's worth changing the helm to tell users that do not use the default values.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6MqRub/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2744,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6MsM9W,celeborn,2360397654,2744,NA,aagumin,60981750,Arsen Gumin,,NA,2024-09-19T08:49:10Z,2024-09-19T08:49:10Z,"okey, i fixed this in my cluster, it's not a problem, but in docs i see this paragraph https://github.com/apache/celeborn/blob/main/docker/DEPLOY_ON_K8S.md#optional-build-celeborn-docker-image 
maybe fix this in doc? and add your comment in doc?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6MsM9W/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2744,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6NHiEv,celeborn,2367562031,2744,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2024-09-23T08:37:46Z,2024-09-23T08:37:46Z,"@aagumin, you could follow the https://celeborn.apache.org/docs/latest/deploy_on_k8s/#4-check-celeborn.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6NHiEv/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2860,https://api.github.com/repos/apache/celeborn/issues/2860,celeborn,2620973157,2860,[FEATURE] Support web ui,melin,1145830,melin,,CLOSED,2024-10-29T11:35:27Z,2024-10-31T16:23:47Z,"### Is your feature request related to a problem? Please describe.
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

### Describe the solution you'd like
A clear and concise description of what you want to happen.

### Describe alternatives you've considered
A clear and concise description of any alternative solutions or features you've considered.

/cc @who-need-to-know

/assign @who-can-help-you
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2860/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2860,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6SDJsd,celeborn,2450299677,2860,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2024-10-31T16:23:46Z,2024-10-31T16:23:46Z,"@melin, please refers to [CELEBORN-1227](https://issues.apache.org/jira/browse/CELEBORN-1227).","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6SDJsd/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/2934,celeborn,2678587606,2934,[BUG]  我使用celeborn-client-spark-3-shaded_2.12-0.5.1.jar 与spark 3.4.4_2.12 做demo过程中报错,DADA-shuai,58056514,pz,,CLOSED,2024-11-21T08:46:46Z,2024-11-21T09:16:30Z,"celeborn 和 spark 都采用 k8s模式部署
spark提交任务，能正常被celeborn接收到
spark报错如下
![image](https://github.com/user-attachments/assets/540da0de-e421-4688-897f-68ce2abadc47)

我无法从其他社区联系到你们，希望看到后给我回复，感谢感谢！","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2934/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcJBL,celeborn,2490404939,2934,NA,DADA-shuai,58056514,pz,,NA,2024-11-21T08:47:50Z,2024-11-21T08:47:50Z," /opt/software/spark/spark-3.4.4-bin-hadoop3/bin/spark-submit   \
  --master k8s://https://172.16.0.61:6443   \
  --deploy-mode cluster   \
  --name spark-tc \
  --class org.apache.spark.examples.JavaTC  \
  --conf spark.executor.instances=1   \
  --conf spark.kubernetes.container.image=spark-celeborn:3.4.4-0.5.1 \
  --conf spark.kubernetes.container.image.pullPolicy=IfNotPresent \
  --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-serviceaccount \
  --conf spark.shuffle.manager=org.apache.spark.shuffle.celeborn.SparkShuffleManager \
  --conf spark.shuffle.service.enabled=false   \
  --conf spark.celeborn.master.endpoints=celeborn-master-0.celeborn-master-svc.celeborn:9097,celeborn-master-1.celeborn-master-svc.celeborn:9097,celeborn-master-2.celeborn-master-svc.celeborn:9097 \
  local:///opt/spark/examples/jars/spark-examples_2.12-3.4.4.jar

任务提交命令如上","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcJBL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcLTN,celeborn,2490414285,2934,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-11-21T08:52:04Z,2024-11-21T08:52:04Z,"spark 提交命令的时候，添加这个配置项 --conf spark.serializer=org.apache.spark.serializer.KryoSerializer ，这是必要的

目前联系社区的方式有好几种，slack，微信群，钉钉群，或者是 邮件组 user@celeborn.apache.org 或者 dev@celeborn.apache.org 
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcLTN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcL0A,celeborn,2490416384,2934,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-11-21T08:53:02Z,2024-11-21T08:53:02Z,如果你有钉钉账号，可以考虑直接给我发一个邮件，我拉你到钉钉群里面去，钉钉群目前的支持是比较及时的,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcL0A/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcM6d,celeborn,2490420893,2934,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-11-21T08:55:04Z,2024-11-21T08:55:04Z,你可以在我的 GitHub 主页上找到我的邮箱，可以把个人联系方式发我， 我可以把你拉到钉钉或者微信群里面。,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcM6d/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcPdg,celeborn,2490431328,2934,NA,DADA-shuai,58056514,pz,,NA,2024-11-21T08:59:49Z,2024-11-21T08:59:49Z,"--------- ，收到请告知一声谢谢



***@***.***
 
发件人： Ethan Feng
发送时间： 2024-11-21 16:55
收件人： apache/celeborn
抄送： pz; Author
主题： Re: [apache/celeborn] [BUG] 我使用celeborn-client-spark-3-shaded_2.12-0.5.1.jar 与spark 3.4.4_2.12 做demo过程中报错 (Issue #2934)
你可以在我的 GitHub 主页上找到我的邮箱，可以把个人联系方式发我， 我可以把你拉到钉钉或者微信群里面。
—
Reply to this email directly, view it on GitHub, or unsubscribe.
You are receiving this because you authored the thread.Message ID: ***@***.***>
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcPdg/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcSTL,celeborn,2490442955,2934,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-11-21T09:04:19Z,2024-11-21T09:04:19Z,"> -------- ，收到请告知一声谢谢 ***@***.*** 发件人： Ethan Feng 发送时间： 2024-11-21 16:55 收件人： apache/celeborn 抄送： pz; Author 主题： Re: [apache/celeborn] [BUG] 我使用celeborn-client-spark-3-shaded_2.12-0.5.1.jar 与spark 3.4.4_2.12 做demo过程中报错 (Issue #2934) 你可以在我的 GitHub 主页上找到我的邮箱，可以把个人联系方式发我， 我可以把你拉到钉钉或者微信群里面。 — Reply to this email directly, view it on GitHub, or unsubscribe. You are receiving this because you authored the thread.Message ID: ***@***.***>

请不要在这里直接回复，这会导致你的个人信息直接暴露在 GitHub 上。我优先添加你的钉钉号。上一条消息我会编辑一下，至少让 github issue 上其他人不能直接看到你的个人信息。","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcSTL/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcS2M,celeborn,2490445196,2934,NA,DADA-shuai,58056514,pz,,NA,2024-11-21T09:05:04Z,2024-11-21T09:05:04Z,"这样确实执行成功了，感谢老师，我能想到是这方面的错误，但是我无法定位



***@***.***
 
发件人： Ethan Feng
发送时间： 2024-11-21 16:52
收件人： apache/celeborn
抄送： pz; Author
主题： Re: [apache/celeborn] [BUG] 我使用celeborn-client-spark-3-shaded_2.12-0.5.1.jar 与spark 3.4.4_2.12 做demo过程中报错 (Issue #2934)
spark 提交命令的时候，添加这个配置项 --conf spark.serializer=org.apache.spark.serializer.KryoSerializer ，这是必要的
目前联系社区的方式有好几种，slack，微信群，钉钉群，或者是 邮件组 ***@***.*** 或者 ***@***.***
—
Reply to this email directly, view it on GitHub, or unsubscribe.
You are receiving this because you authored the thread.Message ID: ***@***.***>
","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcS2M/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcTaX,celeborn,2490447511,2934,NA,FMX,4150993,Ethan Feng,ethan.aquarius.fmx@gmail.com,NA,2024-11-21T09:06:07Z,2024-11-21T09:06:07Z,"https://celeborn.apache.org/community/maillist/

这里能看到 celeborn 的邮件组。我添加你的钉钉了。","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcTaX/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2934,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcZWN,celeborn,2490471821,2934,NA,DADA-shuai,58056514,pz,,NA,2024-11-21T09:16:28Z,2024-11-21T09:16:28Z,"ok,感谢","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6UcZWN/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/2977,https://api.github.com/repos/apache/celeborn/issues/2977,celeborn,2719318930,2977,[BUG] Celebon on K8s takes more time to complete,avishnus,148439019,,,CLOSED,2024-12-05T04:59:01Z,2024-12-05T05:03:41Z,"### What is the bug(with logs or screenshots)?
I have deployed celeborn on k8s. However while running the job, it takes 7 hours to complete. Without celeborn it takes only 2 hours.

### Celeborn worker logs
`24/12/04 18:18:29,537 ERROR [fetch-server-11-50] FetchHandler: Sending ChunkFetchSuccess operation failed, chunk StreamChunkSlice[streamId=24095417247,chunkIndex=5,offset=0,len=2147483647]
java.io.IOException: Connection reset by peer
	at sun.nio.ch.FileChannelImpl.transferTo0(Native Method)
	at sun.nio.ch.FileChannelImpl.transferToDirectlyInternal(FileChannelImpl.java:428)
	at sun.nio.ch.FileChannelImpl.transferToDirectly(FileChannelImpl.java:493)
	at sun.nio.ch.FileChannelImpl.transferTo(FileChannelImpl.java:605)
	at io.netty.channel.DefaultFileRegion.transferTo(DefaultFileRegion.java:130)
	at org.apache.celeborn.common.network.protocol.MessageWithHeader.transferTo(MessageWithHeader.java:119)
	at io.netty.channel.socket.nio.NioSocketChannel.doWriteFileRegion(NioSocketChannel.java:369)
	at io.netty.channel.nio.AbstractNioByteChannel.doWriteInternal(AbstractNioByteChannel.java:238)
	at io.netty.channel.nio.AbstractNioByteChannel.doWrite0(AbstractNioByteChannel.java:212)
	at io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:407)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.forceFlush(AbstractNioChannel.java:366)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:782)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)`

`24/12/05 04:48:14,935 ERROR [push-timeout-checker-1] PushDataHandler: PushData replication failed for partitionLocation: PartitionLocation[
  id-epoch:2361-0
  host-rpcPort-pushPort-fetchPort-replicatePort:10.189.190.60-35529-43703-35825-43867
  mode:PRIMARY
  peer:(host-rpcPort-pushPort-fetchPort-replicatePort:10.186.111.100-34325-35069-34817-34751)
  storage hint:StorageInfo{type=MEMORY, mountPoint='/spark-local2/data', finalResult=false, filePath=}
  mapIdBitMap:null]
org.apache.celeborn.common.exception.CelebornIOException: PUSH_DATA_TIMEOUT_REPLICA
	at org.apache.celeborn.common.network.client.TransportResponseHandler.failExpiredPushRequest(TransportResponseHandler.java:145)
	at org.apache.celeborn.common.network.client.TransportResponseHandler.lambda$new$0(TransportResponseHandler.java:113)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750`","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/2977/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/2977,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6WJtQy,celeborn,2519127090,2977,NA,avishnus,148439019,,,NA,2024-12-05T05:03:39Z,2024-12-05T05:03:39Z,Created issue in JIRA - https://issues.apache.org/jira/browse/CELEBORN-1762,"{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6WJtQy/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/3031,https://api.github.com/repos/apache/celeborn/issues/3031,celeborn,2758514489,3031,[FEATURE] Java process names are too simple,melin,1145830,melin,,CLOSED,2024-12-25T05:40:18Z,2024-12-25T07:42:49Z,"Execute jps. Displays celeborn java process name: master or worker, the name is too simple. Inconvenient identification","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/3031/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/3031,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6YsD-C,celeborn,2561687426,3031,NA,turboFei,6757692,Fei Wang,feiwang@apache.org,NA,2024-12-25T07:40:50Z,2024-12-25T07:40:50Z,"Hi @melin
It is because the simple name of `org.apache.celeborn.service.deploy.master.Master` is `Master`.

You can use `jps -l` to show the full class name.

BTW, celeborn project do not use github issue to maintain the tickets, feel free to create ticket in celeborn JIRA for feature or bug fix requirement, https://issues.apache.org/jira/projects/CELEBORN/issues

Thanks for the question, I am closing it.","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6YsD-C/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
issue,https://api.github.com/repos/apache/celeborn/issues/3075,https://api.github.com/repos/apache/celeborn/issues/3075,celeborn,2801225629,3075,[BUG] title Worker not getting resources (Slots),yangbin09,13082053,Yang Bin,1692207904@qq.com,OPEN,2025-01-21T09:31:07Z,2025-02-07T08:02:11Z,"---

### Description:

After starting the Celeborn Worker, the following issues occur:

1. **Worker not getting resources (Slots)**
   The logs show:
   ```
   maxSlots: 0
   activeSlots: 0
   ```
   This indicates that the Worker is not being allocated any resources, preventing it from executing any tasks.

2. **Incorrect disk space information**
   In the heartbeat message sent from the Worker to the Master, the disk space shows:
   ```
   usableSpace: 8.0 EiB
   totalSpace: 0.0 B
   ```
   This suggests that the Worker is not correctly detecting the disk space, which may indicate a problem with the storage path or mount.

3. **No running Shuffle tasks**
   The logs show:
   ```
   committed shuffles: 0
   running applications: 0
   ```
   This indicates that no tasks are being submitted to the Worker, likely due to insufficient resources or failed shuffle allocation.

4. **Memory management is normal, but no Shuffle operations are taking place**
   Even though memory usage is normal:
   ```
   Direct memory usage: 4.0 MiB/1024.0 MiB
   ```
   No shuffle operations are occurring due to the lack of available resources.

### Steps to Reproduce:

1. Start the Celeborn Worker.
2. Start a Spark job that performs a shuffle operation.
3. Check the logs of the Celeborn Worker, paying attention to the `maxSlots`, `activeSlots`, `usableSpace`, `totalSpace`, and `committed shuffles` fields.

### Log Summary:

Here are the relevant log entries:
```
25/01/21 16:57:32,635 DEBUG [worker-disk-checker] LocalDeviceMonitor: Device check start
25/01/21 16:57:34,108 INFO [worker-memory-manager-reporter] MemoryManager: Direct memory usage: 4.0 MiB/1024.0 MiB, disk buffer size: 0.0 B, sort memory size: 0.0 B, read buffer size: 0.0 B, memory file storage size: 0.0 B
25/01/21 16:57:37,897 INFO [worker-forward-message-scheduler] StorageManager: Updated diskInfos:
25/01/21 16:57:37,898 DEBUG [worker-forward-message-scheduler] MasterClient: Send rpc message HeartbeatFromWorker(21.102.91.135,38565,35711,40333,42329, Stream(DiskInfo(maxSlots: 0, committed shuffles 0, running applications 0, shuffleAllocations: Map(), mountPoint: HDFS, usableSpace: 8.0 EiB, totalSpace: 0.0 B , avgFlushTime: 999999 ns, avgFetchTime: 999999 ns, activeSlots: 0, storageType: HDFS) status: HEALTHY dirs , ?),{},[],{}, false,WorkerStatus{state= Normal, stateStartTime=1737448232150},688489b2-4a4b-4840-bb9f-78bfd46031b8#54)
```



","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/3075/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
comment,https://api.github.com/repos/apache/celeborn/issues/3075,https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6dfKqs,celeborn,2642193068,3075,NA,SteNicholas,10048174,Nicholas Jiang,nicholasjiang@apache.org,NA,2025-02-07T08:01:58Z,2025-02-07T08:01:58Z,"@yangbin09, could you create a new ticket on JIRA, which refers to #1053?","{""url"": ""https://api.github.com/repos/apache/celeborn/issues/comments/IC_kwDOGgrDAc6dfKqs/reactions"", ""total_count"": 0, ""+1"": 0, ""-1"": 0, ""laugh"": 0, ""hooray"": 0, ""confused"": 0, ""heart"": 0, ""rocket"": 0, ""eyes"": 0}"
